# Slack Channel: #discuss-observability-stackstate

Exported conversations for search and reference.

---

**Jorn Knuttila** (2024-06-18 18:44):
:stackstate:

---

**mark.harvey** (2024-06-18 20:48):
https://www.suse.com/news/suse-acquires-stackstate/

---

**mark.harvey** (2024-06-18 20:48):
https://www.stackstate.com/

---

**mark.harvey** (2024-06-18 20:48):
https://docs.stackstate.com/

---

**mark.harvey** (2024-06-18 20:56):
https://www.stackstate.com/blog/

---

**mark.harvey** (2024-06-18 20:57):
`December 28, 2023`
https://www.stackstate.com/blog/6-ways-to-benefit-from-the-suse-stackstate-integration/

---

**Sheng Yang** (2024-06-19 01:26):
Any vouchers we can use to try it out?

---

**Jorn Knuttila** (2024-06-19 02:21):
I suspect that their engineering team is getting bombarded with trial requests right about now :joy:

---

**Jorn Knuttila** (2024-06-19 02:21):
:hand::skin-tone-3:  guilty

---

**Shung-Hsi Yu** (2024-06-19 11:36):
Getting more colleagues who’s working on eBPF, I hope :grin:
https://news.ycombinator.com/item?id=39523167 (https://news.ycombinator.com/item?id=39523167)

---

**Lars Marowsky-Bree** (2024-06-19 11:43):
Yes, eBPF for instrumentation is quite powerful, though I suspect we'll want to add explicit tracing/structured logging to more and more of our code base :slightly_smiling_face:

---

**Claudio Serrano** (2024-06-19 15:09):
looks like everyone is excited about the acquisition / Solution / new colleagues .... so want to throw the 1st question out there. Looking at   https://www.stackstate.com/blog/what-is-apm/ , wonder if APM can help somehow into the capacity planning query  I added at https://suse.slack.com/archives/C02CX064EBX/p1718802133490719

---

**Jeroen van Erp** (2024-06-20 13:05):
We've got a few ebPF engineers in the team, we'll be sure to introduce them @Shung-Hsi Yu

---

**Andreas Prins** (2024-06-20 13:56):
Amazing to see how StackState already is picked up in this channel. We're eager to help you all out with answering questions, sharing knowledge where needed. Let me introduce a few core members for now.

---

**Andreas Prins** (2024-06-20 13:58):
Sales team:
• @Jeroen Storm captain of the team
• @rutger.dendaas AE
• @Meriem Ahmed-Wolters (name with change) AE
• @Eni Kurteshi (AE)
• @Ravan Naidoo SE, but most likely Solution Architects in the SUSE world

---

**Andreas Prins** (2024-06-20 14:00):
For product question, and positioning please reach out to:

---

**Andreas Prins** (2024-06-20 14:00):
• @Mark Bakker product owner and co-founder
• @Jeroen van Erp Technical Product Marketeer
• myself with a background in product and positioning.

---

**Andreas Prins** (2024-06-20 14:02):
we can't wait to get this ball rolling. If you're looking for content such as a particular blog or something please reach out to @Dmitry Maximov

---

**Andreas Prins** (2024-06-20 14:04):
I see some questions on trial vouchers etc, together with @Jeff Hobbs and @Peter Smails we agreed to hold this off a little bit, and will come back to this very soon. All requests are registered in the back. We've a few lined up where we have direct customers involved. It is so great to see all this positivity, we can't wait to deliver together.

---

**Mark Bakker** (2024-06-20 14:07):
Yup we have some great engineers with eBPF knowledge!

---

**Shung-Hsi Yu** (2024-06-24 12:04):
Awesome, looking forward to meet them!

---

**Matthieu Fatrez** (2024-06-24 14:56):
Hello, First technical question, when will StackState will be available in SUSE's Portfolio?

---

**Alejandro Bonilla** (2024-06-24 15:18):
Hello - I've got already a request to provide a "portfolio" brief that includes StackState - this is usually a 1-3 slides content. Do we have a deck that SS uses for sales that can be shared?

---

**Jeff Lindholm** (2024-06-24 16:24):
I haven't seen commercial availability plans - but - there have been a couple steps on the path:

StackState and Rancher have already published a partner helm chart in Rancher Apps UI for the StackState Agent.  This will allow for StackState to auto-discover topology, logs, metrics, and events on Rancher managed clusters -- sending this information to the StackState server.  From a technical perspective - there are quick start guides posted on their documentation website:

https://docs.stackstate.com/get-started/k8s-quick-start-guide

Internal use licenses beyond playground  ( https://www.stackstate.com/playground/welcome/ ) will likely take a small bit of time per previous comments in this channel.

Customers can indicate sales interest and request trials here:
https://www.stackstate.com/trial-sign-up/

---

**Matthieu Fatrez** (2024-06-24 16:33):
thanks @Jeff Lindholm

---

**rutger.dendaas** (2024-06-24 16:50):
Hi, I'm following up on all the trial requests on our website. Please know that we have a playground available. As we're receiving a lot of trial requests, it would be amazing if you can answer your first questions in there. That saves us a lot of time. I hope we can offer you all trials soon via internal channels.

play.stackstate.com (http://play.stackstate.com)

You have to leave your email address and then you can choose to play around yourself or to do some troubleshooting challenges. Would advise to do the challenges to get a bit of a feeling.

---

**Alejandro Bonilla** (2024-06-24 19:25):
I think the trial is misleading, making people they can run with it via Registering online. I thought I'd be able to use things without bothering anyone, but then it turns into a sales event which then would provide access. I'm not saying it's wrong, it's just not clear of what will happen, so one assumes it's an online SaaS that grants you access without someone actually doing it manually.

---

**rutger.dendaas** (2024-06-24 19:54):
Yes thats right. We had the same debate the week before the acquisition :sweat_smile:

---

**Alejandro Bonilla** (2024-06-24 19:58):
No problem! Perhaps just worth mentioning that's why not to ask for Trials. or maybe it's clear now :slightly_smiling_face:

---

**Oliver Ries** (2024-06-24 22:04):
Not yet, still discussing details, eta 2w

---

**Sheng Yang** (2024-06-26 20:33):
We’re trying out StackState. Can we see those reqs details? Cannot find it so far. 
cc @Phan Le

---

**Louis Lotter** (2024-06-26 20:34):
What kind of details ? you can show the query to see how the data is fetched from the metric store.

---

**Louis Lotter** (2024-06-26 20:36):
and you can use the metric explorer to play with the query.

---

**Sheng Yang** (2024-06-26 20:48):
Like, what are the each req. port, request header maybe.

---

**Mark Bakker** (2024-06-26 21:00):
Nope, not yet we had some people asking for that. But no a large portion. For now we support OpenTelemetry if you want to get to that level of detail.

---

**Sheng Yang** (2024-06-26 21:06):
Can we scrape Prometheus endpoints from applications?

---

**fei.huang** (2024-06-26 21:32):
To get into the packet level, one option is to use NeuVector's packet capture function for that particular pod, then you should be able to see the raw data of the traffic. Just FYI.

---

**Mohamed Elnemr** (2024-06-26 21:39):
@Sheng Yang an answer from consultancy perspective :) short answer yes. Long answer depends on what do you want to achieve. You have 3 options:
1- otel collector can scrape prom endpoints in theory. You’d have to use otel-contrib image though. Something i am yet to play with for one of our customers (https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/prometheusexporter/README.md (https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/exporter/prometheusexporter/README.md)) 
2- are these metrics already scrapped by prometheus? You could configure prometheus itself with remote write to a stackstate endpoint ( docs (https://docs.stackstate.com/metrics/advanced-metrics/k8s-prometheus-remote-write)) I’d be selective with what metrics you want to ingest. Otherwise, you’re storing your metrics twice, in stackstate and prom. That translates to storage cost for high volumes. Consider also the cost of transferring these metrics if you use cloud provider. You pay for network traffic leaving AWS for example 
3- (easiest solution) use stackstate open metrics integration  https://docs.stackstate.com/metrics/advanced-metrics/open-metrics (https://docs.stackstate.com/metrics/advanced-metrics/open-metrics).

---

**Sheng Yang** (2024-06-26 22:00):
Thanks! Will check those out

---

**Phan Le** (2024-06-26 22:23):
Can I have a few more questions?
1. (Similar to the original question in the thread) We are using a lot of grpc communication in Longhorn, is there anyway to get more details about these traffic? 
2. Stackstate seems to understand very well the relationships between core Kubernetes resources (pods, services, pv, pvc, deployments,…). However looks like it does not understand the relationship between CRDs. There any plan to support CRDs?

---

**Phan Le** (2024-06-26 22:26):
Once we collect Prometheus metrics from applications, is there an easy way to visualize these data like an embedded Grafana or something similar in which user can draw the graphs? I would imagine we would have to do this if we want StackState to replace Rancher monitoring

---

**Jeroen van Erp** (2024-06-26 23:20):
CRDs are on the roadmap for recognition. The real goal is adding semantic meaning to CRDs (i.e. what is it)

---

**Mark Bakker** (2024-06-26 23:22):
We support a promql based endpoint which supports grafana

---

**Mark Bakker** (2024-06-26 23:23):
For one, 1 we currently support Throughput and Latency and Errorrate is on the roadmap for gRPC

---

**Phan Le** (2024-06-27 01:14):
Does it mean user would have to deploy a separate Grafana instance and point it to stackstate endpoint?

---

**Mark Bakker** (2024-06-27 01:45):
We have to figure this our an other option is using our graphs somehow.

---

**John Lowe** (2024-06-27 09:50):
Hi All, A question came up in a forecast call today - if a customer is buying Rancher Prime today - will they automatically get Stackstate when it is integrated into Rancher prime?

---

**Andreas Prins** (2024-06-27 09:58):
Hi @John Lowe this is an excellent question, we're wrapping up packaging and pricing in the next few days. @Oliver Ries can provide more details as soon as it is settled. As it looks now, there will be a lot of StackState observability capabilities in Rancher Prime. So the answer is yes, however it won't be all the capabilities as it is today. That is why we want to finish the packaging discussion in the next few days to give clarity on what is part of prime and what isn't.

---

**Andreas Prins** (2024-06-27 09:58):
I hope that helps for now.

---

**John Lowe** (2024-06-27 10:00):
Thank you @Andreas Prins that helps a lot!

---

**Oliver Ries** (2024-06-27 16:33):
We’ll confirm and validate plans in the next 2weeks and will share asap

---

**Phan Le** (2024-06-27 19:42):
Kudos to StackState helped us (Longhorn) to detect this issue quickly on the first try https://github.com/longhorn/longhorn/issues/8844

Thanks @Louis Lotter @Vladimir Iliakov for helping me with the access for the demo.

---

**Jeroen van Erp** (2024-06-27 19:58):
Amazing to see we’re already providing value!

---

**Alejandro Bonilla** (2024-06-27 23:11):
How do we manage the config(changes) and objects that aren't the classic ones (like the ones we list under "Kubernetes" ?

---

**Jeroen van Erp** (2024-06-27 23:42):
Can you elaborate a bit Alejandro? Which objects are you referring to? If a component is recognized by stackstate, the config will automatically be observed and any changes in it marked.

---

**Alejandro Bonilla** (2024-06-27 23:44):
Like a VirtualMachine or VirtualMachineInstance (which are used by KubeVirt) but this goes to all other components from a platform running on Kubernetes that may be created for their own API/resources.

---

**Jeroen van Erp** (2024-06-27 23:45):
Basically other CRDs which are not part of the standard set of K8s ones

---

**Jeroen van Erp** (2024-06-27 23:46):
I need to check how far along the CRD support is with the team. I know we were doing some work around that before the acquisition.

---

**Mark Bakker** (2024-06-28 11:20):
Great to hear!

---

**Gabriel Ferraz Stein** (2024-07-01 11:12):
Hi team! Is there a way to give access to a partner for stackstate?

---

**rutger.dendaas** (2024-07-01 12:48):
We can give them an on-premise license key for now.

---

**Gabriel Ferraz Stein** (2024-07-01 12:48):
Thanks - I think that they already asked you, I’m the SA for FullStackS

---

**rutger.dendaas** (2024-07-01 12:50):
Ah yes, @Eni Kurteshi  can you ask @Jeroen Storm and pick this up? @Louis Lotter can make a license key for you

---

**Gabriel Ferraz Stein** (2024-07-01 12:58):
Do you have a tech contact for them if they have questions evaluating it?

---

**rutger.dendaas** (2024-07-01 15:10):
They can send the questions to @Eni Kurteshi  and she will forward it to the right people

---

**Gabriel Ferraz Stein** (2024-07-01 15:21):
That is perfect! I suppose that she already has a SUSE Email right?

---

**Eni Kurteshi** (2024-07-01 15:58):
Hi Gabriel,

---

**Eni Kurteshi** (2024-07-01 15:58):
I apologize for the late response, but have been in the event today

---

**Eni Kurteshi** (2024-07-01 15:59):
I have responded to the email and requested a meeting to better understand what they are looking for and how we can make the trial a success

---

**Jeroen van Erp** (2024-07-05 12:17):
Hi Team,
Was working with a prospect, that is installing StackState self-hosted. StackState platform installation went smooth(ish), however when installing the agent after using the StackPack installation instructions, the agents are unable to communicate with the StackState platform. More details in the :thread:.

---

**Vladimir Iliakov** (2024-07-05 12:28):
This doesn't look like kubelet endpoint

https://docs.stackstate.com/agent/k8s-network-configuration-saas/k8s-network-configuration-proxy mentions
```global:
  skipSslValidation: true```
but it is not clear if this is for proxy communications only...

---

**Vladimir Iliakov** (2024-07-05 12:31):
Probably for all communications
```    - name: STS_SKIP_SSL_VALIDATION
      value: {{ or .Values.global.skipSslValidation .Values.nodeAgent.skipSslValidation | quote }}```
maybe @Louis Parkin can clarify that

---

**Mohamed Elnemr** (2024-07-05 12:32):
That looks like sts endpoint has self signed cert. you’d probably need to configure agents to skip ssl validation when sending traffic to sts. I have used this before with couple of customers. It’s somewhere in the helm chart

---

**Jeroen van Erp** (2024-07-05 12:34):
This is not clearly documented indeed, if that’s hidden in the proxy config

---

**Jeroen van Erp** (2024-07-05 12:34):
:slightly_smiling_face: Asked him to try that setting

---

**Jeroen van Erp** (2024-07-05 12:34):
Thanks guys

---

**Mohamed Elnemr** (2024-07-05 12:35):
Also, you’d need to set it for all agents not only nodeagent

---

**Mohamed Elnemr** (2024-07-05 12:36):
I found a global switch https://github.com/StackVista/helm-charts/blob/master/stable/stackstate-k8s-agent/values.yaml#L19 I hope it works for all agents though

---

**Mohamed Elnemr** (2024-07-05 12:37):
otherwise, override them individually
https://github.com/StackVista/helm-charts/blob/master/stable/stackstate-k8s-agent/values.yaml#L66
https://github.com/StackVista/helm-charts/blob/master/stable/stackstate-k8s-agent/values.yaml#L354
https://github.com/StackVista/helm-charts/blob/master/stable/stackstate-k8s-agent/values.yaml#L441
https://github.com/StackVista/helm-charts/blob/master/stable/stackstate-k8s-agent/values.yaml#L501

---

**Jeroen van Erp** (2024-07-05 13:22):
Thanks Mo!

---

**Alejandro Bonilla** (2024-07-10 05:33):
Questions from a customer:
• I already ship my logs to Elastic, can I feed StackState from there, so I don't duplicate logs storage?
• Do my applications need certain versions (ie java 12+) or any certain dependency for the APM metrics to be populated/collected? (Dynatrace has certain runtime support that has version requirements) Do we have any runtime dependencies or do not go as deep as Dynatrace does?
• Requirements for a POC (Agent Proxy connection via 443) - what else?
• What is the process to start a POC. Customer would like to utilize the SaaS version and would then eventually move to an on-prem option when ready.
Based on what I showed them, they are about sold - so I may also need some pricing guidance. The customer is in Mexico and is our largest $$$.
@Ravan Naidoo

---

**Paul Gonin** (2024-07-10 06:09):
Rancher Prime customer, on prem, right ?

---

**Ravan Naidoo** (2024-07-10 09:26):
Alejandro, as things have changed since StackState joined Suses, I am unfamiliar with how to tackle this.  @Andreas Prins @Mark Bakker @Jeroen van Erp

---

**Andreas Prins** (2024-07-10 09:32):
let me jump in for the non-technical questions.
1. We can support a SaaS trial the capability set might vary a little bit but we've a transition phase so we're good for now.
2. How we can start is @Jeroen Storm with for example @rutger.dendaas who are in the specialized sales team would like to do an intro call with you to clarify the situation and that would be the trigger to start the trial instance. (things like sizing of env, type of tech are some we would love to know upfront to give a superior experience)

---

**Jeroen van Erp** (2024-07-10 09:33):
Quick answers:
1. Currently no… There is no configureable abstracted log storage interface which we can hook any log store under.
2. For standard metrics (HTTP latency, error rates) we don’t rely on application instrumentation, but we utilize eBPF to get that from the Linux kernel level. Only for OpenTelemetry Trace information (and metrics based thereupon) the applications need to be instrumented with OpenTelemetry.
3. Agent can be proxied, the only real other requirement that comes to mind is that the DaemonSet node-agent requires a root/privileged container to be able to inject the eBPF code.
4. See Andreas’ answer

---

**Paul Gonin** (2024-07-10 09:36):
@Alejandro Bonilla how large is the deployement of that customer? ~number of clusters &amp; ~number of nodes?

---

**Jeroen Storm** (2024-07-10 09:41):
@Alejandro Bonilla Let's set up a call to discuss how to start with the SaaS trial instance. The details on the pricing are being worked out by the product team, so unfortunately I cannot share any updates. I'm based in CET-Amsterdam, so just a 30min slot to discuss.

---

**Ravan Naidoo** (2024-07-10 09:48):
For clarity on what was demoed to the customer was StackState Play and also the Neuvector integration in the SuseCon demo environment. So we also need to consider time lines for integration.

---

**Nelson Kinsford** (2024-07-10 12:48):
Hi Oli, Do we have any updates on this? We are starting to get quite a few requests through.

---

**Alejandro Bonilla** (2024-07-10 15:15):
Thanks everyone. This is Grupo Salinas, the company that owns the largest bank in Mexico and I think our #1 Mex customer. They don’t own NeuVector yet, but we are hoping the multi-cluster visibility would allow them to eventually consider it.

The trial would be small, perhaps 1-2 clusters of a few nodes. Scale isn’t the winner.

The real only hurdle was that they don’t want to duplicate logs. Perhaps we can just disable logs with the agent, which I see we can, and then, if that ability comes with a StackPack or something like that, we incorporate it.

The eBPF and the OpenTelemetry trace specifics are perhaps what I’m missing to understand better to pass it on to them. Then the trial specifics.

---

**Alejandro Bonilla** (2024-07-10 15:16):
@mauricio.gioia @Thais Francischetti ^^^

---

**Paul Gonin** (2024-07-11 12:36):
When installing stackstate (helm upgrade step), I'm getting this warning
`coalesce.go:237: warning: skipped value for kafka.zookeeper.topologySpreadConstraints: Not a table.`
I don't think it"s a big problem, but interested to know if I should worry

---

**Vladimir Iliakov** (2024-07-11 12:45):
No, you can safely ignore it.
Stackstate Chart doesn't use Zookeeper from Kafka chart. Helm for whatever reaso validates all subcharts, even those that are disabled.

---

**Paul Gonin** (2024-07-11 13:01):
how long should the install take?

---

**Paul Gonin** (2024-07-11 13:02):
25min seems too long

---

**Vladimir Iliakov** (2024-07-11 13:03):
I would say 10-15 on hosts we use

---

**Paul Gonin** (2024-07-11 13:04):
" 	0/3 nodes are available: 1 Insufficient cpu, 3 Insufficient memory. preemption: 0/3 nodes are available: 3 No preemption victims found for incoming pod.. "

---

**Vladimir Iliakov** (2024-07-11 13:04):
What is the status of Zookeeper?

---

**Paul Gonin** (2024-07-11 13:04):
I did not read the requirements well enough

---

**Vladimir Iliakov** (2024-07-11 13:06):
No, first you have to resolve all `Pending` pods.

---

**Vladimir Iliakov** (2024-07-11 13:09):
By default data-storing services are deployed in multiple replicas. If HA is not a concern, you can go nonha https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/non_high_availability_setup#create-nonha_values.yaml

---

**Vladimir Iliakov** (2024-07-11 13:10):
If you decide to switch to nonha, make sure to delete existing Stackstate persistent volume claims...

---

**Paul Gonin** (2024-07-11 13:36):
I added nodes... now there is enough capacity

---

**Paul Gonin** (2024-07-11 13:39):
I'm getting a couple errors
```MountVolume.SetUp failed for volume "pvc-56d45c0a-a7ab-460b-aa95-f73907e52ab9" : rpc error: code = Aborted desc = The hot-plug volume pvc-56d45c0a-a7ab-460b-aa95-f73907e52ab9 is not ready ```

---

**Paul Gonin** (2024-07-11 13:40):
"The default storage class for the cluster will be used for all services" ... RKE2 does not have a default one

---

**Vladimir Iliakov** (2024-07-11 13:44):
I am not sure if the Chart allows to specify storageclass, let me check

---

**Vladimir Iliakov** (2024-07-11 13:45):
Looks like it does
```global:
  # global.storageClass -- StorageClass for all PVCs created by the chart. Can be overriden per PVC.
  storageClass:```

---

**Alejandro Bonilla** (2024-07-16 07:40):
@Paul Gonin did you finish installing? I’d like to check this out. I had no idea it uses hdfs and all these Hadoop components. Now I’m intrigued..! Where are the instructions? :smiley: :smiley:

---

**Paul Gonin** (2024-07-16 10:16):
Will resume after vacation

---

**Alejandro Bonilla** (2024-07-16 18:53):
@Thais Francischetti please setup a call with @Jeroen Storm and I so we can talk about the Trial process for Azteca.

---

**Gustavo Varela** (2024-07-18 17:23):
I was trying to join the webinar and I was only being able to hear the sound, is was only me ?

---

**Andreas Prins** (2024-07-18 17:29):
we havent heard any complaints!

---

**Gustavo Varela** (2024-07-18 17:29):
then it was me :stuck_out_tongue_closed_eyes:

---

**Genevieve Cross** (2024-07-19 14:46):
@Gustavo Varela I’ll share the recording as soon as it is available.

---

**emil.dangov** (2024-07-22 09:48):
Hey @Jeroen van Erp I hope that your weekend was great!
On Friday we have discussed with you about some use-cases  for UI Extension for Rancher.
Would you please let me know where we can find some additional information, what should be covered from QA perspective?
Thanks!

---

**Martin Weiss** (2024-07-24 11:29):
Does Stackstate also provide some sort of a solution for analysis / learn + compare / adjust of resource requirements / resource consumption in case of Kubernetes workloads?

---

**Mark Bakker** (2024-07-24 12:38):
@Martin Weiss not yet, this is an additional feature which we want to add to and make available as an addon/ Prime Enterprise feature.
StackState has the data already but not yet this specific feature.
Btw. I am curious why you are asking, to learn more and love to have your thought on what it should do/ entail!

---

**Martin Weiss** (2024-07-24 12:51):
@Mark Bakker - thanks for the fast feedback.. will ping you to discuss this offline in more detail as this is a bit to much to write, here :slightly_smiling_face:

---

**Alejandro Bonilla** (2024-07-24 21:31):
@Jeroen van Erp @rutger.dendaas my customer would like to move forward. They would connect their cluster which is installed on top of KVM, using RKE(1). Where do I get the requirements and the steps to onboard them on to a trial environment? Thanks!

---

**Jeroen van Erp** (2024-07-24 21:34):
@Jeroen Storm I think that's your call. I'll be out on holiday from tomorrow onwards

---

**Joe Rooney** (2024-07-24 22:11):
@rutger.dendaas can you help me with partner providing River Point Technology with a license key? They are our consulting partner at a customer and identified that they customer has no logging or observabiliy in place today and are looking at solutions. Customer has a SUSE renewal due in August and they are looking to use StackState to influence and upsell in support entitlements.

---

**rutger.dendaas** (2024-07-25 11:05):
Hi Joe,

Will reach out to you directly so we can arrange this.

---

**rutger.dendaas** (2024-07-25 11:36):
Hi All,

As you might have noticed, our team of Observability Sales Specialists has recently been introduced to the company via different channels. We are more than happy to help you all in your opportunities.

However, we are divided over different regions. So, please reach out to the right person for the right region:

• Jeroen Storm (Team Lead) No specific focus for region, but huge more than 20 years of experience selling Observability to Enterprises. Can help in tough challenges
• Enisa Kurteshi: DACH, Nordics, NA
• Meriem Ahmed: UKI, LATAM, MENA
• Rutger den Daas: Benelux, APAC

---

**rutger.dendaas** (2024-07-25 11:37):
This message is also pinned so you can find it back

---

**Eni Kurteshi** (2024-07-25 12:11):
Hi @Joe Rooney could we a 20 min catch up to discuss this partner as I am responsible for the NA market?

---

**Joe Rooney** (2024-07-25 14:29):
Does 1030 EST work for you?

---

**Jeroen Storm** (2024-07-25 17:18):
Hi Alejandro, sorry to tell, but I'm also out on holiday from tomorrow, Friday 26th and return on Monday August 19th. If the request is urgent (like next week) I have @Meriem Ahmed-Wolters to support you. Otherwise, @Eni Kurteshi can pick it up from Monday 5th of August. As she is support North America. Please let me know when you want to take the call.

---

**Nikolaj Majorov** (2024-07-26 13:47):
Hi StackState experts ,
question about the  internal StackState graph database, does this database working in append only manner .. it doesnt delete anything or rewrite ? right ?

---

**Alejandro Acevedo Osorio** (2024-07-26 13:54):
That's correct, it only appends a new version of the record. For a delete that means adding a delete marker

---

**Nico Lamberti** (2024-07-26 14:34):
Hi colleagues - who can I contact to understand if there are existing stackstat customers/users in Switzerland & Austria? @Eni Kurteshi will you be the right person? :slightly_smiling_face:

---

**Eni Kurteshi** (2024-07-26 14:41):
Hi Nico, yes indeed

---

**Eni Kurteshi** (2024-07-26 14:43):
The DACH market was one that I was setting up and it was fully greenfield for us, so there is no existing clients there

---

**Nico Lamberti** (2024-07-26 14:56):
Thank you Eni - I will contact you for an initiative for potential prospects.

---

**Eni Kurteshi** (2024-07-26 14:57):
Sounds great, i have a holiday for the next week but after that I will be available and eager to learb

---

**Nico Lamberti** (2024-07-26 15:48):
Ok, look out for my email after your holidays. Enjoy vacation and take care.

---

**Alejandro Bonilla** (2024-07-28 15:27):
@Meriem Ahmed-Wolters ^^^ how can we proceed?

---

**Zeina Klink** (2024-07-31 09:22):
Hello, region South belongs to who?

---

**rutger.dendaas** (2024-07-31 09:23):
Hi Zeina, What do you mean with South?

---

**Zeina Klink** (2024-07-31 09:25):
Region South, France, Spain, Italy, Portugal

---

**Nikolaj Majorov** (2024-07-31 12:45):
Hi, do we have already some internal presentation for StackState offer ? Any links ? :slightly_smiling_face:

---

**Alejandro Bonilla** (2024-07-31 19:39):
I need help setting up a tenant for StackState. Is there anyone that is currently available from the STS team?

---

**Genevieve Cross** (2024-07-31 19:45):
Hi @Nikolaj Majorov - Here is a draft of the sales deck for your reference. Please note: the naming conventions on the new offering may not be accurate: https://docs.google.com/presentation/d/1AuuFChZZUVihqZ5cK2Hyk3zC3FGcCq4E-XP2qtN1Ar8/edit?usp=sharing

---

**Nikolaj Majorov** (2024-07-31 19:46):
Wow ! Cool :sunglasses:  many thanks :pray:

---

**Genevieve Cross** (2024-07-31 19:49):
Hey @Alejandro Bonilla - I am around (e.g, the Boston area), but I’m not going to be much help as I am in marketing. :smile:

Is this a topic that can wait until tomorrow as 99.9% of StackState team resides in the Netherlands?

---

**Alejandro Bonilla** (2024-07-31 20:01):
Yes it can. But they are away on vacations. In wondering who is available this week to setup a tenant…?

---

**Louis Lotter** (2024-07-31 21:50):
@Alejandro Bonilla Please write a full description of what you need so @Vladimir Iliakov and myself can take a look tomorrow.

---

**Louis Lotter** (2024-07-31 21:51):
We are still waiting for the support channels to be set up where this should be happening.

---

**Genevieve Cross** (2024-07-31 21:58):
Thanks @Louis Lotter

---

**Alejandro Bonilla** (2024-07-31 23:54):
I need an account in the SaaS environment so that we can have a customer login and add their cluster. It would be a trial, so a month? Or how long do you guys do default POCs?

---

**David Noland** (2024-08-01 01:35):
I'm hitting a small bug/nit when logging in. When my session times out, I'm taken back to the login page (see attached). First time I attempt to log in after time out, I get the error "Your login attempt timed out. Login will start from the beginning." (see attached). Not a big deal, but would be nice to fix this. (cc: @Mark Bakker)

---

**Mark Bakker** (2024-08-01 10:24):
@David Noland thanks I logged a bug ticket, it’s not top of backlog we eventually we will fix it. https://stackstate.atlassian.net/browse/STAC-21531

---

**David Noland** (2024-08-01 16:19):
Great, thanks

---

**Mark Bakker** (2024-08-01 20:52):
*Hello ECM and wider SUSE Community,*
I’m excited to announce the availability of the *SUSE Rancher Prime - Observability Tech Preview* for internal use!

This release brings a robust set of observability features designed to deliver comprehensive visibility across everything managed by Rancher Manager. SUSE Rancher Prime - Observability is available as both a SaaS and on-premises solution, making it an essential tool for organizations using Rancher at scale. With these capabilities, users can proactively monitor, detect, and address issues in their Kubernetes environments, ensuring high availability and optimal performance across their infrastructure.

While the product will soon be available to customers, we are currently finalizing the support channel. Once completed, we will move forward with the release to our first customers.

For those interested in testing the tech preview, installation documentation is available here (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime). You can use the following license key for internal use: *WLJWJ-5V5CF-NR1FA*. Please note that this key is strictly for internal use and should not be shared outside of SUSE. Customers will receive their own license key via SCC.

We encourage you to try it out and share any feedback you have!
If you have any questions or need assistance, please reach out to the <#C079ANFDS2C|> channel.

Our goal is to have a select group of friendly customers test this in the next 30 days to ensure everything runs smoothly before the General Availability (GA) release.

The first external marketing efforts are planned for the end of August.
Thank you for your support, and happy testing!

---

**Martin Piala** (2024-08-01 21:00):
<!subteam^S06FHP9AHJ9> we will definitely try this in OpenPlatform 
(If anyone here interested, watch <#C04S88VCHS7|>)

---

**Devendra Kulkarni** (2024-08-02 12:29):
@Mark Bakker ^^ Let me know if I can help with these typos, please let me know how to contribute to the docs

---

**Mark Bakker** (2024-08-02 12:43):
Thanks for noting! @Louis Parkin can you take those 2 fixes in the docs?

---

**Louis Parkin** (2024-08-02 12:50):
@Mark Bakker I already fixed the `Agen:` -&gt; `Agent:` typo while pairing with @Mohamed Elnemr, so just adding the `https://` to the chart-museum URL.

---

**Devendra Kulkarni** (2024-08-02 12:51):
Thanks for the quick amendment of docs!

---

**Devendra Kulkarni** (2024-08-02 16:32):
It would be great if the storage requirements are also documented,
I tried deploying stackstate but the db pods [elasticsearch/victoria/ and others] required 250Gi of PVC which ultimately failed due to `insufficient storage` .
It would be better if we document the storage requirement and I strongly suggest that this requirement should be brought down for a non-ha setup at least where people are just trying to play with stackstate and get used to it.

---

**Giovanni Lo Vecchio** (2024-08-02 18:17):
Hi Team,
Is there a reason why the “USE” chapter was removed in the v6.0 doc?
I found it very useful to understand how the product was designed, the architecture, the components, etc.

https://docs.stackstate.com/v/5.1/use/concepts

---

**David Noland** (2024-08-03 02:25):
In the docs (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime), the Slack channel is missing in:
&gt; To get support, ask any question or provide feedback you can reach us during the tech preview phase on the following Slack channel.

---

**David Noland** (2024-08-03 02:36):
For the UI Extension repo, should it be https instead of http?
&gt; Navigate to *Local Cluster &gt; Apps &gt; Repositories* and create a new repository. Use the default Helm option and add the *Index URL*: http://stackvista.github.io/rancher-extension-stackstate
The http seems to 301 to https

---

**David Noland** (2024-08-03 04:52):
I'm trying out the tech preview in my lab (k3s + AWS), but having ~ 10 pods in crashloop. Details and logs in thread.

---

**David Noland** (2024-08-03 04:53):
```$ kubectl get pods -n prime-observability -o wide
NAME                                                              READY   STATUS             RESTARTS         AGE   IP           NODE               NOMINATED NODE   READINESS GATES
prime-observe-hbase-hbase-master-0                                1/1     Running            0                92m   10.42.4.14   ip-172-31-44-156   &lt;none&gt;           &lt;none&gt;
prime-observe-hbase-hbase-rs-0                                    1/1     Running            0                92m   10.42.0.10   ip-172-31-32-225   &lt;none&gt;           &lt;none&gt;
prime-observe-hbase-hdfs-dn-0                                     1/1     Running            0                92m   10.42.3.13   ip-172-31-43-5     &lt;none&gt;           &lt;none&gt;
prime-observe-hbase-hdfs-nn-0                                     1/1     Running            0                92m   10.42.2.12   ip-172-31-37-183   &lt;none&gt;           &lt;none&gt;
prime-observe-hbase-tephra-0                                      1/1     Running            0                92m   10.42.5.6    ip-172-31-42-221   &lt;none&gt;           &lt;none&gt;
prime-observe-kafkaup-operator-kafkaup-5864984666-zg94p           1/1     Running            0                92m   10.42.3.7    ip-172-31-43-5     &lt;none&gt;           &lt;none&gt;
prime-observe-prometheus-elasticsearch-exporter-58b66668d7rxdmk   1/1     Running            0                92m   10.42.3.8    ip-172-31-43-5     &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-api-7b8cdcffbc-99z6d                 0/1     CrashLoopBackOff   19 (5m5s ago)    92m   10.42.5.8    ip-172-31-42-221   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-checks-7f95c85848-q24n2              0/1     CrashLoopBackOff   19 (95s ago)     92m   10.42.0.15   ip-172-31-32-225   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-correlate-5964d647cc-467n5           1/1     Running            3 (88m ago)      92m   10.42.4.13   ip-172-31-44-156   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-e2es-774dc4f9f7-rmps2                1/1     Running            2 (88m ago)      92m   10.42.2.7    ip-172-31-37-183   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-health-sync-55c946bcd-b6m8x          0/1     CrashLoopBackOff   18 (2m39s ago)   92m   10.42.5.10   ip-172-31-42-221   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-initializer-7bcd86d7d8-mntlx         1/1     Running            0                92m   10.42.0.9    ip-172-31-32-225   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-notification-7b5bccfd-2hzn6          0/1     Error              18 (6m25s ago)   92m   10.42.1.10   ip-172-31-45-2     &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-receiver-5cc57b7b86-9rsfj            1/1     Running            3 (88m ago)      92m   10.42.1.11   ip-172-31-45-2     &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-router-7bf4445d8f-nj826              1/1     Running            0                92m   10.42.0.11   ip-172-31-32-225   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-slicing-755c55f48f-sgt9l             0/1     CrashLoopBackOff   19 (47s ago)     92m   10.42.3.9    ip-172-31-43-5     &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-state-7fb77cf589-m5t96               0/1     CrashLoopBackOff   18 (30s ago)     92m   10.42.1.13   ip-172-31-45-2     &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-sync-6ffdc46ff7-vn77g                0/1     CrashLoopBackOff   19 (3m11s ago)   92m   10.42.4.20   ip-172-31-44-156   &lt;none&gt;           &lt;none&gt;
prime-observe-stackstate-k8s-ui-5fcfbfdbdd-7jttz                  2/2     Running            0                92m   10.42.1.9    ip-172-31-45-2     &lt;none&gt;           &lt;none&gt;
stackstate-elasticsearch-master-0                                 1/1     Running            0                92m   10.42.2.10   ip-172-31-37-183   &lt;none&gt;           &lt;none&gt;
stackstate-kafka-0                                                2/2     Running            0                92m   10.42.0.14   ip-172-31-32-225   &lt;none&gt;           &lt;none&gt;
stackstate-victoria-metrics-0-0                                   1/1     Running            0                92m   10.42.3.11   ip-172-31-43-5     &lt;none&gt;           &lt;none&gt;
stackstate-vmagent-0                                              1/1     Running            0                92m   10.42.4.18   ip-172-31-44-156   &lt;none&gt;           &lt;none&gt;
stackstate-zookeeper-0                                            1/1     Running            0                92m   10.42.4.17   ip-172-31-44-156   &lt;none&gt;           &lt;none&gt;```

---

**David Noland** (2024-08-03 04:56):
```for pod in `kubectl get pods -n prime-observability --no-headers -o custom-columns=NAME:.metadata.name`; do kubectl logs -n prime-observability $pod &gt; $pod.log; done```

---

**David Noland** (2024-08-03 05:03):
PVs look okay:
```19:57 /tmp/stackstate-preview $ kubectl get pvc -A
NAMESPACE             NAME                                            STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
prime-observability   data-prime-observe-hbase-hdfs-dn-0              Bound    pvc-f66663ff-bdfb-4bdd-a689-cc5341e526a1   250Gi      RWO            local-path     97m
prime-observability   data-prime-observe-hbase-hdfs-nn-0              Bound    pvc-1a0933ab-674f-477f-a5e6-9007ece957b8   20Gi       RWO            local-path     97m
prime-observability   data-stackstate-elasticsearch-master-0          Bound    pvc-9ba79e5a-8c54-4ff0-99bf-0786b316ab7d   250Gi      RWO            local-path     97m
prime-observability   data-stackstate-kafka-0                         Bound    pvc-51dc117c-d91f-472b-b88e-3f84b1c4a277   100Gi      RWO            local-path     97m
prime-observability   data-stackstate-zookeeper-0                     Bound    pvc-ee840430-b9b2-48b3-87da-0997437b0840   8Gi        RWO            local-path     97m
prime-observability   prime-observe-stackstate-k8s-checks-tmp         Bound    pvc-bde4eaf9-7f35-4066-b8e5-8c7591712a38   2Gi        RWO            local-path     97m
prime-observability   prime-observe-stackstate-k8s-health-sync-tmp    Bound    pvc-f7c2fe45-61bc-4d34-8972-06c25a5655e5   2Gi        RWO            local-path     97m
prime-observability   prime-observe-stackstate-k8s-stackpacks         Bound    pvc-2f36b307-c871-4224-aeca-79ed29824be5   1Gi        RWO            local-path     97m
prime-observability   prime-observe-stackstate-k8s-state-tmp          Bound    pvc-02b41f62-7d09-4db2-94ae-4709d8ea55a6   2Gi        RWO            local-path     97m
prime-observability   prime-observe-stackstate-k8s-sync-tmp           Bound    pvc-a67032e6-e971-46cb-ae56-ad93d7d2478d   2Gi        RWO            local-path     97m
prime-observability   server-volume-stackstate-victoria-metrics-0-0   Bound    pvc-cff4629d-2602-415a-a3ea-01d3121cc83e   250Gi      RWO            local-path     97m
prime-observability   tmpdata-stackstate-vmagent-0                    Bound    pvc-55ed408f-2d13-49cd-83bf-373c521689e8   10Gi       RWO            local-path     97m
19:57 /tmp/stackstate-preview $ kubectl get pv -A
NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                                               STORAGECLASS   REASON   AGE
pvc-02b41f62-7d09-4db2-94ae-4709d8ea55a6   2Gi        RWO            Delete           Bound    prime-observability/prime-observe-stackstate-k8s-state-tmp          local-path              97m
pvc-1a0933ab-674f-477f-a5e6-9007ece957b8   20Gi       RWO            Delete           Bound    prime-observability/data-prime-observe-hbase-hdfs-nn-0              local-path              96m
pvc-2f36b307-c871-4224-aeca-79ed29824be5   1Gi        RWO            Delete           Bound    prime-observability/prime-observe-stackstate-k8s-stackpacks         local-path              97m
pvc-51dc117c-d91f-472b-b88e-3f84b1c4a277   100Gi      RWO            Delete           Bound    prime-observability/data-stackstate-kafka-0                         local-path              97m
pvc-55ed408f-2d13-49cd-83bf-373c521689e8   10Gi       RWO            Delete           Bound    prime-observability/tmpdata-stackstate-vmagent-0                    local-path              97m
pvc-9ba79e5a-8c54-4ff0-99bf-0786b316ab7d   250Gi      RWO            Delete           Bound    prime-observability/data-stackstate-elasticsearch-master-0          local-path              97m
pvc-a67032e6-e971-46cb-ae56-ad93d7d2478d   2Gi        RWO            Delete           Bound    prime-observability/prime-observe-stackstate-k8s-sync-tmp           local-path              97m
pvc-bde4eaf9-7f35-4066-b8e5-8c7591712a38   2Gi        RWO            Delete           Bound    prime-observability/prime-observe-stackstate-k8s-checks-tmp         local-path              97m
pvc-cff4629d-2602-415a-a3ea-01d3121cc83e   250Gi      RWO            Delete           Bound    prime-observability/server-volume-stackstate-victoria-metrics-0-0   local-path              97m
pvc-ee840430-b9b2-48b3-87da-0997437b0840   8Gi        RWO            Delete           Bound    prime-observability/data-stackstate-zookeeper-0                     local-path              97m
pvc-f66663ff-bdfb-4bdd-a689-cc5341e526a1   250Gi      RWO            Delete           Bound    prime-observability/data-prime-observe-hbase-hdfs-dn-0              local-path              97m
pvc-f7c2fe45-61bc-4d34-8972-06c25a5655e5   2Gi        RWO            Delete           Bound    prime-observability/prime-observe-stackstate-k8s-health-sync-tmp    local-path              97m```

---

**Rajesh Kumar** (2024-08-03 17:37):
Did you create nodes with those high resources? I am still confused about how to get that high spec.

---

**David Noland** (2024-08-03 19:51):
My cluster has 24 CPU and 96GB RAM. From a resource perspective, it seems to look okay:
```$ kubectl top nodes
NAME               CPU(cores)   CPU%   MEMORY(bytes)   MEMORY%
ip-172-31-32-225   441m         11%    4136Mi          26%
ip-172-31-37-183   230m         5%     5352Mi          33%
ip-172-31-42-221   1691m        42%    2177Mi          13%
ip-172-31-43-5     69m          1%     722Mi           4%
ip-172-31-44-156   402m         10%    3795Mi          23%
ip-172-31-45-2     1145m        28%    1456Mi          9%```

---

**Mark Bakker** (2024-08-03 20:39):
Hi team be aware end of friday we found out that the new licence keys including the one supplied here do bot yet work. Somehow during testing only old keys have been tested. Monday morning early CET time a new release which does accept the new keys will be provided.
The effect of a wrong key is pods in restart loops untill the dependencies are up where one is the license.
Regarding the high resource needs, in the GA release and probably before that a new version which only needs 16GB and 4vCPU will be made available for monitoring up to 10 nodes. cc @Louis Lotter 
Really sorry for the inconvinience.

---

**David Noland** (2024-08-03 20:58):
ok, thanks for letting me know. Will hold off on further testing until the Monday release

---

**Louis Lotter** (2024-08-05 16:43):
@Lukasz Marchewka @Louis Parkin David should be able to test again now after the new helm release right ?

---

**Louis Lotter** (2024-08-05 16:44):
Can you please share anything he should know

---

**Louis Parkin** (2024-08-05 16:45):
@Louis Lotter I just upgraded @Mohamed Elnemr’s cluster with the key @Mark Bakker supplied and it worked.

---

**Louis Parkin** (2024-08-05 16:50):
So, in theory, @David Noland, if you execute `helm repo update` to get the latest version of the stackstate-k8s helm chart, 1.11.1, and rerun your `helm upgrade` command, the issue associated with the license key should now be resolved.

---

**Louis Parkin** (2024-08-05 16:51):
FYI @Mohamed Elnemr :point_up:

---

**David Noland** (2024-08-05 17:06):
I've torn down the lab, so I'll try with a fresh install

---

**Devendra Kulkarni** (2024-08-06 14:12):
Got my stackstate pods running with the latest release:
``` kubectl get pods -n prime-observability
NAME                                                              READY   STATUS      RESTARTS      AGE
prime-observe-hbase-hbase-master-0                                1/1     Running     0             3m41s
prime-observe-hbase-hbase-rs-0                                    1/1     Running     0             3m35s
prime-observe-hbase-hdfs-dn-0                                     1/1     Running     0             47m
prime-observe-hbase-hdfs-nn-0                                     1/1     Running     0             47m
prime-observe-hbase-tephra-0                                      1/1     Running     0             3m35s
prime-observe-kafkaup-operator-kafkaup-5864984666-pj5pq           1/1     Running     0             47m
prime-observe-prometheus-elasticsearch-exporter-58b66668d7w885j   1/1     Running     0             47m
prime-observe-stackstate-k8s-api-6bb8ffd74d-pdhws                 1/1     Running     0             3m44s
prime-observe-stackstate-k8s-checks-7d57b477fd-j9jxd              1/1     Running     0             3m43s
prime-observe-stackstate-k8s-correlate-6685699475-pmlx9           1/1     Running     0             3m45s
prime-observe-stackstate-k8s-e2es-59986d7b5f-mqxgb                1/1     Running     0             3m44s
prime-observe-stackstate-k8s-health-sync-79bc47fd66-4tlx5         1/1     Running     0             3m41s
prime-observe-stackstate-k8s-initializer-54cc7848c5-jn9ds         1/1     Running     0             3m43s
prime-observe-stackstate-k8s-notification-65d65bd968-nrbmz        0/1     Running     1 (12s ago)   3m43s
prime-observe-stackstate-k8s-receiver-8f45dc54f-d252v             1/1     Running     0             3m44s
prime-observe-stackstate-k8s-router-664f7ff64c-5llps              1/1     Running     0             3m44s
prime-observe-stackstate-k8s-slicing-7bd9ffdff4-6vb5c             1/1     Running     0             3m42s
prime-observe-stackstate-k8s-state-cbbb85665-jnwmq                1/1     Running     0             3m42s
prime-observe-stackstate-k8s-sync-79cbd8ffb7-xglqs                0/1     Running     0             3m42s
prime-observe-stackstate-k8s-topic-create-20240806t173755-db8m8   0/1     Completed   0             3m41s
prime-observe-stackstate-k8s-ui-7fd9485ff4-p76jm                  2/2     Running     0             3m43s
stackstate-elasticsearch-master-0                                 1/1     Running     0             47m
stackstate-kafka-0                                                2/2     Running     1 (46m ago)   47m
stackstate-victoria-metrics-0-0                                   1/1     Running     0             47m
stackstate-vmagent-0                                              1/1     Running     0             3m41s
stackstate-zookeeper-0                                            1/1     Running     0             47m```

---

**Devendra Kulkarni** (2024-08-06 14:29):
I did `kubectl port-forward -n prime-observability svc/prime-observe-stackstate-k8s-ui 8080:8080`  but when accessing localhost:8080, it shows me this:

---

**Devendra Kulkarni** (2024-08-06 15:03):
Checking UI pod logs report `304` :
```10.42.151.0 - - [06/Aug/2024:13:01:54 +0000] "GET / HTTP/1.1" 304 0 "http://167.71.232.102:32471/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" "-"```

---

**Devendra Kulkarni** (2024-08-06 15:03):
Other pod logs look okay, what should be checked further?

---

**Andy Fitzsimon** (2024-08-06 19:24):
It's a crime this webinar hasn't been posted in the discuss-stackstate slack!

Finally we've found some hats we can all like :wink:

Great job @Andreas Prins and @Jeroen van Erp!

---

**Jeroen van Erp** (2024-08-06 19:56):
Thanks Fitzy!

---

**Andy Fitzsimon** (2024-08-06 19:57):
Respect to both of you for staying in character the entire webinar! :male-detective:

---

**Jeroen van Erp** (2024-08-06 19:58):
We've got a bit of practice... You should watch our pirate themed webinar:rolling_on_the_floor_laughing:

---

**Andy Fitzsimon** (2024-08-06 20:00):
oh bloody hell, there's even a pirate-themed e-book (https://516677.fs1.hubspotusercontent-na1.net/hubfs/516677/a-pirates-guide-to-troubleshooting-kubernetes-apps-using-stackstate.pdf) you legends!

---

**Andy Fitzsimon** (2024-08-06 20:01):
@Genevieve Cross you're delivering a masterclass in marketing fun mate :wink:

---

**Jeroen van Erp** (2024-08-06 20:03):
And I've delivered a Paris themed series videos for Kubecon Paris... You should be able to find those on my linkedin

---

**David Noland** (2024-08-06 20:06):
Saw this on Viasat's Slack channel (ref (https://rancher-customers.slack.com/archives/CU9S1R7JR/p1722966122854899)) from @Jeremy Dingle
&gt; How do we reset the admin password for Stack State?

---

**Genevieve Cross** (2024-08-06 20:19):
@Andy Fitzsimon Here is the Pirate themed K8s workshop: https://www.youtube.com/watch?v=AMFw7lM-dxw. Both @Andreas Prins and @Jeroen van Erp did an amazing job staying in character throughout the event. :pirate_flag: It’s the perfect balance between education and fun.

---

**Andy Fitzsimon** (2024-08-06 20:23):
@Genevieve Cross.. oh god.. the pirate metaphors for every topic.  I love this!

---

**Brian Six** (2024-08-06 22:35):
I thought we were supposed to use the Ingress rules.  Is that not the case? https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress

---

**Vladimir Iliakov** (2024-08-07 07:58):
Hi here,
Yes, for the production setup you want to use Ingress rule, assuming an ingress controller and a load balancer configured for the cluster. For the dev/test setup you should be able to access the Stackstate via port-forwarding.
I just tried port-forwarding and got the same issue as @Devendra Kulkarni

---

**Devendra Kulkarni** (2024-08-07 07:59):
yes, it does not work with port-forwarding...I am trying to setup ingress and LB for my cluster now and will share the updates

---

**Devendra Kulkarni** (2024-08-07 08:00):
but this looks like a bug, port-forward should work

---

**Vladimir Iliakov** (2024-08-07 08:00):
Nothing suspicious in the HTTP requests

---

**Vladimir Iliakov** (2024-08-07 08:00):
@Devendra Kulkarni what baseUrl you used in the values?

---

**Devendra Kulkarni** (2024-08-07 08:01):
http://localhost:8080

---

**Devendra Kulkarni** (2024-08-07 08:01):
I am able to curl to pod-ip and svc-ip from the cluster nodes

---

**Devendra Kulkarni** (2024-08-07 08:02):
and this is the ouptut:

```curl  http://10.43.46.186:8080
<!doctype html>
&lt;html&gt;
  &lt;head&gt;

    &lt;noscript&gt;
      &lt;style&gt;
        html {
          display: none;
        }
      &lt;/style&gt;
      &lt;meta http-equiv="refresh" content="0.0;url=browser_compat/check.html" /&gt;
    &lt;/noscript&gt;

    &lt;title&gt;Initializing...&lt;/title&gt;

    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta content="text/html;charset=utf-8" http-equiv="Content-Type" /&gt;
    &lt;meta content="utf-8" http-equiv="encoding" /&gt;
    &lt;meta name="viewport" content="width=device-width" /&gt;

    &lt;meta property="og:title" content="Troubleshooting Applications on Kubernetes Made Easy: Experience StackState!" /&gt;
    &lt;meta
      property="og:description"
      content="Play with StackState, our powerful observability platform, to experience how we make Kubernetes troubleshooting a breeze."
    /&gt;
    &lt;meta property="og:image" content="https://l.stackstate.com/welcome-to-stackstate" /&gt;

    &lt;!-- favicons --&gt;
    &lt;link rel="icon" type="image/png" href="/assets/favicon-32x32-CYvspT-S.png" sizes="32x32" /&gt;
    &lt;link rel="icon" type="image/png" href="/assets/favicon-16x16-CdVLmBtc.png" sizes="16x16" /&gt;
    &lt;link rel="shortcut icon" href="/assets/favicon-CZ9OzgFi.ico" /&gt;

    &lt;style&gt;
      html,
      body {
        background-color: #fff;
      }
    &lt;/style&gt;
    &lt;script&gt;
      /* force page reload preserving the url - 6 hours */
      window.setTimeout(() =&gt; window.location.reload(true), 21600000);
    &lt;/script&gt;
    &lt;script type="module" crossorigin src="/assets/index-DtL16jJ6.js"&gt;&lt;/script&gt;
    &lt;link rel="modulepreload" crossorigin href="/assets/common-BBtNc8A7.js"&gt;
    &lt;link rel="modulepreload" crossorigin href="/assets/BrowserPageTitle-CXXOqpH0.js"&gt;
    &lt;link rel="stylesheet" crossorigin href="/assets/BrowserPageTitle-D5CUIWXH.css"&gt;
    &lt;link rel="stylesheet" crossorigin href="/assets/index-Y4MR9mV7.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;```

---

**Vladimir Iliakov** (2024-08-07 08:02):
I will create a bug ticket.

---

**Devendra Kulkarni** (2024-08-07 08:02):
thanks :slightly_smiling_face:

---

**Devendra Kulkarni** (2024-08-07 08:08):
Where are the bug ticket created? Do we have internal JIRA portal for stackstate?

---

**Devendra Kulkarni** (2024-08-07 08:10):
One more thing to add,
changing the servicetype to `NodePort` also does not work and results same as port-foward

---

**Vladimir Iliakov** (2024-08-07 08:14):
@Bram Schuur @Louis Lotter Since Mark is on vacation, I believe one of you should decide on a priority and which team would be addressing https://stackstate.atlassian.net/browse/STAC-21561.

---

**Vladimir Iliakov** (2024-08-07 08:15):
Accessing Stackstate via port-forwarding is a supported feature https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/kubernetes_install#access-the-stackstate-ui

---

**Vladimir Iliakov** (2024-08-07 08:16):
If this is for Saas version, they should create ticket to the Zendesk.

---

**Vladimir Iliakov** (2024-08-07 08:22):
If we are talking about tech preview,  then the easiest way is to run
```helm template \
    --set license='<licenseKey>' \
    --set baseUrl='<baseURL>' \
    --set pullSecret.username='trial' \
    --set pullSecret.password='trial' \
    prime-observability-values \
    rancher-prime-observability/stackstate-values > values.yaml```
it will generate new values including the passwords
```---
# Source: stackstate-values/templates/valuegenerator.yaml
global:
  receiverApiKey: "XXXXXXXXXXX"
  imagePullSecrets:
    - stackstate-pull-secret

pull-secret:
  credentials:
    - password: "trial"
      registry: quay.io
      username: "trial"
  enabled: true
  fullnameOverride: stackstate-pull-secret

stackstate:
  baseUrl: "http://127.0.0.1:8080"
  admin:
    authentication:
      password: "$2a$10$nVO479XMCsSOL7YvBG.IHetOrZwUe9.Arj0KHqBk/xZtvp6g5vskm"
  authentication:
    adminPassword: "$2a$10$fCOSHuPoaqVjjO5KnqeedunbNWtuhzfV7xR7jvR01TEawYW/ldA62"
  license:
    key: "XXXXXX"
---
# Source: stackstate-values/templates/valuegenerator.yaml
# Your StackState admin password is: 0jz2s7FCDZCfkhiQ
# Your StackState admin API password is: gf6RaTUaZi4xoI8G```
Then they need to update the values.yaml, which they use to deploy Stackstate, with the new hashed values.
For the given example, it is:
```stackstate:
  admin:
    authentication:
      password: "$2a$10$nVO479XMCsSOL7YvBG.IHetOrZwUe9.Arj0KHqBk/xZtvp6g5vskm"
  authentication:
    adminPassword: "$2a$10$fCOSHuPoaqVjjO5KnqeedunbNWtuhzfV7xR7jvR01TEawYW/ldA62"```

---

**Devendra Kulkarni** (2024-08-07 08:36):
I realised that I was exposing `ui`  service but instead it should be `router`  service.... with router service I am able to access

---

**Devendra Kulkarni** (2024-08-07 08:37):
So I think the bug is not required anymore ....

but its confusing, UI should be accessible on UI service rather than router service

---

**Vladimir Iliakov** (2024-08-07 08:42):
&gt; but its confusing, UI should be accessible on UI service rather than router service
Well, I would say you should have been followed the docs :wink: This is a complex multi-component application and it can't be obvious to all users...

---

**Vladimir Iliakov** (2024-08-07 14:03):
Just realised that I forgot to mention that they have to redeploy Stackstate with the updates values, so the changes take place.
They can do it with the same `helm upgrade ....` command.

---

**Jeremy Dingle** (2024-08-07 14:28):
Appreciate it, thank you!

---

**Kelly Gohl** (2024-08-07 16:37):
Another question from Viasat - Can we scrape Prometheus/ServiceMonitor metrics of applications with StackState?

---

**Vladimir Iliakov** (2024-08-07 16:50):
It is possible to collect metrics from the pods if they expose metrics in OpenMetrics format. I don't know if it is 100% compatible with Prometheus exporter, but we do collect such metrics.
More info here https://docs.stackstate.com/metrics/advanced-metrics/open-metrics

The note here is that the scraping is configured not via PodMonitor/ServiceMoniter, but via annotating the pods, so the agent can collect data/metrics and send them to Stackstate.

---

**David Noland** (2024-08-07 17:02):
Thanks Vladimir. My best guess is this customer is trying the tech preview. Jeremy can confirm.

---

**Jeremy Dingle** (2024-08-07 17:23):
Yes! They are testing and evaluating other solutions and now StackState. This was perfect timing

---

**Jeroen van Erp** (2024-08-07 17:58):
Using any prometheus exporter it is possible to remote write metrics to StackState. We expose a remote_write endpoint for this.

---

**Paul Gonin** (2024-08-08 10:49):
There won’t be efforts to make it work, test, with RKE1
Focus of efforts is on RKE2 and K3s

---

**Julien Niedergang** (2024-08-08 10:51):
Hello ! (moving it to a correct place, here, sorry)
I've heard there would be challenges having Stackstate to work with a RKE 1 based cluster engine.
Is it correct ?
Thank you !
https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements
https://www.suse.com/suse-rke1/support-matrix/all-supported-versions/rke1-v1-27/

---

**Paul Gonin** (2024-08-08 10:55):
nice slidedeck :+1::skin-tone-5:
just a nit... I assume this is meant for external / customer / prospect use...
"*How to connect:* go to slack and join #discuss-StackState
Packaging announcements will follow soon!" on last slide... =&gt; this is possible only internal

---

**Paul Gonin** (2024-08-08 11:07):
if the question is about deploying a self hosted of StackState, what would be the point at this point, knowing RKE1 is coming to an end, to even consider deploying StackState self hosted on RKE1 ?

---

**Paul Gonin** (2024-08-08 11:07):
if it's about the StackStage agent for observability of downstream clusters, it is a different question

---

**Julien Niedergang** (2024-08-08 11:47):
*Stackstate compatibility with RKE1*
  &gt; I guess we're only talking about downstream clusters RKE1 based observability
  &gt; Good point you precise this, thank you

*RKE1 to RKE2 migration*
  &gt; Yes, this is linked to the needed efforts of stackstate and RKE1 : "is it worth it ?
  &gt; Large customers will have quite a challenge migrating their potential 100's of customers' environments within a year (implying logistics, technical planning, qualification, new platform industrialisation...) but this is probably another discussion ?

---

**Jeroen van Erp** (2024-08-08 13:09):
Product is currently looking into this. @Ravan Naidoo should be able to provide some more details on what is and is not supported at the moment.

---

**Ravan Naidoo** (2024-08-08 15:38):
@Julien Niedergang RKE1 is supported by the StackState Agent.  This has been tested with RKE1 running on Ubuntu 22.04 LTS nodes.  Currently, Product is looking into an eBPF bug (STAC-21536 “Round Trip Time”) that prevents the process agent from starting on Ubuntu 24.04 LTS and SLES 15 SP 6.

---

**Ian Nichols** (2024-08-09 19:43):
Perhaps I am missing something in the docs. I am trying to get the UI extension to connect to my StackState install. I can reach the StackState UI without issue, and have the service token. I always see a 502 when its doing the /meta/proxy/$stackstateendpoint/api/server/info. I can $stackstateui/api/server/info without issue.

---

**Genevieve Cross** (2024-08-09 20:23):
Good catch, @Paul Gonin. This deck has been updated.

---

**Jeroen van Erp** (2024-08-09 20:38):
Hi ian, does your rancher cluster contain a nodedriver resource with the name StackState? That's needed to white-list the proxied address

---

**Jeroen van Erp** (2024-08-09 20:38):
It should create that automatically

---

**Ian Nichols** (2024-08-09 20:59):
I am not seeing stackstate in `kubectl get nodedrivers.management.cattle.io (http://nodedrivers.management.cattle.io) -A`

---

**Ian Nichols** (2024-08-09 20:59):
what part of process is meant to create that?

---

**Ian Nichols** (2024-08-09 21:02):
https://github.com/StackVista/rancher-extension-stackstate/blob/40d229bb2aefa7adc2c47d74e7a4a804f20f1e6f/rancher/stackstate_driver.yaml#L3 ahh found this

---

**Ian Nichols** (2024-08-09 21:07):
tried adding that with my stackstate url in whitelisted domains, but no luck

---

**Louis Lotter** (2024-08-12 08:18):
@Anton Ovechkin @Bram Schuur can you guys help out here ?

---

**Anton Ovechkin** (2024-08-12 08:32):
I can help next week
I am on holiday now

---

**Bram Schuur** (2024-08-12 08:35):
Lets discuss over standup, I have 0 context, so I can switch to this, but that will take time. We'll have to be a bit smart about who this lands with

---

**Louis Lotter** (2024-08-12 08:36):
Yeah. if it's a tough one lets discuss there.

---

**Jeroen van Erp** (2024-08-12 09:05):
I'll be back on Wednesday afternoon can help then

---

**Louis Lotter** (2024-08-12 10:18):
@Remco Beckers :point_up:

---

**Kelly Gohl** (2024-08-12 19:13):
From customer Viasat:

I was wondering how to view more information on "critical" events alerts/events in StackState. Specifically, I'm having trouble understanding the events generated by StackState for "Health State Changed". I see the event but I'm not sure what it really means or how leverage the UI to take the next step to resolve the issue.

---

**AJ Galiana** (2024-08-12 19:54):
IHAC who noticed in SCC under their subscriptions they now have a listing for Rancher Prime Observability Tech Preview. This has prompted them to request assistance to go forward with setup for a POC Test. A few other CSMs on my team have noticed this listing for their Customers as well.

1. Do we have a process workflow mapped out for this? Someone to contact directly?
2. I meet with the Customer tomorrow - what can I tell them about their request?

---

**Alejandro Bonilla** (2024-08-12 20:07):
Big win... being able to remove this
```NAMESPACE                         NAME                                                              CPU(cores)   MEMORY(bytes)   
kube-system                       kube-apiserver-gr6-3                                              366m         2151Mi          
kube-system                       kube-apiserver-gr6-1                                              196m         2108Mi          
cattle-monitoring-system          prometheus-rancher-monitoring-prometheus-0                        20m          1811Mi          
...          
observability                     stackstate-k8s-agent-node-agent-r7pfl                             35m          562Mi           
observability                     stackstate-k8s-agent-node-agent-kjgn9                             47m          519Mi```
Using 1/3 of the RAM

---

**Mohamed Elnemr** (2024-08-12 20:23):
Next step would be to click on the “red” monitor and follow the remediation guide. But I kinda agree that “health state changed” events are confusing and not actionable

---

**Mohamed Elnemr** (2024-08-12 20:25):
Changes and deployment events are the most interesting ones

---

**Genevieve Cross** (2024-08-12 20:42):
@Alejandro Bonilla Is this Banco Azteca de México?

---

**Genevieve Cross** (2024-08-12 20:53):
Hi @AJ Galiana - Where is IHAC located? Based on their location, our team of Observability Sales Specialists would be more than happy to help you.

Coverage by region:

• Jeroen Storm (Team Lead) No specific focus for region, but huge more than 20 years of experience selling Observability to Enterprises. 
• Enisa Kurteshi: DACH, Nordics, NA
• Meriem Ahmed: UKI, LATAM, MENA
• Rutger den Daas: Benelux, APAC

---

**AJ Galiana** (2024-08-12 20:56):
Thanks Genevieve, (IHAC = I have a Customer ). I'll follow up with Enisa for NA Region help.

---

**José Guilherme Vanz** (2024-08-12 21:10):
Hi folks! I'm testing StackState to share the learnings with my colleagues in the Kubewarden project and look for points for integration. I would like to test the product and see what I can do it. Besides reading and following the docs I'm wondering if there is a playground instance to us to test it in its full power. I have a vague memory about some message (email?) announcing that. Is that correct? If yes, how can I get access to this instance. If no, the testing environment for us in SUSE is the playground available in the StackState website? Sorry if I'm boring you with this question. But I could not find nothing in my emails and confluence. I'm considering that I'm having a false memory. Can you help me answer this question? Thanks in advance!

---

**Genevieve Cross** (2024-08-12 21:18):
Hi @José Guilherme Vanz - The below message from Mark Bakker provides more information about the SUSE Rancher Prime - Observability Tech Preview for internal use. There is also a Playground available on the StackState website: https://www.stackstate.com/playground/welcome/

https://suse.slack.com/archives/C079ANFDS2C/p1722538334616699

---

**José Guilherme Vanz** (2024-08-12 21:25):
Thank you, @Genevieve Cross! I'll take a look!

---

**Brian Six** (2024-08-12 22:54):
Also, check out the docs and look at the install requirements.  This isn’t your average cluster.

---

**Chase Weiser** (2024-08-13 17:11):
@Eni Kurteshi &amp; @Ravan Naidoo thanks again for your great discussion with Riverpoint. Tons of positive feedback already.

---

**Sanjeet Singh** (2024-08-13 18:13):
Hi folks - does Stackstate as of today monitor GPU performance/Fault monitoring?  Or is it in the roadmap?

---

**David Noland** (2024-08-13 22:05):
Would someone be able to provide input on https://suse.slack.com/archives/C079ANFDS2C/p1722644747965299?thread_ts=1722538334.616699&amp;cid=C079ANFDS2C ? Customers are starting to use StackState and don't know how to get help.

---

**matt.klimuszka** (2024-08-13 22:56):
That is a very good question. Mark has been on PTO for a while. Not sure who can answer that other than him.

---

**Ian Nichols** (2024-08-13 23:24):
Finally was able to get back to this. Found the nodedriver via UI. That led me to find it via CLI as its name was auto generated. I was looking for name to be stackstate. I do see its active: false. If I try to enable it, it just goes to Downloading. I see url: local://.

---

**David Noland** (2024-08-13 23:30):
I believe the plan was to create a Slack channel on the Rancher Users slack instance, but I don't believe that has happened yet.

---

**Bram Schuur** (2024-08-14 07:54):
Dear Sanjeet, StackState does not monitor GPU performance today, I did not find it on the roadmap. I can put this on our list of incoming user requests if you like. Could you describe the context of the problem a bit broader and name of the customer?

---

**Bram Schuur** (2024-08-14 07:58):
Indeed, we left that 'blank' pending a (public?) support slack channel. @Louis Lotter do you know who is responsible for setting this up for us?

---

**Bram Schuur** (2024-08-14 07:59):
@matt.klimuszka Me and @Louis Lotter will answer questions/support as long as mark is PTO

---

**Bram Schuur** (2024-08-14 08:00):
@Devendra Kulkarni bit late, but better late than never. We have 'sizing' of instances on our roadmap, including lower storage and lowering retention for trial setups. Stay tuned

---

**David Noland** (2024-08-14 08:01):
If you need a new channel created on Rancher Users (https://slack.rancher.io/), I believe you can contact @Robert Sirchia.

---

**Bram Schuur** (2024-08-14 08:06):
Alright! I believe mark bakker already put out a request, but i do not know to whom, I'd rather not cause more confusion. I also heard him mention @David Stauffer picking up support for prime observability customers, maybe this goes through him?

---

**Bram Schuur** (2024-08-14 08:57):
Dear @Ian Nichols, we are still finding our bearings with the rancher product, we're working on that now and will get back to you shortly (early next week). A ticket is filed internally.

---

**Bram Schuur** (2024-08-14 09:01):
@Remco Beckers i filed the following ticket which we can look into at the heels of setting up rancher preprod: https://stackstate.atlassian.net/browse/STAC-21597

---

**Louis Lotter** (2024-08-14 09:19):
I believe @David Stauffer was in charge of setting up these channels. I highlighted it last wednesday during the "Weekly PM/Eng Sync" that this has not happened yet. Not sure what the holdup is.

---

**Jeroen van Erp** (2024-08-14 10:17):
@Ian Nichols which rancher version are you using? I'll have a look this afternoon as I'm back from my PTO :slightly_smiling_face:

---

**Louis Lotter** (2024-08-14 11:27):
@Bram Schuur David came back to me and asked that we change the docks to rather ask customers to email us. The work is captured in https://stackstate.atlassian.net/browse/STAC-21599

---

**Bram Schuur** (2024-08-14 11:32):
mr: https://github.com/StackVista/stackstate-docs/pull/1489

---

**José Guilherme Vanz** (2024-08-14 14:41):
@Genevieve Cross how can I install other stuff in the playground cluster to test it together? Can I do that?

---

**Ian Nichols** (2024-08-14 15:32):
2.8.5. Like I said this may be on me. I did just find an error in rancher that when I click save.
```2024/08/13 22:07:01 http: proxy error: tls: failed to verify certificate: x509: certificate is valid for ingress.local, not gcp-stackstate.ians.farm```
which everything I have setup has just been http, so not sure why a cert is coming into the mix here

---

**Jeroen van Erp** (2024-08-14 15:43):
I think stackstate is sending out a bad certificate in this case. The extension supports https only I think…

---

**Ian Nichols** (2024-08-14 15:44):
Alright let me retry and just get a cert for everything. Ill let you know if it changes

---

**Jeroen van Erp** (2024-08-14 15:45):
You could check using
```openssl s_client -connect gcp-stackstate.ians.farm:443```

---

**Jeroen van Erp** (2024-08-14 15:45):
To see what certificate the stackstate ingress sends out

---

**David Noland** (2024-08-14 16:29):
ok, thanks.

---

**Ian Nichols** (2024-08-14 16:51):
Yeah ended up being on my end. I apparently cut off my ingress object yaml and was missing TLS. Since extension never tried http it never activated the nodedriver. Once I fixed all that up it worked. Thank you!!

---

**Jeroen van Erp** (2024-08-14 16:52):
:partygeeko: Good to hear!

---

**Jeroen van Erp** (2024-08-14 16:52):
And you’re welcome of course!

---

**Genevieve Cross** (2024-08-14 16:56):
@José Guilherme Vanz The playground is a demo environment. If you would like to install and test other data, I would recommend using the SUSE Rancher Prime - Observability Tech Preview that has been made available for internal use.

---

**Jeroen van Erp** (2024-08-14 16:57):
@Vladimir Iliakov @Lukasz Marchewka As far as I remember from before my holiday, you’ve setup an internal stackstate instance for suse employees, correct? Can you grant @José Guilherme Vanz access so that he can test some integration work with KubeWarden?

---

**Louis Lotter** (2024-08-14 17:23):
:dancing_dog:

---

**Vladimir Iliakov** (2024-08-14 17:26):
If only I know the name of this tenant )))

---

**Jeroen van Erp** (2024-08-14 17:28):
Didn’t we have an internal tenant?

---

**Vladimir Iliakov** (2024-08-14 17:29):
we have many

---

**Vladimir Iliakov** (2024-08-14 17:30):
I see `suseus-trial` I need to find out who requested it and if they are ok to share it with the others...

---

**Jeroen van Erp** (2024-08-14 17:31):
Ok, can I leave it in your capable hands to find a tenant, or if none exist create one for José?

---

**Jeroen van Erp** (2024-08-14 17:39):
Thanks Vladimir :smile:

---

**Vladimir Iliakov** (2024-08-14 17:41):
I found the user of this tenant, lets see if he still needs it.

---

**Vladimir Iliakov** (2024-08-14 17:42):
I will ask if we can provide a Saas tenant by request and will return with the answer...

---

**Jeroen van Erp** (2024-08-14 17:45):
And otherwise we might just want to spin up a shared long-live tenant for experiments. Where everyone is aware that it's shared. Saves a ton on cloud costs

---

**Vladimir Iliakov** (2024-08-14 17:51):
Agree, on one condition, if you revive the Aegir team :smile:

---

**Vladimir Iliakov** (2024-08-14 17:51):
And join it yourself of course :wink:

---

**Jeroen van Erp** (2024-08-14 17:53):
hehe… No can do amigo :slightly_smiling_face: no longer a product or engineering role. Just a facilitator :smile:

---

**Mohamed Elnemr** (2024-08-15 11:08):
I had a discussion with @william.rizzo about setting up stackstate in an upstream cluster as mentioned in our docs https://docs.stackstate.com/get-started/k8s-suse-rancher-prime . it seems that this might have complications is the sense that stackstate requirements might conflict with Rancher requirements

---

**william.rizzo** (2024-08-15 11:21):
Hello StackState Product and Engineering.
I see in the docs that we suggest two deployment models for StackState. One based on deploying in the Upstream Cluster (Rancher Cluster).
We have strict requirements on what can be deployed in the cluster. Was this deployment model vetted by Rancher Engineering? sorry for the bald question.
On a side note. For high scale deployments, in Consulting (with Engineering) we have come up with designs that allow for the upstream cluster to be greater than 3 all-roles nodes. (ie 3 ctl-plane nodes and 3+n worker nodes). In the page I see an image with 6 nodes for a Rancher manager cluster. (Where I can recognize that Rancher is not deployed)....I feel we might start having issues with this.
CC: @Silvio Moioli; @David Stauffer; @Paul Gonin; @Sheng Yang

---

**Remco Beckers** (2024-08-15 11:26):
Can you elaborate on what the conflicts might be?

---

**william.rizzo** (2024-08-15 11:33):
Hi @Remco Beckers,
Though I'm not satisfied with the quality of this page, here you can find the best practices for running Rancher.
However, I'd strongly suggest to get in touch with the folks that I've put in CC in the message below this thread

---

**william.rizzo** (2024-08-15 11:33):
https://ranchermanager.docs.rancher.com/reference-guides/best-practices/rancher-server/tips-for-running-rancher

---

**Remco Beckers** (2024-08-15 11:35):
Aha, I see the first tip is already pretty obvious a conflict:
&gt; Don't run other workloads or microservices in the Kubernetes cluster that Rancher is installed on.

---

**william.rizzo** (2024-08-15 11:37):
we have customers that had serious issues (performance, etcd outages, random outages) because of running workloads on the upstream cluster. If you need more details, would be better to get in touch with engineering.

---

**Remco Beckers** (2024-08-15 11:39):
At the moment it was mostly curiosity.

I wasn't involved in writing the StackState docs for Rancher so can't say how that ended up in there, but seems like a good idea to reconsider that indeed.

---

**Mohamed Elnemr** (2024-08-15 11:41):
since mark bakker is on PTO.  @Louis Lotter @Bram Schuur can you please take this into consideration ?

---

**Louis Lotter** (2024-08-15 12:28):
I think this has to wait for a bigger discussion with Mark included

---

**Remco Beckers** (2024-08-15 12:30):
I already checked with @Bram Schuur and he put a ticket on the backlog so we definitely won't forget

---

**william.rizzo** (2024-08-15 12:31):
@Louis Lotter, I totally agree. is not a quick discussion, but before we have customer that start getting in trouble, would it be possible to amend those pages or exclude the deployment model on upstream from the docs?

---

**Louis Lotter** (2024-08-15 12:33):
ok. @Mark Bakker can have it undone if he disagrees.

---

**william.rizzo** (2024-08-15 12:33):
Thanks @Louis Lotter

---

**Bram Schuur** (2024-08-15 13:05):
Is anyone working on removing the upstream cluster from the docs? If not i can do it

---

**william.rizzo** (2024-08-15 13:19):
I don’t believe I can. But let me know if I can help.

---

**Bram Schuur** (2024-08-15 13:22):
I prepared the following update:
• MR: https://github.com/StackVista/stackstate-docs/pull/1492
• example deploy: https://stackstate.gitbook.io/stackstate-docs-development/v/bram-draft-docs-site/get-started/k8s-suse-rancher-prime#where-to-insta[…]ackstate-server (https://stackstate.gitbook.io/stackstate-docs-development/v/bram-draft-docs-site/get-started/k8s-suse-rancher-prime#where-to-install-stackstate-server)
Open for feedback @william.rizzo, @Jeroen van Erp maybe you can review/approve aswell?

---

**Mohamed Elnemr** (2024-08-15 13:25):
@william.rizzo I see we still have the screenshot with the 6 nodes. Do you have a better screenshot ?

---

**Jeroen van Erp** (2024-08-15 13:33):
Added one suggestion @Bram Schuur

---

**Bram Schuur** (2024-08-15 13:36):
@Jeroen van Erp improved the phrasing there, lemme know what you think

---

**Jeroen van Erp** (2024-08-15 13:55):
Improvement is good… One thing that we might want to improve is the wording in that other sentence…

Not sure what we mean with (or how people should read it):
&gt; In general we expect the Stack to use up to 1% of total CPU/Mem capacity used by the clusters/nodes observed.

---

**william.rizzo** (2024-08-15 13:58):
@Mohamed Elnemr, the screenshot is not a problem as far as is not saying deploy on Rancher Upstream. The cluster in the screenshot is a downstream cluster, despite the name. Rancher is not deployed in it. or if it is, is not the manager. I can see it.

---

**Mohamed Elnemr** (2024-08-15 13:59):
~I meant the other screenshot.~  I got what you say

---

**Bram Schuur** (2024-08-15 14:31):
@Jeroen van Erp do you have suggestions on improving that sentence?

---

**Jeroen van Erp** (2024-08-15 14:32):
I have no idea even what sentence even conveys

---

**Bram Schuur** (2024-08-15 14:35):
dropped it

---

**william.rizzo** (2024-08-15 14:35):
@Bram Schuur, I don't exclude that in the future we'll want to have it deployed in upstream. so for now, I've suggested removing this:
`For this reason the Observability Stack should not be installed in the upstream management cluster`

---

**william.rizzo** (2024-08-15 14:36):
The deployment model depicted in the image is clear enough. The Rancher docs discourage from deploying anything that is not approved, Upstream...I think this is enough. what do you think?

---

**Bram Schuur** (2024-08-15 14:37):
sure, i'll best drop the intire info box then i think

---

**william.rizzo** (2024-08-15 14:37):
sounds good to me.

---

**william.rizzo** (2024-08-15 14:38):
the sizing info are good and the info box might lead to misunderstanding

---

**william.rizzo** (2024-08-15 14:39):
thanks a million Bram and all

---

**Bram Schuur** (2024-08-15 14:39):
(except for approvla and merge)

---

**william.rizzo** (2024-08-15 14:40):
gotcha. We'll wait for who can approve and merge

---

**william.rizzo** (2024-08-16 09:32):
:green_heart:

---

**Alejandro Bonilla** (2024-08-16 15:02):
Do we have visibility into tenants? Or perhaps how many clusters or activity they have in their tenant?

---

**Jeroen van Erp** (2024-08-16 15:13):
Yes, to some extent we can see that. All tenants are monitored using the AEgir StackState instance, and in there we collect the number of downstream nodes they have registered and the creation/deletion of topology items

---

**Alejandro Bonilla** (2024-08-16 15:18):
Who could look ?

---

**Jeroen van Erp** (2024-08-16 15:19):
For which tenant?

---

**Alejandro Bonilla** (2024-08-16 15:23):
Banco Azteca

---

**Alejandro Bonilla** (2024-08-16 15:23):
I think his email is with elektra

---

**Jeroen van Erp** (2024-08-16 15:28):
Azteca trial currently has no attached agents, so nothing sending data to stackstate

---

**José Guilherme Vanz** (2024-08-16 16:28):
Hi guys, I have a question about custom monitors. Every monitor generate events, rigth? If so, how can I filter events for a specific monitor? In other words, which value I need to add in the event filter fields to identify the monitor? Is some field defined in the monitor yaml file?

---

**Brian Almeida** (2024-08-16 16:34):
Hey all, I just set up and installed stack state, and I am trying to log into the UI and I keep getting this something went wrong page. Looking back on some similar issues, found that I needed to expose the `router` and not the UI service itself, but even then I still get the same page. I am trying to use the Rancher UI extension as well. Also created an ingress to see if that would help, but it doesn't. Am I missing a step or is this a known issue?

---

**Brian Almeida** (2024-08-16 16:37):
Followed the non-ha setup in the docs:
• https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#installing-a-non-ha-setup-for-up-to-50-nodes

---

**Jeroen van Erp** (2024-08-16 16:39):
Are all the pods up and running?

---

**Jeroen van Erp** (2024-08-16 16:41):
Ok! Are there any exceptions in the logs of the api pod?

---

**Brian Almeida** (2024-08-16 16:48):
Not seeing anything too crazy in the logs:

---

**Ravan Naidoo** (2024-08-16 16:55):
Can you try to do hard refresh in browser. Press the shift key and the press browser reload.

---

**Brian Almeida** (2024-08-16 16:56):
Still nothing... :slightly_frowning_face:

---

**Ravan Naidoo** (2024-08-16 17:01):
Is this the first screen you have seen?  Or did you login via the login screen?

---

**Brian Almeida** (2024-08-16 17:13):
That's the first screen I see

---

**Brian Almeida** (2024-08-16 17:13):
Haven't gotten to log in yet but I am going to try again to see if I can fix a possible mistake

---

**Ravan Naidoo** (2024-08-16 17:14):
Ok. You should have seen the login screen. What is the url in the browser. Can you try a browser incognito window.

---

**Brian Almeida** (2024-08-16 17:15):
Let me give that shot

---

**Brian Almeida** (2024-08-16 17:16):
So I think a problem might be I am trying to access the UI through Rancher services

---

**Brian Almeida** (2024-08-16 17:17):
And it's proxying me through but doesn't like the request

---

**Ravan Naidoo** (2024-08-16 17:25):
Ok. Other things to try is creating an ingress  instead of port forward.   Also if you can open dev-tools in the browser we can see more details of the request that is going wrong in browser. StackState uses websockets, so we can see if that req is going good.

---

**Brian Almeida** (2024-08-16 17:28):
Mhm ok. I created an ingress and then `helm install --upgraded` and it took the changes. Once complete, I navigated to the hostname and was redirected to Cirro.io (http://Cirro.io) not sure if that's a step in the right direction :sweat_smile:

---

**Ravan Naidoo** (2024-08-16 17:36):
That is a direction ;). But not the right one I fear. Did you install StackState on a new cluster. Or is it sharing on an existing cluster?

---

**Brian Almeida** (2024-08-16 17:36):
Created a new downstream cluster to test this

---

**Ravan Naidoo** (2024-08-16 17:41):
I am out of ideas to share via slack. Brian shall we setup a google meet for Monday ? I am in the CET time zone. Please feel free to setup a time that suites you.

---

**Brian Almeida** (2024-08-16 17:51):
No worries Ravan, I greatly appreciate your help with this :keanu_thanks:. Right now, I am playing with some settings on the nodes and am thinking this is a routing issue with my ingress

---

**Rodolfo de Almeida** (2024-08-16 18:50):
@Brian Almeida Have you checked this thread?
https://suse.slack.com/archives/C079ANFDS2C/p1722947349277949

---

**Brian Almeida** (2024-08-16 22:20):
I did, and saw that Devendra was port forwarding the wrong service, the UI and not the router. But even port-forwarding the router, still got the same page

---

**Bram Schuur** (2024-08-19 09:18):
Dear Jose, a monitor by itself does not generate events. However, we turn the the states of monitor into events on the component (health state changed event on the events subsection of components like pods/services etc see https://play.stackstate.com/#/components/urn:service:%2Fgke-demo-public.gcp.stackstate.io:sock-shop:ingress). Also it is possible to get notified an slack/email/opsgenie when a monitor is firing through the notifications system. The notification system has detailed options to filter which monitors, on which components, should generate notifications (this feature is only visible if you have a trial running https://docs.stackstate.com/monitors-and-alerts/notifications).

If your goal is to make a monitor that applies to only a limited set of components (or one components), the trick will be to add additional predicates to the metric query in the monitor, see https://docs.stackstate.com/monitors-and-alerts/customize/k8s-add-monitors-cli#write-the-outline-of-the-monitor.

Does this answer your question? If not, could you state your goal/use-case so i can help you further?

---

**Nikolaj Majorov** (2024-08-19 11:01):
Hi experts,
does we have saltstack module for SAP automation on Power9 clusters ?

---

**Gereon Vey** (2024-08-19 11:09):
There are the saphanabootstrap-formula, sapnwbootstrap-formula and salt-shaptools packages in SLES4SAP

---

**Bram Schuur** (2024-08-19 15:50):
Also, this channel is here to discuss the product formerly known as 'stackstate', now being rebranded to rancher prime observability, not saltstack (https://github.com/saltstack, never heard of that before!). Was your question about stackstate or saltstack?

---

**Nikolaj Majorov** (2024-08-19 15:51):
Wow :open_mouth:  sorry :face_palm:  confused

---

**Bram Schuur** (2024-08-19 16:47):
No problem:+1:

---

**Anthony Tortola** (2024-08-20 15:51):
Hello All, I am having some trouble with my StackState install in my lab.  On the client side, I see the agent with these errors: 2024-08-20 13:50:55 UTC | CORE | ERROR | (pkg/forwarder/worker.go:179 in process) | Too many errors for endpoint 'stackstate.suselabs.com/receiver/stsAgent/intake/?api_key=***************************b1eiY (http://stackstate.suselabs.com/receiver/stsAgent/intake/?api_key=***************************b1eiY)': retrying later
Tue, Aug 20 2024 9:50:55 am
2024-08-20 13:50:55 UTC | CORE | ERROR | (pkg/forwarder/worker.go:179 in process) | Too many errors for endpoint 'stackstate.suselabs.com/receiver/stsAgent/api/v1/series?api_key=***************************b1eiY (http://stackstate.suselabs.com/receiver/stsAgent/api/v1/series?api_key=***************************b1eiY)': retrying later

---

**Anthony Tortola** (2024-08-20 15:52):
It never registers with my stackstate server

---

**Anthony Tortola** (2024-08-20 15:53):
I used the ingress_values yaml file during the install

---

**Anthony Tortola** (2024-08-20 15:53):
here it is:

---

**Anthony Tortola** (2024-08-20 15:53):
ingress:
 enabled: true
 annotations:
  nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
 hosts:
  - host: stackstate.suselabs.com (http://stackstate.suselabs.com)

---

**Anthony Tortola** (2024-08-20 15:53):
Not using tls at the moment

---

**Anthony Tortola** (2024-08-20 15:54):
I dont have a loadbalancer, I tried pointing my DNS entry to either one of the Master nodes and the worker node that has the pod running on it

---

**Anthony Tortola** (2024-08-20 15:55):
I am able to log into stackstate webui no problem

---

**Vladimir Iliakov** (2024-08-20 16:28):
Hi Anthony, the exact connection error is posted before `Too many errors` .Try to find it in the same log output.

---

**Vladimir Iliakov** (2024-08-20 16:30):
And it is not quite clear from your following messages how the traffic is flowing from the agent to the Stackstate.

---

**Vladimir Iliakov** (2024-08-20 16:32):
Are the agent and Stackstate in the same cluster?
You said you don't have a loadbalancer, how the Stackstate is exposed outside of the cluster then, via Nodeport service or something else?

---

**Anthony Tortola** (2024-08-20 16:34):
Stackstate installed in a seperate cluster, the agent is on another cluster.  I used the ingress controller to expose the router on port 8080

---

**Vladimir Iliakov** (2024-08-20 16:36):
Ok, got it, we still need more logs from the agent to find the original error.

---

**Anthony Tortola** (2024-08-20 16:52):
Looking at it now, here it is if you would like to see it

---

**Anthony Tortola** (2024-08-20 16:54):
I do see this: Error while processing transaction: error while sending transaction, rescheduling it: Post "stackstate.suselabs.com/receiver/stsAgent/intake/?api_key=***************************b1eiY (http://stackstate.suselabs.com/receiver/stsAgent/intake/?api_key=***************************b1eiY)": unsupported protocol scheme ""

---

**Vladimir Iliakov** (2024-08-20 17:00):
Right, a scheme is missing the url has to start either with http:// or https://

---

**Vladimir Iliakov** (2024-08-20 17:01):
If you get the command to install the agent from the Stackstate UI, I think the incorrect baseUrl was used to deploy Stackstate.

---

**Anthony Tortola** (2024-08-20 17:02):
here is what I have for baseurl in my values.yaml file: tackstate:
 baseUrl: "stackstate.suselabs.com (http://stackstate.suselabs.com)"

---

**Vladimir Iliakov** (2024-08-20 17:03):
https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#installing-a-non-ha-setup-for-up-to-50-nodes
```helm template \
    --set license='&lt;licenseKey&gt;' \
    --set baseUrl='&lt;baseURL&gt;' \
    --set pullSecret.username='trial' \
    --set pullSecret.password='trial' \
    prime-observability-values \
    rancher-prime-observability/stackstate-values &gt; values.yaml```
So a baseUrl should start with the scheme, `https://...` or `http://` . Well it is obvious that docs is not clear about that.

---

**Anthony Tortola** (2024-08-20 17:04):
let me try that

---

**Vladimir Iliakov** (2024-08-20 17:06):
So you can redeploy Stackstate to fix the Stackpacks  page and reuse the new command to install the agent.
Or only redeploy the agent Helm Chart with the "correct" the value `--set-string 'stackstate.url'='https://&lt;your fqdn&gt;/receiver/stsAgent' \`

---

**Anthony Tortola** (2024-08-20 17:06):
damn, just deleted both installs

---

**Anthony Tortola** (2024-08-20 17:24):
getting the same error

---

**Anthony Tortola** (2024-08-20 21:30):
Hey, if you have sometime, I like to screen share to show you how I have set it up

---

**Anthony Tortola** (2024-08-20 21:31):
@Vladimir Iliakov what timezone are you in?

---

**Alejandro Bonilla** (2024-08-21 04:25):
I feel this was somewhere... but what is the value for these two?
```    --set license='&lt;licenseKey&gt;' \
    --set baseUrl='&lt;baseURL&gt;' \```

---

**David Noland** (2024-08-21 04:33):
For license key, it's available for all Rancher Prime customers in SCC as a subscription. If you need one for internal use only, it's *WLJWJ-5V5CF-NR1FA (ref (https://suse.slack.com/archives/C079ANFDS2C/p1722538334616699))*

---

**Alejandro Bonilla** (2024-08-21 04:41):
and the base url?

---

**Alejandro Bonilla** (2024-08-21 04:41):
Where can partners get the key too?

---

**David Noland** (2024-08-21 04:41):
AFAIK tech preview is only for Rancher Prime customers.

---

**Alejandro Bonilla** (2024-08-21 04:43):
Thanks - I'll wait to hear back on the baseURL

---

**David Noland** (2024-08-21 04:44):
I'm guessing baseURL is similar to server url in Rancher. The URL end users will access the UI from, as well as the agents.

---

**David Noland** (2024-08-21 04:46):
According to the docs (my guess above seems to be correct):
https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/kubernetes_install#generate-values.yaml
&gt; The `&lt;STACKSTATE_BASE_URL&gt;`. The external URL for StackState that users and agents will use to connect. For example `https://stackstate.internal`. If you haven't decided on an Ingress configuration yet, use `http://localhost:8080`. This can be updated later in the generated file.

---

**David Noland** (2024-08-21 04:49):
If you have a partner that is seriously interested, perhaps @Mark Bakker or @David Stauffer can see about getting them set up.

---

**Remco Beckers** (2024-08-21 08:08):
&gt; I'm guessing baseURL is similar to server url in Rancher. The URL end users will access the UI from, as well as the agents.
That's indeed correct.

---

**Vladimir Iliakov** (2024-08-21 09:14):
&gt; Hey, if you have sometime, I like to screen share to show you how I have set it up
Yeah, might be faster this way.

---

**Zia Rehman** (2024-08-21 09:36):
Hi everyone, I'll be developing an e-learning course on StackState observability and would greatly appreciate your insights. Could you please share your thoughts on the key areas and topics that should be covered, as well as which aspects to emphasize? Additionally, I would welcome guidance on designing the ideal demonstration environment to ensure we can cover a wide range of scenarios effectively.
Thank you in advance for your support!

---

**Andreas Prins** (2024-08-21 09:37):
Hi Zia, that is really good to hear. I would probably be good if we jump on a call together.

---

**Andreas Prins** (2024-08-21 09:37):
I can make 1PM today NL time.

---

**Andreas Prins** (2024-08-21 09:38):
I think I can answer most answers

---

**Zia Rehman** (2024-08-21 09:38):
that would be great

---

**Zia Rehman** (2024-08-21 09:40):
Thanks Andreas! Should I send you a google meet invite?

---

**Andreas Prins** (2024-08-21 10:21):
yes please do!

---

**anupama.upadhyayula** (2024-08-21 10:23):
I’d like to join as well. I notice the same issue.

---

**Vladimir Iliakov** (2024-08-21 10:39):
@anupama.upadhyayula you also get `unsupported protocol scheme` error?
```2024-08-20 14:29:46 UTC | CORE | ERROR | (pkg/forwarder/worker.go:183 in process) | Error while processing transaction: error while sending transaction, rescheduling it: Post ".....": unsupported protocol scheme ""```

---

**Lars Marowsky-Bree** (2024-08-21 10:50):
Who can tell me more about how those subscription keys work? :slightly_smiling_face:

---

**Louis Lotter** (2024-08-21 11:43):
@Frank van Lankvelt and @Mark Bakker knows the most about it atm. We have done some recent improvements and It's something that we want to iterate on .

---

**Frank van Lankvelt** (2024-08-21 11:56):
I don't know anything about subscription keys or how license keys are made available to Rancher Prime users.  Or which keys have been generated and distributed before.
I do know how to generate new license keys with specific expiry dates and how they are validated - but I doubt that this is what you are looking for.

---

**anupama.upadhyayula** (2024-08-21 11:59):
I’m sorry my bad. I added an incorrect baseURL. its working fine for me. I exposed the service via ingress and once I installed stackstate agent on a different downstream, its active.

---

**Lars Marowsky-Bree** (2024-08-21 12:09):
@Frank van Lankvelt That _is_ actually what I'm looking for, thanks. I'll ping you via DM :slightly_smiling_face:

---

**José Guilherme Vanz** (2024-08-21 16:53):
I have a standalone Stackstate instance running and I'm trying to send data to it of my application using OpenTelemetry. However, I'm little confuse how it work. In the documentation I can read:

```<otlp-stackstate-endpoint> with the OTLP endpoint of your StackState. If, for example, you access StackState on play.stackstate.com the OTLP endpoint is otlp-play.stackstate.com. So simply prefixing otlp- to the normal StackState url will do.```
This `otlp-stackstate-endpoint` is used in the OpenTelemetry collector in the cluster running my app. It looks like that is a dedicated url to receive the Optel data. Am I right? If so, what's the service I should expose in my standalone stackstate cluster to allow the optel collector send data to it? I was inspecting the `stackstate-k8s`  chart and noticed there is a configuration to enable the OpenTelemetry (`opentelemetry.enable` ) in the  values file. Should I enabled it to make the optel integration works? Sorry, I could not find any further information on how to get the optel endpoint for standalone installation in the docs.

---

**José Guilherme Vanz** (2024-08-21 16:55):
I have another question about how the integration works as well.  Reading the Optel collector installation from the `stackstate-k8s` chart, it looks to me that optel collector running in my app cluster will send data to the stackstate optel collector. Is that right?

---

**José Guilherme Vanz** (2024-08-21 17:01):
Thanks for the feedback. I'll share more details about what I was trying to achieve later. Sorry, I'm trying to focus on making my app works with stackstate.

---

**Vladimir Iliakov** (2024-08-21 17:07):
I assume you followed this doc https://docs.stackstate.com/open-telemetry/collector. As far as I can see this for Saas offering of Stackstate.
I don't know if this officially released for the self-hosted installations, but I can provide you with the extra values you can use to enable opentelemetry support

---

**José Guilherme Vanz** (2024-08-21 17:10):
Yes, I was following this docs. But I'm playing with the Optel configuration because my Helm chart already have  a optel collector configured as sidecar. Therefore, I've copied some of the configurations for my sidecar collector. I appreciate if you can share some values files to make it work with self-hosted scenarios. :slightly_smiling_face:

---

**Vladimir Iliakov** (2024-08-21 17:13):
This is what we use in Saas
```stackstate:
  experimental:
    traces: true
opentelemetry-collector:
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer (http://cert-manager.io/cluster-issuer): letsencrypt-prod-hosted
      kubernetes.io/ingress.class (http://kubernetes.io/ingress.class): ingress-nginx-external
      nginx.ingress.kubernetes.io/ingress.class (http://nginx.ingress.kubernetes.io/ingress.class): ingress-nginx-external
      nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): 50m
      nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC
    hosts:
      - host: otlp-test.example.com (http://otlp-test.example.com)
        paths:
          - path: /
            pathType: Prefix
            port: 4317
    tls:
      - hosts:
          - otlp-test.example.com (http://otlp-test.example.com)
        secretName: otel-ecc-tls
clickhouse:
  enabled: true
  replicaCount: 1
opentelemetry:
  enabled: true```
We rely on letsencrypt and certmanager to provision certificates for Ingress, it might be different for your environment.

---

**Vladimir Iliakov** (2024-08-21 17:16):
This is the ingress resource created by these valaues. If they don't work for you, maybe due to different Ingress cotroller, you may want to create it yourself. The main point a backend service uses GRPC- &gt; `nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC`
```apiVersion: networking.k8s.io/v1 (http://networking.k8s.io/v1)
kind: Ingress
metadata:
  annotations:
    cert-manager.io/cluster-issuer (http://cert-manager.io/cluster-issuer): letsencrypt-prod-hosted
    kubernetes.io/ingress.class (http://kubernetes.io/ingress.class): ingress-nginx-external
    nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC
    nginx.ingress.kubernetes.io/ingress.class (http://nginx.ingress.kubernetes.io/ingress.class): ingress-nginx-external
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): 50m
  name: stackstate-otel-collector
  namespace: stackstate-play
spec:
  rules:
  - host: otlp-play.stackstate.com (http://otlp-play.stackstate.com)
    http:
      paths:
      - backend:
          service:
            name: stackstate-otel-collector
            port:
              number: 4317
        path: /
        pathType: Prefix
  tls:
  - hosts:
    - otlp-play.stackstate.com (http://otlp-play.stackstate.com)
    secretName: play-otel-ecc-tls```

---

**José Guilherme Vanz** (2024-08-21 19:28):
Thanks! I'll take a look on it

---

**David Noland** (2024-08-23 17:54):
Not sure if product management saw this (https://suse.slack.com/archives/C02AYV7UJSD/p1724357591999819?thread_ts=1723576587.310769&amp;cid=C02AYV7UJSD) and is aware, but the Rancher Observability subscriptions are causing problems for some customers (or at least one) and they are requested them to be removed.

---

**Jeroen van Erp** (2024-08-23 18:04):
Pretty sure we're not following <#C02AYV7UJSD|>. Thanks for pointing it out. I think this will only be a temporary problem, as once we're past tech preview the license will take on the same end-date as the customer's prime subscription

---

**David Noland** (2024-08-23 18:07):
I guess part of the point here is customers have been "gifted" a subscription to Rancher Observability, but it has not been communicated what it is. Seems potentially like we are missing an opportunity to promote it.

---

**Giovanni Lo Vecchio** (2024-08-23 18:15):
Hey Team,
I created a Rancher cluster with StackState on top.
I received the following error during the UI configuration phase.

Do you have any ideas?

---

**Giovanni Lo Vecchio** (2024-08-23 18:17):
The StackState URL is not secure, I didn’t use certificates in the lab.
I executed the sts commands thanks to the “--skip-ssl” flag.

---

**Jeroen van Erp** (2024-08-23 18:20):
Yes, I thought we were actually starting out with a select set of customers, but I understood that everyone got it instead. Not sure what happened thee. Maybe @Andreas Prins, you could comment there?

---

**Jeroen van Erp** (2024-08-23 18:21):
The ui extension will only work with a secured StackState, courtesy of some rancher extension limitations

---

**Jeroen van Erp** (2024-08-23 18:22):
Also ensure that you created the service token as specified in the docs, dont use the api token

---

**Giovanni Lo Vecchio** (2024-08-23 18:22):
I did it

```sts service-token list --url https://stackstate.18.201.136.148.sslip.io --api-token isD6h81T8Jwim67X44SF3Cm3Ag911xSk --skip-ssl
ID             | NAME                        | EXPIRATION | ROLES                                                                                           
89769269771950 | rancher-prime-observability |            | [stackstate-k8s-troubleshooter]```

---

**Jeroen van Erp** (2024-08-23 18:24):
Great! Then it's the ssl part that's missing

---

**Giovanni Lo Vecchio** (2024-08-23 18:24):
I think so…

---

**Giovanni Lo Vecchio** (2024-08-23 18:25):
There won’t even be a button to “simulate” the behavior of the --skip-ssl flag?

---

**Jeroen van Erp** (2024-08-23 18:27):
AFAIK the proxy endpoint we use in rancher translates all requests to ssl proxied requests to StackState,and there's no way to ask it to http

---

**Giovanni Lo Vecchio** (2024-08-23 18:28):
Being in the same cluster, couldn’t it make sense to call the svc via internal dns?

---

**Jeroen van Erp** (2024-08-23 18:31):
All requests for data (also StackState data) come from the rancher ui. So in order to conform to cors we need to hit the proxy in rancher to trick the browser

---

**Jeroen van Erp** (2024-08-23 18:32):
The javascripts all live in the rancher ui, so they cannot call to other endpoints afair

---

**Giovanni Lo Vecchio** (2024-08-23 18:47):
Ok so the only solution is to have HTTPS with certificate, correct?

---

**Jeroen van Erp** (2024-08-23 18:49):
Yes, though I could check with the Rancher ui team whether we can do anything there for the future

---

**Giovanni Lo Vecchio** (2024-08-23 18:51):
OK, thanks a lot!
With the Harvester and NeuVector extensions we don’t have these constraints

---

**Jeroen van Erp** (2024-08-23 19:06):
I’d have to open them up (code-wise) to see how/what we can improve then :wink:

---

**Giovanni Lo Vecchio** (2024-08-23 19:09):
Ok, I’ll keep the point and ask you later then! Thanks again! :partygeeko:

---

**Jeroen van Erp** (2024-08-23 19:11):
No problem!

---

**Anthony Tortola** (2024-08-23 23:04):
I got further, I am able to register the cluster and I can see it in the StackState UI, but when I try to setup the Observability UI extension, it tell in a big red error connection failed.  Don't know which log to look for the error

---

**Yingluo Zhang** (2024-08-26 11:27):
Hi  Team ,Do we have any technical Sildes about Stackstate that we can show to  the customer?

---

**rutger.dendaas** (2024-08-26 11:29):
What do you mean by technical slides? What would you like to discuss?

---

**Yingluo Zhang** (2024-08-26 11:31):
These are slides about the architecture, principles, features, and so on regarding Stackstate.

---

**Andreas Prins** (2024-08-26 12:09):
good question, the architecture, and a structured feature overview is not par tof the deck, we can certainly do that. @rutger.dendaas you can probably talk @Yingluo Zhang through the existing deck and discover where the gaps are? Happy to work on a few additional slides

---

**Andreas Prins** (2024-08-26 12:09):
@Yingluo Zhang you can also perfectly use the website when it comes down to features, I use that very often: https://www.stackstate.com/product/platform/

---

**rutger.dendaas** (2024-08-26 12:23):
Do you have the standard presentation @Yingluo Zhang?

---

**rutger.dendaas** (2024-08-26 12:23):
I recently shared it with the team in China

---

**Yingluo Zhang** (2024-08-26 12:27):
Thanks  for your reply ，I will ask China Team to got the Standard Presentation.

---

**rutger.dendaas** (2024-08-26 13:27):
Let me know if you need anything else or if you’re mssing something.

---

**rutger.dendaas** (2024-08-26 13:27):
I’m uploading the slidedeck, but its uploading slow. So, its coming :wink:

---

**rutger.dendaas** (2024-08-26 13:38):
Here you can find the slidedeck Yingluo

---

**Steve McBride** (2024-08-28 09:46):
Hi Team,  I'm installing observability into SA demo platform, after few attempts to get it working i'm being told there is an SaaS platform for StackState I can connect to?  - I'm struggling to find any how to docs on this.  If anyone has any info on this that can be shared that would be great.  Thanks!

---

**Louis Lotter** (2024-08-28 11:26):
@Ravan Naidoo @Jeroen van Erp would you guys be able to help out here ?

---

**Ravan Naidoo** (2024-08-28 11:30):
@Mark Bakker What is the time line for getting internal users a Saas instance?

---

**José Guilherme Vanz** (2024-08-28 14:55):
@Bram Schuur I'm studing how to integrate Kubewarden project with Stackstate. I've wrote a little document with some ideas. If you are curious, you can read it and make comments: https://docs.google.com/document/d/190S-aQg2nkKGDrVmmKHnjHyNrOk5po376AIzmXyOw1E/edit?usp=sharing

---

**George Yao** (2024-08-28 15:02):
Hi expert, customer is interested in Stackstate capability, as customer wants to their business team use stackstate to monitor their own applications, so the question is if StackState able to support multi-tenant function, which means the business team will only see their own applications on StackState UI.

---

**George Yao** (2024-08-28 15:09):
And one more question, if StateStack supports to audit kubernetes event?

---

**Bram Schuur** (2024-08-28 15:38):
Cc @Mark Bakker

---

**Bram Schuur** (2024-08-28 15:38):
Thanks for sharing  @José Guilherme Vanz

---

**AJ Galiana** (2024-08-28 21:41):
Is SUSE Observability Tech Preview access available for AWS Cloud Marketplace purchase Customers? Looks like my Customer does not have the preview listing in SCC and I am thinking it may be related since the rest of their Subscriptions don't typically show here either

---

**Anthony Tortola** (2024-08-28 23:12):
Do we know if we support Stackstate agent running in a RKE2 cluster with Windows Worker nodes?  In my lab, it cant pull down images like container-tools

---

**Mark Bakker** (2024-08-29 10:44):
@Ravan Naidoo just had a talk to Steve, his problem was the big pvc’s we define by default. I advised to make them a 10th of the default and configure only a day of retention.
At the moment the team is working in smaller default profiles for smaller workloads as soon as those are ready we will also share them on the docs.
The SaaS instances are currently focussed on community users and we do not (yet) offer a SaaS for Prime users. This will only be offered if there is enough demand.

---

**Mark Bakker** (2024-08-29 10:45):
Windows worker nodes are not supported.
If there is enough demand we will add it to the roadmap.

---

**Mark Bakker** (2024-08-29 10:46):
Hi AJ,

The preview is not available on the market place. All customers should have the entitlement on SCC, @David Noland can you check this customer?

---

**Mark Bakker** (2024-08-29 10:47):
StackState stores all Kubernetes events for a defined retention period. Is that what your are asking?
The default is 14 days.

---

**Mark Bakker** (2024-08-29 10:50):
Hi George Yao,

StackState has the ability to set fine grained RBAC (https://docs.stackstate.com/self-hosted-setup/security/rbac) which can use labels to set permissions to view certain parts of the environment.
This is not a direct mapping to the roles and mappings as they are defined in Rancher, we plan to work on this in a future release.
I have to add to this that this only is applicable to the components as shown in StackState.
There is no protection for Traces and Metrics exploration ATM.

---

**Lars Marowsky-Bree** (2024-08-29 11:40):
Are we doing comparisons of our own offering to the rest of the market? -&gt; :thread:

---

**Lars Marowsky-Bree** (2024-08-29 11:41):
e.g., there's a few OSS solutions mentioned on https://www.reddit.com/r/selfhosted/comments/1f3vyw6/openobserve_is_it_good/, and openobserve makes some very strong claims on their comparative costs and space efficiency ...

---

**Mark Bakker** (2024-08-29 13:19):
Hi Lars, yes we do, I however do not have a comparison ready agains OpenObserve. Did you run into this question at a prospect/ customer?

---

**Lars Marowsky-Bree** (2024-08-29 14:14):
@Mark Bakker No, just a community question

---

**Lars Marowsky-Bree** (2024-08-29 14:16):
SigNoz similarly seems quite active, showing a clear hectic market in the OSS space

---

**Mark Bakker** (2024-08-29 14:20):
Yes indeed, I am aware of them

---

**José Guilherme Vanz** (2024-08-29 14:30):
I have a testing enviroment with STS and Kubewarden working. I can see the metrics and traces exported to STS! :party_blob:

---

**José Guilherme Vanz** (2024-08-29 14:31):
I have a question about an warning message that I can see in the OTEL collectors:
```2024-08-29T12:25:57.426Z    warn ststopologyexporter@v0.0.0/exporter.go:58   Skipping resource without necessary attributes  {"kind": "exporter", "data_type": "metrics", "name": "ststopology", "service.name": "unknown_service:manager", "telemetry.sdk.language": "go", "telemetry.sdk.name": "opentelemetry", "telemetry.sdk.version": "1.28.0", "k8s.cluster.name": "kubewarden2"}```
What that means?

---

**George Yao** (2024-08-29 15:16):
Hi Mark, Thanks for your reply. I think what customer wants to see is when there is a rancher user with "application owner" role login to Rancher, and go to StackState UI. This user only can see his own overview,topology and events of Kubernetes resources in the namespace belong to his application. If this is planed to add in future release will be very cool to customer.

---

**Anthony Tortola** (2024-08-29 15:18):
Anyway we can add some type nodeselector to avoid trying to start the pods on windows? I got through the agent install by cordening the windows server

---

**George Yao** (2024-08-29 15:19):
yes, correct, this is what customer is asking.

---

**Mark Bakker** (2024-08-29 15:25):
This is indeed planed for future releases

---

**David Noland** (2024-08-29 16:51):
AFAIK, only customers with active Rancher entitlements were given the Observability subscription (license) codes. According to SFDC, Luiqidnet Rancher entitlements (https://suse.lightning.force.com/lightning/r/Account/0011i00000vMSBTAA4/related/Entitlements/view) are expired. @David Stauffer Do you have more details on which customers were given subscription codes?

---

**AJ Galiana** (2024-08-29 16:59):
They definitely have active Rancher entitlements (via the Cloud Marketplace). I have another customer that their entitlements look just the same in SFDC with no preview in SCC for them. Thanks for investigating David and David

---

**gaetan.trellu** (2024-08-29 18:42):
I'm trying to setup stackstate but many of my pods can't start because of `to create fsnotify watcher: too many open files`

---

**gaetan.trellu** (2024-08-29 18:43):
```prime-observability-stackstate-k8s-slicing-7dbccbdf8f-dglht server-init to create fsnotify watcher: too many open files
I0829 12:42:53.424805   16306 request.go:697] Waited for 1.140620519s due to client-side throttling, not priority and fairness, request: GET:https://127.0.0.1:6443/api/v1/namespaces/stackstate/pods/prime-observability-stackstate-k8s-state-7bcf4f8df6-hvrmb/log?container=server-init&amp;follow=true&amp;sinceSeconds=172800&amp;timestamps=true
- prime-observability-stackstate-k8s-state-7bcf4f8df6-hvrmb › server-init
prime-observability-stackstate-k8s-state-7bcf4f8df6-hvrmb server-init to create fsnotify watcher: too many open files
- prime-observability-stackstate-k8s-sync-5dfbc9d679-kpt9l › server-init
prime-observability-stackstate-k8s-sync-5dfbc9d679-kpt9l server-init to create fsnotify watcher: too many open files
- prime-observability-stackstate-k8s-topic-create-20240829t1crs9s › kafka-topic-create-init
prime-observability-stackstate-k8s-topic-create-20240829t1crs9s kafka-topic-create-init to create fsnotify watcher: too many open files
- prime-observability-stackstate-k8s-ui-7756944bbf-flhwg › ui
prime-observability-stackstate-k8s-ui-7756944bbf-flhwg ui to create fsnotify watcher: too many open files
- prime-observability-stackstate-k8s-ui-7756944bbf-flhwg › exporter
prime-observability-stackstate-k8s-ui-7756944bbf-flhwg exporter to create fsnotify watcher: too many open files
- stackstate-elasticsearch-master-0 › elasticsearch
stackstate-elasticsearch-master-0 elasticsearch to create fsnotify watcher: too many open files
- stackstate-elasticsearch-master-0 › configure-sysctl
stackstate-elasticsearch-master-0 configure-sysctl to create fsnotify watcher: too many open files
- stackstate-vmagent-0 › vmagent-init
stackstate-vmagent-0 vmagent-init to create fsnotify watcher: too many open files
- stackstate-zookeeper-0 › zookeeper
stackstate-zookeeper-0 zookeeper to create fsnotify watcher: too many open files```

---

**gaetan.trellu** (2024-08-29 18:43):
Following the non HA setup

---

**gaetan.trellu** (2024-08-29 18:43):
```opensuse@rancher01:~&gt; kubectl get pods -o wide -n stackstate -w
NAME                                                              READY   STATUS     RESTARTS        AGE   IP            NODE        NOMINATED NODE   READINESS GATES
prime-observability-hbase-hbase-master-0                          0/1     Init:0/1   2               12m   10.42.0.251   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hbase-rs-0                              0/1     Init:0/1   2               12m   10.42.0.253   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hdfs-dn-0                               0/1     Pending    0               12m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hdfs-nn-0                               1/1     Running    9 (111s ago)    12m   10.42.0.7     rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-tephra-0                                0/1     Init:0/1   2               12m   10.42.0.248   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-kafkaup-operator-kafkaup-59f846ff6c-tdv45     1/1     Running    1 (2m30s ago)   12m   10.42.0.254   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-prometheus-elasticsearch-exporter-6496t5vcs   1/1     Running    1 (2m30s ago)   12m   10.42.0.9     rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-api-86c5878bbd-wbdbd           0/1     Init:1/2   1               12m   10.42.0.4     rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-checks-8ccf7bb47-qwbfv         0/1     Init:0/3   2               12m   10.42.0.6     rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-correlate-5d8746b679-l5fxt     0/1     Init:0/1   2               12m   10.42.0.16    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-e2es-6cbf6d55d-h7w5r           0/1     Init:0/1   2               12m   10.42.0.15    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-health-sync-66546496dd-6vjbk   0/1     Pending    0               12m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-initializer-6cfbf7958c-r68rz   0/1     Init:0/2   2               12m   10.42.0.11    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-notification-cd8d9f7d9-bmfz4   0/1     Pending    0               12m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-receiver-5f855b85f6-9xnlv      0/1     Pending    0               12m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-router-7b68b47cff-vcr74        1/1     Running    2 (107s ago)    12m   10.42.0.10    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-slicing-7dbccbdf8f-dglht       0/1     Init:0/2   2               12m   10.42.0.2     rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-state-7bcf4f8df6-hvrmb         0/1     Init:0/3   2               12m   10.42.0.14    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-sync-5dfbc9d679-kpt9l          0/1     Init:0/3   2               12m   10.42.0.12    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-topic-create-20240829t1crs9s   0/1     Init:0/1   2               12m   10.42.0.17    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-ui-7756944bbf-flhwg            2/2     Running    2 (2m30s ago)   12m   10.42.0.8     rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-elasticsearch-master-0                                 1/1     Running    1 (2m30s ago)   12m   10.42.0.13    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-kafka-0                                                0/2     Pending    0               10m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
stackstate-victoria-metrics-0-0                                   0/1     Pending    0               12m   &lt;none&gt;        &lt;none&gt;      &lt;none&gt;           &lt;none&gt;
stackstate-vmagent-0                                              0/1     Init:0/1   2               12m   10.42.0.3     rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-zookeeper-0                                            1/1     Running    1 (2m30s ago)   12m   10.42.0.5     rancher01   &lt;none&gt;           &lt;none&gt;```

---

**gaetan.trellu** (2024-08-29 18:49):
Maybe adding this to the documentation might help (of course tweak the values)

---

**gaetan.trellu** (2024-08-29 18:50):
``` 1009  sudo sysctl -w fs.inotify.max_user_watches=2099999999
 1010  sudo sysctl -w fs.inotify.max_user_instances=2099999999```

---

**Jeroen van Erp** (2024-08-29 18:52):
I think we once had that in, not sure where it went

---

**gaetan.trellu** (2024-08-29 19:04):
The `prime-observability-hbase-hdfs-nn-0` keeps crashing.
```prime-observability-hbase-hdfs-nn-0                              0/1    CrashLoopBackOff  6 (5s ago)   5m48s  10.42.0.31  rancher01  &lt;none&gt;          &lt;none&gt;```

---

**gaetan.trellu** (2024-08-29 19:05):
But the probes are not too happy :smile:

---

**gaetan.trellu** (2024-08-29 19:05):
```  Warning  Unhealthy  6m43s (x5 over 7m23s)  kubelet            Liveness probe failed: Get "http://10.42.0.31:50070/": dial tcp 10.42.0.31:50070: connect: connection refused
  Warning  Unhealthy  6m43s (x9 over 7m23s)  kubelet            Readiness probe failed: Get "http://10.42.0.31:50070/": dial tcp 10.42.0.31:50070: connect: connection refused
  Warning  Unhealthy  6m32s                  kubelet            Readiness probe failed: Get "http://10.42.0.31:50070/": context deadline exceeded (Client.Timeout exceeded while awaiting headers)```

---

**gaetan.trellu** (2024-08-29 19:19):
I had to bump the VM from 32GB to 64GB of memory :smile:

---

**José Guilherme Vanz** (2024-08-29 19:20):
After installing and testing STS in its self-hosted version, I'm testing the Rancher Prime version. However, I cannot login with admin. I got a "Not allowed" response. Is this expected? Should I use Rancher UI only?

---

**gaetan.trellu** (2024-08-29 19:37):
Everything is up and running \o/
```opensuse@rancher01:~&gt; kubectl get pods -o wide -n stackstate -w
NAME                                                              READY   STATUS    RESTARTS        AGE     IP            NODE        NOMINATED NODE   READINESS GATES
prime-observability-hbase-hbase-master-0                          1/1     Running   0               10m     10.42.0.100   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hbase-rs-0                              1/1     Running   0               39m     10.42.0.81    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hdfs-dn-0                               1/1     Running   6 (19m ago)     39m     10.42.0.57    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-hdfs-nn-0                               1/1     Running   0               22m     10.42.0.90    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-hbase-tephra-0                                1/1     Running   4 (10m ago)     39m     10.42.0.79    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-kafkaup-operator-kafkaup-59f846ff6c-tqv8t     1/1     Running   1 (19m ago)     39m     10.42.0.72    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-prometheus-elasticsearch-exporter-6496h26lk   1/1     Running   1 (19m ago)     39m     10.42.0.80    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-api-86c5878bbd-jwww9           1/1     Running   1 (6m38s ago)   39m     10.42.0.97    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-checks-8ccf7bb47-6ddfr         1/1     Running   0               39m     10.42.0.99    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-correlate-5d8746b679-rbwp2     1/1     Running   1 (13m ago)     39m     10.42.0.91    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-e2es-6ccd56d4d4-wnmqt          1/1     Running   0               3m11s   10.42.0.102   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-health-sync-66546496dd-kjzkl   1/1     Running   0               39m     10.42.0.89    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-initializer-6cfbf7958c-rkqw5   1/1     Running   1 (9m43s ago)   39m     10.42.0.78    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-notification-6b7946b5b9r7tqh   1/1     Running   0               96s     10.42.0.103   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-receiver-5f855b85f6-8477s      1/1     Running   2 (13m ago)     39m     10.42.0.92    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-router-7b68b47cff-hwt62        1/1     Running   2 (18m ago)     39m     10.42.0.74    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-slicing-7dbccbdf8f-kxx4b       1/1     Running   0               39m     10.42.0.87    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-state-5585f85d7d-gwkx2         1/1     Running   0               12s     10.42.0.104   rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-sync-5dfbc9d679-nvgsw          1/1     Running   0               39m     10.42.0.98    rancher01   &lt;none&gt;           &lt;none&gt;
prime-observability-stackstate-k8s-ui-7756944bbf-cpjmt            2/2     Running   2 (19m ago)     39m     10.42.0.88    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-elasticsearch-master-0                                 1/1     Running   1 (19m ago)     39m     10.42.0.77    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-kafka-0                                                2/2     Running   1 (18m ago)     39m     10.42.0.93    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-victoria-metrics-0-0                                   1/1     Running   1 (19m ago)     39m     10.42.0.83    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-vmagent-0                                              1/1     Running   1 (19m ago)     39m     10.42.0.85    rancher01   &lt;none&gt;           &lt;none&gt;
stackstate-zookeeper-0                                            1/1     Running   1 (19m ago)     39m     10.42.0.84    rancher01   &lt;none&gt;           &lt;none&gt;```

---

**gaetan.trellu** (2024-08-29 19:38):
• Increase `fsnotify`
• Increase VM memory to 64Gb
• Delete most of the `liveness` and `readiness` probes

---

**Jeroen van Erp** (2024-08-29 20:51):
Good learnings! How much cpu was allotted to the machine?

---

**David Noland** (2024-08-30 17:39):
@AJ Galiana I did a little more investigation on this. @Hernan Schmidt was the contact that set the subscriptions. You may want to check with him (maybe in the <#C02AYV7UJSD|> channel)

---

**gaetan.trellu** (2024-09-03 16:05):
Running StackState for the past 5 days (pretty fun so far). I noticed the `fleet-agent` being considered `deviating`, any reason why?

---

**gaetan.trellu** (2024-09-03 16:07):
No reason why its deviating

---

**Ovidiu Boc** (2024-09-03 16:31):
cc @Mark Bakker

---

**Vladimir Iliakov** (2024-09-03 16:32):
I think the ports in the service and the pod/s don't match

---

**Vladimir Iliakov** (2024-09-03 16:33):
@gaetan.trellu check the configurations of the service and the corresponding pod.

---

**Vladimir Iliakov** (2024-09-03 16:39):
Go to "SHOW CONFIGURSTION" and find `ports` sections for both containers and copy/paste them here.
And then do the same for the deviating servce

---

**gaetan.trellu** (2024-09-03 16:39):
No `ports` section

---

**gaetan.trellu** (2024-09-03 16:47):
These pod/service are created automatically by Rancher when creating/importing a cluster.

---

**Vladimir Iliakov** (2024-09-03 16:53):
StackState considers it as a deviation. For the most of the scenarios K8s services should have available backends. May worth asking Fleet developers, what is the purpose of this K8s service...

---

**Alejandro Ruiz** (2024-09-03 17:04):
hi folks :wave: so StackState will consider any pod without ports as a deviation?

---

**Alejandro Ruiz** (2024-09-03 17:05):
in this case, the fleet-agent acts as a "consumer" for some data that is retrieved from the upstream cluster, then acts on the installed cluster (installing other Kubernetes workloads, Fleet is Rancher's GitOps solution)

---

**Vladimir Iliakov** (2024-09-03 17:06):
For this case it considers K8s service in the deviated state because the service's endpoint doesn't have live/available backends (pods).

---

**Alejandro Ruiz** (2024-09-03 17:06):
there is no service

---

**Alejandro Ruiz** (2024-09-03 17:06):
only Deployment -&gt; pod

---

**Jeroen van Erp** (2024-09-03 17:07):
@Alejandro Ruiz Hi, no it actually in this case considers a `Service` resource deviating, because the service has no active pods servicing it

---

**gaetan.trellu** (2024-09-03 17:08):
@Alejandro Ruiz `fleet-agent` service gets created during provisioning/importing

---

**Alejandro Ruiz** (2024-09-03 17:08):
oh, I don't have a service in my local installation :confused_dog:

---

**Alejandro Ruiz** (2024-09-03 17:09):
maybe this service is new in Fleet 0.10

---

**gaetan.trellu** (2024-09-03 17:09):
I provisioned a cluster from Rancher Prime 2.9.1 onto Harvester last week to check if everything was fine.

---

**Jeroen van Erp** (2024-09-03 17:09):
I need to check the exact check it does, it could indeed be a port mis-cnfiguration given that I see a pod in your screenshot

---

**gaetan.trellu** (2024-09-03 17:12):
@Alejandro Ruiz https://github.com/rancher/fleet/blob/main/charts/fleet-agent/templates/service.yaml

---

**Alejandro Ruiz** (2024-09-03 17:13):
thanks all, I'll check with the team

---

**Alejandro Ruiz** (2024-09-03 17:13):
indeed a new `Service` resource was added since 0.10.X, but `fleet-agent` does not expose any ports

---

**Vladimir Iliakov** (2024-09-03 17:14):
It seems that purpose of this headless service is a DNS entry and not forwarding traffic to the pods.

---

**Jeroen van Erp** (2024-09-03 17:15):
We can improve the service monitor if this is a common pattern

---

**Alejandro Ruiz** (2024-09-03 17:16):
correct, that was the motivation:
https://kubernetes.io/docs/concepts/services-networking/service/#headless-services

---

**Alejandro Ruiz** (2024-09-03 17:18):
Fleet 0.10 switched from `Deployment` to `StatefulSet`, which needs an accompanying Service (https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetSpec)
&gt; serviceName is the name of the service that governs this StatefulSet. This service must exist before the StatefulSet, and is responsible for the network identity of the set. Pods get DNS/hostnames that follow the pattern: pod-specific-string.serviceName.default.svc.cluster.local where "pod-specific-string" is managed by the StatefulSet controller.

---

**Alejandro Ruiz** (2024-09-03 17:19):
so I think this is a legitimate case

---

**emil.dangov** (2024-09-04 06:52):
Hi all, I would like to ask if we are planning to have another rounds of webinars in the next couple of months. I have checked https://www.stackstate.com/webinars-events/, but no info there. I have several people from my team, that will be interested to participate and will be beneficial for them, since the one (https://www.youtube.com/watch?v=ZZ-tDXb78co) I attended was really well executed and gave me a good insight of the StackState capabilities.
Thanks

---

**Genevieve Cross** (2024-09-04 08:39):
Hi @emil.dangov - Yes, we are in the process of building out the webinar strategy. I will share this information as soon as it is available.

---

**Jeroen Storm** (2024-09-04 12:13):
Hi @emil.dangov if there is an urgency for organising a session sooner, just let me know. I will see how I can best support you.

---

**emil.dangov** (2024-09-04 12:19):
May be we can put a survey to check how many volunteers we might have. From my side I have 3 or 4 persons.

---

**AJ Galiana** (2024-09-05 20:48):
Do we have any content for a comparison against Datadog Container Monitoring request I have from a Customer ? I know a battle-card request was also asked on Rancher-Product Management channel but wanted visibility here with little traction there. Thanks

---

**Oliver Ries** (2024-09-05 23:27):
@Mark Bakker ^

---

**Andreas Prins** (2024-09-06 07:42):
coming Wednesday we have the observability all hands, although we don't have a demo/workshop like we had last time, it will contain a lot of new slides and information

---

**Mark Bakker** (2024-09-06 08:28):
Hi @AJ Galiana I have to create the battlecard. I can do that mid next week will that be in time?

---

**AJ Galiana** (2024-09-06 15:37):
Yes, that will work. Thank you Mark

---

**Yingluo Zhang** (2024-09-09 04:25):
Hi team, our customers want to know if we have any new updates regarding how StackState integrates with RancherPrime, how StackState is priced, and other related information. Thanks.

---

**Andreas Prins** (2024-09-09 07:51):
Hi Yingluo, this information is available, we'll share that in the company wide learning coming Wednesday, but I'm absolutely certain that @Jeroen Storm or one of his team members can talk you through as soon as they wake up :sunny:

---

**Jeroen Storm** (2024-09-09 08:25):
Good morning Yingluo, I will connect you with @rutger.dendaas who can talk you trough latest. As soon as he is behind his laptop, he will connect.

---

**Yingluo Zhang** (2024-09-09 08:30):
Thanks for your reply @Andreas Prins ,Tomorrow afternoon`(China Standard Time, UTC+8)`, I will have a workshop with our customer(`BMW Brilliance Automotive Ltd. A058385`). They are already subscription customers of RancherPrime and Harvester, and they are very interested in StackState. so they want to know more detailed information about product integration and sales.:smile:

---

**Jeroen Storm** (2024-09-09 08:36):
Nice &amp; good to hear we have their interest. Rutger can talk about sales &amp; product positioning. If you have need 'more technical dept' please let us know, so we can make sure we have an SE on the call.

---

**Yingluo Zhang** (2024-09-09 08:41):
Thanks  a lot @Jeroen Storm , At this stage, the customer is only interested in understanding the upcoming integration plan between StackState and RancherPrime, as well as the product positioning and sales model.

---

**Wilco van der Stek** (2024-09-09 14:14):
Hi,

I hope this is the right channel, is there a way to enable the stackstate ui extension in Rancher via curl?

---

**Mark Bakker** (2024-09-09 14:17):
Hi Wilco there is via the tech-preview (see pinned message), soon (hours/ days) away we will have the 1.0 release. If you watch this channel instructions for the 1.0 release including the UI extension will follow soon!

---

**Wilco van der Stek** (2024-09-09 14:18):
Sorry, I see I changed the line too much, I meant via curl, thanks for the rapid answer...

---

**Mark Bakker** (2024-09-09 14:21):
Good question, for that I do not have the answer.

---

**Mark Bakker** (2024-09-09 14:22):
I guess someone else knows, @Jeroen van Erp do you know?

---

**Jeroen van Erp** (2024-09-09 21:17):
It's a helm Chart install. Should work the same as other Ui extensions

---

**Zia Rehman** (2024-09-10 10:15):
Hi all, I have installed Stackstate in my 2 node cluster, All the pods are running fine in prime-observability namespace. Then I have done the port-forwarding for `prime-observe-stackstate-k8s-router`  service and logged in with admin credential. Then I got instruction to install stackstate agents and I ran the commands and all the pods are running fine in stackstate namespace. Also I have enabled the extension and added the repository but there was no deployment with the name `ui-plugin-operator` in the namespace `cattle-ui-plugin-system`  created. Also under the available extension I am not getting the observability extension. And I can't get any information fetched in my stackstate UI. Please let me know where I am doing wrong and how can I resolve this issue. Thanks.

---

**gordon.allen** (2024-09-10 10:21):
@Martin Wolf is the leader of the SUSE / BMW relationship. Adding as a collaborative FYI

---

**rutger.dendaas** (2024-09-10 10:23):
I’ve discussed the situation with Yingluo directly btw. So, let me know if you have any additional questions.

---

**Jeroen Storm** (2024-09-10 10:24):
thanks @gordon.allen! I will make sure Martin is informed.

---

**gordon.allen** (2024-09-10 10:25):
Thanks Jeroen :ok_hand::skin-tone-3:

---

**Yingluo Zhang** (2024-09-10 10:35):
Thanks again  @rutger.dendaas ,your information is very helpful for our customer, @Jeroen Storm (`BMW Brilliance Automotive Ltd. A058385`)   and `BMW AG A039316` are two separate companies, but they are closely related.:smile:

---

**gordon.allen** (2024-09-10 10:38):
I am aware that these are different entities @Yingluo Zhang, but it makes sense to collaborate with each other to share and leverage information on the same global group organisation

---

**Andreas Prins** (2024-09-10 10:47):
Hi colleagues, we're slowly releasing new materials:

Below two documents that you can use to answer questions, both are stored on 2 locations, just what you prefer, the content on both locations is identifcal.

Sales Questions &gt; to be used in a customer or prospect engagement
• Image Relay link - SUSE Observability - Sales Questions - https://suse.imagerelay.com/folders/2419079#assets/171107777
• Highspot Sales questions - https://suse.highspot.com/items/66df6959373aff3c0a77fce9?lfrm=srp.0
FAQ on SUSE Observability, to be used for your own knowledge.
• Image Relay Link  FAQ - https://suse.imagerelay.com/folders/2419079#assets/171107778 (edited) 
• Highspot FAQ - SUSE Observability FAQ (https://suse.highspot.com/items/66df695eb0a4e937cec9605d?lfrm=srp.1)

---

**Ovidiu Boc** (2024-09-10 10:55):
Apparently we need access for highspot and image relay. Or at least I don’t have the apps associated with my account. Where do we ask for them?

---

**Andreas Prins** (2024-09-10 10:58):
create a ticket? Image relay you don't need, but highspot is an amazing resource to find so much learning materials.

---

**Emma Orsi** (2024-09-10 14:19):
Happy to make those resources available on the product management google site if it helps

---

**Ovidiu Boc** (2024-09-10 15:06):
Yes, please. Thank you @Emma Orsi :raised_hands:

---

**Chris Menendez** (2024-09-10 19:39):
Hey Mark, let us know whenever you get this completed - I know a lot of people in the field have been asking for this! Thanks

---

**John Pugh** (2024-09-10 21:33):
Everyone has image relay access. Look in the B2C area of Okta.

---

**John Pugh** (2024-09-10 21:33):
No need to make additional sites for them, please as they will likely become out of date quickly.

---

**David Noland** (2024-09-11 07:18):
I'm in the process of moving Hosted Rancher from SLES 15 SP5 to SLES 15 SP6. The stackstate-k8s-agent-node-agent pods are in a CrashLoopBackOff. Is there a known issue with SP6? See thread for logs.

---

**David Noland** (2024-09-11 07:21):
Current state of all stackstate pods:
```$ kubectl get pods -n stackstate
NAME                                                  READY   STATUS             RESTARTS        AGE
stackstate-k8s-agent-checks-agent-5dc6c7767c-cf2hr    1/1     Running            0               15m
stackstate-k8s-agent-cluster-agent-7df985558f-4h6j7   1/1     Running            0               17m
stackstate-k8s-agent-logs-agent-nm7dz                 1/1     Running            0               21m
stackstate-k8s-agent-logs-agent-t7kbz                 1/1     Running            0               21m
stackstate-k8s-agent-node-agent-6pgq5                 1/2     Error              8 (5m31s ago)   21m
stackstate-k8s-agent-node-agent-xmwfq                 1/2     CrashLoopBackOff   8 (30s ago)     21m```

---

**David Noland** (2024-09-11 07:23):
SP5 was on kernel `5.14.21-150500.55.73-default`. SP6 is `6.4.0-150600.23.17-default`. not sure if that matters

---

**Paul Gonin** (2024-09-11 07:33):
Highspot being a SaaS solution, it has a (high?) subscription cost and access is limited
Image Relay is a place where content is available to all

---

**Paul Gonin** (2024-09-11 07:34):
@Ovidiu Boc you need to open okta and look for okta b2c, from there you will find Image Relay

---

**Ovidiu Boc** (2024-09-11 07:59):
Much appreciated @Paul Gonin, found it. Thanks

---

**Bram Schuur** (2024-09-11 08:50):
This issue was resolved a while back, could you try a helm upgrade?

---

**Matthieu Fatrez** (2024-09-11 10:23):
I'm trying to deploy StackState in my lab. but I have issue the api token.
I have this in my values.yaml
```# Source: stackstate-values/templates/valuegenerator.yaml
# Your StackState admin password is: EHIypAiJelIUZWjp
# Your StackState admin API password is: yMrK01SHboKs6mdc```
run this
```curl -o- https://dl.stackstate.com/stackstate-cli/install.sh | STS_URL="https://stackstate.mon-lab.lan" STS_API_TOKEN="yMrK01SHboKs6mdc" bash```
and the result is :
```✅ Saved context: 'default'```
When I try to create the api token, I have this error
```# sts service-token create --name rancher-prime-observability --roles stackstate-k8s-troubleshooter --service-token stackstate-k3s-mini
❌ Could not connect to https://stackstate.mon-lab.lan/api: invalid api-token
For more information: https://l.stackstate.com/cli-invalid-api-token```
And the page https://l.stackstate.com/cli-invalid-api-token no longer exist

---

**Remco Beckers** (2024-09-11 10:25):
Can you try the last comand again but without the `--service-token` argument? So like this:
```sts service-token create --name rancher-prime-observability --roles stackstate-k8s-troubleshooter```

---

**Matthieu Fatrez** (2024-09-11 10:27):
same error

---

**Matthieu Fatrez** (2024-09-11 10:27):
and same for sts license show

---

**Louis Parkin** (2024-09-11 10:29):
@Remco Beckers I think the API token and API password are different things..

---

**Remco Beckers** (2024-09-11 10:29):
I see now that you're using the password as the `STS_API_TOKEN` in the installation command, but the API token used there will never be the password. The idea is to copy/paste the `curl` command from this page: https://stackstate.mon-lab.lan/#/cli. It will contain the api token and will be different from the password.

---

**Remco Beckers** (2024-09-11 10:29):
@Louis Parkin Indeed. I just noticed that as well

---

**Louis Parkin** (2024-09-11 10:29):
:thumbs-up:

---

**Matthieu Fatrez** (2024-09-11 10:43):
and one last thing about the ssl part. How to deal with selfsigned certifcates?

---

**Remco Beckers** (2024-09-11 11:28):
I think the Rancher UI extension requires a valid certificate so it won't handle self-signed certificates. Maybe @Jeroen van Erp or @Anton Ovechkin can confirm this?

---

**Remco Beckers** (2024-09-11 11:30):
For the agent and cli I believe there are flags to disable the tls verification entirely but I don't know them right now. Alternative (and preferable) is to add the self signed certificate to the system certificate store such that the agent and CLI trust the self signed certificate.

---

**Louis Parkin** (2024-09-11 11:31):
I know it won't handle http... unsure about self-signed

---

**Anton Ovechkin** (2024-09-11 11:35):
I wish I can confirm that but I only can point out the difference in the executed command with the one I used: there was `--api-token` parameter in mine

---

**Remco Beckers** (2024-09-11 13:22):
On the agent helm chart you can set `global.skipSslValidation` to `true` to disable any certificate validation. And the StackState cli has a `--skip-ssl` flag on all commands.

---

**Zia Rehman** (2024-09-11 15:59):
Hi all, I am deploying stackstate on my local system, hence I have modified some values in the values.yaml file and added  ingress information in the file as well.  All the pods, services etc are running fine. But when I access the stackstate through ingress it prompted for username and password, I put the credentials and after that it is in Loading Stackstate.. stage.  I have also added the repository though which we should get the observability extension but after adding the repo no new namespace is created nor the deployment as mentioned in the docs, can someone guide me please and let me know how I can resolve this issue.

---

**Bridget Fitzsimons** (2024-09-11 16:07):
Happening now! Our SUSE Fundamentals on Observability. Join here - https://www.google.com/url?q=https://meet.google.com/oec-bawi-jhc&amp;sa=D&amp;source=calendar&amp;ust=1726487797480747

---

**Ovidiu Boc** (2024-09-11 17:08):
Might be helpful to watch some the videos here: https://www.youtube.com/@stackstate8010/playlists?view=1&amp;sort=dd&amp;shelf_id=3

---

**Matthieu Fatrez** (2024-09-11 18:18):
How to deal with this error :
```2024-09-11 16:16:16 UTC | CLUSTER | ERROR | (pkg/forwarder/worker.go:179 in process) | Too many errors for endpoint 'https://stackstate.mon-lab.lan/receiver/stsAgent/intake/?api_key=***************************4MeWS-XDty': retrying later
2024-09-11 16:16:16 UTC | CLUSTER | ERROR | (pkg/forwarder/worker.go:179 in process) | Too many errors for endpoint 'https://stackstate.mon-lab.lan/receiver/stsAgent/api/v1/series?api_key=***************************4MeWS-XDty': retrying later```

---

**Matthieu Fatrez** (2024-09-11 18:23):
where is the replay please?

---

**Jeroen van Erp** (2024-09-11 18:24):
Hi Matthieu, there should be an error somewhat higher that shows something different

---

**Bridget Fitzsimons** (2024-09-11 19:39):
I’m just waiting for it to be ready, but I will share it as soon as it is!

---

**David Noland** (2024-09-11 20:53):
Bumped to helm chart version to 1.0.96 and that appears to have fixed the problem. Thanks!

---

**Remco Beckers** (2024-09-12 09:37):
Hi. StackState not loading after trying to login usually happens because some of the pods, specifically the api, didn't start up correctly.

Can you check the status of the StackState pods and see if they are all Running and Ready? Some possible causes are that your local system doesn't have enough memory or cpu available for StackState or that there is a startup issue which should result in errors in the pod logs.

---

**Remco Beckers** (2024-09-12 09:38):
For the extension I can only say the only thing that really matters is whether you can see the `Observability` extension now in the Rancher Extensions UI (under the `Available` tab). But the extension will not work as long as you have StackState not up and running. So I would first focus on that.

---

**Mark Bakker** (2024-09-12 09:47):
*Hello ECM and wider SUSE Community,*

*We are thrilled to announce the availability of SUSE Observability 1.0*! Building on the success of our previous tech preview release, this version brings even more power and flexibility to your Kubernetes environments, ensuring comprehensive visibility and control across everything managed by *Rancher Manager*.

SUSE Observability 1.0 is available as an *on-premises solution*, making it an ideal choice for organizations of any size. With its intuitive interface and robust feature set, users can easily monitor, troubleshoot, and optimize their infrastructure and workloads to maintain high availability and top-tier performance.

Key features include:
• *Enhanced Monitoring*: Complete visibility into your clusters and their workloads with detailed metrics, logs, and traces.
• *Proactive Issue Detection*: Stay ahead of potential issues before they impact your operations.
With the updated branding, *SUSE Observability 1.0* reflects our ongoing commitment to delivering cutting-edge solutions for your observability needs. We have now fully transitioned from the tech preview stage, and the support channels are in place, ready to assist.

Customers can reach out via *SCC*, and internally, we will keep a close eye on the *<#C079ANFDS2C|>* channel.

For those who participated in the tech preview, we want to extend our thanks for your valuable feedback, which helped shape this final release.

We encourage all users to install the new version of SUSE Observability and continue exploring its expanded capabilities.

Please note that there is *no upgrade path* from the Tech Preview to the new SUSE Observability 1.0.

For internal use, you can continue using the license key: *WLJWJ-5V5CF-NR1FA*.

An open issue is that the final license keys are not yet available. The trial key will remain valid and can be found in the *SCC*. A new key, valid for the duration of the SUSE Rancher Prime contract, will be made available later and can be updated in place.

If you have any questions or need support, please connect with us in the *<#C079ANFDS2C|>* channel. As always, we value your input as we continue to refine and improve our offerings.

You can find the *documentation to get started here (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime)*. This is also linked from the SUSE Rancher documentation site.

*Upcoming features:*
• More profiles for smaller environments
• Integration with Rancher RBAC system
• A roadmap to support all features of the current Rancher Monitoring V2, including a guide for migration
• Integration with other ECM products
Thank you for your continued support!

Best regards,
Mark Bakker
Product Manager
SUSE Observability

On behalf of the entire *ECM*, *SUSE Observability Team*, and the wider ECM team that supported us in the past weeks to reach this point.

---

**Andreas Prins** (2024-09-12 10:03):
Thank you team for pushing this forward in the last 60 days!

---

**Bridget Fitzsimons** (2024-09-12 10:43):
:greencrystal_heart:Thank you to everyone who joined us for our SUSE Fundamentals session on Observability yesterday!:greencrystal_heart: The replay (https://drive.google.com/file/d/1L1IbVgOBs-tyTHlUw9StAzLFOmaRi2Ct/view?usp=sharing), transcript (https://docs.google.com/document/d/1fwjUhsPKCt_tPiJYgmUX4O5JDLsVIowhM0YcVXJDjKM/edit?usp=sharing) and slides (https://drive.google.com/file/d/1zaxHs6LPdt7ToDNLTablKJP6nXuoUN5d/view?usp=sharing) are now available. The FAQ (Image Relay (https://suse.imagerelay.com/folders/2419079#assets/171107778) &amp; Highspot (https://suse.highspot.com/items/66df695eb0a4e937cec9605d?lfrm=srp.1)) and sales questions (Image Relay (https://suse.imagerelay.com/folders/2419079#assets/171107777) &amp; Highspot (https://suse.highspot.com/items/66df6959373aff3c0a77fce9?lfrm=srp.0)) links are also available, as is the SUSE Observability demo environment (https://play.stackstate.com/). Don't forget to get in touch with the team @Andreas Prins, @Eni Kurteshi, @Jeroen Storm, @Mark Bakker, @Jeroen van Erp &amp; @Orlin Vasilev if you have any questions. Thank you for such a fun session with such great questions and conversation and keep an eye out for our next SUSE Fundamentals sessions invites.

---

**Zia Rehman** (2024-09-12 12:38):
Hi Remco, all the pods are in ready and running state, I checked the logs from `prime-observe-stackstate-k8s-api-66f595df94-z8fnj`  pod and didn't find any errors. Sharing the screenshot. Yes there is resource issue that why I edited the values.yaml file and reduce the resource request for most of the pods.

---

**Remco Beckers** (2024-09-12 13:02):
Ok. That's all the easy causes excluded

---

**Remco Beckers** (2024-09-12 13:06):
There are a few things we can check:
1. Did you use the ingress values config from the StackState helm chart, if not did you configure the `router-service` for the ingress?
2. Does your ingress controler (or any reverse proxy/load balancer in between your browser and StackState) support websockets, because StackState opens a websocket at this point in loading
3. If all of the above are ok, you can open the developer tools and reload the page to see (in the network tab) which requests are failing or hanging.
If you prefer we can also set up a call to check together

---

**Zia Rehman** (2024-09-12 13:26):
Yeah, a call would be a good option. Please let me know your preferred time I will send you a google meet link.

---

**Remco Beckers** (2024-09-12 13:27):
I can do any time in the next 3 hours

---

**Zia Rehman** (2024-09-12 13:28):
Sorry, I miss read it.

---

**Zia Rehman** (2024-09-12 13:29):
Now or in few mins which is fine by you?

---

**Remco Beckers** (2024-09-12 13:29):
Yeah that's ok

---

**Jeroen van Erp** (2024-09-12 14:23):
Yes, that's the problem indeed. There's a switch to ignore tls in the agent installation. You should be able to find that in the values file and the docs. I'd have to search for it when I'm at my laptop

---

**Matthieu Fatrez** (2024-09-12 17:45):
I have set the global.skipSslValidation to true at the agent layer but not better.
is this the correct switch?

---

**Jeroen van Erp** (2024-09-12 17:48):
It should be. @Mark Bakker Could someone from the team give some guidance/assistance here?

---

**Mark Bakker** (2024-09-12 18:00):
That should indeed be the one, and with that it stil does not work? cc @Louis Parkin

---

**Louis Parkin** (2024-09-12 18:04):
Depends which agent. That switch exists for all agent deployments, so 3 at least. Please check under nodeAgent, clusterAgent, and checksAgent.

From the log above, it appears to be the cluster agent. Is that the one you updated to skip validation @Matthieu Fatrez ?

---

**Matthieu Fatrez** (2024-09-12 19:41):
I set the global one, not the 3 specifics agents

---

**Matthieu Fatrez** (2024-09-12 19:45):
I will run this :
```helm upgrade --install \
--namespace stackstate \
--create-namespace \
--set-string 'stackstate.apiKey'='QIo83gb60C40cAHn4om1gSgEQdaEHYbz' \
--set-string 'stackstate.cluster.name'='infra-kube-intel' \
--set-string 'stackstate.url'='stackstate.mon-lab.lan/receiver/stsAgent' \
--set clusterAgent.skipSslValidation=true \
--set nodeAgent.skipSslValidation=true \
--set checksAgent.skipSslValidation=true \
stackstate-k8s-agent stackstate/stackstate-k8s-agent```

---

**Jeroen van Erp** (2024-09-12 20:52):
Different error now, it complains about a missing protocol. The URL should contain `https`

---

**Louis Parkin** (2024-09-12 21:08):
--set-string ‘stackstate.url’=‘https://stackstate.mon-lab.lan/receiver/stsAgent’

---

**Matthieu Fatrez** (2024-09-13 08:57):
It's working, many thanks

---

**Mark Bakker** (2024-09-13 09:42):
@Louis Parkin is this some documentation we need to update?

---

**Louis Parkin** (2024-09-13 09:44):
Not sure. Last time this happened to me I wasn’t following directions. It comes down to the URL you give the platform when starting it up, it will echo that URL in your agent installation setup, and it was missing the protocol. Garbage in, garbage out.  We can double check the rancher docs we released last month?

---

**Martin Piala** (2024-09-13 12:24):
hey, is this true or just not updated documentation?
https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements#supported-versions

&gt; *Supported versions*
&gt; *Kubernetes:* 1.21 to 1.28
1.28 is getting EOL soon…

---

**Mark Bakker** (2024-09-13 12:58):
This is not updated docs, see https://docs.stackstate.com/get-started/k8s-quick-start-guide

---

**Mark Bakker** (2024-09-13 12:59):
@Remco Beckers can you update this?

---

**David Noland** (2024-09-13 17:23):
The first line of the quickstart is:
&gt; When your SUSE Observability SaaS instance has been set up and configured, you will receive an email from SUSE Observability with the required login details.
Does this initial GA include SaaS?

---

**Alejandro Bonilla** (2024-09-17 05:33):
Two questions...
• Is there a way to ignore a "Change"? Looks like a node has a metadata change every few minutes and adds unnecessary changes to the list.
• ~Do we plan on reporting/alerting on expired Certificates?~ That's Killer #1 - and STS caught it ~after it happened, not~ before~.~

---

**Alejandro Bonilla** (2024-09-17 06:24):
Looks like it did report it a week before...
```Triggered time
Sep 9, 19:03:17```
Where would I have to be in the UI, between Sept 9 and Sept 16th to have caught that warning? hhmm perhaps in the `Monitors` tab? :shrug: or how would I have caught my Rancher TLS Certificate was to expire?

---

**Jeroen van Erp** (2024-09-17 06:33):
You'd see that in the secrets overview (certificates are just secrets with a specific type)

---

**Jeroen van Erp** (2024-09-17 06:34):
Monitors also of course.

And had you setup notifications you'd have had the warning in your favorite on call tool ;)

---

**Alejandro Bonilla** (2024-09-17 06:37):
Yeah, I don't think anyone wants to click on each category - although Secrets is a fairly common one. Yes, I'd have to enable Notifications

---

**Alejandro Bonilla** (2024-09-17 06:46):
talks to IT

---

**Jeroen van Erp** (2024-09-17 06:47):
Oops :sweat_smile:

---

**Jeroen van Erp** (2024-09-17 06:52):
You immediately notice now that Observability is not about looking at dashboards or listings. It's about knowing your systems are being monitored, and you being told where something is wrong, from which you can do an investigation and remediation. There's too much to look at and not enough screens :wink: (gets off soap box)

---

**Alejandro Bonilla** (2024-09-17 06:52):
yeah - let's see if they enable it. We might need to open a jira and if someone knows about it, perhaps worth doing so instead of me

---

**Edward Wooster** (2024-09-17 13:56):
I have a customer wanting pricing for non containerised workloads outside of Rancher Prime. When will this be available? After pricing now...

---

**Mark Bakker** (2024-09-17 14:00):
Hi Edward, can you elaborate a little bit more about the ‘outside Rancher Prime’ part?
What exactly do they want to monitor?

---

**Jeroen van Erp** (2024-09-17 14:08):
Given “non-containerised” I think this is enterprise @Mark Bakker?

---

**Jeroen van Erp** (2024-09-17 14:08):
But then still a valid question is, what do they exactly want to see

---

**Hugo de Vries** (2024-09-17 14:16):
The initial ask here would be pricing for a few hundred Rancher nodes, combined with vmware and Dynatrace integrations to cover about 5000 VM's with non-containerised workloads.

---

**Edward Wooster** (2024-09-17 14:17):
Thanks Hugo, exactly that! Hugo and @Meriem Ahmed-Wolters were both with me at JLR last week when this was raised

---

**Mark Bakker** (2024-09-17 14:21):
Currently we do not commercially offer this.
The current pricing would be 5.000 + the few hundred lets say 5.250 times Rancher Prime pricing + 20%.

---

**Mark Bakker** (2024-09-17 14:22):
I am aware this will not be attractive.

---

**Mark Bakker** (2024-09-17 14:23):
Let me discuss this case next week within product management and I will come back on it.

---

**Hugo de Vries** (2024-09-17 14:26):
Is this 5250 x Rancher node price the Platform Optimization Add-On? I understood that would support the customer expanding outside Rancher with other available StackPacks?

---

**Hugo de Vries** (2024-09-17 14:29):
But anyway would be good to get pricing model and details clear for such blended landscapes with Rancher Prime as base but also coverage beyond that, which we will come across at most opportunities.

---

**Mark Bakker** (2024-09-17 14:32):
This is 250+5000 times Rancher Prime since we do not allow observability without Rancher Prime + 20% for the add-on.
The rationale is to not compete in Observability but only offer a complete Observability solution for Rancher Prime managed workloads.

---

**Mark Bakker** (2024-09-17 14:33):
cc @David Stauffer

---

**Edward Wooster** (2024-09-17 14:58):
@Steve McBride &amp; @Nelson Kinsford so you're aware and following this too given our meeting with JLR last week...

---

**Imogen Ashcroft** (2024-09-17 17:15):
Hi @Edward Wooster - use of the advanced functionality is likely to require Consulting.  Two Consultants from StackState are moving into my team, so let's discuss this aspect

---

**Edward Wooster** (2024-09-17 17:32):
Thanks Imogen!

---

**Edward Wooster** (2024-09-17 18:04):
@Mark Bakker, if you could keep us updated on your meeting next week that would be great. As you can see this is already relatively big, before considering the wider estate.

---

**Alejandro Bonilla** (2024-09-17 19:38):
IBM buys KubeCost

---

**Paul Gonin** (2024-09-17 19:41):
https://blog.kubecost.com/blog/ibm-acquisition-announcement/ (https://blog.kubecost.com/blog/ibm-acquisition-announcement/)

---

**Vinicius Neuhauss** (2024-09-17 22:32):
What about opencost? We have been listed as contributors.

---

**Peter Lees** (2024-09-18 02:22):
i could really use a battlecard this morning - is it available yet ?

---

**Remco Beckers** (2024-09-18 08:17):
They say this in the announcement:
&gt; *Commitment to open source*: IBM has been an amazing champion for open source, supporting numerous communities including Linux and Apache. We look forward to investing further in OpenCost and other CNCF projects.

---

**Mark Bakker** (2024-09-18 08:45):
Hi Peter, It’s not final yet, but you can use the version which I just shared with you.

---

**Mark Bakker** (2024-09-18 09:26):
Please note that SUSE Observability is not moving into the Monitoring of Monitoring space. This request seems to align with that direction, but it’s not our current focus for SUSE Observability or the Add-On.
While we do support technical integration with other observability solutions like Dynatrace, we don’t plan to fully support this type of observability approach. It requires custom configurations, and we are not promoting such customizations at this time, as they do not provide immediate, out-of-the-box value.
Our goal with SUSE Observability is to provide quick value by monitoring all workloads running on SUSE Rancher Prime, without needing to add external observability tools.
In the future, the Optimization Add-On will include cost management and automation features, which will be the key selling points. For now, it’s primarily focused on existing StackState customers.

---

**Edward Wooster** (2024-09-18 16:30):
Ive shared nothing with the customer yet this was just a follow up email and part of what they have responded with

---

**Edward Wooster** (2024-09-18 16:30):
This is regarding Jaguar Land Rover (FYI)

---

**Peter Lees** (2024-09-19 02:02):
Thanks Mark. Looking forward to the final version as well

---

**Peter Lees** (2024-09-19 02:32):
… is the battlecard just vs DataDog ? How about New Relic? ResHat  ?  others?

---

**Mark Bakker** (2024-09-19 08:53):
Those still need to be created, I am searching who this normally does at SUSE, I might do this, but it will take some time. Will update you.

---

**Andreas Prins** (2024-09-19 09:20):
Hi all, we're still working on this!

---

**Andreas Prins** (2024-09-19 09:20):
our aim is to come to a decent proposal to win the customer for a price that both like.

---

**Edward Wooster** (2024-09-19 09:25):
Smashing! Thanks Andreas, that’s great news. If you’re still able to come over Oct/Nov for the SLT meeting at JLR I’m sure this might come up again. Are we internally forecasting this to be ‘released’ at SKO, this year?

---

**Edward Wooster** (2024-09-19 09:25):
JLR totally understand this is a brand new acquisition for us!

---

**Peter Lees** (2024-09-19 09:49):
ok thanks.

hint - there’s no-one who normally does this: competitive analysis is extremely limited :(

---

**Andreas Prins** (2024-09-19 10:59):
hopefully much earlier :smile: As soon as a draft is ready I'll run it byy you late next week to see if it is reasonable

---

**Edward Wooster** (2024-09-19 11:12):
That's great, thanks Andreas. Looking forward to it :slightly_smiling_face:

---

**John Pugh** (2024-09-19 15:39):
The TMM team usually does this so I'd push it over to Robert S and get Jeroen van Erp to build it out

---

**Ted Jones** (2024-09-19 23:45):
Does anyone know if StackPacks still be supported moving forward? There are a lot of powerful integrations we could leverage there. I don't see them in the latest version of the docs. https://docs.stackstate.com/v/5.1/stackpacks/about-stackpacks

---

**Mark Bakker** (2024-09-20 10:40):
Hi Ted, at the moment we do not support external maintainers of StackPacks due too some (technical, support and documentation) limitations. In the future we do want to support this for on-prem deployments.

---

**Mark Bakker** (2024-09-20 10:41):
Do you have any particular integration in mind?

---

**Ted Jones** (2024-09-20 13:22):
Hi Mark… thanks for the response. I am focused on cloud, so the AWS integration is particularly important. We also have customers that already have Dynatrace, Datadog and Splunk in their landscape so that integration is appealing for them so they can easily integrate their Rancher environments with existing infrastructure.

---

**Mark Bakker** (2024-09-20 13:39):
The AWS integration is not working for the SUSE Observability product. It will be reworked into a OpenTelemetry based integration.

---

**Mark Bakker** (2024-09-20 13:40):
The Dynatrace and Splunk integrations do not offer a lot of value ATM without a lot of consultancy. We have them but we will not offer them ATM via SaaS

---

**Edward Wooster** (2024-09-20 14:08):
@Soham Som FYI, our discussion just now

---

**Ted Jones** (2024-09-20 14:09):
Thanks for the insights, Mark. Much appreciated!

---

**Jeroen van Erp** (2024-09-20 15:01):
Do you know the specific Kernel version?

---

**Hugo de Vries** (2024-09-20 15:03):
Hi Giovanni, We haven't tested StackState Agent on Rocky Linux before. Initially the error report landed at @Sandra Hoefling , she has asked the customer for kernel and Rocky Linux versions so they can add it to their support ticket.

---

**Hugo de Vries** (2024-09-20 15:05):
A ticket in the StackState Jira is created (https://stackstate.atlassian.net/browse/STAC-21765) and will be handled with high priority.

---

**Giovanni Lo Vecchio** (2024-09-20 15:05):
Okok, clear! Thank you all for the quick reply!

---

**Giovanni Lo Vecchio** (2024-09-20 15:05):
I’ll let you know the kernel version asap.

---

**Chris Menendez** (2024-09-20 15:47):
question - are we working (or if not, can we) on a table/matrix showing capabilities and functionality of current Prometheus/Grafana stack vs Stackstate/Prime Observability?

---

**Mark Bakker** (2024-09-20 16:18):
It’s on my todo list, but not yet started

---

**Chris Menendez** (2024-09-20 16:19):
sounds like we’re keeping you busy Mark :cowboy-cool-cry-mild-panic: thanks for the reply! looking forward to it

---

**Giovanni Lo Vecchio** (2024-09-20 16:26):
Below is the customer’s answer:
```[hccsadm@rke2-int-03-admin-worker-1 ~]$ uname -r
5.14.0-362.13.1.el9_3.x86_64
[hccsadm@rke2-int-03-admin-worker-1 ~]$ cat /etc/os-release
NAME="Rocky Linux"
VERSION="9.3 (Blue Onyx)"
ID="rocky"
ID_LIKE="rhel centos fedora"
VERSION_ID="9.3"
PLATFORM_ID="platform:el9"
PRETTY_NAME="Rocky Linux 9.3 (Blue Onyx)"
ANSI_COLOR="0;32"
LOGO="fedora-logo-icon"
CPE_NAME="cpe:/o:rocky:rocky:9::baseos"
HOME_URL="https://rockylinux.org/"
BUG_REPORT_URL="https://bugs.rockylinux.org/"
SUPPORT_END="2032-05-31"
ROCKY_SUPPORT_PRODUCT="Rocky-Linux-9"
ROCKY_SUPPORT_PRODUCT_VERSION="9.3"
REDHAT_SUPPORT_PRODUCT="Rocky Linux"
REDHAT_SUPPORT_PRODUCT_VERSION="9.3"```
_“Hi Giovanni,_
 
_We have already tested with below mentioned ‘Disable agent features’, with that error are not there. But we want these features to be enabled.”_

---

**Giovanni Lo Vecchio** (2024-09-20 16:28):
I guess the Jira you shared is not the same as SUSE... Do you think I can have access to monitor the case? Or do we proceed with the updates under this thread?

---

**Cyril Cuvier** (2024-09-23 10:23):
Hi team, do you have a. « Light » version of stackstate for a démo deployment ? I have a rke2 cluster based on EC2 instances on AWS and i would like to déploy stack state and link it to my RMS in order to démo the whole story. I have seen the requirements that are quite big for a démo only purpose.
Thanks

---

**rutger.dendaas** (2024-09-23 10:31):
If you want to demo StackState

---

**rutger.dendaas** (2024-09-23 10:32):
play.stackstate.com (http://play.stackstate.com)

---

**rutger.dendaas** (2024-09-23 10:32):
And perhaps an idea to involve @Meriem Ahmed-Wolters  in your conversation? She is the Sales Specialist for Observability in the French region

---

**Meriem Ahmed-Wolters** (2024-09-23 10:42):
Thank you Rutger! I have messaged Cyril now to see how I can help support.

---

**Cyril Cuvier** (2024-09-23 10:52):
I cannot Connect this environment to my rancher manager , I dont want to démo stack state as a standalone product I want to show the intégration within rancher manager

---

**Niel Bornstein** (2024-09-23 16:14):
IHAC that is using checkmk to monitor their edge deployment. Is there any integration or synergy with Rancher Observability?

---

**Peter Lees** (2024-09-24 03:32):
Hello folks, we have the chance to run a ~10minute demo at an Cloud Native &amp; DevOps event in about 4 weeks time. Do we have a good script/setup for a 10-minute introductory demo that will show the (unique?) impact &amp; value of  SUSE Observability to a sneior technical audience ?

---

**rutger.dendaas** (2024-09-24 07:33):
Hi Peter, I could walk you through our demo scenario if you like. Do you have time available next Wednesday? I’m available in CET time

---

**Jeroen Storm** (2024-09-24 09:41):
@Mark Bakker can we do this?

---

**Yingluo Zhang** (2024-09-25 08:53):
Hello StackState experts, this might be a very simple and basic question. In the overview chapter of our SUSE Observability documentation, when mentioning the SaaS mode, it states: `'When your SUSE Observability SaaS instance has been set up and configured, you will receive an email from SUSE Observability with the required login details.'`  but  I don’t seem to find the steps in our documentation on how customers can open or activate a SaaS instance. Am I not looking in the right place? Thank you

---

**Andreas Prins** (2024-09-25 09:01):
Hi Yingluo,

The frontend of the activation process is still work in progress. For now, please reach out to the specialist sales team, in this case @rutger.dendaas with the right information he will be able to create such an instance for a prospect. We need some details on where to create the instance and to whom to send the credentials.

Hopefully in a 6-8 weeks time we can do this through AWS Marketplace.

---

**Yingluo Zhang** (2024-09-25 09:04):
Thanks for your reply  @Andreas Prins, just a question:thumbs-up:

---

**Andreas Prins** (2024-09-25 09:04):
no worries

---

**Andreas Prins** (2024-09-25 09:04):
you're welcome

---

**Andreas Prins** (2024-09-25 09:05):
@Mark Bakker probably good to add a small sentence in the doc page that they should reach out to specialist sales team to get started

---

**Yingluo Zhang** (2024-09-25 09:07):
I have share some information about our New SUSE Observability, so our Rancher Prime install base customer just want to know about saas mode, but  just a  question, I will reply the customer,Thanks  again.:grin:

---

**Hugo de Vries** (2024-09-25 09:42):
Hi @Giovanni Lo Vecchio you might not have access to that Jira I shared indeed. The kernel and version numbers need to be added there. @Jeroen van Erp can do that for you. Other then that just apply your regular tools and process. Bottom line is that some work needs to be done to support Rocky Linux with our agent and prevent the issue this customer is running in to. This is being handled with high priority.

---

**Giovanni Lo Vecchio** (2024-09-25 11:40):
Hey Hugo! I had access to that Jira :white_check_mark:

---

**Giovanni Lo Vecchio** (2024-09-25 11:40):
Thank you for the update!

---

**Yingluo Zhang** (2024-09-25 18:24):
Hi Team,I’ve noticed in my demo environment that some Kubernetes resources have their health status displayed as “`unknown`”. such as `PV and Container,` Does this mean that StackState is unable to monitor these types of Kubernetes resources? Thank you.

---

**Jeroen van Erp** (2024-09-25 18:36):
That means that we have no out of the box monitors defined on these resources

---

**Yingluo Zhang** (2024-09-25 18:53):
Hi Team ，Another question regarding the SUSE Observability Agent:grin:: Our documentation mentions that `"The SUSE Observability version of the Agent also uses _*eBPF*_ as a lightweight way to monitor all your workloads and their communication. It also decodes the RED (Rate, Errors and Duration) signals for most of the common L7 protocols like TCP, HTTP, TLS, Redis, etc."` If a customer’s monitored Kubernetes cluster nodes are using an `older kernel version`, such as the `3.10` kernel version in CentOS 7.9, would this affect the Agent’s data collection? Thanks.

---

**Yingluo Zhang** (2024-09-25 18:54):
Thanks for your infomation .

---

**Peter Lees** (2024-09-26 01:57):
Hello Rutger, that would be good. Let me check the calendar for myself, @Lasith Haturusinha  and @Mikhail Nikitin

---

**Michael Bukva** (2024-09-26 04:45):
@Michael Bukva me too pls ;)

---

**Mark Bakker** (2024-09-26 09:39):
Hi Yinglue,

We do not support very old Kernel versions (which are long time out of support).
We do support Kernel 5.15 and above. We intent to support kernel 5.x but have some open issues on 5.0 - 5.15. Above 5.15 everything should work fine.
Some vendors might have their own patches might have negative effects. In most cases we fix those if we get support cases for them.

---

**Zia Rehman** (2024-09-26 17:11):
Hi all, one small query I have installed SUSE Observability and in some of the pods I am getting "`Unable to retrieve some image pull secrets (stackstate-pull-secret)`" ( 14 pods). Is there some changes need to be done in values.yaml file as it seems some changes had been made in the docs so may be some changes in the backend had also been done. Can anyone help me out how to get resolve through this issue.

---

**Alejandro Acevedo Osorio** (2024-09-26 17:18):
I think you need `suse-observability-pull-secret` instead of `stackstsate-pull-secret` over there

---

**Alejandro Acevedo Osorio** (2024-09-26 17:19):
Perhaps you can list the secrets
```kubectl get secrets -n suse-observability```

---

**Zia Rehman** (2024-09-26 18:37):
Yup, thsnks Alejandro. I'll do the changes.

---

**Zia Rehman** (2024-09-26 20:19):
The secret issue is resolved but now there is other issue in few pods, "`0/3 nodes are available: pod has unbound immediate PersistentVolumeClaims. preemption: 0/3 nodes are available: 3 Preemption is not helpful for scheduling`." But all the PV and PVC are bounded perfectly and I have setup longhorn as the default storage class. Do I need to some changes in storage class?

---

**David Noland** (2024-09-27 01:00):
When I go to Extensions on Rancher Prime v2.9.2, the description for Observability reads "Tech Preview". Since it's GA now, should the "Tech Preview" be removed?

---

**David Noland** (2024-09-27 01:02):
and maybe bump the version from 0.5.0 to 1.0 assuming the extension component matches with SUSE Observability 1.0 that we GA'd.

---

**Remco Beckers** (2024-09-27 09:28):
The next events in the list show that this warning was automatically resolved (the next event in the list is a `Scheduled` event). But the `vmagent-init` container is in a restart loop anyway.

The best things to check to fix this are the `status` of this container (including the `Reason` why it was stopped last time) and the container logs, and if there are any other pods that are not in a Ready state (vmagent depends on the victoriametrics pod for example)

---

**Mark Bakker** (2024-09-27 13:06):
Hi David good point I will make a story for this!

---

**David Noland** (2024-09-27 16:24):
sounds good, thanks

---

**Gabriel Lins** (2024-09-30 23:53):
Resolved!
Just to document here, I wrongly put two different URL to access the UI. One at the template generation step and another one in ingress_values.yaml file!

---

**Jeroen van Erp** (2024-10-01 08:14):
:thumbs-up: Glad you got that sorted out. The team already has a story for adding the ingress to the template generation process to prevent such a problem from occurring.

---

**Kovacs Lajos** (2024-10-01 11:40):
Hi everyone,
I would like to inquire about SUSE observability. My question is whether Observability will become a separate, subscription-based product (like Longhorn) after the tech preview, or will it be part of Rancher Prime, with Prime customers receiving this product as well?
Thanks!

---

**Jeroen van Erp** (2024-10-01 11:46):
Hi Lajos, There will be 2 main offerings:
1. SUSE Cloud Observability — An offering specifically targeted for the *community* Rancher users, only purchasable as a SaaS solution, and contains a limited subset of the full product’s functionality
2. SUSE Observability as a Rancher Prime capability — This offering is not procurable separately but rather available for every Rancher Prime customer and part of his standard Rancher Prime subscription
Next to that an add-on will be launched to the Rancher Prime subscription which is called the “Application Optimization Add-On” which contains extra (enterprise) functionality targeted to Application Optimization. This add-on will be available solely to Rancher Prime customers and is a top-up on top of their current subscription.

---

**Kovacs Lajos** (2024-10-01 12:16):
Hi Jeroen, thanks for the answer.

---

**Joel Endel** (2024-10-01 20:18):
Hi All,

We on the CSM team had previously heard that there was a node count Limit to what Stackstate/SUSE Observability could Handle. At Acquisition I believe that Number was 250 Nodes. We have several Enterprise clients we manage on the CSM team with larger environments than that. Is this node limit still the case or has anything changed? Thank you

---

**Gabriel Lins** (2024-10-01 20:27):
Continuing my stackstate journey... I'm trying to connect my agent to the stackstate, but getting `404 Not Found`on agent-logs pods. Below attached is the evidency

I tried install it specificing :8080 and without it, but got the same error

---

**Mark Bakker** (2024-10-02 09:14):
Hi Joel,

The limit still applies, however we can now handle 500 Nodes of 16Gb/4vCPU (2 times more).
And will continue to improve this in the upcoming quarters.

Regards,

Mark

---

**Andy Fitzsimon** (2024-10-02 11:46):
FYI OpenShift limits:  (someday)

---

**Mark Bakker** (2024-10-02 12:58):
@Andy Fitzsimon we are aware, thanks for sharing

---

**Lukasz Marchewka** (2024-10-02 14:19):
Hi, I want to promote the newest version of Suse Observability to playground servers https://play.stackstate.com/, it can cause some downtime there (probably 10 minuts). Do you have any objections ?

---

**Andreas Prins** (2024-10-02 14:20):
not from my side!

---

**Jeroen van Erp** (2024-10-02 14:21):
Go ahead :thumbs-up:

---

**Lukasz Marchewka** (2024-10-02 14:21):
I'm going to wait 20 minutes for your objections  and then deploy it

---

**Lukasz Marchewka** (2024-10-02 14:39):
no objections = promotion :slightly_smiling_face:

---

**Lukasz Marchewka** (2024-10-02 14:56):
@Mark Bakker can you confirm if everything is fine

---

**Gabriel Lins** (2024-10-02 15:42):
Hey all,
Since our trial license key has expired today, how should us proceed?

---

**Andreas Prins** (2024-10-02 15:55):
@Mark Bakker :eyes:

---

**Mark Bakker** (2024-10-02 15:58):
@Gabriel Lins which key are you using?

---

**Gabriel Lins** (2024-10-02 15:59):
```WLJWJ-5V5CF-NR1FA```

---

**Mark Bakker** (2024-10-02 15:59):
Let me look into it!

---

**Mark Bakker** (2024-10-02 16:01):
You can use this one which will be valid till 12/01/2024
4VRD5-QCWP3-T1VYA

---

**Mark Bakker** (2024-10-02 16:01):
The customers Trial keys also expire on that date and before that we will share new once for internal use and for our customers.

---

**Mark Bakker** (2024-10-02 16:02):
Be aware for internal use for the next week we have a new license key, I also pinned this message: '4VRD5-QCWP3-T1VYA'

---

**Gabriel Lins** (2024-10-02 16:02):
Thanks a lot, @Mark Bakker

---

**Nick Zhao** (2024-10-02 16:19):
hi team, do we have a feature for cost saving of public clouds users just like kubecost?

---

**Mark Bakker** (2024-10-02 16:20):
Not yet, but that's on the roadmap

---

**Mark Bakker** (2024-10-02 16:20):
Did you get a specific request?

---

**Paul Gonin** (2024-10-02 16:25):
I would use it for our own engineering public cloud costs :+1::skin-tone-5:

---

**Nick Zhao** (2024-10-02 16:26):
On the roadmap,  great! one of my customers has asked me about that.  what’s the release date? Can i have a look the road map? thx

---

**Joel Endel** (2024-10-03 15:45):
Thank you @Mark Bakker

---

**Anthony Tortola** (2024-10-03 18:52):
hi team, trying to setup a linux haproxy for stackstate and I can't seem to figure out what to put in haproxy.cfg.  I have the following in haproxy.cfg but the check never returns that the servers are up:

---

**Anthony Tortola** (2024-10-03 18:52):
frontend observe-stackstate
 bind *:8080
 mode tcp
 option tcplog
 default_backend observe-stackstate

---

**Anthony Tortola** (2024-10-03 18:52):
backend observe-stackstate
  mode tcp
  option tcplog
  option tcp-check
  balance roundrobin
  server stackstate-m1 172.16.180.111:8080 check
  server stackstate-m2 172.16.180.112:8080 check
  server stackstate-m3 172.16.180.113:8080 check
  server stackstate-w1 172.16.180.114:8080 check
  server stackstate-w2 172.16.180.115:8080 check

---

**Anthony Tortola** (2024-10-03 18:53):
I have set the ingress for my first three listed servers as hosts

---

**Jeroen van Erp** (2024-10-04 07:56):
Hi Anthony, it seems you've not added the protocol to the url in the agent configuration. It's missing the `http://` or `https://`

---

**Jeroen van Erp** (2024-10-04 11:09):
With what values did you deploy SUSE Observability? There’s a number of switches that need to be turned on for the apis and stores to be deployed and available

---

**Matthieu Fatrez** (2024-10-04 11:13):
from :
```➜  ~ helm ls -n prime-observability
NAME         	NAMESPACE          	REVISION	UPDATED                              	STATUS  	CHART                	APP VERSION
prime-observe	prime-observability	11      	2024-09-12 15:27:00.412658 +0200 CEST	deployed	stackstate-k8s-1.11.3	6.0.0-snapshot.20240815083601-master-bd8cfc5
➜  ~ helm get values prime-observe -n prime-observability```

---

**Jeroen van Erp** (2024-10-04 11:26):
@Remco Beckers Can you assist? I know we need to set `opentelemetry.enabled: true` and `clickhouse.enabled: true`, but I think you then also need to define a second ingress, correct?

---

**Remco Beckers** (2024-10-04 11:33):
It's indeed the 2 keys you mention and the Ingress that's documented here: https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-fo[…]e-observability-helm-chart (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-for-open-telemetry-traces-via-the-suse-observability-helm-chart)

---

**Remco Beckers** (2024-10-04 11:33):
The Otel collector needs to use this ingress (that supports GRPC) to ship data to SUSE Observability

---

**gaetan.trellu** (2024-10-04 12:48):
Is there a way to force the uninstall of an instance?

---

**gaetan.trellu** (2024-10-04 12:48):
```opensuse@rancher01:~&gt; /usr/local/bin/sts stackpack list-instances -n kubernetes-v2
ID              | STATUS         | VERSION                               | LAST UPDATED                                                                                                                                                     
29302665310144  | DEPROVISIONING | 1.0.17-master-10095-169769ec-SNAPSHOT | Fri Oct 4 06:47:21 2024 EDT ```

---

**gaetan.trellu** (2024-10-04 12:48):
But at some point it fails

---

**gaetan.trellu** (2024-10-04 12:48):
```29302665310144  | ERROR     | 1.0.17-master-10095-169769ec-SNAPSHOT | Thu Oct 3 14:29:12 2024 EDT ```

---

**Anthony Tortola** (2024-10-04 16:53):
@Jeroen van Erp Sorry, I remember missing that last time too, thanks for the help.

---

**Christopher Derasp** (2024-10-04 17:28):
Hello @Mark Bakker IHAC in the same predicament, key 8SHXD-YLPNT-8MTFA is valid until 31 oct as per SCC however the customer is reporting it has expired today, may I share the above key as well?

---

**Mark Bakker** (2024-10-07 14:31):
For anyone interested, just created this HackWeek project and love to see some engineers joining me: https://hackweek.opensuse.org/24/projects/ai-augmented-troubleshooting

---

**Louis Parkin** (2024-10-07 14:34):
Which AI will you be using @Mark Bakker?

---

**Mark Bakker** (2024-10-07 14:35):
Good question, Louis genAI and opensource so we can run on-prem.

---

**Mark Bakker** (2024-10-07 14:36):
But no other requirements yet. Would love to see SUSE AI to be the engine BTW :slightly_smiling_face:

---

**Frank van Lankvelt** (2024-10-07 14:45):
err, SUSE AI is not a model.  LLM or otherwise.  AFAIU it's only about making it easier to manage environment for training or serving models.  But as I've only seen/heard very brief hype noises, I might well be mistaken

---

**Mark Bakker** (2024-10-07 14:46):
Yeah, got that, I mean a model which can run on it.

---

**Mark Bakker** (2024-10-07 14:47):
The goal is to hack something together, choosing what to use is part of that :slightly_smiling_face:

---

**Louis Parkin** (2024-10-07 14:48):
@Mark Bakker have a look at https://ollama.com/

---

**Louis Parkin** (2024-10-07 14:48):
They have loads of pre-trained models (if that's what is needed)

---

**Louis Parkin** (2024-10-07 14:49):
Or we figure out how to train our own

---

**Mark Bakker** (2024-10-07 14:50):
Yeah I know

---

**Mark Bakker** (2024-10-07 14:51):
I don't think there is a need to train a model, using it should be enough

---

**Louis Parkin** (2024-10-07 14:51):
We can make an obeservability-llama :slightly_smiling_face:

---

**Mark Bakker** (2024-10-07 14:52):
I would suggest join the hackweek project and try to get more engineers enthusiast and we figure it out during hackweek.

---

**Louis Parkin** (2024-10-07 14:52):
I already joined like 18 minutes ago :slightly_smiling_face:

---

**Jeroen van Erp** (2024-10-07 15:07):
Suse ai uses ollama models ootb. If you want to learn more about what it is exactly (or what not) @Erin Quill is the source of a whole lot of knowledge

---

**gaetan.trellu** (2024-10-07 15:22):
Any idea on this?

---

**Mark Bakker** (2024-10-07 16:25):
@Alejandro Acevedo Osorio @Frank van Lankvelt any of you can help here?

---

**Frank van Lankvelt** (2024-10-07 16:47):
do you happen to have logs of the `api` pod?  (or the `server` pod if you're running non-ha)

---

**gaetan.trellu** (2024-10-07 16:49):
@Frank van Lankvelt o/

---

**Frank van Lankvelt** (2024-10-07 16:51):
when deprovisioning, all components created by the instance are deleted.  Could it be that there are many of those?

---

**gaetan.trellu** (2024-10-07 16:52):
The Kubernetes cluster where the stackstate agent was installed is not running/existing anymore

---

**Louis Lotter** (2024-10-07 17:05):
the latest lama model is probably our best bet.

---

**Louis Parkin** (2024-10-07 17:06):
@Louis Lotter these models are quite compute intensive.  But we'll likely want one of these two then

---

**Louis Parkin** (2024-10-07 17:08):
The drawback of 3.2 is the low parameter counts (1 billion and 3 billion respectively)

---

**Louis Parkin** (2024-10-07 17:08):
I can (with a reasonable user experience) run 7B and 8B models on my laptop.

---

**Frank van Lankvelt** (2024-10-07 17:11):
could you run a `sts topology-sync list` for old times' sake?

---

**Frank van Lankvelt** (2024-10-07 17:12):
do any of the components still linger?

---

**Frank van Lankvelt** (2024-10-07 17:13):
are any of the other stasckstate services logging errors?

---

**gaetan.trellu** (2024-10-07 17:14):
```ID              | NAME                            | IDENTIFIER                                                                         | STATUS   | COMPONENTS  | RELATIONS     | ERRORS                                                    
228179897859324 | Agent                           | urn:stackpack:stackstate-k8s-agent-v2:shared:sync:agent                            | Running  | +8690 -6539 | +27890 -24809 | 75    
40761852070356  | Container Sync                  | urn:stackpack:stackstate-k8s-agent-v2:shared:sync:containers-integration           | Running  | +786   -256 | +0       -0   | 0     
230188520009293 | Kubernetes - harvester-stallone | urn:stackpack:kubernetes-v2:instance:0dfb034b-686f-47ba-93b6-5b2b609e3e59:sync:kub | Running  | +2771 -1625 | +3586 -1825   | 40    
                |                                 | ernetes                                                                            |          |             |               |       
276299204821899 | Kubernetes - rke2-harv-291      | urn:stackpack:kubernetes-v2:instance:419c2985-b178-44c2-b323-78f3af9c5cf0:sync:kub | Deleting | +2054 -1173 | +4066 -2337   | 56    
                |                                 | ernetes                                                                            |          |             |               |       
117991713742650 | Kubernetes - smartgic-ca-east-1 | urn:stackpack:kubernetes-v2:instance:627e3131-7f69-4203-a919-e6d35c39a463:sync:kub | Running  | +1737  -188 | +3151  -292   | 10    
                |                                 | ernetes                                                                            |          |             |               |       ```

---

**gaetan.trellu** (2024-10-07 17:22):
Seeing this time to time

---

**gaetan.trellu** (2024-10-07 17:22):
```prime-observability-stackstate-k8s-sync-744dd7bbf5-j77pf sync 2024-10-07 15:22:10,820 ERROR com.stackstate.sync.syncservice.SyncServiceImpl - SyncService(relationWorker_0) is blocked for 824081 seconds```

---

**Frank van Lankvelt** (2024-10-08 08:45):
looks like the sync service - that persists topology in stackgraph - is stuck somehow.  You could try restarting it, if that doesn't help there may be something in the tephra logs.

---

**Frank van Lankvelt** (2024-10-08 08:46):
is this for a customer, or are you playing with / testing observability for other reasons?  I'm afraid resolving this issue will take a fair amount of time.

---

**Nick Zhao** (2024-10-09 12:44):
Is that a typo for memory request of 100 non-HA setup?  126.5 Gib

---

**Mark Bakker** (2024-10-09 12:46):
Hi Nick, I think so, let me check with the team. It looks odd.

---

**Mark Bakker** (2024-10-09 12:46):
cc @Alejandro Acevedo Osorio

---

**Alejandro Acevedo Osorio** (2024-10-09 12:52):
@Nick Zhao It's a typo indeed. Should be 51Gi ... I'll make a fix for it

---

**Gabriel Lins** (2024-10-09 22:33):
Hey! IHAC that are using New Relic, and since they are moving to the cloud, it will be very expensive.
However, they need comprehensive materials to make their own decision. Do we have any kind of materials to compete with that?

---

**Mark Bakker** (2024-10-10 15:39):
Hello all, something went wrong with the Licenses valid till 31 Oct. We will add new licenses to the SCC for SUSE Observability this week. (today or tomorrow).

---

**Mark Bakker** (2024-10-10 15:42):
Be aware we have an issue with the Trial Licenses added to SCC new Licenses valid till 31/1/25 will be added today or tomorrow.
If we need a license in the mean time you can still use the one in the pinned message:
4VRD5-QCWP3-T1VYA
This will be valid till 12/01/2024
The final licenses with proper end-dates will still follow.
Sorry for the inconvenience!

---

**gordon.allen** (2024-10-10 17:44):
Hi Mark. Hope you're well. Do I read and understand this correctly, we are extending the trial until January 2025?

---

**Mark Bakker** (2024-10-10 17:54):
No we are already in the GA period, only thing remaining for that is distributing the licenses. The license is for GA use but is a temp license until we can give the right entitlement for each customer. e.g. the correct enddate.

---

**gordon.allen** (2024-10-10 18:12):
I'm pleased that I asked! Thanks for the update Mark, that's really helpful

---

**gordon.allen** (2024-10-10 18:19):
Another q, as we are already in GA period, will anything seismic happen post 31st October at the conclusion of our 30/60/90 plan?

---

**Devendra Kulkarni** (2024-10-11 07:07):
IHAC INFOSYS LTD (https://suse.lightning.force.com/lightning/r/Account/0011i00000SJ3siAAD/view) trying to deploy SUSE Observability in an air-gapped setup, but the suse-observability-server pod is crashing with below loga:

---

**Alejandro Acevedo Osorio** (2024-10-11 09:29):
It seems like the `tephra` pod might have some issues starting ... is it a nonHa or Ha  installation?

---

**Devendra Kulkarni** (2024-10-11 12:43):
Its a non-ha installation 'trial' sizing profile specifically

---

**Devendra Kulkarni** (2024-10-11 12:44):
Log files have been uploaded here - https://suse.slack.com/archives/C079ANFDS2C/p1728623241068829 (https://suse.slack.com/archives/C079ANFDS2C/p1728623241068829)

---

**Devendra Kulkarni** (2024-10-11 13:19):
The logs for stackgraph pod are also attached

---

**Alejandro Acevedo Osorio** (2024-10-11 13:21):
In the file I just see
```kubectl logs -n suse-observability suse-observability-server-75bfb96464-79cnw
kubectl logs -n suse-observability suse-observability-hbase-tephra-0```

---

**Jarek Sliwinski** (2024-10-11 18:22):
Hi Guys. Were you able to install it successfully? I actually have similar issues like described in this thread. Have stackstate server deployed in dedicated cluster. Use ingress and have fresh Let’s encrypt certificate (my Rancher is also using let’s encrypt certs). Have access to the GUI, installed sts, generated service token but can’t register within Rancher in Rancher Prime Observability panel - got red `connection failed`. I also tried to deploy an agent on another cluster and in the logs can see `CLUSTER | ERROR | (comp/forwarder/defaultforwarder/transaction/transaction.go:116 in 4) | TLS Handshake failure: tls: failed to verify certificate: x509: certificate signed by unknown authority` Any ideas how to move forward?

---

**Gabriel Lins** (2024-10-11 18:23):
I have a customer who is using the Rancher community edition and is interested in Rancher Prime, specifically regarding the StackState subscription.
Currently, they use Datadog, and in my upcoming meeting—the first discovery session—I aim to understand more about their use of Datadog. It would be very important if we already had a comparison between the two.
Can someone tell me how we are addressing this kind of opportunity?
Thanks!

---

**Jeroen van Erp** (2024-10-11 18:56):
@Mark Bakker i think you have something, right?

---

**Anthony Tortola** (2024-10-11 18:56):
@Jarek Sliwinski You have to have a signed certificate that is not self signed.  I used LetEncrypt and generated a cert there

---

**Jarek Sliwinski** (2024-10-11 18:57):
hi that’s exactly what I’m using. I also use Let’s Encrypt

---

**Anthony Tortola** (2024-10-11 18:59):
did you add the certificate to the ingress service?

---

**Jarek Sliwinski** (2024-10-11 19:00):
going from web browser or curl cert is fine

---

**Anthony Tortola** (2024-10-11 19:01):
Sorry, thats what worked for me

---

**Mark Bakker** (2024-10-14 08:09):
Hi @Gabriel Lins I indeed have a draft (https://docs.google.com/document/d/14_NFcmmu33SnqFMRnoi0CIV2-kNnQB8pBL9wu8WHwsc/edit#heading=h.ypogocqytkw) available. I shared the doc with you.

---

**Gabriel Lins** (2024-10-14 14:54):
Thanks @Mark Bakker

---

**Jeroen Storm** (2024-10-14 14:55):
@Gabriel Lins if we can support you with a demo, live for the customer, just let me know!

---

**Alejandro Acevedo Osorio** (2024-10-14 16:06):
Hi ... By any chance are you using the 10-nonHa profile? We have seen that the CPU requests are a little low on it and that leads to throttling with makes the liveness probes to fail and get restarted, Can you try increasing the CPU for it with some extra `custom_values.yaml`  or in the generated `sizing_values.yaml`
```hbase:
  tephra:
    resources:
      limits:
        cpu: "250m"
      requests:
        cpu: "150m"```

---

**Rajesh Kumar** (2024-10-14 16:38):
I faced the same issue and solved it by increasing the readiness and loveliness probe to 60sec

---

**Alejandro Acevedo Osorio** (2024-10-14 16:54):
Nice going @Rajesh Kumar  ... we are making an improvement to introduce a `startupProbe` that will allow the tephra pod to make it through the startup sequence.

---

**Jarek Sliwinski** (2024-10-14 17:39):
Hi. Indeed I’m using 10nonHA :wink:

---

**Jarek Sliwinski** (2024-10-14 17:39):
Let me try this settings

---

**Kaio Neuhauss dos Santos** (2024-10-15 00:21):
Hello team, what is the recommendation about installing the agent on the Rancher Manager cluster in order to have observability for the upstream cluster? It would be okay installing considering an increase of resource? looking the docs it doesn't seem to consume too much resources so I would think that it won't have any impact, but want to double check.

---

**Mark Bakker** (2024-10-15 06:30):
Hi @Kaio Neuhauss dos Santos that should indeed be ok!

---

**Mark Bakker** (2024-10-15 06:31):
Sorry for the inconvenience we just started with these small profiles and did not come across the problem when we where testing those.

---

**Jarek Sliwinski** (2024-10-15 09:41):
No worries. Part of learning for me :wink:. By the way with updated settings server started succesfuly

---

**Rajesh Kumar** (2024-10-15 10:25):
What is the meaning of clear and unknown? and is unknown a bad thing? If yes, how to fix it?

---

**Hugo de Vries** (2024-10-15 10:39):
Unknown, Clear (green), Deviating (orange) and Critical (red) indicate the healthstate of a component. Health states are determined by the Monitor. Unknown in most cases is not a problem. It’s either that the component doesnt have a monitor activated on it, like we do on containers, or that the metric the Monitor is configured to look at is not available for that component at that moment in time.

---

**Rajesh Kumar** (2024-10-15 10:44):
hmm that raises more questions in my mind. How is monitoring activated on a component, does it happen automatically when we deploy the stackstate? Which stackstate component monitors these, and how can we see what metric is being monitored? I see *No monitors defined*, so how to enable or define monitoring for this component?

---

**Rajesh Kumar** (2024-10-15 10:47):
aaahh I see we can create monitors. Let me go through the UI in more depth first. Thank you for your reply!!

---

**Jarek Sliwinski** (2024-10-15 12:32):
Hi again. It looks like again I’m struggling with certificates… Let me explain what has been done… Created certificate using Let’S Encrypt for my domain: stackstate.lab.mfsi. Unfortunately cant use DNS challenge, so used regular http.  I deployed stackstate server and used privkey.pem and cert.pem to create ingress tls secret. stackstae server is available, connection is safe(see first attachment). I can also access it using curl through https without warning. Even more STS reaches server without issues:     `Connection verified to https://stackstate.lab.mfsi.pl (StackState version: 7.0.0+128-e89f93c-dev)`
`:white_check_mark: Saved context: 'default'`
`Success! Type sts to get started!` . But I can’t register it in Rancher Prime Observability Extension and each agent which I try to deploy on another cluster where I would like to generate some workload fails with the following : `2024-10-15 10:30:37 UTC | CORE | ERROR | (comp/forwarder/defaultforwarder/worker.go:187 in process) | Too many errors for endpoint 'https://stackstate.lab.mfsi.pl/receiver/stsAgent/api/v1/series': retrying later`  Any suggestions what I’m doing wrong?

---

**Jeroen van Erp** (2024-10-15 14:08):
What did you enter for details for the agent installation?

---

**Jarek Sliwinski** (2024-10-15 14:34):
Hi. Basically default helm install command from STACK Pack panel:
```
helm upgrade --install \
--namespace suse-observability \
--create-namespace \
--set-string 'stackstate.apiKey'='fbdruI6tMSAhYT9VL4chom56J5YoKkad' \
--set-string 'stackstate.cluster.name'='workload-cluster' \
--set-string 'stackstate.url'='https://stackstate.lab.mfsi.pl/receiver/stsAgent' \
suse-observability-agent suse-observability/suse-observability-agent```

---

**Jeroen van Erp** (2024-10-15 14:49):
ok, are there any errors in the agent log besides the “too many errors”?

---

**Jarek Sliwinski** (2024-10-15 14:56):
Hi. I’m sorry, by mistake copied wrong line… Here I’m attaching the log for just restarted `suse-observability-agent-node-agent`

---

**Jeroen van Erp** (2024-10-15 14:58):
```2024-10-15 12:52:10 UTC | CORE | ERROR | (comp/forwarder/defaultforwarder/worker.go:191 in process) | Error while processing transaction: error while sending transaction, rescheduling it: Post "https://stackstate.lab.mfsi.pl/receiver/stsAgent/intake/": tls: failed to verify certificate: x509: certificate signed by unknown authority```

---

**Jeroen van Erp** (2024-10-15 14:59):
For the agent you could disable the tls verification

---

**Jarek Sliwinski** (2024-10-15 14:59):
that’s the one I was supposed to copy earlier

---

**Jeroen van Erp** (2024-10-15 14:59):
That would allow it to continue without checking the validity

---

**Jeroen van Erp** (2024-10-15 14:59):
But that doesn’t solve the UI extension part

---

**Jeroen van Erp** (2024-10-15 15:00):
What do you see in the browser scripting console when you click the “save configuration” button in the ui extension?

---

**Jarek Sliwinski** (2024-10-15 15:07):
ok,got it: `Failed to load resource: the https://rancher.lab.mfsi.pl/meta/proxy/stackstate.lab.mfsi.pl/api/server/info server responded with a status of 502 ()`

---

**Jeroen van Erp** (2024-10-15 17:02):
We might want to loop in one of the engineers to help you…

---

**anupama.upadhyayula** (2024-10-15 17:37):
Hi Jarek, which version of Rancher are you observing this issue on? I ask because there were some changes introduced from Rancher 2.9.0 regarding Let’s Encrypt, where Rancher agents only trust certs contained in the `caSettings` value. For more information, please refer to this: Rancher TLS Settings (https://ranchermanager.docs.rancher.com/getting-started/installation-and-upgrade/installation-references/tls-settings#agent-tls-enforcement).
Just to rule out the possibility that this issue might be related to that.

---

**Jarek Sliwinski** (2024-10-15 18:04):
Hi. I’m using 2.9.2. Will check your recommendations. Thanks!

---

**Jarek Sliwinski** (2024-10-15 18:53):
Ok. Looks like I’m not using strict mode. GUI reports “System Store”, and from cli it reports:  `kubectl get cluster.management.cattle.io (http://cluster.management.cattle.io) -o jsonpath='{range .items[?(@.metadata.name!="local")]}{.metadata.name},{.status.conditions[?(@.type=="AgentTlsStrictCheck")].status}{"\n"}{end}'`
`c-m-7rcdmpnf,False`
`c-m-nxh4ss2c,False`
`c-m-x6d4299l,False`
`c-m-zrwgvfpt,False`

---

**anupama.upadhyayula** (2024-10-15 19:00):
ah ok. thanks for confirming. then looks like it has nothing to do with rancher itself. is the stackstate server accessible outside of rancher?

---

**Jarek Sliwinski** (2024-10-15 19:14):
yes. I setup ingress and can reach it under https://stackstate.lab.mfsi.pl. and no issues with certificate within the browser…

---

**anupama.upadhyayula** (2024-10-15 20:45):
got i.. looking from the previous errors this was hit when installing stackstate server, if the protocol wasn’t configured. but unsure if thats the reason why its failing here. https://suse.slack.com/archives/C079ANFDS2C/p1727987771012569

---

**Jarek Sliwinski** (2024-10-15 20:52):
Hi. I have seen that one, and actually I have faced that issue earlier, but based on that thread, updated it and my current setup uses correct scheme, including “https://”

---

**anupama.upadhyayula** (2024-10-15 20:56):
Oh, I see. I’m sorry I couldn’t be of more help with this. will wait for someone with more expertise in this area to weigh in.

---

**Jarek Sliwinski** (2024-10-15 20:57):
No problem thanks for help anyway :slightly_smiling_face:

---

**David Noland** (2024-10-16 06:42):
Since SUSE Observability is now GA, is there a plan to get it added to the SUSE lifecycle page (https://www.suse.com/lifecycle/)?

---

**Rajesh Kumar** (2024-10-16 07:42):
Hi, As per the doc (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#open-issues) observability extension is supported in 2.8.x but as per our experience, it is only available in 2.9.2.  Is it a documentation miss?

---

**Jarek Sliwinski** (2024-10-16 14:34):
Hi Observability Sales Specialists! Is there any chance that somebody from your team will look into the issue I’m facing when trying to deploy SUSE Observability with Rancher? For next couple of weeks, we have planned couple of sessions for our local partners and workshops for Prime users, which would be difficult to provide without working statckstate instance. I actually have no more ideas what can be done to make it work… Here is the link where I’m listing the issues: https://suse.slack.com/archives/C079ANFDS2C/p1728988354493079
Any kind of help will be appreciated. Thanks in advance. Jarek

---

**Andreas Prins** (2024-10-16 14:38):
@Bram Schuur or @Frank van Lankvelt?

---

**Bram Schuur** (2024-10-16 14:39):
Adding the protocol scheme should fix this indeed

---

**Jeroen van Erp** (2024-10-16 14:55):
@Bram Schuur Jarek was already using the protocol schema he said earlier. Indeed that was also one of my hunches

---

**Jarek Sliwinski** (2024-10-16 15:04):
Thanks guys for reply. I confirm, that I’m using correct schema…

---

**Bram Schuur** (2024-10-16 15:07):
Ah sorry, I was only reading up on the latest messages. For the UI extension @Anton Ovechkin is the one to talk to

---

**Bram Schuur** (2024-10-16 15:10):
To disable ssl validation for the agent, you can use `--set-string 'global.skipSslValidation'=true` on the helm invocation

---

**Mark Bakker** (2024-10-16 15:10):
@Anton Ovechkin can you answer this?

---

**Jarek Sliwinski** (2024-10-16 15:11):
Thanks @Bram Schuur will test it, but this should enable agent only, I suppose? Rancher integration would be different issue?

---

**Jeroen van Erp** (2024-10-16 15:12):
Do you have some details on how it’s setup? Is it running all in a single cluster, single machine?

---

**Frank van Lankvelt** (2024-10-16 15:12):
for the UI extension - an error `502` suggests some (reverse) proxy has an issue.  Do you have access to logs of the rancher proxy?

---

**Jeroen van Erp** (2024-10-16 15:12):
The rancher proxy is part of the normal `rancher` pod fyi

---

**Jarek Sliwinski** (2024-10-16 15:20):
OK, let me describe how this is setup:
harvester 1.3.2 deployed on 2 physical HP servers and 1 withess node
Rancher deployed on 3 VMs running with HV, using kubevip LB, SLES 15sp5
stackstate deployed on 3 node cluster RKE2 1.30.4, SLES 15sp5 each node has 12 vcore and 24GB RAM
additionally another cluster on which I want to deploy statckstate agent , 3 node 8core/16gb ram each sles15sp5
use 2 subdomains for which I generated certs using Let’s Encrypt. rancher.lab.mfsi.pl and stackstate.lab.mfsi.pl

---

**anupama.upadhyayula** (2024-10-16 18:39):
Hello team,
I’m running into an issue regarding the StackState-agent partner chart behavior in Rancher version `2.9.2`. Initially, after setting up Rancher, *stackstate-k8s-agent* partner chart has the version `1.0.96`. but after a few hours (I think when the charts refresh happens?), I notice that:
• A new version `1.0.98` is added.
• All other versions, including `1.0.96`, are automatically marked as *deprecated* (`deprecated: true`).
Also noticed the *digest* for version `1.0.96` changes before and after the sync. This behavior is unexpected. I’m not sure what is causing the deprecation of existing versions and the introduction of the new version. As a result I’m unable to install the chart as its deprecated.
Screenshots in the :thread_police: for further reference. Could someone clarify why this is happening?

---

**Jeroen van Erp** (2024-10-16 18:51):
Hi anupama, it's correct that the chart is deprecated. After 2 hours the repository is pulled and it finds the new definition which says it's deprecated. The 2.9.2 version comes bundled with the old version of the chart in it's repo which is only pulled later on repo refresh. The correct way would be to add the new observability repo to rancher which might not be documented yet (have to check). Unfortunately the new agent doesn't have the questions in there yet so that it shows the nice Ui installation. @Bram Schuur was working on that

---

**anupama.upadhyayula** (2024-10-16 19:02):
Ah, I see. That makes sense, but I’ve noticed that version `1.0.98` is also marked as deprecated after the sync. Could you let me know which git repo or helm http URL we should add to Rancher for the new observability repository so I can continue with my automated tests?

---

**Jeroen van Erp** (2024-10-16 19:07):
https://charts.rancher.com/server-charts/prime/suse-observability (https://charts.rancher.com/server-charts/prime/suse-observability)

---

**Jeroen van Erp** (2024-10-16 19:07):
That should be the repo

---

**anupama.upadhyayula** (2024-10-16 19:20):
I see other versions of agent rather than 1.0.98 or 1.0.96. why is that the case? :thinking_face:

---

**Jeroen van Erp** (2024-10-16 19:23):
It's a brand new chart, so counting started anew

---

**anupama.upadhyayula** (2024-10-16 19:29):
Given that this URL is part of the prime server charts, does this indicate that StackState is being moved from the partner charts into Rancher’s feature charts? If so, when will this migration be finished? I ask because our current automation is utilizing the rancher-partner-charts index. if this move happens, we will update it as soon as thats done to rancher-charts index.

---

**Jeroen van Erp** (2024-10-16 20:01):
Indeed, it's moving into a more final place. The Partner charts repo will no longer be updated

---

**Jarek Sliwinski** (2024-10-16 20:37):
OK, started looking into the rancher pod logs, what should I look for? actually can’t see anything related to proxy…

---

**Andreas Prins** (2024-10-17 09:28):
@Louis Lotter and @Mark Bakker would be good if the 3 of you align on this. Understand the why what an how

---

**Anton Ovechkin** (2024-10-17 09:29):
apparently, the official rancher extensions’ versions are hand picked and only 0.5.0 is available there https://github.com/rancher/ui-plugin-charts/blob/main/manifest.json and that version supports rancher>2.9

---

**Andreas Prins** (2024-10-17 09:30):
@Rajesh Kumar this video from our famous @Jeroen van Erp is a bit older but I think still very valid for this purpose

---

**Andreas Prins** (2024-10-17 09:30):
https://youtu.be/6le7mhKCrko?si=fDazI8-ECrzWZprD (https://youtu.be/6le7mhKCrko?si=fDazI8-ECrzWZprD)

---

**Rajesh Kumar** (2024-10-17 09:31):
I will check. Thank you so much!! I am using it on my lab system. Except for the resource consumption, it looks amazing.

---

**Mark Bakker** (2024-10-17 10:24):
Can you ask to publish the right versions?

---

**Amol Kharche** (2024-10-18 13:32):
Hi Team,
The command below is generating the `o11y-agent-images.txt` file, but it appears that the first three images are still pointing to the `/stackstate` path instead of `/suse-observability`. I tested it locally, and it resulted in an error. However, when the path was changed to `/suse-observability`, the images were successfully pulled.

# ./o11y-agent-get-images.sh -f suse-observability-agent-1.0.4.tgz > *o11y-agent-images.txt*

```root@jumpsrv:~/terraform/suse-observability# cat o11y-agent-images.txt
registry.rancher.com/stackstate/generic-sidecar-injector:sha-9c852245
registry.rancher.com/stackstate/http-header-injector-proxy-init:sha-5ff79451
registry.rancher.com/stackstate/http-header-injector-proxy:sha-5ff79451
registry.rancher.com/suse-observability/container-tools:1.4.0
registry.rancher.com/suse-observability/promtail:2.9.8-5b179aee
registry.rancher.com/suse-observability/stackstate-k8s-agent:e7570936
registry.rancher.com/suse-observability/stackstate-k8s-cluster-agent:e7570936
registry.rancher.com/suse-observability/stackstate-k8s-process-agent:39782782

root@jumpsrv:~/terraform/suse-observability# ./o11y-agent-save-images.sh -i o11y-agent-images.txt -f o11y-agent-images.tar.gz
Image pull failed: registry.rancher.com/stackstate/generic-sidecar-injector:sha-9c852245
Image pull failed: registry.rancher.com/stackstate/http-header-injector-proxy-init:sha-5ff79451
Image pull failed: registry.rancher.com/stackstate/http-header-injector-proxy:sha-5ff79451```
Can someone please update it ?

---

**Remco Beckers** (2024-10-18 13:40):
@Mark Bakker I expect this is also a problem when running not air-gapped: it will not be able to pull these images at all. But luckily we don't need them for the standard installation.

---

**Remco Beckers** (2024-10-18 13:41):
@Amol Kharche In a standard installation these images are not used, unless you intend to customize parts you can manually remove them from the `o11y-agent-images.txt`  and not download them (or manually change them to `suse-observability` of course, which will download them).

---

**Amol Kharche** (2024-10-18 13:43):
Customer using *Agent Air-gapped (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime/k8s-suse-rancher-prime-agent-air-gapped)*  (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime/k8s-suse-rancher-prime-agent-air-gapped)

---

**Mark Bakker** (2024-10-18 14:20):
@Bram Schuur can you update this?

---

**Remco Beckers** (2024-10-18 14:21):
@Mark Bakker See https://suse.slack.com/archives/C079N0F1YLE/p1729252147260949

---

**Anton Ovechkin** (2024-10-21 09:39):
@Mark Bakker proposed the updated to manifest.json https://github.com/rancher/ui-plugin-charts/pull/76

---

**Anton Ovechkin** (2024-10-21 12:02):
@Mark Bakker I want to make sure that this is what we really want to do: we must be sure that the version that supports rancher 2.8 (in fact lower version we support is 2.8.3) works as expected (it is tested properly)

---

**Mark Bakker** (2024-10-21 12:43):
I am also ok with 2.8.3 if we clearly communicate that in our docs.

---

**Mark Bakker** (2024-10-21 12:43):
Retesting for lower versions seems like an overhead which is not needed since we can ask them to update to latest minor

---

**Anton Ovechkin** (2024-10-21 14:42):
here is the ticket to keep track of the progress https://stackstate.atlassian.net/browse/STAC-21866
it will take more than 1 story point so I think we should act accordingly

---

**Remco Beckers** (2024-10-22 10:11):
@Amol Kharche We've fixed the issue and the new agent helm chart is available (version 1.0.5) on the helm repository

---

**Koichi Shikata** (2024-10-23 03:53):
One ask, I am viewing SUSE Observability  eLearning of SKO prerequisite.   On page 21 of the video, it shows 2 QR codes on the screen, but they didn't work for me.  Can you provide me with their URL's ?  Thank you.

---

**Amol Kharche** (2024-10-23 06:40):
Hi Team,
I've received a ticket to configure alerts notifications for the failed pods/nodes etc. Do we have a test SMTP server available to test this?

---

**Eduardo Mínguez** (2024-10-23 07:21):
https://suse.slack.com/archives/C029APBKLGK/p1689174447968459?thread_ts=1689174447.968459&amp;cid=C029APBKLGK (https://suse.slack.com/archives/C029APBKLGK/p1689174447968459?thread_ts=1689174447.968459&amp;cid=C029APBKLGK)

---

**Eduardo Mínguez** (2024-10-23 07:21):
relay.suse.de (http://relay.suse.de)

---

**Amol Kharche** (2024-10-23 07:37):
I am following this link, Do you know what to put in below field ?
https://docs.stackstate.com/self-hosted-setup/configure-stackstate/email-notifications

```stackstate:
  components:
    all:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_email_sender: "<mailto:amol.kharche@suse.com|amol.kharche@suse.com>"
          CONFIG_FORCE_stackstate_email_server_host: "relay.suse.de (http://relay.suse.de)"
          CONFIG_FORCE_stackstate_email_server_username: "&lt;user name&gt;"
        secret:
          CONFIG_FORCE_stackstate_email_server_password: "&lt;user password&gt;"```

---

**Eduardo Mínguez** (2024-10-23 07:40):
See my tests on the thread I pasted. It seems it doesn't require authentication. It only works from the VPN I guess

---

**Amol Kharche** (2024-10-23 08:21):
Configured without secret  but still see error.

nobody@suse-observability-server-5979d678dd-dtwr4:~$ env  |grep -i email
CONFIG_FORCE_stackstate_email_server_host=relay.suse.de (http://relay.suse.de)
CONFIG_FORCE_stackstate_email_sender=<mailto:amol.kharche@suse.com|amol.kharche@suse.com>
nobody@suse-observability-server-5979d678dd-dtwr4:~$

---

**Eduardo Mínguez** (2024-10-23 08:26):
Put a fake password

---

**Andreas Prins** (2024-10-23 08:30):
thank for asking, both documents come from highspot the link might have be expired.

https://suse.highspot.com/items/66df695eb0a4e937cec9605d?lfrm=srp.0
https://suse.highspot.com/items/66df6959373aff3c0a77fce9?lfrm=srp.1

Enjoy, if you have any other question, just drop them here!

---

**Amol Kharche** (2024-10-23 08:34):
Still same error.

nobody@suse-observability-server-75977bc547-xfxpg:~$ env |grep -i mail
CONFIG_FORCE_stackstate_email_server_password=c3VwZXJwYXNzd29yZAo=
CONFIG_FORCE_stackstate_email_server_host=relay.suse.de (http://relay.suse.de)
CONFIG_FORCE_stackstate_email_sender=<mailto:amol.kharche@suse.com|amol.kharche@suse.com>
CONFIG_FORCE_stackstate_email_server_username=akharche

---

**Eduardo Mínguez** (2024-10-23 08:45):
The error you show is not very informative to be honest

---

**Koichi Shikata** (2024-10-23 08:58):
Andreas, I successfully downloaded those.  Thank you for your quick action.

---

**Bram Schuur** (2024-10-23 09:26):
@Frank van Lankvelt maybe this is something you can help with?

---

**Frank van Lankvelt** (2024-10-23 09:36):
what happens if you put in a valid password?  The error shows up when we're not able to connect to the mail server. (the message could indeed be more clear in this case, but a valid config should fix it)

---

**Frank van Lankvelt** (2024-10-23 09:43):
another thing to try is to choose a different port: `CONFIG_FORCE_stackstate_email_server_port=465` (we use 587 by default) - though that's also in the docs, so I'll  assume you've  already tried that

---

**Amol Kharche** (2024-10-23 09:49):
you mean password with base64 ?

---

**Bram Schuur** (2024-10-23 09:51):
I don't see mention in the docs about base64

---

**Amol Kharche** (2024-10-23 10:05):
Same error, Tried with without base64

---

**Frank van Lankvelt** (2024-10-23 10:08):
are you sure `relay.suse.de (http://relay.suse.de)` is a usable host?  I cannot reach it over the public internet

---

**Eduardo Mínguez** (2024-10-23 10:08):
https://suse.slack.com/archives/C079ANFDS2C/p1729662045536079?thread_ts=1729658442.264499&amp;cid=C079ANFDS2C

---

**Eduardo Mínguez** (2024-10-23 10:12):
```❯ swaks --to <mailto:eduardo.minguez@suse.de|eduardo.minguez@suse.de> --from <mailto:eduardo.minguez@suse.com|eduardo.minguez@suse.com> --server relay.suse.de (http://relay.suse.de) --header "Subject: Testing" --data @./foobar
=== Trying relay.suse.de:25 (http://relay.suse.de:25)...
=== Connected to relay.suse.de (http://relay.suse.de).
&lt;-  220 smtp-out2.suse.de ESMTP
 -&gt; EHLO N-1.local
&lt;-  250-smtp-out2.suse.de (http://250-smtp-out2.suse.de)
&lt;-  250-PIPELINING
&lt;-  250-SIZE
&lt;-  250-ETRN
&lt;-  250-STARTTLS
&lt;-  250-ENHANCEDSTATUSCODES
&lt;-  250-8BITMIME
&lt;-  250-DSN
&lt;-  250 CHUNKING
 -&gt; MAIL FROM:&lt;eduardo.minguez@suse.com&gt;
&lt;-  250 2.1.0 Ok
 -&gt; RCPT TO:&lt;eduardo.minguez@suse.de&gt;
&lt;-  250 2.1.5 Ok
 -&gt; DATA
&lt;-  354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;
 -&gt; Hi
 -&gt; Subject: Testing
 -&gt;
 -&gt;
 -&gt; .
&lt;-  250 2.0.0 Ok: queued as 63D681F843
 -&gt; QUIT
&lt;-  221 2.0.0 Bye
=== Connection closed with remote host.```
not sure if the "to" needs to be <mailto:sameinbox@suse.de|sameinbox@suse.de>

---

**Frank van Lankvelt** (2024-10-23 10:14):
so this is using port `25`

---

**Eduardo Mínguez** (2024-10-23 10:14):
https://confluence.suse.com/display/enginfra/imap+draft+announcement more details about relay.suse.de (http://relay.suse.de)
```Emails sent FROM suse.com (http://suse.com) using the internal relay.suse.de (http://relay.suse.de) server will be flagged as spam.```
also:
```
For scripts and other tooling to send email messages via our internal mail servers, use the suse.de (http://suse.de) or suse.cz (http://suse.cz) domains. Do NOT use the machine FQDN/hostname (e.g. suse.org (http://suse.org)). 


For unauthenticated relaying from internal servers using Postfix, the preferable way is to use the $mydomain variable and then to set the same as $myorigin:
        /etc/postfix/main.cf: 
        ...
        relayhost = relay.suse.de (http://relay.suse.de)
        mydomain = suse.de (http://suse.de)
        myorigin = $mydomain
        ...


For authenticated relaying from personal workstations using mailx (internally or over the internet), the preferable way is to generate an application passphrase in the https://imap.suse.de web interface, and then to configure:
       ~/.mailrc:
       set smtp-use-starttls
       set ssl-verify=strict
       set smtp=<smtp://imap.suse.de:587>
       set smtp-auth=plain
       set smtp-auth-user="&lt;NIS user&gt;@&lt;name of application password&gt;"
       set smtp-auth-password="&lt;generated application password&gt;"
       set from="&lt;NIS user&gt;@suse.de" ```

---

**Eduardo Mínguez** (2024-10-23 10:15):
we configure mutt as:
```# About Me
set from = "<mailto:edgestatus@suse.com|edgestatus@suse.com>"
set realname = "Edge Hardware Status Page"

# My credentials
set smtp_url = "<smtp://relay.suse.de:25>"```

---

**Amol Kharche** (2024-10-23 10:20):
let me try with port 25 .  Am I using right username ? In my case it is akharche. I dont know where to get it

---

**Frank van Lankvelt** (2024-10-23 10:23):
okay, when I try over VPN with `imap.suse.de:587 (http://imap.suse.de:587)`, setting up the connection fails with
```javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target```
this is likely somewhere in the `api` logs as well

---

**Amol Kharche** (2024-10-23 10:26):
Tried with `25` and same error.

---

**Frank van Lankvelt** (2024-10-23 10:27):
something like `CONFIG_FORCE_stackstate_email_properties_mail.smtp.ssl.trust=*` might fix it - though I'm not sure how the env-var => properties file translation goes.  We create a config file directly in our saas config:
```       stackstate {
          email {
            properties {
              "mail.smtp.auth" = "true"
              "mail.smtp.ssl.enable" = "true"
              "mail.smtp.ssl.trust" = "*"
            }
            sender = ...
            server { ... }
        }```
(wit the `ssl.trust` property added for this use-case)

---

**Frank van Lankvelt** (2024-10-23 10:31):
I get the same thing with the `relay.suse.de:25 (http://relay.suse.de:25)` config.  The issue is that we enable starttls, but there's no valid certificate for the server

---

**Frank van Lankvelt** (2024-10-23 10:31):
either
• set `mail.smtp.ssl.enable=false`, or
• add `mail.smtp.ssl.trust=*`
will fix it

---

**Amol Kharche** (2024-10-23 10:46):
let me try that

---

**Frank van Lankvelt** (2024-10-23 10:53):
yeah, not sure if it's possible to set a property with a `.`(dot) in its key through an environment variable

---

**Frank van Lankvelt** (2024-10-23 10:53):
(i.e. seriously doubt that lightbend/typesafe config allows that)

---

**Amol Kharche** (2024-10-23 11:04):
I have a call with customer in 30 mins on this.
Do we need JIRA for this to fix it?

---

**Frank van Lankvelt** (2024-10-23 11:31):
if still in time - this is only an issue if your smtp server does not have a certificate

---

**Frank van Lankvelt** (2024-10-23 11:32):
otherwise, the TLS connection CAN be setup and there will not be an error in the UI

---

**Amol Kharche** (2024-10-23 11:43):
Now customer want to configure teams. When we put URL we got error.
```Internal Server Error
Unknown server error
Error Data
...{"message":"Sending test message failed: 405: Unexpected response code 405 Method Not Allowed, expected 200 OK","channelId":"227138587006905","_type":"NotificationChannelError"}```

---

**Amol Kharche** (2024-10-23 11:52):
```We forgot to encode URL value, Now it it different errorInternal Server Error
Unknown server error
Error Data
...{"message":"Sending test message failed: Error while calling the Teams.","channelId":"193264010325379","_type":"NotificationChannelError"}```

---

**Mark Bakker** (2024-10-24 08:05):
Hi all, by my mistake I added the sections for SUSE Observability and SUSE Cloud Observability to the Sept. Newsletter instead of the Oct. Newsletter. That's why there was no Observability Section in todays newsletter.
I still like you all to get out latest updates. Hereby our one-time ECM Observability Newsletter (https://docs.google.com/document/d/142wFyaSDvmbZRndLyiCiPgmGe3MSmy59UKpVbgG1Qxs/edit?usp=sharing).

---

**Yingluo Zhang** (2024-10-24 09:33):
Thanks Mark, the Newsletter mentioned  subscribe to the `early access program` for SUSE Cloud Observability. Do internal employees also need to register?

---

**Derek So** (2024-10-24 11:04):
Hello, we have deployed a demo environment for stackstate but the evaluation key is expired. Is there any key that we can use for demo purpose?

---

**Griff Hu** (2024-10-24 11:04):
Dear all, Do we have any updated slides on StackState technology, preferably something more deepdive ? Thank you.

---

**Mark Bakker** (2024-10-24 11:38):
In SCC a new key is added for all Prime customers. If its for internal testing you can use '4VRD5-QCWP3-T1VYA' see the pinned message in this channel.

---

**Mark Bakker** (2024-10-24 11:39):
We mainly focus on external clients since we do want real workloads running.
Or do you have a specific use-case?

---

**Remco Beckers** (2024-10-24 11:42):
Does this help? https://docs.google.com/presentation/d/1Wb_hSGBkIzgll9FQUxrgLKLmTbdnevanBoKMfw3gnVI/edit?usp=sharing

It might be a bit hard to follow without a presenter talking you through it.

---

**Andreas Prins** (2024-10-24 11:43):
or are you looking for the sales pitch? if so @Meriem Ahmed-Wolters is your go to person together with @Nelson Kinsford and @Jeroen Storm

---

**Remco Beckers** (2024-10-24 11:44):
Given the "deepdive" part I thought this would be more "fitting", but maybe this is too deep :scuba_diver:

---

**Andreas Prins** (2024-10-24 11:45):
I dunno...

---

**Yingluo Zhang** (2024-10-24 13:47):
There is no specific use-case; just want to understand the process of using SUSE Cloud Observability.:smile:

---

**Jurriën Bloemen** (2024-10-24 14:29):
Today I got a question from an existing rancher customer about RBAC. They assign rights to groups and people on project level in Rancher. That concept is not known in Stackstate AFAIK. Is this something we currently investigating? I guess this is a question for @Mark Bakker

---

**Mark Bakker** (2024-10-24 14:53):
Hi @Jurriën Bloemen this is indeed under active investigation, no time-lines yet but we will come up with a solution for project level access.

---

**Griff Hu** (2024-10-24 15:25):
Wow， Got， thank you， maybe it's too "deep" , :smile:

---

**Griff Hu** (2024-10-24 18:02):
Dear all, Could I know how can I get the slides about  the “ Kubernetes Challenge Workshop”  on 18th OCT ？ thank you

---

**Shamsul Zulkifli** (2024-10-24 19:42):
Dear all, I have an issue with 1 of these pods..  it keeps crashloopback..  did try to increase the ulimit to 4096, but still the same error persist

---

**Alejandro Acevedo Osorio** (2024-10-25 14:55):
Seems you are on the right direction. Found as well that you might want to try
```i've updated /proc/sys/fs/inotify/max_user_instances to 512 instead of default 128 and the problem's gone```

---

**Alejandro Acevedo Osorio** (2024-10-25 15:00):
But sounds like `4096` for `ulimit` might be still on the low side https://github.com/grafana/loki/issues/1153

---

**Paul McKeith (m 248-761-6229 EDT)** (2024-10-25 21:21):
I am not sure this is the right chnl to ask this question so please direct me elsewhere...
Does anyone have a status of our docs for SUSE Observability (formerly StackState) specific to Rancher Manager / Prime customers?
Looking here (https://docs.stackstate.com/get-started/k8s-quick-start-guide#overview) there is no section mentioned Rancher Prime but does list OpenShift, AKS, EKS, etc
Looking here (https://documentation.suse.com/cloudnative/rancher-manager/latest/en/observability/rancher-project-tools.html) the pre-SUSE Observability Rancher docs are based only on Prometheus and Grafana.

---

**Hugo de Vries** (2024-10-26 15:20):
Hi Paul, I think you overlooked this Quick Start guide for Rancher Prime? https://docs.stackstate.com/get-started/k8s-suse-rancher-prime (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime) maybe better if this one gets moved to the top of the list.

---

**Paul McKeith (m 248-761-6229 EDT)** (2024-10-26 18:18):
Hi @Hugo de Vries. You are correct and I did notice that after my initial post. Being separated from the list of others makes it strangely hidden. Perhaps a super easy fix would be to add SUSE Rancher Prime link to the above section in the main list to make it obvious?  And my other comments about the Rancher 2.9 docs could also be similarly easily modified without a complete overhaul. Just a simple intro and link to the section above like we do for other topics throughout the docs. Just a suggestion.

---

**Alejandro Acevedo Osorio** (2024-10-28 09:32):
Probably related to https://suse.slack.com/archives/C079ANFDS2C/p1727987771012569

https://suse.slack.com/archives/C07G8CX5ARE/p1724431866093369?thread_ts=1724350137.264699&amp;cid=C07G8CX5ARE

---

**Wilco van der Stek** (2024-10-29 16:34):
Hi

When deploying observability-server as written on _https://docs.stackstate.com/get-started/k8s-suse-rancher-prime_, I always have the pvc data-suse-observability-hbase-stackgraph-0 not bound.

I have a global.storageClass, but this is not used with stackgraph. I am unable to set the correct values.yaml entry for this, does anybody know the setting to get this correct?

FYI, when adding manually a storageClass to the pvc, it works fine.

---

**anupama.upadhyayula** (2024-10-29 16:45):
By default, stackstate uses the default storage class for PVCs unless another storage class is specified. I ran into a similar issue when the default storage class had insufficient capacity, causing the PVC to remain in a `Pending` state. It might be helpful to check the available capacity in the storage class to ensure it meets the requirements specified in the PVC.

---

**Mark Bakker** (2024-10-29 16:46):
@Alejandro Acevedo Osorio can you help out with this?

---

**Wilco van der Stek** (2024-10-29 16:47):
Thanks, but these clusters do not have a default storageclass, so I need to set it somehow manually in the values.yaml file

---

**Alejandro Acevedo Osorio** (2024-10-29 16:50):
@Wilco van der Stek we had a bug related to using the `global.storageClass` on stackgraph (the rendering was not correct). That's been resolved and available in our next release `2.1.0`  which is coming publicly available tomorrow.

---

**Wilco van der Stek** (2024-10-29 16:52):
Excellent, thanks

---

**Hugo de Vries** (2024-10-30 11:44):
Hi folks, @Kai Rupponen reached out to me about MSP customers that have a Prime subscription but are not able to see an entitlement for Observability in their SCC. Who can help out?

---

**tiernan.ohalmhain** (2024-10-30 11:53):
The integrations required are still being worked on, and we don't have the MSP subscription for Observability configured in production yet. Please raise a ticket in SD with the account details and we will work on a manual delivery.

---

**Kai Rupponen** (2024-10-30 15:06):
ok, thanks will do. how about other MSPs who are testing rancher prime?

---

**tiernan.ohalmhain** (2024-10-30 15:11):
@Mark Bakker &amp; @Hernan Schmidt can advise on what the general roll out plan is.

---

**Shaun Gardiner** (2024-10-30 15:17):
hey team, looking at the link above, I see that we are still listing an issue around installing SUSE Observability on 2.9.  Is this still an issue or is this resolved?  If this is still an issue when do we have an expectation for resolution on that?

---

**gaetan.trellu** (2024-10-30 15:17):
The only workaround I found was to recreate a cluster with the same name, reinstall the stackstate agents on this cluster and then uninstall the stack again.

---

**Mark Bakker** (2024-10-30 15:48):
@Anton Ovechkin if I recall correctly we did publish the pre-release version of 2.9?
The final release (1.0) is pending and will follow in the coming days.
So we indeed need to remove this from the Open Issues, is that correct @Anton Ovechkin

---

**Anton Ovechkin** (2024-10-30 15:50):
that’s right, `observability@0.5.0` supports rancher &gt;= 2.9 &lt; 2.10

---

**Mark Bakker** (2024-10-30 15:55):
Let me remove the Open Issue from the docs

---

**Timothy Choi** (2024-10-31 07:43):
Hello Team.
I am looking for SUSE-Observability demo video to prepare for customer demo.
If there is useful link, please share it to me.:thumbs-up:

---

**Andreas Prins** (2024-10-31 07:54):
there certainly is, we just made a prerecorded demo, it is on Highspot @John Pugh can you please when you wake up share both the links with @Timothy Choi? Thanks in advance.

---

**Timothy Choi** (2024-10-31 08:12):
Thanks @Andreas Prins

---

**Timothy Choi** (2024-10-31 08:12):
Does it include opentelemetry?

---

**Andreas Prins** (2024-10-31 08:21):
the demo does not include an extensive explanation of OpenTelemetry, it certainly is mentioned.
I propose you have a look first, and if it is not covered well enough, please list your questions. I'm certain @Jeroen van Erp or @Ravan Naidoo can than help out, make an additional recording if needed and we share that again.

---

**Timothy Choi** (2024-10-31 08:52):
Big Thansk @Andreas Prins 
Customer is comparing suse-observability with local APM. That record would be helpful.
If I need more, I will let you know.

---

**John Pugh** (2024-10-31 13:46):
Here's a more technically oriented demo - https://suse.highspot.com/items/6722842b840fa8a8ca9a3aad?lfrm=srp.19

---

**John Pugh** (2024-10-31 13:47):
and a more sales oriented demo - https://suse.highspot.com/items/6722842ef36c2fa9ceae6809?lfrm=srp.22

---

**Timothy Choi** (2024-11-01 04:34):
Thanks Mr.

---

**Shamsul Zulkifli** (2024-11-01 12:32):
Thanks Alejandro..  icrease the inotify limit clear the problem

---

**Alejandro Acevedo Osorio** (2024-11-01 13:21):
Great to hear @Shamsul Zulkifli

---

**Derek So** (2024-11-02 06:52):
Thanks all! That’s very helpful.

---

**Nick Zhao** (2024-11-05 07:32):
Hi team, Do we have a plan for supporting multi language on SUSE Observability UI ?

---

**Mark Bakker** (2024-11-05 08:54):
Hi Nick, there a no plans for that.

---

**Lars Marowsky-Bree** (2024-11-05 08:56):
That might make countries like Canada &amp; Japan tougher to get into, but I do understand the challenges for the next 1-2 years ...

---

**Mark Bakker** (2024-11-05 08:59):
Yeah at some moment we can think this trough but its not yet on the roadmap.

---

**Andreas Prins** (2024-11-05 10:47):
Hi team,

We continue to create content for you to enable you presenting and demoing SUSE Observability every day a little better.
We've created 3 assets on highspot that you can use:
• Presentation (https://suse.highspot.com/items/6729105786c26baae7d65998?lfrm=shp.0) &gt; the most recent slide deck
• Video of Sales Presentation (https://suse.highspot.com/items/6722842ef36c2fa9ceae6809?lfrm=srp.22) &gt; starring @Jeroen Storm presenting SUSE Observability on stage
• Video of Technical Sales Demonstration (https://suse.highspot.com/items/6722842b840fa8a8ca9a3aad?lfrm=srp.19) &gt; starring @Ravan Naidoo on how to do an amazing demo.

---

**Nick Zhao** (2024-11-05 11:11):
hi team, do we have some materials for comparison with competitors such as dynatrace.  it would be much helpful. thanks a lot.

---

**Louis Lotter** (2024-11-05 11:26):
If this is deemed important enough it is something that can be done in "parallel" to the normal work. So it may just be a matter of getting the budget and hiring someone to focus on this.

---

**Louis Lotter** (2024-11-05 11:27):
It is continous work to keep the quality high for something like this so the work is never done.

---

**Stephen Mogg** (2024-11-05 15:19):
Hi, I've tried installing observability with a key generated and activated from the SCC ... whilst it installed, there were no options on the left panel in the GUI.  (i've tested with another key and it works fine) .....  Is there a method for generating employee keys other than the SCC

---

**Marc Rua Herrera** (2024-11-05 15:29):
Hi, do you know if it's possible to use a custom MinIO instance to create backups for StackState instead of the default one? I know S3 can be configured in the Helm chart, but is MinIO also supported for this purpose?

---

**Lars Marowsky-Bree** (2024-11-05 15:36):
The SCC codes don't directly apply to SUSE Observability at this time, I can tell you that much. (I unfortunately can't directly give you an explanation how to generate a valid one.)

---

**Louis Lotter** (2024-11-05 16:26):
@Mark Bakker We don't support SCC keys yet right ?

---

**Louis Lotter** (2024-11-05 16:26):
@Stephen Mogg as far as I know only our team can generate keys atm. but wait for Mark's response to be sure.

---

**Stephen Mogg** (2024-11-05 16:42):
Thanks Louis - If using the SCC keys doesn't work yet, are you able to generate me a key for demo purposes.

---

**Mark Bakker** (2024-11-05 16:49):
We indeed don't support SCC keys.

---

**Mark Bakker** (2024-11-05 16:49):
Be aware for internal use there is always a key in the pinned messages in this channel which I shared.

---

**Mark Bakker** (2024-11-05 16:50):
@Stephen Mogg

---

**Vladimir Iliakov** (2024-11-05 17:08):
@Marc Rua Herrera It might work by configuring .Values.minio.s3.serviceEndpoint https://github.com/StackVista/helm-charts/blob/master/stable/minio/values.yaml#L286, but it is not officially supported.

---

**Anton Ovechkin** (2024-11-07 11:07):
@Rajesh Kumar I am happy to bring to your attention that we’ve released the extensions `0.2.1` version that supports 2.8 version and included to the rancher ui extension manifest so it should be available to installment without extra extension source configuration :tada:

enjoy your vacation!

---

**Rajesh Kumar** (2024-11-07 14:40):
Thank you @Anton Ovechkin  I will test as soon as I am back.

---

**Joel Endel** (2024-11-07 19:16):
Hi Team,

I have a large SUSE Customer wanting to see a demo of SUSE observability.  We are wanting to do this on Nov 15th. Who can I reach out to here to help with that? Thank you!

---

**Jeroen van Erp** (2024-11-07 19:48):
@Meriem Ahmed-Wolters One for you

---

**Joel Endel** (2024-11-07 19:58):
@Meriem Ahmed-Wolters you did one for my client Nationwide this morning. I was going to reach out to you but wanted to make sure I was hitting the proper channels first. Can you help?

---

**Meriem Ahmed-Wolters** (2024-11-07 20:07):
Hi Joel, yes I absolutely can and am happy to!

---

**Wilco van der Stek** (2024-11-08 09:44):
Hi,

Is there a way to create an entry for an agent in the server via curl and get the apikey in return, so I do not have to use the UI?

---

**Ravan Naidoo** (2024-11-08 09:52):
Jeroen van Erp created a  few handy scripts that can do what you looking for. Check out the repo https://github.com/SUSE/lab-setup/tree/develop/scripts/observability

---

**Timothy Choi** (2024-11-08 10:08):
I think using temp license will show the menus..I had same experience.

---

**Frank van Lankvelt** (2024-11-08 10:51):
the collector image you're using doesn't have the necessary components to deal with the configuration.  Which helm chart (or container image) are you using, with what configuration?

---

**Wilco van der Stek** (2024-11-08 11:16):
Thanks! @Ravan Naidoo

---

**Frank van Lankvelt** (2024-11-08 13:28):
ah, that'll give you the bare-bones image indeed.  You'll fare better with the "opentelemetry-collector-contrib" image; that has many more components installed

---

**Timothy Choi** (2024-11-08 13:36):
Thanks Frank.
I will test again.

---

**Timothy Choi** (2024-11-08 13:55):
since change image, it works. BIG Thanks @Frank van Lankvelt

---

**José Guilherme Vanz** (2024-11-08 14:12):
I just installed the SUSE observability and the Web UI ins asking me for the license. I'm trying to use the old one shared by the STS team and tried to use a key generated in SCC. Both are not working. Do we have an internal license key to use?

---

**José Guilherme Vanz** (2024-11-08 14:15):
Nevermind, I found the key in the pinned messages. Sorry for the noise.

---

**Hugo de Vries** (2024-11-08 14:16):
No problem, enjoy!

---

**Frank van Lankvelt** (2024-11-08 14:32):
I've no experience with this, but https://stackoverflow.com/questions/76805594/how-to-start-opentelemetry-grpc-collector-without-tls suggests that a few config lines will help

---

**Wilco van der Stek** (2024-11-09 10:23):
Hi,

I have added a stack-state agent to a cluster (named stackstate-agent :slightly_smiling_face: ) and do see it via sts, see enclosed image.

However, I can't find it in the UI off the stackstate server. I have done a refresh, logged out/in and tried a different browser. What am I missing?

---

**Ravan Naidoo** (2024-11-09 15:03):
StackState stores components in it database based on its type.  When you need to see these components you have to create a view. The current UI is super unfriendly when creating views for custom queries.  Thats why you have to do this a little long winded. Here are the steps:

1. Go to any topology view (attachment 1)
2. Double-click on a component to explore it in its own toplogy view. This unlocks the view. (attachment 2)
3. Click the `filter` menu option top right. This will open up the query bar (attachment 3)
4. The component type we looking for is `stackstate-agent`s . Define the query `type = 'stackstate-agent'`  (attachment 4)
5. You can neaten up the view by selecting the visualization options. (attachment 5)
6. Save your view by click on the save option. (attachment 6)
7. Enter the name of the view and save. (attachment 7)
8. You will find you view by navigating to the `Views` main menu option (attachment 8)
9. If you click on the star.  It will become bookmarked on the main menu (attachment 9)
Long answer but it gives you a generic flow on how to create more complex views.  See STQL (https://docs.stackstate.com/reference/k8sts-stql_reference) docs to learn about the query language.

---

**Wilco van der Stek** (2024-11-09 16:42):
Hi @Ravan Naidoo,

Thanks, got it working!

---

**Wilco van der Stek** (2024-11-09 19:49):
Hi,

Small question, is there a way to delete an agent from the server? With 'sts agent' only the list command is available

---

**Ravan Naidoo** (2024-11-09 19:52):
No. You have to uninstall it from the downstream cluster. Just delete the suse-observability namespace.

---

**Wilco van der Stek** (2024-11-09 19:52):
Ok, thanks. But all data remains in the db? Also in the dropdowns etc?

---

**Ravan Naidoo** (2024-11-10 00:20):
You also have uninstall the kubernetes stackpack instance you originally created.  When you create a StackPack instance you are actually creating a data ingest pipeline. So, as an example, the screenshot shows the pipeline datasource for a cluster called ‘suse-ai-cluster’. By default, data will stay in the system for 3 hours (180 minutes).  When no data has been received from the downstream cluster after the allotted period (say for example the cluster is turned off), StackState will remove the components reported by that cluster agent.

---

**Wilco van der Stek** (2024-11-10 06:18):
Ok, thanks!

---

**David Noland** (2024-11-11 05:03):
I keep getting this error when logging in. Can someone help me out?

---

**Ravan Naidoo** (2024-11-11 06:15):
Could that be something to do with you browser. I tried https://suseus-trial.app.stackstate.io/ and ended up on the login screen.

---

**David Noland** (2024-11-11 06:36):
I tried on multiple browsers (Firefox and Chrome), same issue. @Surya Boorlu on my team tried it and also sees the same thing. So I don't think it's specific to me or my browser

---

**David Noland** (2024-11-11 06:36):
It's after logging in, login screen comes up fine.

---

**Ravan Naidoo** (2024-11-11 07:01):
Ok. Sorry I though on initial navigation.  Unfortunately I don’t know then because don’t have access.  Maybe @Vladimir Iliakov can help to see how this SaaS instance is setup.

---

**Vladimir Iliakov** (2024-11-11 08:38):
Hbase datanode run out of disk space
It started growing 5 days ago. @Alejandro Acevedo Osorio how to check whether this is due to increased ingress or some Hbase issues?

---

**Alejandro Acevedo Osorio** (2024-11-11 09:07):
I guess we could see the traffic on the `receiver` @Vladimir Iliakov

---

**Alejandro Acevedo Osorio** (2024-11-11 09:08):
Just for a bit of context we were already realising that the `trial` setup was not enough for what they were observing @Vladimir Iliakov https://suse.slack.com/archives/C07CF9770R3/p1730945926432079

---

**Vladimir Iliakov** (2024-11-11 09:15):
Nop, we can't see receiver metrics

---

**Vladimir Iliakov** (2024-11-11 09:15):
I have doubled datanode's pvc. It is 500Gb now.

---

**Alejandro Acevedo Osorio** (2024-11-11 09:20):
Doesn't look like we have been receiving more traffic. BEtter to look it from the service perspective https://aegir.prod.stackstate.io/#/components/urn:kubernetes:%2Fgke-prod-us1.gcp.stacksta[…]amespace%3Astackstate-suseus-trial&amp;timeRange=LAST_7_DAYS (https://aegir.prod.stackstate.io/#/components/urn:kubernetes:%2Fgke-prod-us1.gcp.stackstate.io:stackstate-suseus-trial:service%2Fstackstate-suseus-trial-stackstate-k8s-receiver?detachedFilters=namespace%3Astackstate-suseus-trial&amp;timeRange=LAST_7_DAYS)

---

**Alejandro Acevedo Osorio** (2024-11-11 09:21):
Well I see an increment but already since the 30th of Oct and then I guess it just build up https://aegir.prod.stackstate.io/#/components/urn:kubernetes:%2Fgke-prod-us1.gcp.stacksta[…]al&amp;metricTab=SUSE%20Observability&amp;timeRange=LAST_30_DAYS (https://aegir.prod.stackstate.io/#/components/urn:kubernetes:%2Fgke-prod-us1.gcp.stackstate.io:stackstate-suseus-trial:service%2Fstackstate-suseus-trial-stackstate-k8s-receiver/metrics?detachedFilters=namespace%3Astackstate-suseus-trial&amp;metricTab=SUSE%20Observability&amp;timeRange=LAST_30_DAYS)

---

**Vladimir Iliakov** (2024-11-11 09:40):
@Alejandro Acevedo Osorio can you approve it https://gitlab.com/stackvista/devops/saas-tenants/-/merge_requests/1042/diffs ?

---

**Timothy Choi** (2024-11-11 10:51):
@José Guilherme Vanz have you solved the "kipping resource without necessary attributes"?

---

**Frank van Lankvelt** (2024-11-11 10:59):
the `service.namespace` attribute is missing.  If none of the services provides it, you can let the opentelemetry collector provide a value.  E.g. as part of the
```config:
  processors:
    resource:
      attributes:
      - key: service.namespace
        action: upsert
        value: default```
or you can make it more fancy and derive it from the `k8s.namespace.name`

---

**José Guilherme Vanz** (2024-11-11 12:13):
It's a long time since I've stopped to use this cluster. But as far as I can remember, I haven't solved it. This have not prevent me to test what I needed to

---

**Timothy Choi** (2024-11-11 13:09):
Thanks @Frank van Lankvelt your message helped me.
It showed the services.
One more question. Do we have any sample application to show the span error things?

---

**Timothy Choi** (2024-11-11 13:11):
Now I got some. In that case, you need to modify processor's attribute in colletctor configuration. I got just answer now.

---

**José Guilherme Vanz** (2024-11-11 13:18):
Ah, nice! Thanks!

---

**José Guilherme Vanz** (2024-11-11 13:19):
I'm testing Stackstate again this week. I'll talk with you\ if I saw this warning again. ;)

---

**Frank van Lankvelt** (2024-11-11 13:43):
there's the opentelemetry demo - https://opentelemetry.io/docs/demo/.  It has some error scenarios as well.  We run a modified version of that for https://play.stackstate.com/; there you can see errors in the traces as well.

---

**Timothy Choi** (2024-11-11 14:55):
Thanks Frank. :+1:

---

**Timothy Choi** (2024-11-11 14:59):
hope this link will be helpful for your test.
https://suse.slack.com/archives/C079ANFDS2C/p1731319161079169?thread_ts=1731318472.937609&amp;cid=C079ANFDS2C

---

**Kathryn Jobson** (2024-11-11 16:34):
Hi team, I’m a non-technical CSM and have a customer asking:

 “_what is the data store for observability? On Prem? Do we (Zywave) store or do you guys (SUSE) store?”_ 

I checked the docs but wasn’t able to decipher confidently. Any insight/assistance is appreciated. Thanks!

---

**Ravan Naidoo** (2024-11-11 16:39):
Hi.  SUSE Observability is a kubernetes application that the customer will install in their environment.  Data is stored using persistent volumes that the customer controls.

---

**Kathryn Jobson** (2024-11-11 16:41):
Thank you very much @Ravan Naidoo. Is there any documentation we have available that you recommend I share with this customer in relation to this question.

---

**Ravan Naidoo** (2024-11-11 16:42):
https://docs.stackstate.com/get-started/k8s-suse-rancher-prime

---

**Alejandro Bonilla** (2024-11-11 19:54):
have we looked at something like https://github.com/guacsec/guac - to help customers visualize their SLSA/SBOM for attestation ?
perhaps seeing this applies more in the Observability realm

---

**David Noland** (2024-11-11 20:00):
I'm able to log in now. Thanks for addressing the disk space issue. I'm not sure what would have cause a significant uptick in storage usage around 5 days ago.

---

**Jeff Hobbs** (2024-11-11 20:07):
has renamed the channel from "discuss-stackstate" to "discuss-observability-stackstate"

---

**Stephen Mogg** (2024-11-11 21:44):
Thanks - a different license key got things progressing.

---

**Louis Lotter** (2024-11-12 07:53):
@Mark Bakker can confirm but I really doubt this is a good use case for us.
Suse Observability's focus is on monitoring and analysing software that is running. This looks like something that should be part of your CI/CD pipeline.

---

**Mark Bakker** (2024-11-12 15:53):
@Alejandro Bonilla this will not be part of SUSE Observability, I can imagine it being a feature at some time for SUSE Security and it is already a feature for AppCollection.
I am curious why you are asking what is the use-case?

---

**Mark Bakker** (2024-11-12 15:54):
And for who?

---

**Alejandro Bonilla** (2024-11-12 16:20):
I was at KubeCon Rejekts and a session had this dashboard with all the apps and their  SLSA attestation. Yes, I do see it as part of security that eventually is also visible in Obs. ie it was a “Topology View” showing green colors for a known component and red for unknown.

---

**Alejandro Bonilla** (2024-11-12 23:47):
Guys what is the repo we need to add to the downstream clusters so that the extension can install the latest/proper agent version?

---

**Alejandro Bonilla** (2024-11-12 23:48):
I ran into `https://charts.rancher.com/server-charts/prime/suse-observability` but that ain't it, apparently.

---

**Alejandro Bonilla** (2024-11-12 23:48):
and this one only has older stuff `https://stackvista.github.io/rancher-extension-stackstate`

---

**Wilco van der Stek** (2024-11-12 23:49):
I am using this one https://github.com/rancher/ui-plugin-charts (https://github.com/rancher/ui-plugin-charts)

---

**Jeroen van Erp** (2024-11-12 23:57):
The UI extension lives in: `https://github.com/rancher/ui-plugin-charts`
The `suse-observability-agent` lives in: `https://charts.rancher.com/server-charts/prime/suse-observability`

It’s just that the `install` link in the cluster dashboard card doesn’t point to the new chart, but the old one in the `partner-charts` repos

---

**Alejandro Bonilla** (2024-11-13 00:11):
`https://charts.rancher.com/server-charts/prime/suse-observability`   has different versions

---

**Jeroen van Erp** (2024-11-13 00:12):
The versions reset between `stackstate-k8s-agent` and `suse-observability-agent`

---

**Alejandro Bonilla** (2024-11-13 00:12):
ok! 1..0.9 from yesterday it is then!

---

**Jeroen van Erp** (2024-11-13 00:12):
:+1: indeed

---

**David Noland** (2024-11-13 05:48):
Hi StackState docs people! This needs to be updated:
&gt; License key
&gt; A license key for SUSE Observability server can be obtained via the SUSE Customer Center and will be shown as "SUSE Rancher Prime - Observability Tech Preview" Registration Code. This license is valid until Oct, 31 2024. Before the end a license will be made available which is valid until the end of your Rancher Prime subscription.
at https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#license-key

---

**Louis Lotter** (2024-11-13 08:19):
@Mark Bakker What should we change this to ?

---

**David Noland** (2024-11-13 08:53):
Maybe this?
&gt; A license key for SUSE Observability server can be obtained via the SUSE Customer Center in the Subscription tab and will be shown as "SUSE Observability" Registration Code. This license is valid until the end of your Rancher Prime subscription.

---

**Mark Bakker** (2024-11-13 13:35):
Indeed, @Louis Lotter the text David provided is good.

---

**Melonie Smith** (2024-11-13 17:20):
@Hernan Schmidt FYI

---

**David Noland** (2024-11-13 19:18):
And would be nice if we hyperlink "SUSE Customer Center" to https://scc.suse.com/

---

**Timothy Choi** (2024-11-14 01:54):
Hello Team
I have enabled opentelemetry.
It show metrics, traces well.
But there is no event record.
Do I need to config any ontins in otel-collector.yaml?
I used document’s yaml file.
https://docs.stackstate.com/open-telemetry/collector

Do we support eventlog type for receiver?

---

**Frank van Lankvelt** (2024-11-14 10:58):
Logs are not yet supported for open telemetry.  We do have significant improvements to logging high on our backlog, I imagine this would fit right in.

---

**Timothy Choi** (2024-11-14 11:12):
Thanks.
During the PoC, I was confused because there is event menu but no event record. :sweat_smile: 
Do we have a scheduled plan to improve it?

---

**Matthieu Fatrez** (2024-11-14 12:10):
Hi, Is it possible to measure the bandwidth of a network with StackState? And if yes, what is the granularity?
1s, 1m, 5m ???

---

**Frank van Lankvelt** (2024-11-14 12:15):
We do have logs for Kubernetes, and there will be health state events if you have any monitors set up.  For the roadmap/planning, it's best to ask @Mark Bakker.

---

**Frank van Lankvelt** (2024-11-14 12:19):
On Kubernetes, the agent indeed collects network metrics.  Iirc these are sent every minute.  You'll get incoming and outgoing traffic for a pod.  Please take a look at the playground (https://play.stackstate.com) for an interactive demo.

---

**Matthieu Fatrez** (2024-11-14 12:26):
Is it possible to grab/analyse metrics every second on StackState?

---

**Matthieu Fatrez** (2024-11-14 12:26):
every second is important for my customer, ethernet/network

---

**Frank van Lankvelt** (2024-11-14 12:31):
if it's that important then they should invest in building a custom monitoring application.

---

**Frank van Lankvelt** (2024-11-14 12:34):
they can of course implement their own metrics and do aggregation into e.g. a histogram.  Or if there is a sudden very big request, do some logging.

---

**Frank van Lankvelt** (2024-11-14 12:34):
collecting data every second just sounds like a very bad idea

---

**Matthieu Fatrez** (2024-11-14 12:35):
They need it to see what is happening at the network level

---

**Matthieu Fatrez** (2024-11-14 12:37):
They can see something like 4Gb/s at 1m average, but having more than 20Gb/s in peak. And the customer wants to see that peak.
Stackstate can do that? Or can be configured to do that?

---

**Frank van Lankvelt** (2024-11-14 12:56):
The default agent does not do this indeed.  I think you would have to model this differently, rather than sampling every second.
What I can imagine is having a metric `bytes_per_second` that is a histogram, updated every second (or even more frequently).  So there would be buckets `le=0.1, 1.0, 10.0,...` and each bucket is a counter.
The Stackstate agent does not do this.

Is there a competitor that they're trying to replace?  In a quick search I've not been able to find any product that offers this kind of granularity.

---

**John Pugh** (2024-11-14 13:07):
Are there any region limitations for the SUSE Cloud Observability offering?

---

**Andreas Prins** (2024-11-14 13:19):
Hi John, yes and no.
we only deploy to US East and and EU Frankfurt.

---

**Andreas Prins** (2024-11-14 13:20):
however if you connect from system from APAC you still will get the EU region setup.

---

**Andreas Prins** (2024-11-14 13:20):
so everyone can connect, some close by others on a distance. If we get more volume we will create more sites

---

**Frank van Lankvelt** (2024-11-14 14:25):
the problem `cannot start pipelines: grpc: the credentials require transport level security` seems to be that you're using an insecure connection and the grpc exporter does not allow this in combination with transport credentials

---

**Frank van Lankvelt** (2024-11-14 14:28):
we've recently added support for otel ingestion over (plain) http, but I don't think that's been released yet.  @Alejandro Acevedo Osorio?

---

**Alejandro Acevedo Osorio** (2024-11-14 14:37):
Well I think it could be configured already with a little manual intervention.
On the client otel collector you needto add the `otlphttp/stackstate` exporter
```  exporters:
    otlp/stackstate:
      auth:
        authenticator: bearertokenauth
      endpoint: &lt;otlp-stackstate-endpoint&gt;:443
    otlphttp/stackstate:
      auth:
        authenticator: bearertokenauth
      endpoint: https://&lt;otlp-http-stackstate-endpoint&gt;```
And to start using it in the pipelines

---

**Alejandro Acevedo Osorio** (2024-11-14 14:39):
And on the Sts installation we need to enable an extra ingress for otel via http as, so an update to your `ingress_otel_values.yaml` that would look like (and redeploy). Basically the addition comes on the `additionalIngresses`
```opentelemetry-collector:
  ingress:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
      nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC
    hosts:
      - host: otlp-stackstate.MY_DOMAIN
        paths:
          - path: /
            pathType: Prefix
            port: 4317
    tls:
      - hosts:
          - otlp-stackstate.MY_DOMAIN
        secretName: otlp-tls-secret
    additionalIngresses:
      - name: otlp-http
        annotations:
          nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
        hosts:
          - host: otlp-http-stackstate.MY_DOMAIN        
            paths:
              - path: /
                pathType: Prefix
                port: 4318
        tls:
          - hosts:
            - otlp-http-stackstate.MY_DOMAIN        
              secretName: otlp-http-tls-secret        ```

---

**Wilco van der Stek** (2024-11-14 14:41):
Thanks, got it working, removed the tls.insecure=true from the collector. I will try the http later

---

**Wilco van der Stek** (2024-11-14 14:42):
I am only wondering when I see some data in the server ui, can someone tell me when I see some data?

The log from the collector (client) is

---

**Alejandro Acevedo Osorio** (2024-11-14 14:45):
Do you have the `OpenTelemetry` stackpack installed?

---

**Wilco van der Stek** (2024-11-14 14:48):
Yes, see screenprint or do I need to do some more

---

**Alejandro Acevedo Osorio** (2024-11-14 14:51):
That should be enough. I see in your screenshot that the log shows that only metrics are being found by your otel collector. Those should be landing, you can use the Metric Explorer for it

---

**Wilco van der Stek** (2024-11-14 14:56):
I do see this, but no data. Do I need to set a view?

---

**Alejandro Acevedo Osorio** (2024-11-14 14:57):
You will only get topology if `Traces`are being collected from your client Otel Collector, and your screenshot https://suse.slack.com/archives/C079ANFDS2C/p1731591660456959?thread_ts=1731589854.249229&amp;cid=C079ANFDS2C seems to suggest that only Metrics are being collected

---

**Wilco van der Stek** (2024-11-14 15:12):
Ok, I will need some more info on this :wink:

---

**Alejandro Acevedo Osorio** (2024-11-14 15:14):
Well what I mean is if the applications you are observing with the client otel collector are instrumented to produce otel traces?

---

**Timothy Choi** (2024-11-14 15:16):
Thanks Frank

---

**Ravan Naidoo** (2024-11-14 15:19):
By the way, there is an error in the otel configuration.  The documentation is missing the `service.namespace`  attribute that is required by the server.

```resource:
  attributes:
    - key: k8s.cluster.name
      action: upsert
      value: 'observer'
    - key: service.instance.id
      from_attribute: k8s.pod.uid
      action: insert
    - key: service.namespace
      from_attribute: k8s.namespace.name
      action: insert```

---

**Frank van Lankvelt** (2024-11-14 15:42):
`service.namespace` indeed does need to be there to map the topology - it is a recommended attribute that is expected to come from the otel service itself.

---

**Frank van Lankvelt** (2024-11-14 15:44):
note that we don't need traces to create components.  Those are only needed to derive relations between components.

---

**Frank van Lankvelt** (2024-11-14 15:45):
so if metrics have the correct resource attributes (`service.name` and `service.namespace` ) they will already be created

---

**Wilco van der Stek** (2024-11-14 16:01):
Thanks all, I will take a look at it and try :+1::skin-tone-2::thank_you:

---

**Lars Marowsky-Bree** (2024-11-14 16:13):
Something like Prometheus/Grafana combo with a host agent is quite common to monitor the network bandwidth like that - 1s resolution is truly fairly fine-grained though, I'd also go with a histogram per minute or (more commonly) min/max/avg values

---

**Frank van Lankvelt** (2024-11-14 16:24):
so there might be a host agent out there that already exposes metrics in a suitable format?  That would make the amount of work required manageable

---

**Eduardo Mínguez** (2024-11-15 09:40):
https://prometheus.io/blog/2024/11/14/prometheus-3-0/ (https://prometheus.io/blog/2024/11/14/prometheus-3-0/)
:eyesup:

---

**Matthieu Fatrez** (2024-11-15 10:19):
Is it possible to inject or query prometheus/Grafana from Stackstate, for the customer to have his need?

---

**Frank van Lankvelt** (2024-11-15 10:27):
Stackstate exposes a (prometheus compatible) remote_write endpoint.  So it is possible to push metrics, if that's what you're looking for.
I would still strongly discourage them from doing this every second - but if they have a prometheus and create a service/job that sends aggregated metrics to stackstate (once per minute), it might work

---

**Matthieu Fatrez** (2024-11-15 10:29):
Is it possible in that way to have a Prometheus to collect every second and inject in a batch to the StackState's Prometheus remote_write?

---

**Frank van Lankvelt** (2024-11-15 10:32):
that doesn't sound like aggregation.  So I don't see what would be won by that solution

---

**Camryn Carter** (2024-11-15 18:46):
Hi folks! Is there a mapping/support matrix for suse-observability and the agent? The RGS team is working on getting this to our customers and we realized these are versioned separately. Any insight much appreciated!

---

**Giovanni Lo Vecchio** (2024-11-18 09:17):
Hey Team,
I added a comment to the Jira case; can someone take a look? It seems that it still doesn’t work.

---

**Mark Bakker** (2024-11-18 14:25):
Hi @Camryn Carter, SUSE Observability 2.x.x is compatible with the latest SUSE Observability Agent 1.x.x.
We only support the latest platform and the latest agent and they always work together.
SUSE Observability has a rolling release model.

---

**Giovanni Lo Vecchio** (2024-11-18 14:45):
@Hugo de Vries, @Mark Bakker

---

**Sam Chen** (2024-11-19 08:36):
Hi there, I create a air-gap environment for testing, and create nginx web for tracing test, but I can’t collect trace data, how can I troubleshooting with it?

---

**Jeroen van Erp** (2024-11-19 08:48):
Hi @Sam Chen, tracing is only available for OpenTelemetry enabled web applications. For instance, the OpenTelemetry demo app (https://github.com/open-telemetry/opentelemetry-demo)

---

**Sam Chen** (2024-11-19 08:49):
woo~ got it, Thanks Jeroen:thankyou:

---

**Sam Chen** (2024-11-19 11:08):
Hi I have another question about can we integrated with rancher logging tools?
if some application didn’t use or enable OpenTelemetry, can we use the old way to collect logs?

---

**Mark Bakker** (2024-11-19 11:19):
Hi Sam, not yet, but this is on the Roadmap and I expect this to be possible in the coming 6 months.
Currently we only support logs for pods. We do have an Epic defined to support any type of log including OpenTelemetry and to include a log explorer to view  logs outside of pods.

---

**Mark Bakker** (2024-11-19 11:20):
Btw we also do not yet support OpenTelemetry Logs (only Metrics and Traces ATM)

---

**Sam Chen** (2024-11-19 11:41):
Copy, some customer want to collect all of their logs(no only comes from K8s) into our system.
May I have the roadmap?

---

**Mark Bakker** (2024-11-19 11:46):
Here you go!

---

**Mark Bakker** (2024-11-19 11:48):
The slides can be found in the general Roadmap:
https://docs.google.com/presentation/d/1FQ9EZy2FIoKVSXIeJuL6bSHskUn-dVMb8bgMOzGVcsM/edit#slide=id.g2e962a67280_0_17b

---

**Sam Chen** (2024-11-19 11:49):
Thanks Mark, it’s really helps. :+1:

---

**Alejandro Acevedo Osorio** (2024-11-25 14:53):
Seems that in your ingress you forgot the `GRPC` annotation

---

**Alejandro Acevedo Osorio** (2024-11-25 14:53):
https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-fo[…]e-observability-helm-chart (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-for-open-telemetry-traces-via-the-suse-observability-helm-chart)

---

**Alejandro Acevedo Osorio** (2024-11-25 14:55):
The example in the docs look like
```opentelemetry-collector:
  ingress:
    enabled: true
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
      nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC
    hosts:
      - host: otlp-stackstate.MY_DOMAIN
        paths:
          - path: /
            pathType: Prefix
            port: 4317
    tls:
      - hosts:
          - otlp-stackstate.MY_DOMAIN
        secretName: otlp-tls-secret```
Where the support for GRPC protocol is really important

---

**Wilco van der Stek** (2024-11-25 14:55):
Sorry, the annotation are there
```    nginx.ingress.kubernetes.io/backend-protocol (http://nginx.ingress.kubernetes.io/backend-protocol): GRPC
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): 50m```
I did use kubectl krew neat and appearantly it is removing those annotations.... Strange

---

**Cyril Cuvier** (2024-11-26 21:21):
hi folks, quick question from a prospect today regarding Suse observability : will we integrate a cost calculator ( like KubeCost ) in our solution ?

---

**Jeroen van Erp** (2024-11-26 22:59):
I know there are plans to do costing in Observability, @Mark Bakker would be able to tell you more on where this is on the roadmap

---

**Nick Zhao** (2024-11-27 05:27):
hi team, does SUSE Observability tracing or monitoring the key indicators such as the number of database and SQL statement calls, response time, and number of errors.  For JVM, can we monitor and trace memory and thread metrics for the JVM runtime environment based on Java applications?  if so, how to tell customers?  do we have a related demo video?  Thx a lot.

---

**Mark Bakker** (2024-11-27 09:29):
We indeed will include costing in Observability, it's currently planned for second half FY25

---

**Bram Schuur** (2024-11-27 11:01):
If i recall correctly JVM metrics are out of the box for OpenTelemetry tracing, the other indicators are not out-of-the-box and need more work to get running at a customer (@Mark Bakker). I have no visibility on what we have in terms of marketing/training material/docs around these usecases, maybe @Jeroen van Erp, @Mark Bakker, @Dmitry Maximov can weigh in there?

---

**Mark Bakker** (2024-11-27 14:28):
Hi Nick,

We have two ways to get the signals you mention:
1. via our eBPF based agent, this one out of the box gives you throughput, latency and error-rate for the major protocols (Mysql, Postgresql not yet).
       This does not yet include the specific SQL statements. These signals are automatically collected for all applications running on k8s clusters.
This is available for SUSE Observability (Prime only).
See this dashboard for an HTTP(s) example (https://play.stackstate.com/#/components/urn:kubernetes:%2Fgke-demo-public.gcp.stackstate.io:otel-demo:service%2Fod-adservice/metrics?detachedFilters=cluster-name%3Agke-demo-public.gcp.stackstate.io%2Cnamespace%3Aotel-demo&amp;metricTab=Application%20Performance&amp;timeRange=LAST_3_HOURS&amp;timestamp=1732709700000&amp;view=indirectRelations--1__connectedComponents--0).
2. We support OpenTelemetry (auto) instrumentation agents and out of the box map the rate, errors and duration metrics to the right resources and monitor them out of the box if you send in OpenTelemetry traces as documented in our docs. Als JVM and .Net metrics are automatically mapped to the right components if you use the JVM or .Net auto instrumentation.
See this page for the RED (https://play.stackstate.com/#/components/urn:kubernetes:%2Fgke-demo-public.gcp.stackstate.io:otel-demo:service%2Fod-adservice/metrics?detachedFilters=cluster-name%3Agke-demo-public.gcp.stackstate.io%2Cnamespace%3Aotel-demo&amp;metricTab=Traces%20Performance&amp;timeRange=LAST_3_HOURS&amp;timestamp=1732709700000&amp;view=indirectRelations--1__connectedComponents--0) metrics.
And this one for JVM (https://play.stackstate.com/#/components/urn:opentelemetry:namespace%2Fopentelemetry-demo:service%2Fadservice/metrics?detachedFilters=cluster-name%3Agke-demo-public.gcp.stackstate.io%2Cnamespace%3Aotel-demo&amp;timeRange=LAST_3_HOURS&amp;timestamp=1732709700000) metrics.
This is available for both SUSE Cloud Observability and SUSE Observability.

---

**Nick Zhao** (2024-11-27 15:12):
Thanks guys, I will figure it out and show it to my prospects.

---

**Amol Kharche** (2024-11-28 03:57):
I am using *4VRD5-QCWP3-T1VYA* key and its going to expire on 4 days. Any plan to renew it ?

---

**Nick Zhao** (2024-11-28 06:42):
Hi Team, Do we have a user manual for customer self-training?

---

**Mark Bakker** (2024-11-28 09:08):
There is a new key for internal use of SUSE Observability 'KE7UD-Q0VDQ-JM76A' it's valid till 1-4-2025

---

**Mark Bakker** (2024-11-28 09:08):
cc @Amol Kharche

---

**Mark Bakker** (2024-11-28 09:08):
I will pin this message

---

**Bas van Kampen** (2024-11-28 12:23):
Question from customer ARM, when will there be ARM64 support for SUSE Observability, especially the agent for now, the whole stack later. (if there is a need for support with the porting, ARM can help, I work with the group at ARM doing this for a living, I can make some contacts).

---

**Bram Schuur** (2024-11-28 13:05):
Maybe @Ravan Naidoo or @Mohamed Elnemr have an answer to this one?

---

**Bram Schuur** (2024-11-28 13:05):
@Mark Bakker Can you provide insight into the roadmap here?

---

**Mark Bakker** (2024-11-28 13:13):
Hi Bas, yes this is planned for FY25H1, so the upcoming 6 months.

---

**Mark Bakker** (2024-11-28 13:13):
For the Agent

---

**Mark Bakker** (2024-11-28 13:14):
For the platform it is planned after that.

---

**Bas van Kampen** (2024-11-28 13:33):
Thanks @Mark Bakker

---

**Shung-Hsi Yu** (2024-11-28 15:48):
Curious how stackstate does stack unwinding, does it relies on frame pointers as well?

---

**Bram Schuur** (2024-11-28 15:51):
Hey Shung-Hsi, StackState does not do stack unwinding for the current featureset (although there are some pie-in-the-sky ideas to do at some point). So this is not an issue for us.

---

**Andreas Prins** (2024-11-28 16:02):
Hi Nick, happy to take this one.
There is a lot under way:
• @Zia Rehman is working on an official course, I think target late this quarter, but he can confirm. This will be a training the customer can purchase
• @Jeroen van Erp is creating some community content for the Rancher Academy, he can confirm his expected timelines

---

**Andreas Prins** (2024-11-28 16:05):
amongst this, I advice to make use of some youtube video's we created in a previous life :smile:
1. Generic introduction and navigation through a nice workshop (https://youtu.be/lS52uxg1AnA?si=bJ3GTCDB7DvSf8F8)
2. Monitor tuning (https://youtu.be/6le7mhKCrko?si=wS2xVleGQw7Z6bY2)
3. Troubleshooting tutorial (https://youtu.be/I0SExWGjvQg?si=21KDZNHv1ratRaPs)

---

**Andreas Prins** (2024-11-28 16:06):
I hope this helps the customer moving and later have the official training materials

---

**Surya Boorlu** (2024-11-28 17:29):
Hi Team, Customer is using SUSE observability 1.0. The namespace section, most of the namespace are showing unknown, instead of healthy or other state

All the agents are healthy.

---

**Amol Kharche** (2024-11-28 17:33):
This might help you https://suse.slack.com/archives/C079ANFDS2C/p1728980714637519?thread_ts=1728980714.637519&amp;cid=C079ANFDS2C (https://suse.slack.com/archives/C079ANFDS2C/p1728980714637519?thread_ts=1728980714.637519&amp;cid=C079ANFDS2C)

---

**Nick Zhao** (2024-11-28 23:50):
Sounds great, we’re looking forward to seeing it. :+1:

---

**Shung-Hsi Yu** (2024-11-29 08:17):
Ah I see, all good then :slightly_smiling_face:
stack unwinding does seems to have quite some rough edges right now

---

**Mark Bakker** (2024-11-29 08:44):
Hi @Surya Boorlu Unknown means it is not monitored.
For Configmaps for instance there are no monitors.
The Namespace is monitored by the Aggregated health state monitor which takes all related resources of a namespace and reports the highest available state.
At the moment it reports Unknown Above clear and this is the reason for this. We have an active request to change this behaviour and take preference of clear.
Here you see a simple example which relates to this:
In this case the namespace is shown with an Unknown state. If the namespace would not have had a configmap it would have been clear.
Short summary unknown healthstates on namespaces are nothing to worry about and in the future we will make it possible to show them as Clear.
Hope this answers the question?

---

**Saurabh Sadhale** (2024-11-29 09:27):
I am testing in lab by installing and uninstalling the stackstate charts.  After uninstalling the helm chart of suse-observability the PV PVCs are not deleted. Is this expected or they are retained for a specific reason ?

If this is not expected could we check if we can update that in the documentation for deleting the PV PVCs manually ??

---

**Remco Beckers** (2024-11-29 09:36):
This is expected and is also standard behavior of Kubernetes/Helm. It prevents people from accidentally losing all their data when they were just trying to do an upgrade for example

---

**Remco Beckers** (2024-11-29 09:37):
In our uninstallation docs we tell users to clean up the PVCs as well: https://docs.stackstate.com/self-hosted-setup/uninstall#remove-remaining-resources

---

**Saurabh Sadhale** (2024-11-29 09:38):
Ahh okay. This is good.

---

**Surya Boorlu** (2024-11-29 17:38):
@Mark Bakker Thank you for the detailed answer. I will convey the same to the customer.

---

**Amol Kharche** (2024-12-02 07:29):
Hi Team,
The customer is planning to monitor approximately 150 nodes in our production setup.
Could you please provide the CPU and memory capacity requirements for each node? and how many nodes is recommended on the cluster?
Thank you!

---

**Yingluo Zhang** (2024-12-02 07:39):
https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements  this documents might be helpful to you.

---

**Amol Kharche** (2024-12-02 09:01):
Still look confusing to me.
Does it mean for 150 monitoring node we need to configure HA with in between 25 to 50 CPU and 50gb RAM for 2 node cluster ?

---

**Mark Bakker** (2024-12-02 10:09):
@Amol Kharche what is not clear from the docs, what do you want to be more clear?
Also one important thing to add, 150 Nodes observed on this page mean 16Gb/4vCPU nodes, if nodes are bigger you need to count for more nodes.

---

**Amol Kharche** (2024-12-02 10:55):
CPU request and limit is quite different, big gap(25cpu) between request and limit for 150 HA cluster.

---

**Amol Kharche** (2024-12-02 10:55):
Customer are using on-prem server.

---

**Amol Kharche** (2024-12-02 10:59):
Can we recommended like this? Or let me know if needs correction .
They Can have a 6 node cluster [3 master + 3 worker].
Master configuration - 24vcpu*32GB RAM
Worker configuration - 24vcpu * 32 GB RAM
2TB Storage

---

**Alejandro Bonilla** (2024-12-02 15:34):
@Mark Bakker the only think clear to me is that they need 2TB for volumes in the StorageClass. The Memory/CPU requests/limits doesn’t translate very well. Does it mean that each node in the cluster needs all those resources or is that combined? How many vCPUs and memory per node?

---

**Alejandro Bonilla** (2024-12-02 15:36):
There is a claim of 3x redundancy, which hints at all 3 nodes needing equal resources.

---

**Mark Bakker** (2024-12-02 16:05):
Hi @Alejandro Acevedo Osorio this the requirements in the table are the total required resources, that is not per host.

---

**Mark Bakker** (2024-12-02 16:06):
How much resources per node of the cluster is not important as long as the provide the total.

---

**Alejandro Bonilla** (2024-12-02 16:06):
Wrong Alejandro :wink:

---

**Mark Bakker** (2024-12-02 16:06):
@Alejandro Acevedo Osorio can you augment this to the documentation to make it more clear?

---

**Alejandro Acevedo Osorio** (2024-12-02 16:36):
@Mark Bakker The requirements are total indeed, no prescription on how many hosts you need to setup the Suse Observability instance

---

**Mark Bakker** (2024-12-02 16:40):
@Alejandro Acevedo Osorio I know, but can we make this more clear in the docs.

---

**Alejandro Bonilla** (2024-12-05 13:43):
Are we sure this cuts it?

---

**Alejandro Bonilla** (2024-12-05 13:43):
`The requirement shown for profile represent the total amount of resources needed to run the Suse Observability workload, the user can decide the amount of nodes and the node size they prefer as long as the requirements are met.`

---

**Alejandro Bonilla** (2024-12-05 13:44):
I’d say SUSE Observability Server. And then, isn’t one service heavy enough to at least need certain amount of RAM on the server?

---

**Alejandro Acevedo Osorio** (2024-12-05 13:48):
That's a good point @Alejandro Bonilla ... I guess we could male a recommendation for ha / nonHa perhaps so we are sure any service can fit in the node.

---

**Saurabh Sadhale** (2024-12-06 13:15):
Hello Team, I have successfully been able to integrate LDAP + StackState and i have created a Confluence page for following easy step-by-step procedure. Please take a look and keep exploring !! :v:

https://confluence.suse.com/display/SUP/LDAP+integration+with+StackState

---

**Sam Chen** (2024-12-06 13:48):
Hi there, I’m trying to collect web application log(nginx) in air-gap mode, but the log page always got empty, is there something need enable or turn on?
the managed cluster pod all running without error log.
```#kubectl -n suse-observability get po 
NAME                                                      READY   STATUS    RESTARTS       AGE
suse-observability-agent-checks-agent-86555f4765-brrcg    1/1     Running   1 (163m ago)   166m
suse-observability-agent-cluster-agent-769f6c6955-p9g8z   1/1     Running   1 (163m ago)   166m
suse-observability-agent-logs-agent-8rsrd                 1/1     Running   1 (163m ago)   166m
suse-observability-agent-node-agent-s24zz                 2/2     Running   2 (163m ago)   166m```

---

**Louis Lotter** (2024-12-06 14:21):
@Bram Schuur @Louis Parkin do you guys have any ideas here ?

---

**Louis Parkin** (2024-12-06 14:27):
Jeez, no. Without knowing what the logs-agent is doing, it's a bit difficult to say

---

**Louis Parkin** (2024-12-06 14:27):
@Louis Lotter are there no logs for any of the pods in the environment?

---

**Louis Parkin** (2024-12-06 14:28):
Or just nginx that's missing logs?

---

**Sam Chen** (2024-12-06 14:31):
there is something weird, some pod have log, but my test ap (nginx) or some cni pod (e.g. cilium) and others didn’t.

---

**Louis Parkin** (2024-12-06 14:33):
@Sam Chen Can you confirm that the node in question (where these log-less pods are running) also has a node-agent and logs agent pod running on that node?

---

**Mark Bakker** (2024-12-06 14:33):
Are you sure the selected timerange (last 24 hours) did produce logs for this pod?

---

**Sam Chen** (2024-12-06 14:41):
node agent logs already attached, and the time range is correct.

---

**Sam Chen** (2024-12-06 14:50):
all the pod logs in suse-observability namespace 3 hours ago.

---

**Wilco van der Stek** (2024-12-06 16:16):
Hi,

I am trying to install the open-telemetry stackpack via curl, but somehow it is failing, I got an error 400

With sts I can install the open-telemetry stackpack:
```sts stackpack install --name open-telemetry --url https://xxxx.susexxx.xxx --service-token &lt;service-token&gt; ```
With curl I do get an error 400:
```curl -I -H "Content-Type: application/json" -H "Authorization: ApiKey &lt;service-token&gt;"  \
      -X POST \
      https://xxxx.susexxx.xxx/api/stackpack/open-telemetry/provision```
Does somebody know why?

---

**Remco Beckers** (2024-12-06 16:24):
Can you try by providing a body with an empty json object:
```curl -I -H "Content-Type: application/json" -H "Authorization: ApiKey &lt;service-token&gt;"  \
      -d '{}' \
      -X POST \
      https://xxxx.susexxx.xxx/api/stackpack/open-telemetry/provision```

---

**Remco Beckers** (2024-12-06 16:24):
The body contains the configuration (the fields that you fill in the UI), even when there are no fields it still expects an empty object

---

**Wilco van der Stek** (2024-12-06 16:26):
Ah, this is working, thanks!

---

**Sam Chen** (2024-12-08 15:57):
Hi there, I make more test about the log collection, enlarge the resource from trial to 10non-ha, and remove cpu and ram resource limit for observability cluster、re-deploy managed cluster for obs-agents, but it doesn’t works.
sometime log collect can work for partial pods, for example, create a deployment for 3 replicas, only one pod got collected.
I also install monitoring from rancher, hope those information can help.

---

**Amol Kharche** (2024-12-09 10:22):
I also attempted to deploy an Nginx deployment, but I'm not seeing any logs for the pod. I'm encountering the same issue.

---

**Mark Bakker** (2024-12-09 10:25):
@Bram Schuur @Louis Parkin any thoughts with this new info?

---

**Louis Parkin** (2024-12-09 10:56):
@Sam Chen do you have any means of inspecting pods and/or pod logs outside of StackState/SUSE Observability?  Tools like k9s or kubectl?

---

**Louis Parkin** (2024-12-09 10:57):
I see no mention of your web app in the `agentlogs/suse-observability-agent-logs-agent-trjz8.log` file.

---

**Louis Parkin** (2024-12-09 10:57):
How many nodes / node agent pods do you have in your cluster?

---

**Louis Parkin** (2024-12-09 10:59):
Can you say with certainty that the nginx pod in question is running on the same node as logs-agent pod `suse-observability-agent-logs-agent-trjz8` ?

---

**Louis Parkin** (2024-12-09 11:43):
@Bram Schuur I am really dug in with an NN support ticket, are you able to assist here?

---

**Sam Chen** (2024-12-09 12:34):
Hi Louis, I use kubectl and grafana for inspecting those pods. the web log already delete during I enlarge the setting from trial to 10non-ha, which means, I re-deploy whole observability solution for observability cluster(obs) and managed cluster(rhelcluster).
I use 1 worker node for managed cluster for test purpose, the observability is 4 worker node.
due to managed cluster have only one worker node, the log-agent and nginx pod is running in the same node.
I collect new agent logs and nginx pod, one for single pod, another is 3 replicas and made screenshot for those pod logs status.

---

**Sam Chen** (2024-12-09 12:46):
I also collected obs cluster for observability logs in case you needed.

---

**Luca Barzè** (2024-12-09 14:57):
hello, if I go here:

https://www.suse.com/solutions/observability/

I see “60-day free trial”, when i click on it, going here https://more.suse.com/SUSE_Cloud_Observability_Early_Access_Program.html, I see “two weeks free”,

thank you,
Luca

---

**Frank van Lankvelt** (2024-12-09 15:11):
AFAIK, the 60 days are when you have Rancher Prime, while the 2 weeks are if you run community version and want to observe that from a SaaS Observability solution.

---

**Mark Bakker** (2024-12-09 15:31):
This seems odd. The SUSE Observability directly links to Cloud Observability.
We had an 60 days free offer but will switch to 14 days free usage and direct signup via the Marketplace.
Still I think we need to have a landing page to get generic leads for Observability as part of Prime.
@Genevieve Cross good to look into this.

---

**Nichay Coetzee** (2024-12-09 15:52):
Hi I have a customer based in Australia which would like a technical demo on SUSE Observability. Is there someone which could assist please?

---

**Alejandro Bonilla** (2024-12-09 16:38):
The following two people just spent a week of training on the topic and are in that Region.
APAC Tapas Nandi
APAC Griff Hu

---

**Nichay Coetzee** (2024-12-09 16:39):
Thank you Alejandro

---

**Bram Schuur** (2024-12-09 16:44):
@Louis Parkin I am also overbooked

---

**Louis Parkin** (2024-12-09 17:15):
@Mark Bakker I suppose then we need your guiding hand here.

---

**Genevieve Cross** (2024-12-09 17:34):
Hi @Ivan Tarin! On https://www.suse.com/solutions/observability/, we reference the 60 day free trial and links to the form which references the two week trial. I know you submitted some changes to the web team already. Was this one of them?

---

**Mark Bakker** (2024-12-10 09:04):
@Bram Schuur lets discuss during Standup with the team to see who can take this one.

---

**Vladimir Iliakov** (2024-12-10 11:13):
This version was released yesterdat, seems images didn't make it to the registry.

---

**Saurabh Sadhale** (2024-12-10 11:19):
These images are not in the registry:

```"registry.rancher.com/suse-observability/stackstate-correlate:7.0.0-snapshot.20241204151219-master-db9515b (http://registry.rancher.com/suse-observability/stackstate-correlate:7.0.0-snapshot.20241204151219-master-db9515b)":
"registry.rancher.com/suse-observability/stackstate-kafka-to-es:7.0.0-snapshot.20241204151219-master-db9515b (http://registry.rancher.com/suse-observability/stackstate-kafka-to-es:7.0.0-snapshot.20241204151219-master-db9515b)":
"registry.rancher.com/suse-observability/stackgraph-hbase:2.5-7.8.2 (http://registry.rancher.com/suse-observability/stackgraph-hbase:2.5-7.8.2)":
"registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.15 (http://registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.15)":
"quay.io/registry.rancher.com/suse-observability/elasticsearch-exporter:v1.7.0-03d6f56d (http://quay.io/registry.rancher.com/suse-observability/elasticsearch-exporter:v1.7.0-03d6f56d)":
"registry.rancher.com/suse-observability/stackstate-receiver:7.0.0-snapshot.20241204151219-master-db9515b (http://registry.rancher.com/suse-observability/stackstate-receiver:7.0.0-snapshot.20241204151219-master-db9515b)":
"registry.rancher.com/suse-observability/stackpacks:20241112130618-master-3aa249e-prime-selfhosted (http://registry.rancher.com/suse-observability/stackpacks:20241112130618-master-3aa249e-prime-selfhosted)":
"registry.rancher.com/suse-observability/stackstate-ui:7.0.0-snapshot.20241204151219-master-db9515b (http://registry.rancher.com/suse-observability/stackstate-ui:7.0.0-snapshot.20241204151219-master-db9515b)":```

---

**Saurabh Sadhale** (2024-12-10 11:20):
Or incorrectly tagged

---

**Remco Beckers** (2024-12-10 11:24):
We're looking into it. In the mean time, if you want to continue, you can use the previous version by specifiying `--version 2.1.0`  on the helm command

---

**Bram Schuur** (2024-12-10 12:16):
Dear Sam,

Thanks for shipping those logs. I went through the logs but saw nothing suspicious there. I've prepared the following commands to gather more data. This will allow you to get the logs straight from the data store and see whether they reached the platform. Run the following commands in the context of the observability cluster (can be ran from your local machine), be sure to replace the placeholders:
```kubectl port-forward -n &lt;SUSE_OBSERVABILITY_PLATFORM_NAMESPACE&gt; pod/suse-observability-elasticsearch-master-0 9200:9200
curl -X GET "http://localhost:9200/sts_k8s_logs/_search" -H 'Content-Type: application/json' -d'{"query": {"match": { "resource.pod_name": "&lt;PUT_POD_NAME_HERE&gt;" }}}'```
Could you rerun oyur experiment (e.g. redeploy the nginx pod) and run the above commands to see whether logs end up in the database?

---

**Vladimir Iliakov** (2024-12-10 13:18):
Did you try to deploy SCC https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/openshift_install#manually-create-secu[…]configuration-objects (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/openshift_install#manually-create-securitycontextconfiguration-objects) ?

---

**Sam Chen** (2024-12-10 14:07):
Hi Bram, it didn’t have any output, and I try to check experiment pod from dashboard and find out some UI issue.
the topology show experimentnginx-787cd95c89-ltv2c have log, but there is no log from `view all`

---

**Bram Schuur** (2024-12-10 14:13):
Okey, to correct the experiment:
• You need to run the portforward first in a separate tab (sorry i forgot to mention that). 
• Then you can call the curl command
Based on the screenshots you are sending i now see the logs for the nginx pod (so not needed to run the experiment i guess). It is not clear to me from the images you send what the ui issue is. Did the UI crash somehow when clicking `view all` ?

---

**Sam Chen** (2024-12-10 14:47):
Hi Bram, no worries, I already test those command in separate tab.
from the screenshot, I create a deployment for nginx (experimentnginx) and as mentioned earlier, some pod log didn’t collected.
the UI didn’t crush, but the log is still empty.

---

**Bram Schuur** (2024-12-10 15:07):
okay, so did you confirm the logs are elasticsearch using the curl command, just not in the UI?

---

**Bram Schuur** (2024-12-10 15:08):
could you ship the result of a succesful run of `curl -X GET "http://localhost:9200/sts_k8s_logs/_search" -H 'Content-Type: application/json' -d'{"query": {"match": { "resource.pod_name": "&lt;PUT_POD_NAME_HERE&gt;" }}}'`

---

**Bram Schuur** (2024-12-10 15:11):
shalll we do a call? (if that is ok for you at this time)

---

**Bram Schuur** (2024-12-10 15:11):
otherwise tomorrow is also fine

---

**Marc Rua Herrera** (2024-12-10 15:12):
Nope, trying it now

---

**Raif Ahmed** (2024-12-10 15:16):
Hi Team, I have found an issue with the image of prometheus-elasticsearch-exporter. the default value set it as "quay.io/registry.rancher.com/suse-observability/elasticsearch-exporter (http://quay.io/registry.rancher.com/suse-observability/elasticsearch-exporter)"

I change the values file and now it work fine as
```elasticsearch:
      prometheus-elasticsearch-exporter:
        image:
          registry: "registry.rancher.com (http://registry.rancher.com)"
          repository: "suse-observability/elasticsearch-exporter"```

---

**Bram Schuur** (2024-12-10 15:20):
@Remco Beckers @Vladimir Iliakov is this related to what you have been fixing or may this be something different?

---

**Remco Beckers** (2024-12-10 15:22):
We already have this fixed indeed and are releasing it now. Due to caching it will probably only be available tomorrow

---

**Remco Beckers** (2024-12-10 15:23):
To avoid this issue you can use the previous version for the time being by specifiying `--version 2.1.0`  on the helm command

---

**Raif Ahmed** (2024-12-10 15:24):
no problem i already set the image repo and registry explicitly

---

**Sam Chen** (2024-12-10 15:50):
Hi Bram, Im trying to figure out which time is works for us, since it’s mid-night at Taiwan.
tomorrow 18:00 should be ok for me, in your time zone it’s might be 11:00?

---

**Marc Rua Herrera** (2024-12-10 16:35):
I don't know if this is going to work. They already say this is going to give too much permisions

---

**Bram Schuur** (2024-12-10 16:43):
11:00 is my standup, 30 minutes before or after that is perfect

---

**Marc Rua Herrera** (2024-12-10 17:02):
Is it possible to change the path where hadoop logs are saved?

---

**Vladimir Iliakov** (2024-12-10 17:07):
SCC is the requirement to install Suse Observability to Openshift
https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/openshift_install#create-openshift-values.yaml
```Because OpenShift has stricter security model than plain Kubernetes, all of the standard security contexts in the deployment need to be disabled.```

---

**Sam Chen** (2024-12-11 00:20):
Got it, let’s call at 11:30. :pray:

---

**Marc Rua Herrera** (2024-12-11 10:56):
We solved it by disabling securityConetxt and changing the hadoop path to tmp

---

**Marc Rua Herrera** (2024-12-11 10:57):
It works now. Thanks Vladimir :smile:

---

**Vladimir Iliakov** (2024-12-11 11:02):
The problem is we can only provide support for the installations described in the official docs. So if the Customer hacks around something and later discovers some related issues they have to do it the "right" way.

---

**Vladimir Iliakov** (2024-12-11 11:03):
@Mark Bakker @Louis Lotter FYA

---

**Sam Chen** (2024-12-11 12:06):
the screenshot is here.

---

**matea.antolic** (2024-12-11 13:23):
Hi, as I recall, a few weeks ago we had problems with displaying logs. Logs were not fetched properly from backend, request was not triggered. This seems to be the same problem. The bug has been quickly fixed. What version of app is this? Maybe it’s older one, where bug exist.
Regarding to the stacktrace, I don’t think error is related to logs.

---

**Raif Ahmed** (2024-12-11 13:43):
Hi team, I'm trying to expose the router (suse-observability-router) as Nodeport. after a quick review of the chart code, it seems there is a common sub chart which is available for that
i change the values as follows
```    common:
      service:
        type: NodePort
        # externalTrafficPolicy: Cluster```
but the issue is that it changed many services suse-observability-receiver , suse-observability-router , suse-observability-ui

---

**Remco Beckers** (2024-12-11 13:52):
Yeah, we can't remove that verison. We released a 2.2.1 version that has the fix

---

**Remco Beckers** (2024-12-11 13:57):
Hi all, we've just released version 2.2.0 and 2.2.1 of SUSE Observability with a number of new features and bug fixes. Most of them are related to installation and configuration of SUSE Observability. For detailed release notes see
• https://docs.stackstate.com/self-hosted-setup/release-notes/v2.2.0
• https://docs.stackstate.com/self-hosted-setup/release-notes/v2.2.1
Note that the 2.2.0 version should not be used, right after releasing we found an issue that is fixed in the 2.2.1 version.

---

**Raif Ahmed** (2024-12-11 14:30):
@Remco Beckers  @Vladimir Iliakov  is there a way to configure single service as NodePort ??

---

**Remco Beckers** (2024-12-11 14:31):
Hi, The Helm chart itself doesn't support configuring Nodeports

---

**Remco Beckers** (2024-12-11 14:31):
It only supports setting up an ingress

---

**Amol Kharche** (2024-12-11 14:31):
I just reinstalled suse-observability with latest chart `v2.2.1` and now I can see logs in UI for nginx pod.

---

**Remco Beckers** (2024-12-11 14:32):
The easiest way right now to create a nodeport service is to make it yourself by making a copy of the router service

---

**Sam Chen** (2024-12-11 14:32):
the observability cluster image list:
```registry.rancher.com/suse-observability/clickhouse:23.8.13-debian-12-r0-b9530c97 (http://registry.rancher.com/suse-observability/clickhouse:23.8.13-debian-12-r0-b9530c97)
registry.rancher.com/suse-observability/clickhouse-backup:2.5.20-2b2c95ed (http://registry.rancher.com/suse-observability/clickhouse-backup:2.5.20-2b2c95ed)
registry.rancher.com/suse-observability/container-tools:1.4.1 (http://registry.rancher.com/suse-observability/container-tools:1.4.1)
registry.rancher.com/suse-observability/elasticsearch:8.11.4-cf68e2fa (http://registry.rancher.com/suse-observability/elasticsearch:8.11.4-cf68e2fa)
registry.rancher.com/suse-observability/elasticsearch-exporter:v1.7.0-03d6f56d (http://registry.rancher.com/suse-observability/elasticsearch-exporter:v1.7.0-03d6f56d)
registry.rancher.com/suse-observability/envoy:v1.19.1-e418b2bd (http://registry.rancher.com/suse-observability/envoy:v1.19.1-e418b2bd)
registry.rancher.com/suse-observability/hadoop:3.3.5-java11-8-949969df (http://registry.rancher.com/suse-observability/hadoop:3.3.5-java11-8-949969df)
registry.rancher.com/suse-observability/hbase-master:2.5-7.7.7 (http://registry.rancher.com/suse-observability/hbase-master:2.5-7.7.7)
registry.rancher.com/suse-observability/hbase-regionserver:2.5-7.7.7 (http://registry.rancher.com/suse-observability/hbase-regionserver:2.5-7.7.7)
registry.rancher.com/suse-observability/jmx-exporter:0.17.0-129c430a (http://registry.rancher.com/suse-observability/jmx-exporter:0.17.0-129c430a)
registry.rancher.com/suse-observability/kafka:3.3.1-08305c25 (http://registry.rancher.com/suse-observability/kafka:3.3.1-08305c25)
registry.rancher.com/suse-observability/kafkaup-operator:0.0.3 (http://registry.rancher.com/suse-observability/kafkaup-operator:0.0.3)
registry.rancher.com/suse-observability/minio:RELEASE.2021-04-22T15-44-28Z-7f17e5ba (http://registry.rancher.com/suse-observability/minio:RELEASE.2021-04-22T15-44-28Z-7f17e5ba)
registry.rancher.com/suse-observability/nginx-prometheus-exporter:1.1.0-6743974546 (http://registry.rancher.com/suse-observability/nginx-prometheus-exporter:1.1.0-6743974546)
registry.rancher.com/suse-observability/spotlight:5.2.0-snapshot.141 (http://registry.rancher.com/suse-observability/spotlight:5.2.0-snapshot.141)
registry.rancher.com/suse-observability/stackgraph-console:2.5-7.7.7 (http://registry.rancher.com/suse-observability/stackgraph-console:2.5-7.7.7)
registry.rancher.com/suse-observability/stackgraph-hbase:2.5-7.7.7 (http://registry.rancher.com/suse-observability/stackgraph-hbase:2.5-7.7.7)
registry.rancher.com/suse-observability/stackpacks:20241023120811-master-3b44c5c-prime-selfhosted (http://registry.rancher.com/suse-observability/stackpacks:20241023120811-master-3b44c5c-prime-selfhosted)
registry.rancher.com/suse-observability/stackstate-correlate:7.0.0-snapshot.20241023133226-master-a9f30a7 (http://registry.rancher.com/suse-observability/stackstate-correlate:7.0.0-snapshot.20241023133226-master-a9f30a7)
registry.rancher.com/suse-observability/stackstate-kafka-to-es:7.0.0-snapshot.20241023133226-master-a9f30a7 (http://registry.rancher.com/suse-observability/stackstate-kafka-to-es:7.0.0-snapshot.20241023133226-master-a9f30a7)
registry.rancher.com/suse-observability/stackstate-receiver:7.0.0-snapshot.20241023133226-master-a9f30a7 (http://registry.rancher.com/suse-observability/stackstate-receiver:7.0.0-snapshot.20241023133226-master-a9f30a7)
registry.rancher.com/suse-observability/stackstate-server:7.0.0-snapshot.20241023133226-master-a9f30a7-2.5 (http://registry.rancher.com/suse-observability/stackstate-server:7.0.0-snapshot.20241023133226-master-a9f30a7-2.5)
registry.rancher.com/suse-observability/stackstate-ui:7.0.0-snapshot.20241023133226-master-a9f30a7 (http://registry.rancher.com/suse-observability/stackstate-ui:7.0.0-snapshot.20241023133226-master-a9f30a7)
registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.14 (http://registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.14)
registry.rancher.com/suse-observability/tephra-server:2.5-7.7.7 (http://registry.rancher.com/suse-observability/tephra-server:2.5-7.7.7)
registry.rancher.com/suse-observability/victoria-metrics:v1.93.14-e17e24af (http://registry.rancher.com/suse-observability/victoria-metrics:v1.93.14-e17e24af)
registry.rancher.com/suse-observability/vmagent:v1.93.14-f69ecbeb (http://registry.rancher.com/suse-observability/vmagent:v1.93.14-f69ecbeb)
registry.rancher.com/suse-observability/vmbackup:v1.93.7-b11ba275 (http://registry.rancher.com/suse-observability/vmbackup:v1.93.7-b11ba275)
registry.rancher.com/suse-observability/vminsert:v1.103.0-cluster-d94345cb (http://registry.rancher.com/suse-observability/vminsert:v1.103.0-cluster-d94345cb)
registry.rancher.com/suse-observability/vmselect:v1.103.0-cluster-cf63b26d (http://registry.rancher.com/suse-observability/vmselect:v1.103.0-cluster-cf63b26d)
registry.rancher.com/suse-observability/vmstorage:v1.103.0-cluster-dc396072 (http://registry.rancher.com/suse-observability/vmstorage:v1.103.0-cluster-dc396072)
registry.rancher.com/suse-observability/wait:1.0.10-025450d9 (http://registry.rancher.com/suse-observability/wait:1.0.10-025450d9)
registry.rancher.com/suse-observability/zookeeper:3.8.4-c7c0422c (http://registry.rancher.com/suse-observability/zookeeper:3.8.4-c7c0422c)```

---

**Remco Beckers** (2024-12-11 14:32):
Note that the router doesn't handle Open Telemetry traffic, if you want that you need to also expose the service for the opentelemetry-collector

---

**Sam Chen** (2024-12-11 14:33):
agent cluster image list:
```registry.rancher.com/suse-observability/container-tools:1.4.0 (http://registry.rancher.com/suse-observability/container-tools:1.4.0)
registry.rancher.com/suse-observability/generic-sidecar-injector:sha-5678567f (http://registry.rancher.com/suse-observability/generic-sidecar-injector:sha-5678567f)
registry.rancher.com/suse-observability/http-header-injector-proxy-init:sha-5ff79451 (http://registry.rancher.com/suse-observability/http-header-injector-proxy-init:sha-5ff79451)
registry.rancher.com/suse-observability/http-header-injector-proxy:sha-5ff79451 (http://registry.rancher.com/suse-observability/http-header-injector-proxy:sha-5ff79451)
registry.rancher.com/suse-observability/promtail:2.9.10-5400572f (http://registry.rancher.com/suse-observability/promtail:2.9.10-5400572f)
registry.rancher.com/suse-observability/stackstate-k8s-agent:62594359 (http://registry.rancher.com/suse-observability/stackstate-k8s-agent:62594359)
registry.rancher.com/suse-observability/stackstate-k8s-cluster-agent:62594359 (http://registry.rancher.com/suse-observability/stackstate-k8s-cluster-agent:62594359)
registry.rancher.com/suse-observability/stackstate-k8s-process-agent:a964a0c5 (http://registry.rancher.com/suse-observability/stackstate-k8s-process-agent:a964a0c5)```

---

**Raif Ahmed** (2024-12-11 14:34):
Ok although I think we have many deployments without ingress controller so Service NodePort and ExternalIPs should be a helm option.

---

**Raif Ahmed** (2024-12-11 14:34):
Should I add a feature request or there is already one ?

---

**Remco Beckers** (2024-12-11 14:35):
We can of course add that. Let me notify @Mark Bakker to see how to add that

---

**Remco Beckers** (2024-12-11 14:35):
How would you deal with certificates in that case though? Do you generate a certificate for the ip address?

---

**Remco Beckers** (2024-12-11 14:36):
Or is there a load balancer somewhere in front that handles TLS and has a nice domain name?

---

**Raif Ahmed** (2024-12-11 14:36):
No we can have an External dns mapping the nodeip or external ip

---

**Remco Beckers** (2024-12-11 14:37):
Aha ok. That makes sense.

---

**Raif Ahmed** (2024-12-11 14:37):
I was also trying to set the certificate but not for the ingress but for the router pod itself

---

**Raif Ahmed** (2024-12-11 14:38):
If there is an option for that

---

**Remco Beckers** (2024-12-11 14:39):
Nope. There is no option for that. It is envoy so it can support it, but we don't via the Helm chart. We tell users to handle it themselves from the "outside"

---

**Remco Beckers** (2024-12-11 14:42):
I can see how, next to an Ingress, a Nodeport can help witht that. I never got that question but maybe Mark did.

---

**Raif Ahmed** (2024-12-11 14:45):
please keep in mind that we do have installations without ingress controller especially on K3s

---

**Bram Schuur** (2024-12-11 15:00):
@Sam Chen the images you sent correspond to 2.1.0 or our helm chart, could you upgrade to 2.2.1 and see whether that resolves the issues?

---

**Sam Chen** (2024-12-11 15:21):
Hi @matea.antolic, @Bram Schuur, I’m trying upgrade from v2.2.0 to v2.2.1, I’ll be back when I got the result.
Thanks for your help.:+1:

---

**Brian Six** (2024-12-11 21:11):
Couple questions from my last call: 1) Is there any way to track who the user was that made a change in the cluster?  Could that be exposed? 2) Have any integrations been done with ServiceNow(is there a stackpack for servicenow).  This would be for ticket/case and CMDB integration.

---

**David Noland** (2024-12-12 00:17):
@Mark Bakker Currently we only have "SUSE Observability 1.0" listed in SCC. Should we add the versions listed in the release notes? (2.0.0, 2.0.1, 2.0.2, 2.1.0, 2.2.0, 2.2.1)? It's very easy to add these, just want to make sure most customers know which version they are running.

---

**David Noland** (2024-12-12 00:22):
@Remco Beckers Also, the date format next to the releases is a little confusing for USAers because we use mm/dd/yyyy (I know, makes no sense, but it matches with our other craziness like Fahrenheit, feet, pounds, etc.) Could you consider using a format like DD-MON-YYYY like 12-DEC-2024 to make it more internationally friendly?

---

**Sam Chen** (2024-12-12 01:04):
Hi @Bram Schuur, after upgrade to 2.2.1, it’s resolve the issue.
Thanks you guys for supporting me.:+1:

---

**Mark Bakker** (2024-12-12 08:05):
@David Noland yes that makes sense. Please add them

---

**Remco Beckers** (2024-12-12 08:27):
Ha, the date format is a good point. Didn't think of that (just used the same one as was done for previous releases). Personally I prefer 2024-12-09 (similar to the iso-standard), but most normal people find that confusing :smile: . I'll update it to use the 3-letter month

---

**Vladimir Iliakov** (2024-12-12 08:58):
That is 1000*‰* true :smile:

---

**Remco Beckers** (2024-12-12 09:06):
One more question. Would you expect TLS also to be handled by our router etc? We don't support that either but with just external-dns and a nodeport service I don't see where you would off-load the TLS encryption

---

**Raif Ahmed** (2024-12-12 09:39):
Yes I agree with you this would be a challenge. Not sure if you have any client with strict point to point encryption requirements as the normally rejected any edge termination including ingress

---

**Remco Beckers** (2024-12-12 09:42):
Not that I know. Though we advise to always use TLS, otherwise passwords and api keys go in plain text over the network.

---

**Ravan Naidoo** (2024-12-12 12:16):
Question 1:
SUSE Observability just reads what is in Kubernetes.  If Kubernetes doesn’t track the user, then observability cannot.  That would be an interesting feature for Rancher. If security goes through Rancher, wonder if it could add annotations to resources?  I don’t know.

Question 2.
Yes in the past we integrated with ServiceNow.  ITSM / CMDB is so large so it really depends on the use cases.  In SUSE Observability you could setup a Webhook notification to send to ServiceNow,

---

**Brian Six** (2024-12-12 13:30):
Makes sense.  Thanks.

---

**Maxime Vielle** (2024-12-12 17:48):
Hello, how easy is it for a SUSE Cloud Observability customer to adopt further SUSE/ Rancher technologies? Is there a migration needed? If so what's the path to get there?

---

**Maxime Vielle** (2024-12-12 17:49):
Can SUSE Cloud observability be adopted on top of RedHat Openshift?

---

**Maxime Vielle** (2024-12-12 18:08):
Is SUSE Cloud Observability only sold through AWS? Or is there an on-premise SKU?

---

**Mark Bakker** (2024-12-12 18:30):
It's called Cloud Observability, meaning it's a SaaS offering

---

**Paul Gonin** (2024-12-12 18:33):
SUSE Observability is for on prem

---

**Maxime Vielle** (2024-12-12 20:23):
Is there a SKU for SUSE Observability on-premise?

---

**Jorn Knuttila** (2024-12-12 20:45):
It’s part of the SUSE Rancher Prime solution(s)

---

**David Noland** (2024-12-12 21:20):
Mark - thanks for confirming. I'll put in a request to get those versions added in SCC. Remco, thanks for getting the date formats adjusted. YYYY-MM-DD is good too.

---

**David Noland** (2024-12-13 00:02):
I've put it a PR to update the versions on SCC. Usually takes a 1-2 days to go live...

---

**kevin.ayres** (2024-12-13 00:23):
“SUSE Observability” non-cloud component of Rancher Prime and Rancher Suite could be installed on-premise or on EC2 but totally unrelated to the SaaS offering.  So it would not make sense for a Prime BYOS customer to purchase the SaaS offering.  No migration path in or out of the SaaS offering.  It’s really targeting upstream Rancher or any k8s users and would plug in fine to any cluster, even RedHat, unless I’m missing something

---

**kevin.ayres** (2024-12-13 00:23):
So - what Paul and Jorn said

---

**kevin.ayres** (2024-12-13 00:45):
I'm betting we have folks throughout the org that are not clear on much of this. I'm sure some enablement is coming.

---

**kevin.ayres** (2024-12-13 01:04):
And I believe StackPacks are not being carried forward. Someone can confirm?

---

**Maxime Vielle** (2024-12-13 10:01):
Thank you Kevin, in short SUSE Cloud Observability on AWS is for customer acquisition targeting non-Rancher Prime customers. One question remains though: Once we acquire a customer with SUSE Cloud Observability, how do we convert them into a Rancher Prime customer?

---

**Raif Ahmed** (2024-12-13 11:00):
Hi Team, another question. I'm trying to deploy the Agent using fleet and it seems some manual work to extract the yaml from helm template and try to overwrite values using Kustomize. Not sure but do we have fleet deploying agent in the road map ?

---

**Mohamed Elnemr** (2024-12-13 11:01):
maybe something for @Mark Bakker @Vladimir Iliakov @Remco Beckers ?

---

**Jeroen van Erp** (2024-12-13 11:03):
@Raif Ahmed Can you explain? Which yaml do you need to extract from Helm template?

---

**Raif Ahmed** (2024-12-13 11:12):
The agent deployment yaml file

---

**Raif Ahmed** (2024-12-13 11:13):
I want to deploy and manage the agent deployment using fleet

---

**Remco Beckers** (2024-12-13 11:16):
I thought fleet supports Helm charts as well to install applications. Am I mistaken about that? Or is there another reason to prefer plain yaml with kustomize?

---

**Jeroen van Erp** (2024-12-13 11:16):
It does actually, so that’s what I’m also wondering

---

**Jeroen van Erp** (2024-12-13 11:16):
The only thing that _could_ be tricky is that the cluster_name depends on the cluster fleet it deploying to

---

**Raif Ahmed** (2024-12-13 11:16):
Yes but in this case it would be helmchart crd

---

**Jeroen van Erp** (2024-12-13 11:17):
The other 2 could have a static value (share the ingestion key)

---

**Raif Ahmed** (2024-12-13 11:17):
So the files itself will not be managed

---

**Raif Ahmed** (2024-12-13 11:18):
Which is not making alot of sense for auto healing and other features

---

**Raif Ahmed** (2024-12-13 11:19):
I hope you got my point now

---

**Raif Ahmed** (2024-12-13 11:36):
So regarding my question, Do you think there will be a fleet deployment feature for the agent ?

---

**Remco Beckers** (2024-12-13 11:49):
To be honest I still don't understand the problem with using the Helm chart in Fleet. What files will not be managed? And why does auto healing (I can't find that feature in the fleet docs though) not work for Helm charts? For context: we don't have any experience with Fleet, for our own deployments we use ArgoCD which does have features like auto-sync (I guess that is what auto healing would do), it simply uses our Helm chart to install SUSE Observability

---

**Remco Beckers** (2024-12-13 11:51):
At the moment there is no custom installation planned for any specific tool and we don't have any custom installation options either. So we need to properly understand why that would be required for Fleet.

---

**Raif Ahmed** (2024-12-13 12:39):
ok so can you share with me any docs or sample explaining the proper way from SUSE Observability point of view to deploy the agent using fleet, Did you tried yourself before ?

---

**Vladimir Iliakov** (2024-12-13 12:52):
I guess Fleet can't deploy Charts from the Helm repositories, only from Git repositories containing sources for Helm charts.

---

**Raif Ahmed** (2024-12-13 12:52):
it does actually

---

**Vladimir Iliakov** (2024-12-13 12:53):
The doc is not clear on that, so that was my assumption.

---

**Raif Ahmed** (2024-12-13 12:53):
my concern is if you have a docs or something that we can follow

---

**Vladimir Iliakov** (2024-12-13 12:53):
We haven't deployed agent's chart with Fleet

---

**Raif Ahmed** (2024-12-13 12:53):
i noticed there are some switches for argocd

---

**Raif Ahmed** (2024-12-13 12:53):
ok so i'm testing it now anyway

---

**Raif Ahmed** (2024-12-13 13:09):
So if i tried to deploy only the values mention in the helm install instructions to fleet. I get error
```Chart disabled, not creating secret and webhook```
My fleet file is
```defaultNamespace: default
helm:
  chart: suse-observability-agent
  repo: https://charts.rancher.com/server-charts/prime/suse-observability
  values:
    # httpHeaderInjectorWebhook:
    #   enabled: true
    stackstate:
      apiKey: ' RLXg24puOag2ObH9PEtEisTA6VcFLI0I'
      cluster:
        name: rancher
      url: http://54.170.109.234:30465/receiver/stsAgent```

---

**Raif Ahmed** (2024-12-13 13:10):
then i tried to generate a full values file from a standard helm install. it pass this error but still fail

---

**Raif Ahmed** (2024-12-13 13:11):
```description: &gt;-
      Release "suse-observability-agent-agent" failed: failed pre-install:
      context deadline exceeded```

---

**Raif Ahmed** (2024-12-13 13:17):
Just in case anyone want to have a look https://github.com/raif-ahmed/fleet-suse-observability

---

**Vladimir Iliakov** (2024-12-13 13:17):
https://charts.rancher.com/server-charts/prime/suse-observability is protected with authentication, not sure if you handles this somehow

---

**Raif Ahmed** (2024-12-13 13:18):
this is the chart repo you can browse it with helm client

---

**Remco Beckers** (2024-12-13 13:18):
It's indeed not protected with authentication afaik

---

**Raif Ahmed** (2024-12-13 13:18):
I have a client call now talk to you later

---

**Vladimir Iliakov** (2024-12-13 13:25):
All examples here https://fleet.rancher.io/tut-deployment use Git repositories and not Helm repositories.

---

**Vladimir Iliakov** (2024-12-13 13:26):
The Git repo for the agent chart is https://github.com/StackVista/helm-charts/tree/master/stable/suse-observability-agent

---

**Remco Beckers** (2024-12-13 13:26):
@Vladimir Iliakov Apparently this is how you can use a helm chart registry: https://github.com/raif-ahmed/fleet-suse-observability/blob/main/agent/fleet.yaml

---

**Jeroen van Erp** (2024-12-13 13:37):
The GitRepo is where the `fleet.yaml` is stored

---

**David Noland** (2024-12-13 23:44):
For Hosted Rancher, we are considering switching from auto-deploying manifests (https://docs.k3s.io/installation/packaged-components#auto-deploying-manifests-addons) to Fleet. For our StackState agent, we are putting this into Fleet:
```apiVersion: v1
kind: Namespace
metadata:
  name: stackstate
---
apiVersion: helm.cattle.io/v1 (http://helm.cattle.io/v1)
kind: HelmChart
metadata:
  name: stackstate-k8s-agent
  namespace: stackstate
spec:
  chart: stackstate-k8s-agent
  repo: https://helm.stackstate.io
  targetNamespace: stackstate
  valuesContent: |-
    stackstate:
      apiKey: KEYHERE
      cluster:
        name: %CLUSTER_NAME%
      url: https://suseus-trial.app.stackstate.io/receiver/stsAgent
  version: 1.0.96```
And use Kustomize to put in the cluster name.

---

**David Noland** (2024-12-13 23:45):
@Surya Boorlu on my team has been working on this.

---

**Raif Ahmed** (2024-12-14 22:32):
@David Noland I see you are using HelmChart, I also tried HelmChart and it worked for me for stackstate itself not the agent. but for agent i wanted to use fleet helm functionality but it is failing, let me know if you or @Surya Boorlu have the same issue. I'm planning to look carefully next week.
Thanks for sharing your experience

---

**Oliver Ries** (2024-12-16 19:29):
hey everyone, I wanted to introduce @Ben Craft to the team - he joins SUSE today in his role as AWS integration engineer where he will help SUSE in our SaaS journey, by helping us craft integration roadmaps of AWS services into SUSE products, advising us in taking new products to market as a SaaS, and by discussing related topics like multi-tenancy roadmaps with the respective teams

---

**Louis Lotter** (2024-12-16 19:34):
@Ben Craft hi. welcome !

---

**Peter Smails** (2024-12-16 19:44):
Welcome aboard Ben!!

---

**Jeroen van Erp** (2024-12-16 19:52):
Welcome Ben!

---

**Ben Craft** (2024-12-16 19:53):
Thank you! excited to be here

---

**kevin.ayres** (2024-12-16 22:21):
well, I've just learned that Rancher Prime will be a SaaS listing on AWS after March (current container based MP listings will be pulled down), and Rancher Prime SaaS itself will not necessarily contain Observability. So, an EKS customer could, for example, buy the Rancher SaaS (including Security) and the Cloud Observability SaaS separately. I think some of this is still up in the air.

---

**kevin.ayres** (2024-12-16 22:22):
idk if Mark/Paul can verify any of this?..

---

**Remco Beckers** (2024-12-17 09:35):
Hi @Ben Craft :wave:

---

**Maxime Vielle** (2024-12-17 12:26):
Interesting, thank you for sharing

---

**Mark Bakker** (2024-12-17 12:49):
Hi All, at the moment for SaaS we indeed have the SUSE Cloud Observability listing, the exact path to get them converted to Prime and/or higher tiers depends on feedback and is something we as an organization need to figure out, we got some early feedback from Prime customers that they also like to use their Observability as a SaaS service instead of running it themself.
In the coming months we will learn and adapt.
If you receive any feedback from customers/ prospects on this subject, please share it so we can track this.

---

**Mark Bakker** (2024-12-17 12:50):
We like to be as data and feedback driven as possible :slightly_smiling_face:

---

**Genevieve Cross** (2024-12-17 15:54):
Welcome, @Ben Craft!

---

**Mark Bakker** (2024-12-17 16:55):
Welcome Ben!

---

**Garrick Tam** (2024-12-17 19:15):
IHAC seeing this error.  Is this a client end issue or server side?

---

**Surya Boorlu** (2024-12-18 02:55):
@Raif Ahmed Actually, I am working on hosted rancher deployment via fleet using gitops with placeholders for patching the versions. I tried to deploy the agent using fleet and deployed it.

---

**Remco Beckers** (2024-12-18 08:06):
This is server-side there have been some more reports on TLS handshake timeouts when authenticating to the registry (via an anonymous token in this case). It is being worked on afaik

---

**Paul Gonin** (2024-12-18 08:12):
this is an issue on the SUSE registry, currently investigated

---

**Raif Ahmed** (2024-12-18 10:49):
@Surya Boorlu Can you share with me the repo

---

**Surya Boorlu** (2024-12-18 14:28):
@Raif Ahmed I don’t have the repo ready. The code is being changed based on my testing. Will share once it is ready.

---

**Gabriel Lins** (2024-12-18 18:47):
Hello everyone, I noticed that a Rancher Prime customer has a SUSE Observability license (I guess that isn't a subscriptions yet since this will be attached with Rancher Prime Suite) in SCC that is set to expire on February 1st.
Our premium support at this customer would like to install Observability to begin experimenting with the platform. The question is: Will a new license be generated automatically after the expiration date, or do we need to request a new one? Migrating it to a production environment, will need to change the subscription?

---

**Tapas Nandi** (2024-12-19 08:47):
Hello Team,

Do we have hosted Observability solution like Hosted Rancher.

---

**Andreas Prins** (2024-12-19 08:50):
@Mark Bakker for you to comment on

---

**Paul Gonin** (2024-12-19 09:06):
https://aws.amazon.com/marketplace/search/results?searchTerms=suse+observability

---

**Tapas Nandi** (2024-12-19 09:08):
Thank you @Paul Gonin, for the quick response,  I want to know if this platform will be managed by us like we do for Rancher Hosted or it will be managed by customer themselves.

---

**Paul Gonin** (2024-12-19 09:09):
this is the SaaS marketplace, it's managed by SUSE teams, not by customer

---

**Tapas Nandi** (2024-12-19 09:09):
@Paul Gonin Thanks a lot

---

**Paul Gonin** (2024-12-19 09:09):
the order and setup process is different though, more 'direct' and self served

---

**Tapas Nandi** (2024-12-19 09:09):
Understood

---

**Andreas Prins** (2024-12-19 09:11):
however... that was why i tagged Mark. this is not the full version as you've seen during the training. this is the suse cloud obsvervability version. We do have dreams for the full platform but that is not yet in place.

---

**Tapas Nandi** (2024-12-19 09:14):
Understood @Andreas Prins Will reply to customer accordingly. :slightly_smiling_face:

---

**Mark Bakker** (2024-12-19 09:54):
Sorry for the reply, but indeed as @Andreas Prins answered.
I like to understand the question from the customer/ prospect, are they a Prime customer searching for Hosted/ SaaS observability or are they a prospect for a Hosted/ SaaS Observability solution for Kubernetes or anything else @Tapas Nandi?

---

**Tapas Nandi** (2024-12-19 12:00):
@Mark Bakker Yes they are already a Rancher Prime customer and wanted to evaluate Observability and how it would be useful for them, today we gave a Demo and presentation of Observability and this question came up where they asked if we have a SaaS offering like we have for Hosted Rancher.

---

**tiernan.ohalmhain** (2024-12-19 13:53):
Hi, do you have the subscription details? In theory the end dates should be aligned.

---

**Gabriel Lins** (2024-12-19 13:59):
@Mauricio Alves da Silva Perez Could you provide the subscription details?

---

**Gabriel Lins** (2024-12-19 13:59):
I assume the expiration should be on the same date as the Rancher Prime expiration. Does that make sense?

---

**Mauricio Alves da Silva Perez** (2024-12-19 14:02):
Hi, the Observability expiration date is Jan 31, 2025.
The Rancher Prime expiration date is Dec 19, 2027.

---

**tiernan.ohalmhain** (2024-12-19 14:02):
Oh, interesting. Please raise a ticket.

---

**Mauricio Alves da Silva Perez** (2024-12-19 14:07):
@tiernan.ohalmhain, a Jira ticket?

---

**tiernan.ohalmhain** (2024-12-19 14:08):
Yes please. We will need to look at this one with the SCC team.

---

**Mauricio Alves da Silva Perez** (2024-12-19 14:10):
Ok, thank you...

---

**kevin.ayres** (2024-12-21 00:48):
@Tapas Nandi how did you deliver the Demo? i.e. the Playground, a recorded Demo, your own deployment (on prem or CSP?) Thanks - just curious what people are doing

---

**Tapas Nandi** (2024-12-23 04:06):
Hello Kevin,
I used the playground to give the demo.

---

**Gaby Beitler** (2024-12-23 14:09):
X-posting here

---

**Remco Beckers** (2024-12-23 14:13):
Did they do that via the AWS Marketplace?
If so did they fill out the registration form that AWS links to after hitting "Subscribe"?

---

**Remco Beckers** (2024-12-23 14:16):
Or did they use the trial on the stackstate.com (http://stackstate.com) website?

---

**Gaby Beitler** (2024-12-23 14:39):
No, through the sign up page on the site

---

**Remco Beckers** (2024-12-23 14:53):
It seems that everyone who receives those requests is already on vacation for the holidays. At least we didn't get the request yet.

If you want to get started with it before the new year it probably works fastest if you can get the info from the form (First name, last name, email address, company name and country) and send it to us via Slack in this thread for example.

---

**Gaby Beitler** (2024-12-23 15:06):
The customer is also on PTO. This will need to wait until their return.

---

**Remco Beckers** (2024-12-23 15:07):
Ok. Then I guess that's fine. I guess they can now make full use of the 14 days trial instead having half of it pass during PTO :slightly_smiling_face:

---

**Louis Lotter** (2024-12-23 16:42):
@Mark Bakker :point_up:

---

**Nick Zhao** (2024-12-24 14:48):
hi team,  my prospect has met an issue for SO deployment as below snapshot?  what’s wrong with the helm installation values?  any comments are appreciated.  thanks so much.

---

**Amol Kharche** (2024-12-24 16:45):
Could you please check your `helm version`? If it's not the latest, could you try upgrading it and then try helm upgrade install ?

---

**Nick Zhao** (2024-12-24 18:24):
got it .  thank you

---

**Louis Lotter** (2024-12-26 10:07):
@Amol Kharche thanks for helping out here !

---

**Tapas Nandi** (2024-12-27 10:51):
Hello Team,
I have installed Observability on RKE2 on VM with resource "16 cores, 32 GB Mem and 350 GB Storage" The profile i choose was "10-nonha". The installation went fine, I also created the Ingress and I am able to login, However Post logging in I am not able to see anything apart from views. As per documentation I should be able to see a cli option on top left corner but i am not able to see it. Am I missing something here , Please guide.

---

**Tapas Nandi** (2024-12-27 10:52):
This is all i can see

---

**Tapas Nandi** (2024-12-27 10:52):
In the document I am at this step: https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#obtain-a-service-token

---

**Tapas Nandi** (2024-12-27 10:56):
I also tried by exposing the router service as a LoadBalancer but the same result

---

**Bram Schuur** (2024-12-27 10:56):
Hey Tapas, I've got standup in a few minutes but can help you out in 30 minutes (16:00 your local time), shall we have a call then?

---

**Tapas Nandi** (2024-12-27 10:56):
Will Do @Bram Schuur Thanks a lot

---

**Tapas Nandi** (2024-12-27 10:57):
Ping me whenever you get free and we can start

---

**Amol Kharche** (2024-12-27 11:02):
Is the License key is correct ?

---

**Tapas Nandi** (2024-12-27 11:02):
Generated it just now from SCC

---

**Tapas Nandi** (2024-12-27 11:07):
This is what is shows in SCC

---

**Tapas Nandi** (2024-12-27 11:07):
and here is my base config

---

**Amol Kharche** (2024-12-27 11:09):
I believed the key should be in  `"ABCDE-LMNOP-ABCDE"` format.

---

**Amol Kharche** (2024-12-27 11:09):
try this one "KE7UD-Q0VDQ-JM76A"

---

**Tapas Nandi** (2024-12-27 11:10):
I just followed the Document and it said to fetch it from SCC.
License key
A license key for SUSE Observability server can be obtained via the SUSE Customer Center in the Subscription tab and will be shown as "SUSE Observability" Registration Code. This license is valid until the end of your Rancher Prime subscription.

---

**Tapas Nandi** (2024-12-27 11:11):
Let me try the key you gave I will update

---

**Tapas Nandi** (2024-12-27 11:17):
Do i have to reinstall or templating and helm upgrade should work

---

**Amol Kharche** (2024-12-27 11:18):
You have to uninstall , rerun `helm template`   command and then `helm upgrade install`

---

**Tapas Nandi** (2024-12-27 11:18):
:bang-head:

---

**Tapas Nandi** (2024-12-27 11:20):
is the ingress file correct
nv-n1:~ # cat ingress_values.yaml
ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
  hosts:
    - host: observability.demolabs.com (http://observability.demolabs.com)

---

**Remco Beckers** (2024-12-27 11:26):
Regarding suggestions to handling such cases: we have created an Advanced troubleshooting guide that might be helpful and there is the log collection script also in the troubleshooting section of the docs (if you didn't find it already): https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/advanced-troubleshooting

---

**Giovanni Lo Vecchio** (2024-12-27 11:30):
Thank you all!

@Amol Kharche, I suspected, you gave me certainty!

---

**Amol Kharche** (2024-12-27 11:36):
By the way, By using invalid key I am able to reproduced your issue.
key I used `ABCDE-Q0VDQ-JM76A`  which is invalid.

---

**Tapas Nandi** (2024-12-27 11:36):
well changing the key worked

---

**Tapas Nandi** (2024-12-27 11:37):
Had a chat discussion with @Bram Schuur, He will raise a TT to get a clear message when using wrong key. Thanks a lot @Bram Schuur again for the help. Thank a lot @Amol Kharche for helping me out of the issue.

---

**Tapas Nandi** (2024-12-27 11:38):
Have been struggling since last night

---

**Bram Schuur** (2024-12-27 11:44):
I created the following two tickets
• https://stackstate.atlassian.net/browse/STAC-22177
• https://stackstate.atlassian.net/browse/STAC-22178

---

**Tapas Nandi** (2024-12-27 11:45):
I will check and add info in it

---

**Tapas Nandi** (2024-12-27 14:24):
Hello Team,
Stuck in another issue :disappointed:
I have installed Observability, however I am trying to integrate it with Rancher , I enabled the Extensions and also generated the token but when i enter the details it just tells me  connection to SUSE Observability failed.

---

**Tapas Nandi** (2024-12-27 14:24):
Here is the error

---

**Tapas Nandi** (2024-12-27 14:25):
I have tried Adding IP, port no resolution

---

**Remco Beckers** (2024-12-27 14:30):
Have you tried by adding the protocol in front? So `https://...`

---

**Tapas Nandi** (2024-12-27 14:30):
yes it doesnt allow you to put it there

---

**Bram Schuur** (2024-12-27 14:31):
did you setup TLS for your installation iirc it is required to have

---

**Remco Beckers** (2024-12-27 14:31):
Aha, then I expect it adds https automatically

---

**Remco Beckers** (2024-12-27 14:31):
It requires TLS indeed

---

**Tapas Nandi** (2024-12-27 14:31):
No i skipped the part of tls in ingress as it said it is optional

---

**Bram Schuur** (2024-12-27 14:32):
I'll fix that in the docs right away

---

**Remco Beckers** (2024-12-27 14:32):
Not for the extension sadly. Apparently that's a Rancher + extension thing, though I'm not sure why that is

---

**Tapas Nandi** (2024-12-27 14:32):
oouch .. That calls for a modification again . :neutral_face:

---

**Tapas Nandi** (2024-12-27 14:33):
so i need to modify my ingress to have tls

---

**Tapas Nandi** (2024-12-27 14:33):
```ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
  hosts:
    - host: stackstate.MY_DOMAIN
  tls:
    - hosts:
        - stackstate.MY_DOMAIN
      secretName: tls-secret```

---

**Tapas Nandi** (2024-12-27 14:33):
Any idea what my descret name should be

---

**Bram Schuur** (2024-12-27 14:36):
@Remco Beckers MR: v

---

**Bram Schuur** (2024-12-27 14:36):
https://github.com/StackVista/stackstate-docs/pull/1563

---

**Tapas Nandi** (2024-12-27 14:38):
Also While installing the STS CLI with the quick start method the install.sh script has a line where is checks for sts command in /usr/local/bin using whereis -q. However in SLES there is no -q parameter in whereis , because of which the script fails. i downloaded the script added the variables of URL and token inside the file modified the whereis -q to only whereis and it worked.

---

**Tapas Nandi** (2024-12-27 14:38):
can we make this modification in the actual script

---

**Bram Schuur** (2024-12-27 14:41):
going to check it @Tapas Nandi

---

**Bram Schuur** (2024-12-27 14:46):
@Remco Beckers another one to review: https://github.com/StackVista/stackstate-cli/pull/90

---

**Remco Beckers** (2024-12-27 14:57):
I was trying something out to see if you can avoid having to setup an ingress including a valid TLS certificate. But it seems to not work

---

**Bram Schuur** (2024-12-27 14:58):
Would be great if we could at least improve the error message maybe?

---

**Remco Beckers** (2024-12-27 14:58):
(I thought we could use Rancher to proxy access to the Suse observability service, but that does not work out-of-the-box)

---

**Remco Beckers** (2024-12-27 14:58):
If it had worked that would have been nice yeah

---

**Remco Beckers** (2024-12-27 14:59):
&gt; Any idea what my descret name should be
@Tapas Nandi You mean the secret name?

---

**Remco Beckers** (2024-12-27 15:00):
That must be a secret with a valid TLS certificate for the domain you used for SUSE Observability

---

**Tapas Nandi** (2024-12-27 15:00):
Yes sorry for the typo

---

**Tapas Nandi** (2024-12-27 15:00):
I am using an internal domain demolabs.com (http://demolabs.com) for which i have an internal DNS

---

**Remco Beckers** (2024-12-27 15:01):
Then you need a TLS certificate for that domain or the subdomain where you run SUSE Observability

---

**Remco Beckers** (2024-12-27 15:02):
We use Let's encrypt to get those (using cert-manager in Kubernetes to create them for us automatically)

---

**Tapas Nandi** (2024-12-27 15:02):
Yes but in lets encrypt i would need a actual domain

---

**Tapas Nandi** (2024-12-27 15:02):
:disappointed:

---

**Tapas Nandi** (2024-12-27 15:03):
Mine is an entire NAT setup which has external access

---

**Remco Beckers** (2024-12-27 15:04):
I haven't done this manually for ages, so I'm afraid I don't know how to get a valid certificate exactly

---

**Tapas Nandi** (2024-12-27 15:04):
can i setup tls between Rancher and Observability server

---

**Tapas Nandi** (2024-12-27 15:04):
if yes can you suggest anyway of doing it.

---

**Remco Beckers** (2024-12-27 15:06):
How do you mean "between"? You need to setup TLS for the ingress of Observability server, so Rancher can use the https protocol

---

**Tapas Nandi** (2024-12-27 15:07):
Forgive me for not being clear i am sitting with this from last 28 hours now :disappointed:

---

**Remco Beckers** (2024-12-27 15:07):
Do you even need the extension installed in Rancher?

---

**Tapas Nandi** (2024-12-27 15:08):
Yes, because when giving an Demo of the ECM Suite we include all the components and that is a crucial parts customers ask for.

---

**Rodolfo de Almeida** (2024-12-27 15:09):
@Tapas Nandi
I configured certmanager to use let's encrypt for trusted CA certificates a few weeks ago. I used this video as a reference.
https://www.youtube.com/watch?v=hoLUigg4V18

---

**Tapas Nandi** (2024-12-27 15:09):
@Rodolfo de Almeida Are you using an actual domain or internal domain which doesnt exists outside.

---

**Bram Schuur** (2024-12-27 15:10):
@Tapas Nandi anonther option could be ngrok (but that is pretty shaky)

---

**Remco Beckers** (2024-12-27 15:10):
But in that case some of your colleagues must have a similar setup they use or not?

---

**Tapas Nandi** (2024-12-27 15:11):
Not yet . We just say that its possible but customers ask us to show it. so a working demo is required.

---

**Tapas Nandi** (2024-12-27 15:13):
Well, I am going to try something, if it works i will update and document it, may be we could include that in our official documentation

---

**Tapas Nandi** (2024-12-27 15:13):
I just noticed that even my stackpacks are stuck in awaiting for data from last 3 hours

---

**Tapas Nandi** (2024-12-27 15:14):
i mean the kubernetes agent ones.

---

**Remco Beckers** (2024-12-27 15:14):
The problem with any of these is that it is very dependent on the customer environment how to set this up. I think with a small change we might be able to use the rancher service proxy to access it instead actually

---

**Tapas Nandi** (2024-12-27 15:14):
That would be great

---

**Rodolfo de Almeida** (2024-12-27 15:16):
@Tapas Nandi I configured my cluster in Digital Ocean which offers a free DNS for us.

---

**Tapas Nandi** (2024-12-27 15:17):
Ah!! Thats why Lets encrypt worked, mine wont because its an internal DNS. I will try to create a TLS and get it to work, hope it does. If not then I shift to AWS. :disappointed:

---

**Tapas Nandi** (2024-12-27 15:18):
And wait for @Remco Beckers to make the required changes so that I can use Rancher service proxy itself

---

**Remco Beckers** (2024-12-27 15:18):
I can't promise much, I need someone else to make the changes and we need to get it planned in the sprint somewhere in the new year

---

**Tapas Nandi** (2024-12-27 15:19):
Thats fine @Remco Beckers, Let me know if you need me to test anything. I am up for it.

---

**Tapas Nandi** (2024-12-27 15:19):
Dont worry about the time zone I am almost Batman now :bat:

---

**Tapas Nandi** (2024-12-27 20:38):
Ok, So I tried to create a self signed certificate and creating a secret of it and then assign it to the observability but even that didn't work out and i got new error: tls: failed to verify certificate: x509: certificate signed by unknown authority). Seems like I have to shift entire thing to a valid cert authority.
But just a food for thought, we will need a way to allow self signed certificate because many customers especially in airgapped env work with intranet and self signed certs.

---

**Tapas Nandi** (2024-12-28 20:11):
So, I even tried this https://docs.stackstate.com/self-hosted-setup/security/self-signed-certificates#overview but still the same issue :disappointed:

---

**Bram Schuur** (2024-12-30 15:29):
@Tapas Nandi I've started working on this story to make a non-TLS verison possible: https://stackstate.atlassian.net/browse/STAC-22179 and have a question about your setup: Do you have rancher exposed over TLS? Or is it also on your local machine without TLS?

---

**Tapas Nandi** (2024-12-30 15:32):
I have both setups

---

**Bram Schuur** (2024-12-30 15:35):
Okey, so would the proposed solution help you? Requiring rancher over TLS but allowing SUSE Observability over non-TLS?

---

**Tapas Nandi** (2024-12-30 17:49):
Yes it will definitely i believe

---

**Tapas Nandi** (2024-12-30 17:49):
Sorry for the delayed response i was driving

---

**Tapas Nandi** (2024-12-30 17:49):
If u want me to test anything let me know

---

**Alejandro Bonilla** (2024-12-31 01:40):
With 1.32 the release also includes a generally available improvement to the Kubelet to generate and export OpenTelemetry trace data. This aims to make monitoring, detecting, and resolving issues related to the Kubelet easier.
Do we do anything with that?

---

**Remco Beckers** (2025-01-02 09:19):
We don't do anything special with that and to be honest we haven't even tried it ourselves afaik. But you should be able to configure it and see services and service instances appear in SUSE Observability topology, with their related traces and trace metrics (latency, etc).

I think these are the docs (https://kubernetes.io/docs/concepts/cluster-administration/system-traces/) for enabling tracing in Kubelet and the API server. I would suggest having them send their data to an OTEL collector in the cluster that adds the extra information and authentication. Setup of the collector is documented in our docs (https://docs.stackstate.com/open-telemetry/collector#kubernetes-configuration-and-deployment).

For getting comlete traces you might also want to look into  (https://github.com/containerd/containerd/blob/main/docs/tracing.md#sending-traces-from-containerd-daemon)enabling traces in containerd.

Be aware that, in the default setup, each service does its own sampling (1 in 1000 spans), so you may see only very few traces that are across multiple services.

---

**Benoît Loriot** (2025-01-02 16:05):
Hello, do you know if we have done any kind of integration between Stackstate and Harvester yet? Thanks

---

**Nick Zhao** (2025-01-03 04:25):
hi team, my prospect has deployed SUSE Observability, but got pod error,  I've attached the log file about kafka pod and snapshot for those unhealthy deployment.  Please help, thanks.

---

**Amol Kharche** (2025-01-03 05:59):
This means that some of the pods in that deployments is not running. The logs file does not indicate any error. It would be great if you can attach full logs.
https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/support-package-logs

---

**Nick Zhao** (2025-01-03 06:57):
here it is,  thanks bro.

---

**Amol Kharche** (2025-01-03 07:54):
From the CrashLoopBackOff pod logs, The errors indicate that the required Kafka topics are currently missing. I'm not sure why this is happening. We'll need to wait for a response from the StackState engineering team to address this.  @Remco Beckers @Bram Schuur

---

**Remco Beckers** (2025-01-03 09:17):
They can be missing because it might have taken a long time for Kafka to start and the job that creates the topics might have already failed earlier (this was the exact troubleshooting demo I gave during the last support meeting). I don't see any other obvious errors in the logs, so everything seems to be running ok now.

The easiest way to create the topics is by running the `helm upgrade` command to do an "upgrade" (no pods will be really affected if you don't make any changes in configuration). It will start the `create-topic` job again, it should be able to create the topics without a problem now and after that the pods in crashloopbackoff should also recover

---

**Louis Lotter** (2025-01-03 09:20):
I'm not aware of any. @Mark Bakker is this planned ?

---

**Mark Bakker** (2025-01-03 09:41):
@Benoît Loriot there is no official integration yet.
There is a demo integration made by @Ravan Naidoo but as far as I know nothing is planned to productize this yet.

---

**Mark Bakker** (2025-01-03 09:42):
@Benoît Loriot what is the reason for asking?

---

**Benoît Loriot** (2025-01-03 10:15):
The customer cannot use the Monitoring Stack included in Harvester because of Grafana's AGPL license which is not allowed.

---

**Benoît Loriot** (2025-01-03 10:16):
I'm answering a RFP and one item is "The supplier shall provide the capacity to monitor the virtual machines running on the Virtualization layer."

---

**Benoît Loriot** (2025-01-03 10:17):
So I was thinking maybe Stackstate can do the job as they will also have Kubernetes workloads

---

**Mark Bakker** (2025-01-03 10:18):
It can do the job indeed, but at this moment that needs some custom work since the integration is not yet productized.
But you can add some consultancy effort to get this to yes (the consultant providing the solution mentioned above).

---

**Benoît Loriot** (2025-01-03 10:19):
(I just realized you are in an email thread where the AGPL license subject is discussed, it is for Alstom customer))

---

**Benoît Loriot** (2025-01-03 10:20):
Thanks I will mention that it can be done and mention the limitations/consulting effort

---

**Yingluo Zhang** (2025-01-06 04:48):
hi  Team ,our customer want to  install suse observability ,but  When checking license keys in SCC, why is the Observability license period different from RancherPrime, How should we handle this inconsistency? Thanks .

---

**tiernan.ohalmhain** (2025-01-06 11:42):
Given that they're on one of the older SKUs, they had the license manually provisioned, which will not necessarily be captured on renewal if the renewal is not done on the new SKUs, or it can simply be that they were provisioned the keys with different dates as a result of the manual workaround.

In terms of handling, please raise a ticket and we'll work with the provisioning teams to get this corrected.

Please include the account number and license registration number.

---

**Yingluo Zhang** (2025-01-06 11:50):
Thanks so much for your respons @tiernan.ohalmhain , where should I raise the ticket?

---

**tiernan.ohalmhain** (2025-01-06 11:50):
Service Desk.

---

**tiernan.ohalmhain** (2025-01-06 11:50):
As an Incident.

---

**Yingluo Zhang** (2025-01-06 11:51):
Got it ,Thanks so much for your help.:thumbs-up:

---

**tiernan.ohalmhain** (2025-01-06 13:16):
Do let me know the ticket number once you have it.

---

**Derek So** (2025-01-08 05:14):
Hi Team, regarding the 60 days free trial for SUSE Observability, is there any details on how a prospect will experience this after signing up? What will they receive to start the trial? What’s the process behind the scenes after they signed it up at our landing page? Thanks!

---

**Mark Bakker** (2025-01-08 09:04):
They should get an email with login instructions.

---

**Mark Bakker** (2025-01-08 09:05):
But be aware there is a manual process between the signup for the 60 day trial and the start of the trial.

---

**Mark Bakker** (2025-01-08 09:05):
Which prospect is asking?

---

**Derek So** (2025-01-08 09:46):
Thanks @Mark Bakker! We have a plan to promote this 60 day free trial program in a local marketing campaign in China. Just wonder how automated the trial onboarding process is and the user experience looks like. @Jenny Yeh might have other questions?

---

**Mark Bakker** (2025-01-08 09:46):
Everything is automated except the list --> trial part (for the 60 days trial)

---

**Mark Bakker** (2025-01-08 09:47):
For AWS Marketplace users everything is automated

---

**Jenny Yeh** (2025-01-08 09:50):
Is it correct that if we'd like to promote this page in China (the landing page content will be in Chinese), we might need to follow up with the registers by sending them email with login instructions? I submitted my registration earlier today and this is the page i was directed to @Mark Bakker

---

**Mark Bakker** (2025-01-08 09:51):
@Genevieve Cross @Louis Lotter did we get this registration

---

**Jenny Yeh** (2025-01-08 09:53):
We are wondering if it's possible to share the login instructions you guys have for the non-AWS Marketplace users with us so we could possibly replicate it while promoting this program in China?

---

**Giulio Todini** (2025-01-08 12:03):
good morning, i have a commercial question. is there a clear document explaining the different way to access SUSE observability? I mean, I am a Rancher Prime customer, how does it works  in terms of resources? as on premise user do I have to install the server on one of my clusters? and if I need a dedicated one? DO i have access to the AWS observability? and if so everything is included or I will be charged for the aws instances where the server is running?

---

**Stephen Mogg** (2025-01-08 13:40):
Hi - Is there a specific contact I can work with around documentation?   I have written a 'getting-started' guide for SUSE Cloud Observability, but didn't want to just throw it across in a PR.

---

**Louis Lotter** (2025-01-08 13:55):
@Stephen Mogg I think it best you just share it here with a PR so the guys can take a look.

---

**Louis Lotter** (2025-01-08 13:57):
I will create the tickets in a bit

---

**Genevieve Cross** (2025-01-08 14:07):
Confirmed. I received this request.

---

**Genevieve Cross** (2025-01-08 14:10):
Hi @Jenny Yeh! I’m thrilled that you would like to promote SUSE Cloud Observability in China. However, we have a few top of the funnel assets that may work better than the free trial. I’ll pulled together a list of the assets that are available to use and send them to you.

---

**Genevieve Cross** (2025-01-08 14:11):
@Louis Lotter - This was just a test from Jenny therefore an actual license does not need to be created.

---

**Stephen Mogg** (2025-01-08 14:21):
https://github.com/StackVista/stackstate-docs/pull/1567

---

**Stephen Mogg** (2025-01-08 14:21):
Still needs some refinement - but it's not linked from anywhere in the main document.

---

**Louis Lotter** (2025-01-08 14:40):
@Daniel Barra @Amol Kharche can you guys take a first look here ? if you have questions etc. we can get some of the engineers involved.

---

**John Pugh** (2025-01-08 14:52):
Probably not a detailed enough doc. The Rancher Prime getting started guide (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime) has much of that information for Rancher Prime users.
As for access to AWS observability...Are you referring to SUSE Cloud Observability  or observing EKS workloads or something else? SUSE Cloud Observability is an offering they would want to subscribe to IF they are not a SUSE Rancher Prime subscriber. Being a marketplace option, the SUSE Cloud Observability offering would include what's in it's description (https://aws.amazon.com/marketplace/pp/prodview-mki25avh5xgiw).

---

**Giulio Todini** (2025-01-08 14:52):
Actually I am referring to SUSE observability

---

**Giulio Todini** (2025-01-08 14:54):
Thanks for the link I didn’t check the observability part

---

**John Pugh** (2025-01-08 14:59):
FYI...this Guide (https://suse.highspot.com/items/66df695eb0a4e937cec9605d) may help.

---

**Gaby Beitler** (2025-01-08 15:07):
From a subscription standpoint, if a customer wants to run the the observability stack on-prem how do we need to provision a separate Rancher Prime Suite subscription for each host?

---

**John Pugh** (2025-01-08 15:37):
From this clarification (https://suse.slack.com/archives/C02ER7LFAR2/p1736335917755199?thread_ts=1736272876.346729&amp;cid=C02ER7LFAR2) the answer is the nodes/vcpus would be included as management overhead and thus would not count towards subscription costs.

---

**Amol Kharche** (2025-01-08 17:29):
Sure @Louis Lotter

---

**Daniel Barra** (2025-01-08 18:33):
@Stephen Mogg Do you think will be nice, to have the rancher side of configuration?

---

**Jenny Yeh** (2025-01-09 03:25):
Hello @Genevieve Cross understood - much appreciated for your help!

---

**Genevieve Cross** (2025-01-09 03:29):
@Jenny Yeh I’m updating the SUSE Cloud Observability Campaign in a box so it will be easy for you to find the assets, etc. I should have this completed by end of the week or earlier.

---

**Marc Rua Herrera** (2025-01-09 13:15):
Is there any way to set some defaults for the visualisation settings? Every time I access a new view, I have to enable layers/domains and disable all direct relations

---

**Anton Ovechkin** (2025-01-09 14:15):
nothing that I am aware of, it could be a nice UX improvement @Mark Bakker @Ovidiu Boc

---

**Stephen Mogg** (2025-01-09 18:10):
HI @Daniel Barra - Thanks for all the suggestions / corrections so far.    Can you expand on your suggestion (or DM me if it's easier).

---

**Vijay Mecheri** (2025-01-09 19:45):
Hi,
I am exploring to setup SUSE Observability in my Laptop using local DNS, Ingress controller with MetalLB and self signed TLS.
I am able to login into the dashboard successfully, but I am unable to fetch the data from after installing the agent.
Server API endpoint is also accessible over https.
Attaching screen shot for your reference.

---

**Shaun Gardiner** (2025-01-09 19:46):
Good day team, forgive me for a rookie question but how will customers download Observability? Is it done through the App Collection or something different?  I thought there would be specific downloads in SCC but I dont see anything there

---

**Shaun Gardiner** (2025-01-09 20:21):
I think I answered my own question:
This will require that you are installing Rancher from the Prime repo (https://scc.suse.com/rancher-docs/rancherprime/latest/en/suse-rancher-prime/migrating-to-the-prime-registry.html) (https://scc.suse.com/rancher-docs/rancherprime/latest/en/suse-rancher-prime/migrating-to-the-prime-registry.html (https://scc.suse.com/rancher-docs/rancherprime/latest/en/suse-rancher-prime/migrating-to-the-prime-registry.html) ​​​​​​​). Once you are pulling images from the Prime repo:
1. *Enable Observability:* Within the Rancher UI, navigate to the cluster you want to monitor and enable the observability feature. This will deploy the necessary monitoring components.
2. *Access the Observability UI:* Once enabled, you can access the observability UI to view dashboards, configure alerts, and analyze your data

---

**David Noland** (2025-01-09 20:47):
Install directions can be found at https://docs.stackstate.com/self-hosted-setup/install-stackstate

---

**John Pugh** (2025-01-09 20:59):
It is available with a valid Rancher Prime subscription, but customers who don't have a rancher prime subscription can use SUSE Cloud Observability from the Amazon Marketplace.

---

**John Pugh** (2025-01-09 21:02):
Your browser still shows a security issue...are you sure TLS is not the issue?

---

**Jeroen van Erp** (2025-01-09 22:20):
@Shaun Gardiner , the steps you've outlined are I think the old rancher monitoring components. Suse observability is installed separately through a helm Chart, see David's link

---

**Jeroen van Erp** (2025-01-09 22:21):
Did you disable tls verification in the agent helm Chart install?

---

**Vijay Mecheri** (2025-01-10 06:14):
Yes, I tried even that option as well, but no luck.

---

**Nick Zhao** (2025-01-10 15:47):
hi team, Do we have a complete list of features that customers can quickly compare with their existing monitoring platforms?

---

**jfelisky** (2025-01-10 16:08):
Is this a problem, or normal?  The Observability entitlement in SCC expires in Jan (this month) but this is not aligned to Rancher Prime expiration.

---

**Josh Stringfellow** (2025-01-10 16:24):
That is normal, I have been told it should automatically update at the end of the month

---

**jfelisky** (2025-01-10 17:35):
If the update fails to happen, what is the behavior in the interface?  Or is it completely disconnected from the funcionality.

---

**Nick Zhao** (2025-01-13 11:11):
@Mark Bakker hi Mark, do you have any materials for reference? thank you.

---

**Wilco van der Stek** (2025-01-13 16:00):
Hi,

Small question, when installing an agent, I did use a service token to add an agent to the server. With server 2.2.1 and agent 1.0.14, this fails. When trying it with an api key, it is working fine.

I need to use the predefined api key, which is entered as boot-strap in the server.yaml file. Did something change?

---

**Jeroen van Erp** (2025-01-13 16:15):
Are the roles defined correctly for the bootstrap token? What response did you get?

---

**Wilco van der Stek** (2025-01-13 17:35):
It is executed thru Ansible, when I look via sts, this is the output

---

**Wilco van der Stek** (2025-01-13 18:03):
I will drop a note on you private Slack channel

---

**Gabriel Lins** (2025-01-13 20:34):
Hello,
Can we view log output from the Rancher UI integration? I’m experiencing an issue and need to debug it. What is the best way to proceed?

---

**Remco Beckers** (2025-01-14 08:05):
The agent doesn't support using Service tokens. Service tokens are intended for usage with the SUSE Observabilty CLI and/or direct interaction with our API.

The agent only works with API keys, either the one that was generated/specified when installing or the ingestion API keys that can be generated and expired using the cli.

---

**Wilco van der Stek** (2025-01-14 08:08):
Yes. I wrote it wrong, sorry, I am using an api key and found that my config is working with values 1.0.2, but not with 1.0.7..... I have to look into this.

---

**Remco Beckers** (2025-01-14 08:09):
That is strange indeed

---

**Wilco van der Stek** (2025-01-14 08:09):
Changed the initial question

---

**Wilco van der Stek** (2025-01-14 08:09):
I will do some more testing today, if I have the time

---

**Louis Lotter** (2025-01-14 08:10):
@Anton Ovechkin can you help out here ?

---

**Remco Beckers** (2025-01-14 08:18):
The 1.0.7 version is the version of the suse-observability-values helm chart (I think you are referring to that chart, it's the only one with a 1.0.7 version).

It works only with the recent versions of the suse-observability helm chart itself. If you didn't check that yet I would first try to use the latest version of that helm chart.

---

**Wilco van der Stek** (2025-01-14 09:01):
Yes, tested with 1.0.7 (values), 2.2.1 (server) and 1.0.14 (agent). Will do some more testing and keep you posted

---

**Anton Ovechkin** (2025-01-14 09:21):
I am not aware if that is something included to the extension framework, and we have just a few of `console.log` statements logging configuration of the SUSE Obs clusterrepo.

What you would wish to see in the logs? We might try to get some info from HTTP requests in the devtools now and improve the logging after

---

**Wilco van der Stek** (2025-01-14 10:13):
I am testing a server, with the agent installed on that server and activated the stackpack.

I tested my setup (ansible) with values 1.0.2, server, 2.2.1 and agent 1.0.14 and that's working fine, I do see the stackstate server cluster in the ui.

When only changing the values chart to 1.0.7, it is failing. Enclosed are the 2 different values which I generated. I also tried to add receiverApiKey to the templating, but also failing.

Where can I find more info what has changed in 1.0.2 vs 1.0.7 and what I do need to change in the config files? When installing the server, I do set these values in the values.yaml file

```global:
  storageClass: {{ suse_observability_pvc_storageclass }}
  receiverApiKey: {{ suse_observability_receiver_api_key }}```
The generated baseConfig_values files thru templating:

```v1.0.2 generated baseConfig_values.yaml values (replaced some values with xxxx):
global:
  receiverApiKey: "aVdA0Zwg7uwxiCDXbTcFKWvB87cXV5My"

stackstate:
  baseUrl: "suse-xxxxxx-so-server-xxxxxxx.xxxxxx.net"
  admin:
    authentication:
      password: "$2a$10$w8oHJFgDe381XEQHH.akZOSi05Wrjd4GzWsfidRXmoQA3fmbCddLS"
  authentication:
    adminPassword: "$2a$10$OO0CPAX6BhxiEqQVO32h/ulhmUA/.gqdc70Iqux3jZhun2YQ.tY2W"
  license:
    key: "xxxx-xxxx-xxx```
```v1.0.7 generated baseConfig_values.yaml values (replaced some values with xxxx):

global:
  imageRegistry: "registry.rancher.com"

stackstate:
  baseUrl: "suse-xxxxxxxx-so-server-xxxxxx.xxxxxxxxx.net"
  authentication:
    adminPassword: "$2a$10$O9enSuIO2tVFllikH8vnCuLflbiHzqaeJ6NEhJWAuIBk2/1JGJVuO"
  apiKey:
    key: "Dp6LMZ0AhPXEG0AfKPzjBYjIvXsqZCe4"
  license:
    key: "xxxx-xxxx-xxxx"```

---

**Christian Scherm** (2025-01-14 10:30):
Hi Team,
I had a call yesterday with our customer Westnetz (Energy Provider). I pitched SUSE Observability and they seemed very interested. Two questions arrises which I couldn't answer:

1. Do we use RBAC from Rancher also for StackState. They provide the service for different clients and want to be sure that engineer 1 sees  only the services, pods and co. from clusters and namespaces they are allowed to.
2. Meta information/scope? What can Westnetz see? Only evaluated information (processed by us) or is there access to raw data? Can the raw data be forwarded to other tools like Splunk?
All in all they are super technical, I offered a call with our experts. Who would be the Domain Solution Architect for Observability which I can approach for a call?

Ok, maybe there is a third question. If they use Cilium for example, are we collecting data from there es well? Can we troubleshoot network issues then? I answered that with yes, but I'm not 100% sure if that is true.

Thank you for your help.

---

**Remco Beckers** (2025-01-14 10:37):
The new values file has a different api key (it also got moved, but that's an intended change for the new helm chart). So after using that values file you will also need to update the agent to use the new api key (in `stackstate.apiKey.key` ). Alternatively you can copy the value from `global.receiverApiKey` in the old base_values to the `stackstate.apiKey.key`  in the new values and redeploy suse observability itself.

---

**Remco Beckers** (2025-01-14 10:38):
Normally you don't need to regenerate new `baseConfig_values` , because that also regenerates the secrets (apikey and admin password). We make sure to stay backward compatible.

---

**Jeroen van Erp** (2025-01-14 10:42):
Hi Christian!

1. Utilizing RBAC in Rancher is currently being worked on by the Observability Dev team. @Louis Lotter or @Mark Bakker might be able to give some timelines on that.
2. All information stored in the stores is accessible through APIs, for metrics we have a prometheus compatible API to extract metrics. For logs forwarding to Splunk is possible, though no out of the box solution is provided.
3. AFAIK we’re not collecting data from Cillium directly, but we’re collecting the same (network level) data they’re collecting if our eBPF agent is running. @Bram Schuur might be able to provide a bit more color here.

---

**Louis Lotter** (2025-01-14 11:19):
Rbac is our engineering team's primary focus so rapid progress can be expected. Timelines I would defer to Mark :slightly_smiling_face:

---

**Ravan Naidoo** (2025-01-14 11:37):
Christian I can help you with follow up calls. I’m in the DSA group.

---

**Mark Bakker** (2025-01-14 11:57):
Hi Nick, does this help: https://www.stackstate.com/product/platform/

---

**Nick Zhao** (2025-01-14 12:10):
got it,  this link provided some features description and values for business of SO.  i will make a feature list base on it.  Thank you so much.

---

**Wilco van der Stek** (2025-01-14 12:22):
Hi,

I have changed the agent to use the suggestion you gave, but I do get an error and, as far as I know, I do enter a string, but got an error.

This is the content of my values file:
```stackstate:
  apiKey:
    key: "xxxx-xxxxx-xxxxx"
  cluster:
    name: os-server
  url:
    https://suse-xxxxxxx-so-server-proxmox.xxxxxx.net/receiver/stsAgent```
When executing helm with
```helm --version=1.0.14 upgrade -i --reset-values --wait --create-namespace suse-obs-agent suse-observability/suse-observability-agent -f values.yml```
I do get an error
```Release "suse-obs-agent" does not exist. Installing it now.
Error: values don't meet the specifications of the schema(s) in the following chart(s):
suse-observability-agent:
- stackstate.apiKey: Invalid type. Expected: string, given: object```
Do you know what I am doing wrong?

---

**Remco Beckers** (2025-01-14 12:26):
The `apiKey`  in your values file is an object (its `key` property is a string, but the agent helm chart doesn't expect a key property) .

The correct syntax is:
```stackstate:
  apiKey: "xxxx-xxxxx-xxxxx"
  cluster:
    name: os-server
  url:
    https://suse-xxxxxxx-so-server-proxmox.xxxxxx.net/receiver/stsAgent```

---

**Wilco van der Stek** (2025-01-14 12:38):
Got it working, thanks. Where can I find the info about changes like this?

---

**Remco Beckers** (2025-01-14 12:46):
I don't think there are any docs because there wasn't a breaking change afaict.

The reason agent data was not accepted anymore is because you generated new values using the values helm chart,  that also generates a new api key. That step is not part of the upgrade procedure but only of the installation procedure.

Because you now had a new api key the agent needed to be updated as well using the new api key. In general it is a good idea to upgrade the stackpacks and the agent after upgrading SUSE Observability itself to get all the latest functionality, but because of the api key change it was required now.

The UI for the Kubernetes Stackpack gives a copy/pasteable command including the api key that should be used by the agent.

If there are any breaking changes they will be communicated in our upgrade notes: https://docs.stackstate.com/self-hosted-setup/upgrade-stackstate/version-specific-upgrade-instructions.

---

**Remco Beckers** (2025-01-14 12:47):
Maybe we need to put more emphasize on the fact that the `helm template suse-observability-values` step should only be done during installation?

---

**Jeroen van Erp** (2025-01-14 12:49):
And only needed for the Suse-observability chart and not the agent chart

---

**Wilco van der Stek** (2025-01-14 12:49):
It was, every test, a complete new install of the server and agent, no upgrade or anything else

---

**Mark Bakker** (2025-01-14 13:02):
if you have a basis feel tree to share it and I can provide  feedback.

---

**Remco Beckers** (2025-01-14 13:18):
Ok. That's clear then. But in that case I guess you used the same values (with the same api key) for the agent.

But for the server you used different values with a different api key.

---

**Wilco van der Stek** (2025-01-14 13:20):
When I look at the difference(s), there is only 1. With 1.0.7, I added
```receiverApiKey: "{{ suse_observability_receiver_api_key }}"```
When creating the values files, beside this all is the same as with 1.0.2

---

**Remco Beckers** (2025-01-14 13:22):
Yes. But the difference between the helm charts wasn't even the problem. If you would have created new values with the 1.0.2 suse-observability-values chart you would have gotten also a new api key that was different from the one before

---

**Wilco van der Stek** (2025-01-14 13:23):
I am creating a values file, every time a server is installed, the installation is from scratch, also the files. I never reuse any files when installing a server

---

**Remco Beckers** (2025-01-14 13:24):
Yes I understand. So for every server installation you get a new api key

---

**Wilco van der Stek** (2025-01-14 13:24):
No, it is always the same, I predefine it

---

**Remco Beckers** (2025-01-14 13:24):
Aha ok. That's where our misunderstanding is.

---

**Remco Beckers** (2025-01-14 13:24):
Then I have no idea why it didn't work before and what you changed to make it work

---

**Wilco van der Stek** (2025-01-14 13:25):
The only difference it, when creating the values file with
```receiverApiKey: "{{ suse_observability_receiver_api_key }}"```

---

**Wilco van der Stek** (2025-01-14 13:26):
When installing the server, I do set the global.receiverApiKey to the same value. Did something change with this?

---

**Remco Beckers** (2025-01-14 13:29):
Yes and no:
1. The `global.receiverApiKey` in the suse-observability helm chart is still supported (i.e. backward compatible)
2. Starting from 2.2.0 suse-observability it is deprecated, the new key is `stackstate.apiKey.key` 
3. The 1.0.7 suse-observability-values Helm chart generates the values for suse-observability using the new location: `stackstate.apiKey.key`

---

**Wilco van der Stek** (2025-01-14 13:30):
Ok, than I do not have an explanation. However, I can reproduce it, but for now, thanks

---

**John Pugh** (2025-01-14 14:35):
Whoop! Impressive teamwork!

---

**Claudio Serrano** (2025-01-14 15:37):
question in regards to Platform optimization - Am I correct to assume ( looking at previous  threads), that this is will include cost management and automation features, but at what level ? Application fine tuning ? What does / will it consist of ?   Prospect is asking what this means.. also I understand that we have a SKU out there...  when will it be available

---

**tiernan.ohalmhain** (2025-01-14 15:49):
Platform Optimization add-on for Rancher Prime is already available.

---

**Claudio Serrano** (2025-01-14 16:04):
yes.. but what does it consist of ?

---

**tiernan.ohalmhain** (2025-01-14 16:05):
That I don't know. @Mark Bakker is best placed to answer that question I think.

---

**Yingluo Zhang** (2025-01-14 17:27):
Hi SUSE Observability experts,

Our customer, `BMW Brilliance Automotive Ltd (A058385)`, plans to install SUSE Observability in their production environment. However, they are currently facing issues related to TLS certificates:

1. The customer is using an `internal CA certificate`. After installing the SUSE Observability agent, they found that it could not communicate with the Observability server, resulting in an x509 certificate validation error.
2. The customer tried installing the agent using Helm with the parameter ``nodeAgent.skipKubeletTLSVerify=true``, but the agent still could not communicate with Server.
3. Due to compliance requirements, the customer is not allowed to use HTTP.

Here are my questions:
1. Does SUSE Observability support self-signed TLS certificates?
2. Is there a workaround to resolve this issue? For example, can the customer’s CA certificate be directly added to the SUSE Observability agent container image? If yes, where should the certificate be placed in the container image?

Thank you very much!

---

**Gabriel Lins** (2025-01-14 18:15):
If there were the ability to display a more intuitive error message when attempting to connect the SUSE Observability extension via Rancher UI, it would make troubleshooting easier. I am only seeing an error that says "_Connection to SUSE Observability failed_," and I cannot identify the reason

---

**Melonie Smith** (2025-01-14 18:24):
Please refer to the product announcement sent out on October 31, 2024, which contained some of this information such as SKUs. For further details contact Mark Bakker. https://www.suse.com/storage/partner/pa/announcements/all/2024/20532.html

---

**Vladimir Iliakov** (2025-01-14 18:36):
Hi Yingluo,
`nodeAgent.skipKubeletTLSVerify=true` is used to for the agent - kubelet connection.
To make the agent  ignore "invalid"/unknown server certificate the customer has to use `--set-string 'global.skipSslValidation'=true`

---

**Claudio Serrano** (2025-01-14 21:27):
@Melonie Smith .. yes I´m aware of that link, but it doesnt say anything in concrete to the question that I asked .. "optimize their platform to prevent issues and reduce MTTR", does not explain what it consists of ..  will await @Mark Bakker

---

**Melonie Smith** (2025-01-14 21:28):
Yes, but it does provide the link with part numbers.

---

**Claudio Serrano** (2025-01-14 21:30):
yes it does... but to a prospect part numbers dont mean much .. its the contents that matter , ie: we know what Observability / Security / Rancher Prime / Storage /Virtualization  actually is... just the Platform Optimization is the unknown.. but thanks for your feedback anyway Melonie

---

**Melonie Smith** (2025-01-14 21:31):
I understand, but part of your question was asking when the SKUs would be available.

---

**Melonie Smith** (2025-01-14 21:32):
The PA has that information and what the SKUs are. I realize it is vague on what Observability includes.

---

**Anton Ovechkin** (2025-01-15 09:18):
hey @Gabriel Lins
I am sorry you got that generic error message only, but 502 can give some insights

It might be that the service token is invalid, but in that case you’d get 401. The issue must occur before the auth step.

Rancher proxies the API calls so I maybe it is related to it. Let me clarify that in <#C050E1NKTCJ|>

---

**Anton Ovechkin** (2025-01-15 09:21):
BTW, does your SUSE Observability instance `observability.masprvs.lab` works fine?

---

**Jeroen van Erp** (2025-01-15 10:05):
@Bram Schuur @Frank van Lankvelt You might be able to help Zia

---

**Frank van Lankvelt** (2025-01-15 10:17):
seems to be an outdated identifier indeed.  @Zia Rehman could you try with identifier `urn:stackpack:common:monitor-function:threshold` for the monitor function identifier?

---

**Frank van Lankvelt** (2025-01-15 10:40):
can you check if `deployment` is a label on the promql query results?

---

**Zia Rehman** (2025-01-15 10:48):
There is no separate query result for `deployment` it comes with other parameters like:  `kubernetes_state_deployment_replicas_available` , `kubernetes_state_deployment_count` etc.

---

**Frank van Lankvelt** (2025-01-15 10:56):
those are metrics.  Can you execute the promql query you're giving the monitor in the metrics explorer and check that `deployment` is a column in the result?

---

**Zia Rehman** (2025-01-15 11:31):
Yes it is showing.

---

**Hugo de Vries** (2025-01-15 13:34):
Platform Optimization Add-On exists as a SKU already to cover the intgerations we need to maintain outside Rancher for existing customers, like Vmware, Splunk and Dynatrace. The Platform Optimization Add-On that is on the roadmap is now described to have platform cost, sustainability and right-sizing functionality. This is all still in the design phase for now though, so would advise not to focus on it yet in your current sales cycles. This is more a question for @Mark Bakker though

---

**Mark Bakker** (2025-01-15 14:08):
@Hugo de Vries thanks for your reply, and indeed this is the current state and the first features for it are currently on the roadmap for FY25H2

---

**Claudio Serrano** (2025-01-15 14:13):
Thank you @Hugo de Vries and @Mark Bakker.. good info that will be relayed to customer

---

**Gabriel Lins** (2025-01-15 15:28):
Yes, we are able to access SUSE Observability UI and connect cluster downstream via agent with no problem

---

**Gabriel Lins** (2025-01-15 15:28):
cc. @Mauricio Alves da Silva Perez

---

**Gabriel Lins** (2025-01-15 18:57):
Hi all,
Maybe a roadmap question here, but I would like to know if we intend to recommend SUSE Observability as a replacement for our Monitoring solution in the marketplace.
Additionally, if it serves as a substitute, will we have access to the same pre-configured dashboards we used to have on Grafana? Will it be possible to export these dashboards to SUSE Observability?

---

**Jeroen van Erp** (2025-01-15 18:58):
@Mark Bakker One for you to answer

---

**Frank van Lankvelt** (2025-01-15 19:28):
I've no idea what could be the problem - afaik the labels are stored in the remediation hint template parameters with the health state.  An so should be available when rendering the remediation hint.

---

**Mark Bakker** (2025-01-16 12:14):
Hi @Gabriel Lins you mean our Monitoring and Logging V2 solution I guess. Customers can use SUSE Observability instead, if they however rely on custom build dashboards they need to see if that information is already out of the box available (which can very well be the case).
If so we recommend this indeed. If not there are two options:
1. They create metric bindings for the missing metrics and use the out of the box functionality.
2. They wait for our custom dashboarding which is a feature we are building as we speak. With that they can create any dashboard and we aim to make it easy to convert existing dashboards.
!!! There is one other consideration to take into account. If the customer relies on fine grained project/ namespace level access they need to wait for our fine grained authorization/ authentication which is also currently being build.

---

**Sebastien Carrias** (2025-01-16 12:15):
Hello everyone,  I have got a customer who wants to monitor other things than the kube landscape, he has already Rancher Prime . What I need to sell to him to cover for example (DB, Network etc...? is it "platform optimisation"nodes?  Do we have a List of what we can observe?

---

**Mark Bakker** (2025-01-16 12:19):
Hi @Sebastien Carrias which customer is this? I see this question coming up multiple times, I like to understand the exact ask.

---

**Mark Bakker** (2025-01-16 12:19):
We only support observing workloads managed by Rancher, technically there is no limitation, but this is what we support.

---

**Mark Bakker** (2025-01-16 12:19):
However I like to document those requests to have a clear understanding for asks like this.

---

**Jeroen van Erp** (2025-01-16 12:26):
Another option is that SUSE Observability is usable as a datasource for Grafana, though you would then miss out on the advanced troubleshooting capabilities,

---

**Gabriel Lins** (2025-01-16 13:31):
Perfect, guys. Thanks a lot!
At this moment we are only asking to understand first. Our consulting team (cc @Kaio Neuhauss dos Santos) need to be prepared with this informations to address customers needs.
TY

---

**Benoît Loriot** (2025-01-16 14:13):
Hi @Mark Bakker what is included in the "SUSE Platform Optimization" Addon? Do we have this documented somewhere?

---

**Daniel Newman** (2025-01-16 15:20):
Is it possible to install Suse-Observability self-hosted within Rancher Manager?

I see the documentation on installing it with Helm, but I was wondering if this could be done in the UI.

Things I've tried:
1. Adding the suse-observability chart repo within the UI
2. Attempting to install the suse-observability  chart with values I previously generated
But I haven't had much luck with this, and I was wondering if it is possible or if there are any instructions on installing suse-observability this way on a cluster.

---

**Hugo de Vries** (2025-01-16 15:22):
A similar question was asked a few days a go: https://suse.slack.com/archives/C079ANFDS2C/p1736944462389049?thread_ts=1736865421.445599&amp;cid=C079ANFDS2C

---

**Alejandro Bonilla** (2025-01-16 15:25):
hear me out... could we start supporting observability for virtual machines (vs just containers) for SUSE Virtualization? So that we get a soft-entry into monitoring VMs... :slightly_smiling_face:

---

**Mark Bakker** (2025-01-16 16:18):
Hi Daniel, the short answer is not yet. The instructions for installation are here: https://docs.stackstate.com/get-started/k8s-suse-rancher-prime
We will get an UI based install but for that we first need to move our helm charts to operators and that will still take some time.

---

**Louis Parkin** (2025-01-16 16:22):
Depending on how hard I want product to shout at me, it is technically already possible, just not advertised.

---

**Louis Parkin** (2025-01-16 16:22):
The agent can observe VMs,  as long as you install it.

---

**Louis Parkin** (2025-01-16 16:23):
Currently we only have a debian installer package, so VMs must be debian-based

---

**Louis Parkin** (2025-01-16 16:24):
And the UI is geared for k8s and opentelemetry, not sure where components and topology will end up, if even visible at all

---

**Daniel Newman** (2025-01-16 16:25):
Thanks, That's what I thought, but wanted to check first.

---

**Alejandro Bonilla** (2025-01-16 16:50):
Where is it and how do I point to my test tenant?

---

**Louis Parkin** (2025-01-16 16:51):
We haven't published a debian package in over a year

---

**Louis Parkin** (2025-01-16 16:51):
You will have to put the details that currently go into the helm values file into the embedded config after installation.

---

**Louis Parkin** (2025-01-16 16:52):
The debian packages end up in an S3 bucket, I think it is publicly accessible.

---

**Louis Parkin** (2025-01-16 16:52):
Please take not this is old, unsupported functionality

---

**Louis Parkin** (2025-01-16 16:53):
Use at own risk

---

**Louis Parkin** (2025-01-16 17:02):
Latest build with debug symbols removed: <s3://stackstate-agent-3-test/pool/stackstate-7.51.1/s/st/stackstate-agent_3.0.0~k8s.git.16776.7d8d92a-1_amd64.deb>

---

**Louis Parkin** (2025-01-16 17:03):
Latest build with debug symbols: s3://stackstate-agent-3-test/pool/stackstate-7.51.1/s/st/stackstate-agent-dbg_3.0.0~k8s.git.16776.7d8d92a-1_amd64.deb (http://s3://stackstate-agent-3-test/pool/stackstate-7.51.1/s/st/stackstate-agent-dbg_3.0.0~k8s.git.16776.7d8d92a-1_amd64.deb)

---

**Jaroslaw Biniek** (2025-01-16 18:02):
Hi Team, I remember seeing an internet-accessible live demo of Observability a while back but can't find the link, is this still available?

---

**Wilco van der Stek** (2025-01-16 18:04):
I think you mean https://play.stackstate.com/

---

**Ravan Naidoo** (2025-01-16 18:30):
@Alejandro Bonilla If you want to experiment with the debian package Louis mentioned, you could use our older documentation and follow the off-line install instruction (https://docs.stackstate.com/5.1/setup/agent/linux#offline-install) for the agent.

---

**Alejandro Bonilla** (2025-01-16 19:31):
@Louis Parkin what is wrong with the RPM? was only the deb updated?

---

**Alejandro Bonilla** (2025-01-16 19:31):
the 2.1 agent won't do?

---

**Louis Parkin** (2025-01-16 19:32):
So, long story...

---

**Alejandro Bonilla** (2025-01-16 19:33):
I see Windows too... :slightly_smiling_face:

---

**Louis Parkin** (2025-01-16 19:33):
TLDR;  we pivoted as company end of 2022 start of 2023 from an enterprise solution to a k8s-only solution, for which we don't need RPM, MSI, or DEB packages.

---

**Louis Parkin** (2025-01-16 19:34):
The DEB package is used (for convenience) to create the main agent container, so it was kept.

---

**Louis Parkin** (2025-01-16 19:34):
And what we didn't need was dropped to save time and build pipeline resources.

---

**Louis Parkin** (2025-01-16 19:35):
Building the MSI package (for example) required two AWS EC2 machines running Windows Server 2016 to be online 24/7

---

**Alejandro Bonilla** (2025-01-16 19:35):
Would the 2.1 agent provide any information or it’s useless?

---

**Louis Parkin** (2025-01-16 19:36):
If you point it at StackState 5.1.x it should work

---

**Louis Parkin** (2025-01-16 19:36):
But for StackState 6 (aka StackState k8s) or StacksState 7 (aka SUSE Observability) I'd think the 3.0.0 build is better

---

**Louis Parkin** (2025-01-16 19:37):
Experimentation is also fine, as mentioned earlier, there are no guarantees.

---

**Ravan Naidoo** (2025-01-16 19:50):
The agent intake api hasn’t changed across the versions. Since the agent will run on linux, it will report itself, a “host” component type and “process” component types to the backend.
So technically, I think a 2.1 agent could work but you won’t have the latest bug fixes for things like ebpf, etc.

---

**Louis Parkin** (2025-01-16 20:18):
@Ravan Naidoo and some things were removed. Health states, or something. @Mark Bakker knows.

---

**Frank van Lankvelt** (2025-01-16 21:53):
Note that all the nice overview UIs, metric bindings, monitors and pretty much everything else you interact with is provided for Kubernetes out of the box.  For other types of components, not much is there iirc.  So I don't think we can say they are supported.  Data can be ingested, sure.  And mapped to components.

---

**Alejandro Bonilla** (2025-01-16 21:56):
This is mostly about “heys, what’s easily possible “ vs supported.

---

**Ravan Naidoo** (2025-01-17 09:09):
@Louis Parkin Health checks and streams were removed from the backend (component templates, etc.)

---

**Louis Parkin** (2025-01-17 09:10):
Awesome, thanks @Ravan Naidoo

---

**Louis Parkin** (2025-01-17 09:11):
You ARE our institutional memory :sweat_smile:

---

**Manuel Recena** (2025-01-17 09:25):
@Mark Bakker How do we manage the support for trial accounts/users? Through SCC? Do we plan to shut down Zendesk at some point?

---

**Brynn Harrison** (2025-01-17 11:40):
I'm having issues with SUSE Observability Licensing. I've created an internal one on SCC but the SO Server pod complains that it is unlicensed. How can I get an internal (for testing) license?

---

**Louis Parkin** (2025-01-17 11:58):
cc @Mark Bakker @Louis Lotter

---

**Wilco van der Stek** (2025-01-17 12:03):
See pinned message

---

**Mark Bakker** (2025-01-17 13:51):
Hi Manual all clients on a SUSE contract are serviced via SCC. Due too contractual obligations we support customers on the old contracts via Zendesk and keep doing that.

---

**Mark Bakker** (2025-01-17 13:52):
So for Trials it should be via SCC but only the once's which have a 0$ license to use for evaluation.

---

**Manuel Recena** (2025-01-17 13:55):
Another quick question. Do you use any SaaS to receive feedback from users and customers?

---

**Graham Hares** (2025-01-17 14:22):
On a fresh install is there a cli way to extract out the value of the sts cli api key please? (shown in UI on CLI page, this is not the same as the value generated in the templates/baseConfig_values.yaml)

---

**Graham Hares** (2025-01-17 14:22):
I tried creating an authentication.yaml and helm upgrading (with all other existing values files) but it didn't create a service-token :thinking_face:

---

**Mark Bakker** (2025-01-17 15:10):
For direct feedback we use the manual process (contact them). For measurements we use PostHog which records all sessions and tracks all events (clicks)

---

**Mark Bakker** (2025-01-17 16:27):
Hi team @kevin.ayres did not receive the welcome email after the final screen.

---

**Mark Bakker** (2025-01-17 16:28):
cc @Lukasz Marchewka @Louis Parkin @Vladimir Iliakov

---

**Lukasz Marchewka** (2025-01-17 16:29):
im going to check

---

**Louis Lotter** (2025-01-17 16:41):
Thanks @Lukasz Marchewka

---

**Louis Lotter** (2025-01-17 16:43):
I have not received an aws notifications since January 4

---

**Lukasz Marchewka** (2025-01-17 16:44):
I know more or less where is the problem

---

**Lukasz Marchewka** (2025-01-17 16:44):
*`create-or-remove-tenant` lambda function hasn't been executed*

---

**Lukasz Marchewka** (2025-01-17 17:19):
I have created a new tenant and everything is fine

---

**Lukasz Marchewka** (2025-01-17 17:20):
I have analyzed that specific tenant and there is sth very strange

---

**Lukasz Marchewka** (2025-01-17 17:20):
actually it shouldn't happen

---

**Lukasz Marchewka** (2025-01-17 17:20):
I know the problem I don't know why, it doesn't have any sense

---

**Lukasz Marchewka** (2025-01-17 17:52):
@kevin.ayres I have tried to investigate the problem but it doesn't make sense, can you explain step by step what you have done ?

---

**kevin.ayres** (2025-01-17 18:23):
Yes, I I subscribed based on the Private Offer:

---

**kevin.ayres** (2025-01-17 18:23):
And clicked Submit:

---

**kevin.ayres** (2025-01-17 18:23):
Nothing else to do until the email arrives.

---

**Lukasz Marchewka** (2025-01-17 21:57):
have you canceled the subscription ?

---

**kevin.ayres** (2025-01-17 22:01):
No, I have not done anything beyond that Submit button

---

**kevin.ayres** (2025-01-17 22:03):
The Global SA's always have to test//document the user experience for enablement for our sales teams. This is my concern - that if it does not work for me, then it does not work for customers.  Theirs will also typically be delivered via Private Offer so this is their exact workflow.

---

**David Noland** (2025-01-18 02:52):
Also, when a support case is closed, we automatically ask the customer to fill out a survey.

---

**Jeroen van Erp** (2025-01-20 10:06):
@kevin.ayres SUSE Cloud Observability is specifically targeted towards our Community users, those who do not have a prior relation with SUSE, except for consuming our Open Source. It is also a significantly more limited version than what our SUSE Rancher Prime customers are getting in their subscription to run on-prem. There is no comparable SUSE Rancher Prime Observability offering yet which can be consumed as SaaS. That is not to say of course that our customers can’t subscribe to SUSE Cloud Observability, but afaik only on a PAYG basis, and not through a Private Offer…

---

**Zia Rehman** (2025-01-20 11:25):
Hi all, I am trying to add a new notification channel via slack in my on prem k8s cluster, while doing in Observability UI I am be asked "Workspace permission required". Can anyone please help me in setting up the notification channel from observability UI.

---

**Amol Kharche** (2025-01-20 11:47):
Have you configured setting ?
https://docs.stackstate.com/self-hosted-setup/configure-stackstate/slack-notifications

---

**Zia Rehman** (2025-01-20 11:57):
No, I haven't. Thanks for sharing let me try these configuration.

---

**Lukasz Marchewka** (2025-01-20 12:16):
@kevin.ayres I know where was the problem. Probably the private offer isn't the case but it was a glitch of AWS (I'm going to confirm it). Can you delete the subscription, wait ~30 minutes and create it again ?

---

**Brynn Harrison** (2025-01-21 15:22):
IHAC that uses a private CA.
I'm setting up a similar environment in my lab and am using a PrivateCA signed certificate.
For the Agent is there a way to supply the Private CA certificate instead of disabling SSLverification?
Also for the Rancher UI is there a way to do this as there is no skipsslverification parameter or CA cert (I can't get the UI to connect to the SO Server)
I've checked the docs but can't find anything.

---

**Gabriel Lins** (2025-01-21 15:54):
It's also important to remeber to create another workspace here in Slack since SUSE policies will not allow you to connect others apps into it. With + Icon here in Slack you can create a new workspace and connect it

---

**Zia Rehman** (2025-01-21 16:41):
I am not getting the option for new workspace.

---

**Yingluo Zhang** (2025-01-21 17:39):
https://docs.stackstate.com/get-started/k8s-suse-rancher-prime/k8s-suse-rancher-prime-agent-air-gapped   when we install  agent  we can  set  this value.
```--set-string 'global.skipSslValidation'=true \```

---

**Yingluo Zhang** (2025-01-21 17:42):
Hi SUSE Observability experts,
Our customer, `BMW Brilliance Automotive Ltd (A058385)`   is evaluating the deployment of SUSE Observability in a production environment and has the following questions:

1. According to our documentation, is 150 nodes the minimum requirement for an HA architecture? Is there a smaller node requirement for HA, such as 100 HA or 50 HA?
2. Following up on the previous question, this mainly involves estimating storage size. If the user deploys SUSE Observability in a production environment and chooses 150 HA but currently only has 50 or 100 nodes to monitor, what is the basis for calculating the storage size when manually adjusting the volume size (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/storage)? For example, if the actual number of nodes is 50, can the required storage size `(Kafka, ClickHouse, Elasticsearch, HBase, Victoria-Metrics-0/Victoria-Metrics-1)` be reduced to one-third of the original size?
3. Due to infrastructure limitations, the user only allows two worker nodes in the Kubernetes cluster where the O11y server is deployed to mount external storage for storing O11y’s persistent data. From the perspective of SUSE Observability’s deployment architecture, does this approach pose any risks?
Looking forward to your response. Thanks

---

**kevin.ayres** (2025-01-21 18:05):
@Lukasz Marchewka Yes, I was able to delete it and subsequently my Private Offer was deleted as well. I need to request a new one. Can you guys test the workflow from the customers perspective end-end? What is the anomaly you suspect caused this?

---

**kevin.ayres** (2025-01-21 18:09):
@Jeroen van Erp yes I'm aware of the target audience for the product but can you describe what you mean by "significantly more limited version than what our SUSE Rancher Prime customers", as I understood that the only difference was that we do not provide our out of the box RED signals (Rate, Errors and Duration) in the SaaS offering.  We only show the Rate signal. Are there more differences and do you know where this is spelled out? Thanks.

---

**Gabriel Lins** (2025-01-21 18:30):
Can you verify if you have this "+" Icon under Slack tab?
Clicking on it open the option to "_Create a new workspac_e"

---

**Jeroen van Erp** (2025-01-21 18:45):
Retention is another big limit I'd say

---

**Zia Rehman** (2025-01-21 19:01):
No I don't have this option.

---

**kevin.ayres** (2025-01-21 19:55):
Thanks Jeroen.  @Alan Kuehner is confirming if this can be transacted via PrivOffer

---

**kevin.ayres** (2025-01-21 19:59):
@Lukasz Marchewka in the EA version of this, I understand that an email was manually generated to the customer by someone assigned to this.  Is it possible that this is still the salesops process or that emails to SUSE employees are filtered out by default?  In the end, I have to be able to perform the entire workflow as a customer.

---

**Gabriel Lins** (2025-01-22 00:21):
Hey!
Regarding SaaS offerings, do we currently only have AWS as a provider to subscribe to via the marketplace? Also, how does the subscription process work in this scenario? My main question is: since SUSE Observability is part of Rancher Prime, why is there an Observability subscription offer on the AWS Marketplace? Apologies if this seems too obvious, but I’m trying to align with a customer's needs here in Brazil. Also, is SaaS already available in Brazil?

---

**Mark Bakker** (2025-01-22 09:29):
The workflow as a customer is to just click the button to consume the service (PAYG model), private offers should not be possible. Can you show a screenshot how you got the private offer?

---

**Louis Lotter** (2025-01-22 09:31):
@Alejandro Acevedo Osorio @Bram Schuur Hi guys. Can I ask you guys to take a look if we can answer these questions ?

---

**Mark Bakker** (2025-01-22 09:34):
Rancher Prime does offer SUSE Observability for on-prem usage.
SUSE Cloud Observability is an offer for any user of Kubernetes and is not included in Rancher Prime.

---

**Mark Bakker** (2025-01-22 09:35):
Does your client (which one?) require the full Observability solution as a SaaS solution?

---

**Alejandro Acevedo Osorio** (2025-01-22 10:03):
Something important to highlight here is if the 50 nodes of the customer adhere to the `default node` definition of SUSE Observability? a `default node` is a 4VCPU and 16Gb node, so for example if the customer has nodes of 8VCPU and 32Gb one of their nodes would be counting as 2 or SUSE Obs nodes.
1. We don't have any designed profile for 50 or 100 Ha
2. It Is possible to make such an adjustment based but of course then the end user needs to be proactively monitoring the disk space as it might not just one third of the space which is used due to replication of data. So then they would be ready to resize the volumes if needed.
3. Risks:
    a. All persistent workloads will be colocated in 2 nodes. So if the are trouble with those nodes all databases would be down
    b. The nodes need to be big enough to be able to allocate all those persistent workloads. All 3 kafka, all 3 Hbase region server, elasticsearch, etc ... pods would need to fit in those 2 nodes
    c. I'm not quite sure of our current anti affinity rules if they try to prevent that for example all 3 Kafka pods endup in the same node (as that 's risky for your Ha setup. Perhaps @Vladimir Iliakov can help me a little here.

---

**Vladimir Iliakov** (2025-01-22 10:12):
There are no antiaffinity rules by default that prevent pods of the same deployments/statefulsets from scheduling to the same node.

&gt; 3.  Due to infrastructure limitations, the user only allows two worker nodes in the Kubernetes cluster where the O11y server is deployed to mount external storage for storing O11y’s persistent data. From the perspective of SUSE Observability’s deployment architecture, does this approach pose any risks?
Yes, it does. If some of the pods/replicas are unavailable it might affect performance or even availability of the some components, until they are healthy again.

---

**Alejandro Acevedo Osorio** (2025-01-22 10:16):
@Vladimir Iliakov do you have any other good pointers to @Yingluo Zhang questions? Something I missed over there

---

**Jeroen Storm** (2025-01-22 10:27):
In addition to Mark his reply: SUSE Cloud Observability is available in the AWS marketplace. Subscription &amp; invoicing will go via the 'customers contract / committed spend'.

---

**Vladimir Iliakov** (2025-01-22 10:29):
Nop, you explained it pretty well.

---

**Yingluo Zhang** (2025-01-22 15:50):
deeply grateful for your responses @Vladimir Iliakov @Alejandro Acevedo Osorio,Thanks again.

---

**Gabriel Lins** (2025-01-22 15:59):
Yes. My customer (Serasa Experian) prefers to use observability as SaaS and needs the full solution since they want to integrate their own Datadog with the solution.
 In this case, will the pricing follow the same schema as we have for on-prem environments—based on the number of hosts to be observed? Is there any additional information that would be important to share with this customer? Thanks!

---

**Alan Kuehner** (2025-01-22 16:19):
@kevin.ayres confirmation above from Mark that private offer should not be possible. 

@Mark Bakker, I believe that Sofia (Marketplace Lead) was able to create the private offer in the AWS portal and Kevin was not able to create a private offer self service

---

**kevin.ayres** (2025-01-22 18:41):
So, I need to determine how to test it end-end from a customer perspective in order to document that for the DSA's, PE's, etc.

---

**kevin.ayres** (2025-01-22 18:42):
Unless someone in product or engineering wants to do that part of the enablement :wink:

---

**kevin.ayres** (2025-01-22 20:01):
I need screenshots of each step. Can anyone with an engineering account/budget assist with this?

---

**kevin.ayres** (2025-01-22 21:29):
@Jeroen van Erp Can you be more detailed around _Retention_ please? Retention period for signals data collected? Do we have a comprehensive list of the differences between base product and _Cloud_ Observability or know who can generate it?

---

**kevin.ayres** (2025-01-22 21:35):
@Mark Bakker here is the screenshot of the offer I got from Sofia (which we now know can't work), but what I don't have are screenshots of the entire rest of the workflow right down to installing agents and onboarding the nodes. Can you guys generate that?

---

**kevin.ayres** (2025-01-22 21:41):
At current PIT, this could done with either Rancher Prime on-prem or Rancher Prime AWS marketplace listing (about to be discontinued and replaced with a Rancher SaaS listing) along with the AWS SaaS listing for _Cloud Observability_.  Where is DataDog running currently?

---

**kevin.ayres** (2025-01-22 21:53):
@Alan Kuehner @Mark Bakker Is Cloud Observability counted hourly, but billed in monthly AWS billing cycle directly from AWS (PAYG Model)?

---

**kevin.ayres** (2025-01-22 21:54):
Just Confirming please

---

**Mark Bakker** (2025-01-23 08:55):
@Gabriel Lins can you tell me a little more on how they see the combination of SUSE Observability and DataDog? FYI we are considering to change the packaging in a way that we can also offer the full product as SaaS. I cannot give you any promise or pricing yet.

---

**Mark Bakker** (2025-01-23 08:57):
@kevin.ayres this is our current packaging:
https://docs.google.com/presentation/d/1w5TlU7w-KgpEhvl_aCh8tGFY41gZii7PFbRvLqEhfM0/edit#slide=id.g2fbf1180f52_0_0

---

**Mark Bakker** (2025-01-23 08:58):
It is indeed counted hourly and billed with the AWS billing cycle by AWS

---

**Thomas Di Giacomo** (2025-01-23 09:32):
Hi there. I'm looking for inputs on "scalability", i.e. how many nodes can our observability tech handle etc. It depends is likely the answer :slightly_smiling_face: but directionally, documented perf tests and benchmarks could help for instance.

---

**Jeroen van Erp** (2025-01-23 09:45):
Hi Thomas, we’ve got a number of different performance profiles documented on our docs site, which document the required cpu/memory and storage for anywhere from 10 - 500 nodes in an High Availability setup (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime). Where a node is documented as
a 4vCPU/32GB unit. So in essence the largest setup in our documentation is 2000vCPU.

We do have documented cases of at least 1 customer who was running even larger setups (1000+ node units). @Mark Bakker can probably add some clarification on that

---

**Thomas Di Giacomo** (2025-01-23 10:02):
Thanks, Jeroen. 500 nodes is our current cap?

---

**Jeroen van Erp** (2025-01-23 10:50):
It is our publicly documented cap, afaik the team has somewhere on the backlog to document higher numbers also.

---

**Jeroen van Erp** (2025-01-23 10:50):
One correction, the node unit is 4vCPU/16GB, I made a typo :slightly_smiling_face:

---

**Mark Bakker** (2025-01-23 13:31):
One important addition @Thomas Di Giacomo the cap has changed to 4.000 we will publish this in our next release which will be in the upcoming days.

---

**Mark Bakker** (2025-01-23 13:31):
The public documentation will be updated accordanly.

---

**Thomas Di Giacomo** (2025-01-23 13:32):
Great news, thanks Mark!

---

**Mark Bakker** (2025-01-23 13:33):
Be aware the CAP exists because we don't have any client with a bigger workload ATM. As soon as we got one we will use that opportunity to tune the values and software to next plateau.
Testing at this scale is near to impossible given the immense amount of compute we need to test it.

---

**Mark Bakker** (2025-01-23 13:34):
We got to the 4K with a customer.

---

**Thomas Di Giacomo** (2025-01-23 13:34):
Makes sense. It would be a good problem to have if concrete business deals of that scale

---

**Brynn Harrison** (2025-01-23 13:39):
Thanks, that works well for the agent (although I would say it bypasses and not fixes the issue), however the Rancher UI extension does not have this option. How can I do this in the Rancher UI Extension.

---

**Alejandro Bonilla** (2025-01-23 16:55):
hello - is `play.stackstate.com (http://play.stackstate.com)` down?

---

**Alejandro Bonilla** (2025-01-23 16:55):
kinda need it... :wink:

---

**Ravan Naidoo** (2025-01-23 17:00):
I can access it.

---

**Christian Scherm** (2025-01-23 17:49):
Hi team, we have squeezed logos/favicons in Google search. Who can fix them?

---

**Graham Hares** (2025-01-23 17:57):
Oh thank you @Ravan Naidoo I will have a look :pray:

---

**Graham Hares** (2025-01-23 18:00):
Aside, I was asking for this (sts config to create service-account) to be able to add stackpacks to the obs server, maybe there is another way to do that on a fresh install without logging into the ui?
The error I was getting from the api call with not authorized..  think I did get this working using the api and the sts token awhile back but forget.  But this need the sts token again so :curly_loop:

---

**Jorn Knuttila** (2025-01-23 22:21):
I linked this over on <#C02FUS8LMTK|>  for visibility. :slightly_smiling_face:

---

**Graham Hares** (2025-01-24 10:44):
Hi @Ravan Naidoo thank you again for writing the utility, I modified it slightly to allow self-signed certs
```func initClient() (*http.Client, error) {
	jar, err := cookiejar.New(nil)
	if err != nil {
		return nil, err
	}
	tr := &amp;http.Transport{
		TLSClientConfig: &amp;tls.Config{InsecureSkipVerify: true},
	}
	client := &amp;http.Client{
		Transport: tr,
		Jar:       jar,
		CheckRedirect: func(req *http.Request, via []*http.Request) error {
			return nil // Allow redirects
		},
	}
	return client, nil
}```

---

**Ravan Naidoo** (2025-01-24 11:21):
Thanks Graham. I’ve added your change to the repo and created an updated docker image

---

**auston.ivison** (2025-01-24 21:47):
Is there a default monitor or alert that suse observability has that will tell an admin if a downstream cluster agent has disconnected.

---

**Remco Beckers** (2025-01-27 09:05):
You can also use the bootstrap service token if you need the token to do initial setup: https://docs.stackstate.com/self-hosted-setup/security/authentication/service_tokens#set-up-a-bootstrap-service-token. If you omit the TTL it will remain valid forever

---

**Mark Bakker** (2025-01-27 13:21):
@auston.ivison not yet to my knowledge, do we have an metric signaling this somewhere? If so making the monitor should not be hard.

---

**Graham Hares** (2025-01-27 14:05):
Thank you Remco, just a note on that doc page the example didn't work for me initially, I found changing serviceToken to have an uppercase T was needed

---

**Remco Beckers** (2025-01-27 14:20):
Thanks. Fixed that immediately

---

**Ravan Naidoo** (2025-01-27 14:27):
You do have the `stackstate_cluster_agent_running`  and `stackstate_agent_running`  metrics. So you could create a threshold monitor.

---

**kevin.ayres** (2025-01-27 21:15):
@Mark Bakker @Lukasz Marchewka What TCP ports does the SaaS solution leverage? I see 8080 and guessing 443  but can you be specific please? The product uses 8080 but I don't know what the SaaS is listening on.  So, I need specifics for each direction with the agent, bidirectionally? Consumers have to adjust their SG's, Peering, Gateways, whatever..    THanks!

---

**kevin.ayres** (2025-01-27 21:21):
do the agents require internet connectivity for any reason if they are on EKS or EC2 (assumed unless peering is established)?

---

**kevin.ayres** (2025-01-27 21:25):
looks like 443 bidirectional is only required but please confirm

---

**Jeroen van Erp** (2025-01-27 21:26):
Connection will always be established by the agent, never the other way around. Connection is indeed established on 443 to the platform

---

**Jeroen van Erp** (2025-01-27 21:27):
53 to dns is indeed required to do name resolution, but I think it goes through k8s dns for that

---

**Ron Terry** (2025-01-27 21:43):
Is there any updated on how to get an employee generated license key from SCC in the correct format? The registration codes I can generate are still in the format  INTERNAL-USE-ONLY-####-#### that does not appear to work.

---

**Vladimir Iliakov** (2025-01-27 22:21):
The Saas platform is publicly available on TCP 443
This scheme is still valid https://docs.stackstate.com/agent/k8s-network-configuration-saas#suse-observability-agent-communication

---

**Vladimir Iliakov** (2025-01-27 22:27):
And yes, Ka 8s cluster, which the agent is deployed to, need access to the Docker repositories with the agent images. I think it might be still quay.io (http://quay.io), unless they are served from the Rancher private repositories...

---

**kevin.ayres** (2025-01-27 22:52):
thanks guys this helps.  So the agent needs outbound internet access to quay.io (http://quay.io).  Do we have the agent images in the private repos? WHo would know?

---

**kevin.ayres** (2025-01-28 00:00):
Would you gents mind doing a peer review on this internal enablement doc (https://docs.google.com/presentation/d/1jSVCB7RjeGa327nv-KLZhcMg9pJhNMaBau3YlubPg2M/edit?usp=sharing)? Notes also please.  We'll plug this into a SolutionBits session or via John Pugh.

---

**Jeroen van Erp** (2025-01-28 07:08):
Only the cluster needs access to pull the images from quay.io (http://quay.io) or an internal repository (if airgapped). The agent itself does not communicate with anything else besides the Suse observability platform

---

**Bram Schuur** (2025-01-28 08:25):
@Mark Bakker iirc you put this as a TODO for yourself (or someone else): https://stackstate.atlassian.net/browse/STAC-22178

---

**Tapas Nandi** (2025-01-28 11:03):
Hello Team,
Just had a query, do we support Windows worker nodes.

---

**Louis Parkin** (2025-01-28 11:17):
Do you mean "can be monitor windows nodes with the agent?"?  Or do you mean "can SUSE Observability platform be deployed on windows worker nodes?"?

---

**Louis Parkin** (2025-01-28 11:18):
&gt; can be monitor windows nodes with the agent?
No, there is currently no Windows build of the agent.

---

**Louis Parkin** (2025-01-28 11:18):
&gt; can SUSE Observability platform be deployed on windows worker nodes?
Not sure, I don't recall that this has ever been tested.

---

**Ravan Naidoo** (2025-01-28 11:21):
The biggest missing part is the SUSE Observability Agent uses eBPF to determine network connection of services and calculate golden signal metrics (Latency, Traffic, Errors, Saturation). Windows does not have that concept in its kernel.

---

**Louis Parkin** (2025-01-28 11:23):
@Ravan Naidoo, I've seen network tracing apps on Windows that provide quite detailed metrics, so the kernel at least supports that.

---

**Louis Parkin** (2025-01-28 11:23):
BUT, depending on which question of my interpretation @Tapas Nandi is actually concerned with, the answer is a likely `no` both ways

---

**Louis Parkin** (2025-01-28 11:25):
> can be monitor windows nodes with the agent?
super no, because we haven't a windows agent build newer than 2022, and the 2022 builds are not compatible with platform v6/v7, they were v5-compatible agents.

---

**Ravan Naidoo** (2025-01-28 11:25):
@Louis Parkin Yes you have projects like https://github.com/microsoft/ebpf-for-windows.
But I was just being short in my answer.

---

**Louis Parkin** (2025-01-28 11:26):
@Ravan Naidoo did I misinterpret the initial question?  I ask, because it looks to me like we are answering different questions.

---

**Tapas Nandi** (2025-01-28 11:26):
Thanks @Louis Parkin and @Ravan Naidoo for the quick response.

---

**Remco Beckers** (2025-01-28 11:36):
Using those 2 metrics you could detect that the cluster agent is disconnected (likely down or crashing) as long as at least some other agents are still getting data to SUSE Observability.

If there is a network issue that breaks connectivity for all agents in the cluster it still wouldn't trigger.

---

**Ravan Naidoo** (2025-01-28 14:32):
@Remco Beckers I’ve tested the concept where I completely remove the agent from the downstream cluster to simulate a network outage.
Using the promql:

```absent_over_time(stackstate_agent_running{sts_host=~"susecon-frb-cluster.*"}[1m]) or vector(0)```
The sample monitor I created did trigger as expected. See attached screenshots.

---

**Remco Beckers** (2025-01-28 14:36):
If you hard-code the labels that will work indeed

---

**Karen Van der Veer** (2025-01-28 14:37):
@Mark Bakker will the price for SUSE Cloud Observability agent in the EKS console be free?

---

**Remco Beckers** (2025-01-28 14:38):
We could encode it in the stackpack as well by creating a new monitor for every cluster. That's a bit clunky and not how monitors are intended, but probably the easiest way out for this use-case.

---

**Mark Bakker** (2025-01-28 15:19):
@Karen Van der Veer yes they pay via platform usage

---

**kevin.ayres** (2025-01-28 15:34):
Ok.  Thanks Jeroen!

---

**Zia Rehman** (2025-01-29 09:44):
Hi all, I have a query, will installation of Observability as Rancher application will be done in coming future? If yes then by when we can expect?

---

**Remco Beckers** (2025-01-29 09:53):
Mark Bakker answered that recently: https://suse.slack.com/archives/C079ANFDS2C/p1737040734817139?thread_ts=1737037259.250319&amp;cid=C079ANFDS2C

---

**Remco Beckers** (2025-01-29 09:54):
There is no expected release date yet

---

**Gary Mackenzie** (2025-01-29 11:12):
Hello folks - I have a quick question on capability - we (Edge/Telco) see repeated requests for power usage monitoring and attribution, which generally take the form of requests to consider supporting kepler (https://sustainable-computing.io) but could be distilled down to the ability to capture power usage data, likely via eBPF, and both present that to users and export to Prometheus or similar. Is there any capability for such in Observability and who should I discuss with about future strategy in this area?

---

**Andreas Prins** (2025-01-29 11:14):
Hi Gary, we've been discussing this with @Matthias Eckermann and @Brendan Bulmer since there are more people looking into this.

It's not at the roadmap, but since the data is pushed to prometheus, it can also be pushed into SUSE Observability. The challenge is what is the customer really looking for, that will drive productizing it.

---

**Andreas Prins** (2025-01-29 11:16):
an example dasbhoard to see the footprint of a namespace

---

**Gary Mackenzie** (2025-01-29 11:36):
I'll dig out the demo we showed at MWC last year in conjunction with Orange around Kepler - but the broad intent was to identify at per pod or per project level the power usage costs but also the CO2 emissions at both scope 2 and scope 3 levels (ie. pods using more memory had much higher scope 3 emissions due to footprint of DRAM manufacturing etc). Basically, they have the prometheus dashboards and the business case already - they're just asking if we can ship &amp; support kepler (or equiv) means to collect and export that data to prometheus...

---

**Michael Mueller** (2025-01-29 11:36):
Hi all, I'm hoping this is the right channel to ask this - if not please let me know!

My customer LIS (A047655 (https://suse.lightning.force.com/lightning/r/Account/0011i00000J9L1bAAF/view)) is currently testing SUSE Observability but has still the old, old Rancher model  (RMS + nodes) in terms of Subscriptions/Entitlements. LIS currently  has an Observability entitlement in SCC that was booked manually (no order attached) which will expire on 31.01.25 - now they asked us to extend the entitlement.

I know that 'normally' we would tell the customer that observability is covered  by their RP entitlement but due to LIS still having the old entitlements for Rancher I'm not sure how to get the extension for them.  Can you advise what the right process for a situation like this is?
CC: @Niko Bubas @Miriam von Schuckmann

---

**Gary Mackenzie** (2025-01-29 11:44):
This is the end capability for Orange, other customer are asking for very similar: https://drive.google.com/file/d/16M7iGkAb8is7TYsFpS1LUmg-2f6VFBXG/view?usp=sharing

---

**Andreas Prins** (2025-01-29 11:46):
i think a lot of the data, except of the simulation part is very similar. @Mark Bakker is the PM of this part. It is certainly interesting for us, but not on the near term roadmap. Interesting for the two of you to discuss it

---

**Martin Weiss** (2025-01-29 12:16):
Do we have a support matrix for SUSE Observability? (looking for tested and supported platforms - i.e. what about ACK?)

---

**Mohamed Elnemr** (2025-01-29 13:35):
@Alejandro Acevedo Osorio do you have any clue how can we use private certs in stackstate pods ?

---

**Alejandro Acevedo Osorio** (2025-01-29 14:26):
I think it's a known issue @Mohamed Elnemr and @Brynn Harrison ... see this thread https://suse.slack.com/archives/C079ANFDS2C/p1735305913246569

---

**Tapas Nandi** (2025-01-29 15:06):
Hello Team,
I was looking into the sizing guide and i am a bit confused hence posting here.
I anyone wants to deploy an Observability server in HA the closest i can see is the profile of 150 HA, however the CPU limit says 103 and Mem limits says 131, so how many CPU and Memory should I recommend for this deployment.

---

**Tapas Nandi** (2025-01-29 15:06):
Will it be 103 CPU cores and 131 GB memory minimum and 2 TB HDD

---

**Vladimir Iliakov** (2025-01-29 15:24):
Yes, to install Suse Observability in HA mode to monitor/observe up to 150 Kubernetes nodes you need that amount of resources.

---

**Tapas Nandi** (2025-01-29 15:24):
:face_with_rolling_eyes:

---

**Vladimir Iliakov** (2025-01-29 15:25):
Have I answered you question?

---

**Tapas Nandi** (2025-01-29 15:25):
What is the maximum number of nodes that can be observed by a 3 node observability deployment

---

**Vladimir Iliakov** (2025-01-29 15:26):
Depends on the node size ))))

---

**Tapas Nandi** (2025-01-29 15:26):
Thanks @Vladimir Iliakov

---

**Yingluo Zhang** (2025-01-30 01:35):
@tiernan.ohalmhain   hi Tiernán , I have open a ticket ,the number is `SD-178845` ,Thanks.

---

**Alejandro Bonilla** (2025-01-30 03:23):
https://x.com/gabe_monroy/status/1884630222114373924?s=46&amp;t=P2QJQT8hM_SDMz5M9Hc6ZQ (https://x.com/gabe_monroy/status/1884630222114373924?s=46&amp;t=P2QJQT8hM_SDMz5M9Hc6ZQ)

---

**Luca Barzè** (2025-01-30 09:00):
Hello! Do you know if we have any multitenancy/rbac capability? I.e. is it possible for different SUSE observability users to have access to info related to different namespaces/clusters? If no do we have a roadmap for something in this field? Thank you!

---

**Flavien Rugiano** (2025-01-30 09:16):
At least there is something about it in the doc https://docs.stackstate.com/self-hosted-setup/security/rbac/role_based_access_control

---

**Jeroen van Erp** (2025-01-30 09:31):
anything we have is what I call soft-multitenancy, the data stores are shared, but not sharded. The goal pre-acquisition was to have hard-multitenancy, where all services would be shared, but customers would have their own (sharded) datastore, ensuring that no accidental data could be leaked.

Meaning also currently when customer 1 has a cluster called `sandbox` and customer 2 would also have a cluster called `sandbox` , they would keep overwriting each other’s data. (As there is no tenancy, only RBAC)

---

**Jeroen van Erp** (2025-01-30 09:32):
https://github.com/GoogleCloudPlatform/khi

---

**Jeroen van Erp** (2025-01-30 09:37):
Just looked through it briefly, it is actually a log analysis/intelligence tool. It uses (currently only) Google Cloud Logging and parses the logs that are available there and differentiates this across resources and visualizes it over time. It has no way of knowing past deployed configurations or doing diffs.

The one interesting part which we would also need in our log analyzer is to be able to compare the logs of 2 pods, so seeing whether a previous pod was logging different behavior than a new pod.

---

**Louis Lotter** (2025-01-30 10:05):
RBAC is our teams' primary focus atm. We will be integrating to Rancher's new OIDC capabilities and have a rich suite of Role based Access controls.

@Mark Bakker can expand on the full plans for RBAC maybe.

---

**Tapas Nandi** (2025-01-30 13:55):
Hello Team,
Under our observability do we have any monitors that would monitor SUSE Virtualization layer. If not is it under WIP or anything in Roadmap

---

**Joel Endel** (2025-01-30 15:56):
Did anyone find an  answer to this? I have clients whose license expires tomorrow, and I assumed they would have received something in SCC for an extension by now. Thank you

---

**Michael Mueller** (2025-01-30 16:00):
Hi Joel, I talked to Hernan Schmid yesterday - his team is currently working on extending the entitlements. Should be visible for customer until the end of the week in SCC as per PM.

---

**Joel Endel** (2025-01-30 16:09):
Awesome thank you!

---

**José Guilherme Vanz** (2025-01-30 18:49):
Do we have another license key for internal usage? AFAICS, the pinned key expired in the begining of the month.

---

**Louis Parkin** (2025-01-30 19:56):
cc @Mark Bakker @Louis Lotter

---

**Anthony Tortola** (2025-01-30 22:49):
Hello all, do we have any slides with how Observability can be used to audit EKS or other public cloud workloads. Basically using the audit to help keep costs down.

---

**Tapas Nandi** (2025-01-31 04:56):
Hello Team,
Under our observability do we have any monitors that would monitor SUSE Virtualization layer

---

**Amol Kharche** (2025-01-31 05:41):
If I understand your question correctly, you want to monitor a Harvester cluster. Yes, you can monitor a Harvester cluster using SUSE Observability by installing `suse-observability-agent` on it.
Let me know if you'd like to see a demo.

---

**Tapas Nandi** (2025-01-31 06:04):
@Amol Kharche I meant to observe vms as a object in observability

---

**Amol Kharche** (2025-01-31 06:16):
Yes, it can be observed.
Note: When you create a VM (e.g., `vm1`) in Harvester, it will appear in the Observability dashboard as `virt-launcher-vm1-xxx`. This is because the Harvester creates a `virt-launcher` pod to manage the VM’s lifecycle.

---

**Tapas Nandi** (2025-01-31 06:24):
Ok thanks a lot for clarification

---

**Louis Lotter** (2025-01-31 08:03):
@José Guilherme Vanz Here is a new key you can use internally SL96E-5FVA2-WF3DA

---

**Mark Bakker** (2025-01-31 11:16):
@Amol Kharche can you send me a short recording of this demo, like to see it.

---

**Amol Kharche** (2025-01-31 11:33):
I'm trying to find out how to record demo. I am using Windows Laptop.

---

**Mark Bakker** (2025-01-31 11:48):
Good question, I'm on a mac, maybe ask Gemini

---

**Amol Kharche** (2025-01-31 11:58):
https://drive.google.com/drive/u/0/folders/1yJd9RO6g2mfLY87drnqW9Z7LO98S6ats
Hopefully this will work.

---

**José Guilherme Vanz** (2025-01-31 13:54):
Thank you!

---

**Ravan Naidoo** (2025-01-31 16:19):
I have written a Monitoring Your SUSE Virtualization Environment (https://github.com/ravan/suse-observability-guides/blob/main/guides/suse/virtualization/metrics/README.md) guide that explains the setup and provides the custom dashboards for SUSE Observability. Your customers can follow this guide to configure their instance of SUSE Observability.   Attached the metrics you can see for the virt-controller and the virtual machine information you can see for the virt-launcher.

---

**Paul Gonin** (2025-01-31 16:37):
this looks rad !

---

**Jeroen van Erp** (2025-01-31 16:45):
Cool Rav, does it actually also link up the “Pod” to the “cluster it is running”?

---

**Ravan Naidoo** (2025-01-31 16:59):
If I understand your question correctly, this is done by default.  The `virt-launcher`  pods are in the same namespace as the vm was deployed to.

With regards to monitors, I don’t think we can monitor without writing a custom monitor function or to modify the mapping function  to add an extra identifier to the pod (urn:kubernetes :$cluster:$namespace:$node:$phase:vm/$vm_name).

For custom charts, we start at the component and use the properties on the component to find the associated metrics (promql).

For monitors, we start with the promql and use the metrics tags to build up unique identifiers to find the component.
In this case, we can’t create an identifier for the virt-launcher pod.

Example metric:

```kubevirt_vmi_vcpu_seconds_total{app_kubernetes_io_component="kubevirt",app_kubernetes_io_managed_by="virt-operator",app_kubernetes_io_version="1.2.2-150500.8.21.1",controller_revision_hash="5ff8c7cb84",http_scheme="https",id="0",instance="10.52.2.20:8443",job="harvester-system/kubevirt-metrics",k8s_cluster_name="retail-store",k8s_container_name="virt-handler",k8s_daemonset_name="virt-handler",k8s_namespace_name="harvester-system",k8s_node_name="gr6-1",k8s_pod_name="virt-handler-b6j7r",k8s_pod_start_time="2024-12-09T15:29:47Z",k8s_pod_uid="65377ef1-3588-4ff6-904e-26e583cc20b0",kubernetes_vmi_label_harvesterhci_io_vmName="rhel9-clone",kubernetes_vmi_label_kubevirt_io_nodeName="gr6-1",kubevirt_io="virt-handler",name="rhel9-clone",namespace="default",net_host_name="10.52.2.20",net_host_port="8443",node="gr6-1",pod_template_generation="4",prometheus_kubevirt_io="true",server_address="10.52.2.20",server_port="8443",service_instance_id="10.52.2.20:8443",service_name="kubevirt-metrics",service_namespace="harvester-system",state="running",url_scheme="https"}```

---

**Jeroen van Erp** (2025-01-31 17:01):
No I meant topology wise :slightly_smiling_face: Or am I misunderstanding the coolness you created…

---

**Jeroen van Erp** (2025-01-31 17:02):
(Or I’m one step ahead of you, as I run Virtualization to run multiple downstream clusters :wink:

---

**Ravan Naidoo** (2025-01-31 17:10):
This guide is aimed to work with the standard stuff shipped with SUSE Observability and serve as an example how you can integrate any metrics via Open Telemetry and create custom dashboards at the resource level.

It was explicitly written without the need to develop and install a full blown extension with topology, events, custom menu items, overview pages and highlight pages.  Maybe that can be another guide :wink:

---

**Tapas Nandi** (2025-01-31 17:13):
This is nice

---

**Joel Endel** (2025-01-31 17:25):
Hi team,

 Will SUSE Observability be integrated into Rancher Auth and RBAC so that if a user has access to a namespace in Rancher that is all they see in SUSE Observability for kube resources? My Client wants to open this tool up to other people in his org but currently can only give it to a handful of admins because of this.

Thank you

---

**Gaby Beitler** (2025-01-31 18:25):
Hello all, IHAC that is asking "is SUSE Observability a server monitoring solution similar to Prometheus and Zabbix?". My response is they are in the same category, but fundamentally different, in the SUSE Observability is design the guide the team with detailed how-tos to resolution. Are there any competitive documents that we have that has a comparison? I am not looking for a feature for feature document, but rather something I craft into response of the value of the differences.

---

**David Noland** (2025-01-31 23:29):
I think this thread (https://suse.slack.com/archives/C079ANFDS2C/p1738224007407249) from yesterday has some insight on that.

---

**Bram Schuur** (2025-02-03 09:22):
@Mark Bakker i have pulled this ticket into the lupulus sprint to have the work visible and put your name on this. we can discuss over standup

---

**Bram Schuur** (2025-02-03 11:24):
@Tapas Nandi @Ron Terry it turns out this is out of our hands and managed by the scc team, could you contact them directly? I think through <#C02AYV7UJSD|> (or maybe some other channel, i am not exactly sure which channels they use).

---

**Brynn Harrison** (2025-02-03 12:05):
I'm having some issues with the suse observability node agent crashing. (v1.0.16)
I get this error in the logs:
```ERROR (net_common.go:198) - failed to create network tracer: error loading prebuilt tracer: error guessing offsets: could not start offset ebpf manager: failed to cleanup tracefs: read kprobe_events: open /sys/kernel/debug/tracing/kprobe_events: no such file or directory. No retries left.```
The Host is Ubuntu v23.04, kernel: 6.2.0-1018-kvm
Any ideas?

---

**Mohamed Elnemr** (2025-02-03 12:10):
@Bram Schuur @Alejandro Acevedo Osorio do you think our node agent supports this OS ?

---

**Bram Schuur** (2025-02-03 12:36):
that should be supported yeah, it seems like that debug tracing is not mounted on the host system. For ubuntu this is done through systemd:
```bram@bram-XPS-15-9520:~$ systemctl list-units --type=mount | grep debug
  sys-kernel-debug-tracing.mount                                                                        loaded active mounted /sys/kernel/debug/tracing
  sys-kernel-debug.mount                                                                                loaded active mounted Kernel Debug File System```

---

**Bram Schuur** (2025-02-03 12:46):
could you see what the file permissions are like in the pod, through:
```kubectl exec &lt;node-agent-pod&gt; -c process-agent -- ls -la /sys/kernel/debug/tracing```

---

**Brynn Harrison** (2025-02-03 12:56):
``` k exec suse-observability-node-agent-flm5l -c process-agent  -n observability-agent -- ls -la /sys/kernel/debug/tracing
total 0
drwx------  8 root root 0 Feb  3 09:27 .
drwx------ 22 root root 0 Feb  3 09:27 ..
-r--r-----  1 root root 0 Feb  3 09:27 README
-r--r-----  1 root root 0 Feb  3 09:27 available_events
-r--r-----  1 root root 0 Feb  3 09:27 available_tracers
-rw-r-----  1 root root 0 Feb  3 09:27 buffer_percent
-rw-r-----  1 root root 0 Feb  3 09:27 buffer_size_kb
-r--r-----  1 root root 0 Feb  3 09:27 buffer_total_size_kb
-rw-r-----  1 root root 0 Feb  3 09:27 current_tracer
-rw-r-----  1 root root 0 Feb  3 09:27 dynamic_events
-rw-r-----  1 root root 0 Feb  3 09:27 error_log
drwxr-x--- 86 root root 0 Feb  3 09:27 events
--w-------  1 root root 0 Feb  3 09:27 free_buffer
drwxr-x---  2 root root 0 Feb  3 09:27 instances
drwxr-x---  2 root root 0 Feb  3 09:27 options
drwxr-x---  2 root root 0 Feb  3 09:27 osnoise
drwxr-x--- 18 root root 0 Feb  3 09:27 per_cpu
-r--r-----  1 root root 0 Feb  3 09:27 printk_formats
drwxr-x---  3 root root 0 Feb  3 09:27 rv
-r--r-----  1 root root 0 Feb  3 09:27 saved_cmdlines
-rw-r-----  1 root root 0 Feb  3 09:27 saved_cmdlines_size
-r--r-----  1 root root 0 Feb  3 09:27 saved_tgids
-rw-r-----  1 root root 0 Feb  3 09:27 set_event
-rw-r-----  1 root root 0 Feb  3 09:27 set_event_notrace_pid
-rw-r-----  1 root root 0 Feb  3 09:27 set_event_pid
-rw-r-----  1 root root 0 Feb  3 09:27 synthetic_events
-r--r-----  1 root root 0 Feb  3 09:27 timestamp_mode
-rw-r-----  1 root root 0 Feb  3 09:27 trace
-rw-r-----  1 root root 0 Feb  3 09:27 trace_clock
--w--w----  1 root root 0 Feb  3 09:27 trace_marker
--w--w----  1 root root 0 Feb  3 09:27 trace_marker_raw
-rw-r-----  1 root root 0 Feb  3 09:27 trace_options
-r--r-----  1 root root 0 Feb  3 09:27 trace_pipe
-rw-r-----  1 root root 0 Feb  3 09:27 tracing_cpumask
-rw-r-----  1 root root 0 Feb  3 09:27 tracing_max_latency
-rw-r-----  1 root root 0 Feb  3 09:27 tracing_on
-rw-r-----  1 root root 0 Feb  3 09:27 tracing_thresh
-rw-r-----  1 root root 0 Feb  3 09:27 uprobe_events
-r--r-----  1 root root 0 Feb  3 09:27 uprobe_profile```

---

**Bram Schuur** (2025-02-03 13:01):
Could you run the following command on your machine?
```bram@bram-XPS-15-9520:~$ cat /boot/config-$(uname -r) | grep KPROB
CONFIG_KPROBES=y
CONFIG_KPROBES_ON_FTRACE=y
CONFIG_HAVE_KPROBES=y
CONFIG_HAVE_KPROBES_ON_FTRACE=y
CONFIG_KPROBE_EVENTS=y
# CONFIG_KPROBE_EVENTS_ON_NOTRACE is not set
CONFIG_BPF_KPROBE_OVERRIDE=y
# CONFIG_KPROBE_EVENT_GEN_TEST is not set
# CONFIG_SAMPLE_KPROBES is not set
bram@bram-XPS-15-9520:~$ ```

---

**Bram Schuur** (2025-02-03 13:02):
Right, so it seems the *-kvm ubuntu version does not have kprobes enabled, which is required for the ebpf/connection tracing agent

---

**Bram Schuur** (2025-02-03 13:03):
This reddit thread resorted to building their own image.. but that is i think a bit rough: https://www.reddit.com/r/linuxquestions/comments/16vz5bf/building_my_own_kernel/?rdt=50822

---

**Bram Schuur** (2025-02-03 13:04):
Unfortunately there is not much we can do form suse-observability side with this flag disabled, you can go for a different kernel

---

**Brynn Harrison** (2025-02-03 13:04):
A bit beyond my capability I think :slightly_smiling_face:

---

**Bram Schuur** (2025-02-03 13:04):
Making a kprobe-less version of the agent seems improbable

---

**Brynn Harrison** (2025-02-03 13:04):
Can I disable the tracing agent?

---

**Bram Schuur** (2025-02-03 13:06):
Yes, putting `--nodeAgent.containers.processAgent.enabled=false` in your helm invocation, you will not get connection tracing though

---

**Bram Schuur** (2025-02-03 13:07):
Sorry `--set nodeAgent.containers.processAgent.enabled=false`

---

**Brynn Harrison** (2025-02-03 13:07):
OK thanks - I'm not too worried as this is just my test environment - the learning of these issues is more important than the outcome.
Thanks for your help

---

**Brynn Harrison** (2025-02-03 13:11):
My node agent is now running and I'm happy in my ignorance of connection tracing :slightly_smiling_face:

---

**Mark Bakker** (2025-02-03 13:23):
Hi Joel, yes this will be possible exactly like you describe it. The work is currently in progress and will take a few more months to be released.

---

**Gaby Beitler** (2025-02-03 16:08):
We are ready in the PoC to start using observability, can we re-enable <mailto:klaus.jantzen@conduent.com|klaus.jantzen@conduent.com> with a 14 trial?

---

**Joel Endel** (2025-02-03 17:03):
Awesome, Do we have a targeted rancher version?

---

**José Guilherme Vanz** (2025-02-03 22:23):
Hi folks! I'm testing stackstate with OTEL integration and I would like to understand better what the "service" under the OTEL section means. Is the collectors sending data to the STS OTEL collector or any other app running in the monitored clusters where the OTEL collector are sending data from?

---

**Karen Van der Veer** (2025-02-04 01:56):
Hi, @James Mason from the public cloud team needs a path to pull the container from to get an EKS add-on working. Any pointers?

---

**Amol Kharche** (2025-02-04 04:45):
The "service" typically refers to the application, workload, or process that is being monitored and generating telemetry data (traces, metrics, logs).
OTEL collects this telemetry data from applications and is responsible for sending data to our suse observability otel collector.

---

**Sam Chen** (2025-02-04 10:56):
Hi there, do we support K8s 1.31 now? I can’t find 1.31 on docs.

---

**Amol Kharche** (2025-02-04 11:16):
I have been running a SUSE Observability cluster on K8s v1.31 for the past two weeks without any functionality issues. However, I'm waiting for the engineering team to officially support it in our documentation.

---

**Sam Chen** (2025-02-04 13:00):
Thanks Amol, I’m waiting for the official announcement too :pray:

---

**José Guilherme Vanz** (2025-02-04 13:31):
Are the service.name and service.namespace labels collected by the OTEL collector as well?

---

**Amol Kharche** (2025-02-04 14:48):
I believe! Yes, the OTEL Collector does collect `service.name` and `service.namespace` labels. @Remco Beckers please correct me if I’m wrong.
https://opentelemetry.io/docs/specs/semconv/attributes-registry/service/

---

**José Guilherme Vanz** (2025-02-04 14:51):
Thanks! I was playing with it and I could fix my pipeline to properly set the right service name to make it work nicely in the UI.

---

**Alex Arnoldy** (2025-02-04 15:46):
Hello Team, Are there any hidden caveats to running SUSE Rancher Prime (aka Rancher Manager) on the same cluster as SUSE Observability) in production?

---

**Remco Beckers** (2025-02-04 15:58):
Yes they are indeed

---

**Remco Beckers** (2025-02-04 15:59):
SUSE Observability even expects a `service.name` to be present (this is also enforced by almost all otel SDKs), the `service.namespace` is optional (we will fallback to a `default` if it is not provided)

---

**Karen Van der Veer** (2025-02-04 16:40):
@Mark Bakker, could you help us with this? https://suse.slack.com/archives/C079ANFDS2C/p1738630614318309

---

**Bram Schuur** (2025-02-04 16:49):
Heyhey, the agent consists of a multitude of images, the miages are defined in the helm chart. To easily get a list of those images out, the following script can be used: https://github.com/StackVista/helm-charts/blob/master/stable/suse-observability-agent/installation/o11y-agent-get-images.sh

---

**Mark Bakker** (2025-02-04 16:50):
Hi @Karen Van der Veer sorry, did not yet come to chaise this one. But you got the answer above

---

**Mark Bakker** (2025-02-04 16:58):
Yes we intentionally did not advise that since many customers cannot scale their Rancher Manager clusters and Observability tends to be a lot of data processing where you do want to have the ability to scale.

---

**Karen Van der Veer** (2025-02-04 17:02):
@James Mason ^^

---

**José Guilherme Vanz** (2025-02-04 17:03):
Yeah, I update my pipeline to ensure that all the data are there. It's working.

---

**José Guilherme Vanz** (2025-02-04 17:05):
Now I'm trying to learn how I can add nice visualization for the metrics exported by my local OTEL collector. I can see the metrics in STS UI. But I would like to have a nice visualization for them. I guess this is possible, right?

---

**Alex Arnoldy** (2025-02-04 18:14):
Thank you for the info, however, I'm confused as to what you mean by "many customers cannot scale their Rancher Manager clusters."

---

**Dan Pock** (2025-02-04 19:42):
I think I can help answer that part.

The local rancher cluster is really intended to be just used by rancher. And often existing customer with higher numbers of (either/or) downstream clusters and nodes, may need to scale their Rancher cluster.

So adding an observability stack on top of that dynamic only complicates things more as far as optimal scaling for the local cluster.

Additionally it would require they incorporate both apps into their restore/recover process if they were to loose their Rancher cluster. Which in a sense is it's own type of scaling issue, as many users may not have that process fully automated as it is today.

---

**Alex Arnoldy** (2025-02-04 19:49):
Yeah, that makes sense. It brings to mind the times we tried to collocate different kinds of infrastructure applications with Rancher (can't remember which ones anymore). We always go huge pushback for similar reasons, as well as concerns that either application could unexpectedly impact the other with a surge in network, storage, memory, or CPU activity.

Thanks to both for the feedback!

---

**Gerson Guevara** (2025-02-04 20:09):
Hi Team, How can I get a NFR License for SUSE Observability?

---

**Jorn Knuttila** (2025-02-04 20:16):
This? https://more.suse.com/SUSE_Cloud_Observability_Early_Access_Program.html

---

**Gerson Guevara** (2025-02-04 20:21):
Will this program assign a Testing license soon? any idea?

---

**Jorn Knuttila** (2025-02-04 20:24):
I suspect you may get more/clearer responses to your inquiry from the collective if you are a bit more detailed in what you are asking and trying to accomplish.  :slightly_smiling_face:  Just a guess.

---

**Gerson Guevara** (2025-02-04 20:39):
I’m working on a SUSE Virtualization on Dell PowerEdge using Kioxia disks Reference Architecture and I would like to add SUSE Observability to that but I have not been able to get a testing license. The servers are in Kioxia Lab. How can I get a testing license? I’m running out of time.

---

**Gerson Guevara** (2025-02-04 20:40):
@Landon Hale @Lance Ortiz @Andreas Prins see above.

---

**Gaby Beitler** (2025-02-04 21:08):
Can I get some help on this account? :point_up_2:

---

**Louis Lotter** (2025-02-04 21:51):
@Gaby Beitler Apologies that you are slow to getting a response here. I have been engaging with @Genevieve Cross @Jeroen Storm and @Andreas Prins on this in the background. Will try to make sure we help you tomorrow.

---

**Andreas Prins** (2025-02-05 07:53):
@Mark Bakker do we still have testing licenses? Or how do they get them?

---

**Mark Bakker** (2025-02-05 08:53):
The sales specialist team has a sheet with testing licenses for partners, @Emine Uygun and/ or @Jeroen Storm can help you with that.

---

**Jeroen Storm** (2025-02-05 09:08):
@Andreas Prins will sent you a test licenses over slack.

---

**Andreas Prins** (2025-02-05 09:33):
thnks, I've shared them directly with Gerson

---

**Wilco van der Stek** (2025-02-05 13:22):
Hi,

Is there a way to show the StackPacks in https://play.stackstate.com/? Readonly is sufficient. Present, it is greyed out

---

**Vladimir Iliakov** (2025-02-05 13:25):
Nop, it contains sensitive information: API keys of the observed clusters.

---

**Wilco van der Stek** (2025-02-05 13:26):
Thank you, clear

---

**Gerson Guevara** (2025-02-05 14:09):
Hi Team, thank you very much, I have shared the testing license with Kioxia/Dell for our RA project.

---

**Gaby Beitler** (2025-02-05 14:17):
Hi @Louis Lotter Any update on this issue?

---

**Andreas Prins** (2025-02-05 14:18):
we're on it

---

**Andreas Prins** (2025-02-05 14:20):
does the customer wants to run this on prem or in a cloud instance? For a cloud instane, later in time, the real production is back on prem again.

If he wants an on-prem version, the license key is already in SCC. If he needs guidance on what it is etc, @Meriem Ahmed-Wolters is the go to person for a rocking demo.

---

**Gaby Beitler** (2025-02-05 14:24):
For the PoC cloud instance is fine. Once they roll into production it will need to be on-prem. :wave: @Meriem Ahmed-Wolters I will plug you into conversation and would appreciate you assisting getting the PoC over the finish line.

---

**José Guilherme Vanz** (2025-02-05 14:51):
Hey folks! I would like to share with you the initial integration that I did with Kubewarden and STS. You can access the STS instance at `http://stackstate.hpc9u27` . I'm using OTEL to send our metric to STS and added custom metrics for our otel service in the STS UI. If you're interested, take a look and give some suggestion for improvements.

*NOTE:* This machine is in Prague office. So, you need VPN to access. Furthermore, the DNS is not working too. Thus, you need to update your /etc/hosts to resolve this address. (sorry for the inconvenience )  :wink:

---

**José Guilherme Vanz** (2025-02-05 14:52):
I think there is a quite space for improvements in the metrics queries. But I would like to share the current state to start to get initial feedback. :wink:

---

**Paul Gonin** (2025-02-05 14:55):
the machine is in Granite / SLC1 datacenter

---

**José Guilherme Vanz** (2025-02-05 14:57):
Ah, sorry. I'm using my Prg VPN. That's why said it's there. My bad. xD

---

**Jeroen van Erp** (2025-02-05 15:19):
Can we get some screenshots or a walkthrough, would love to see what you did with Observability

---

**José Guilherme Vanz** (2025-02-05 15:21):
Yes, we can do it

---

**Gaby Beitler** (2025-02-05 15:29):
@Meriem Ahmed-Wolters and I connected and have set forth a go forward path. Thank you @Andreas Prins and @Louis Lotter! Onward and upward. :suse1:

---

**Hugo de Vries** (2025-02-05 16:09):
To show the StackPack page during demo’s you need to use another instance like the sa or kubecon one where your user has more permissions.

---

**Wilco van der Stek** (2025-02-05 16:10):
Yes, clear. This is exactly the point I was trying to avoid :slightly_smiling_face:

---

**Andreas Prins** (2025-02-05 16:45):
great, really sorry for the very lengthy process, that is certainly not our style.

---

**José Guilherme Vanz** (2025-02-05 18:43):
Do you want to schedule a quick chat to show you the lab?

---

**Jeroen van Erp** (2025-02-05 18:51):
Sure, not today though (it’s 7pm here :wink: )

---

**José Guilherme Vanz** (2025-02-05 18:57):
Sure, no problems

---

**José Guilherme Vanz** (2025-02-05 18:58):
We can talk Tomorrow, if you can. :wink:

---

**José Guilherme Vanz** (2025-02-05 19:16):
This is a quick video of the current state of the demo. This is not a replacement for our call. I just want to share as fast as possible to speed up the conversation. I think a sync call is still needed. :wink:

https://drive.google.com/file/d/1o97cR32bO9ZigMpMkEIqkzGKHjgZPMt-/view?usp=sharing

---

**Jeroen van Erp** (2025-02-05 19:50):
Looks great, good start :slightly_smiling_face: I’ve also passed this along to @Mark Bakker, the PM of Observability

---

**Christian Scherm** (2025-02-05 21:05):
Hi Team, our customer Liebherr is testing SUSE Observability heavily and the following questions arises:

```At the moment, our performance doesn't seem to be so good. Manuel had said that there was a possibility of connecting an external Elasticsearch cluster. That would be quite practical, because we already have that and it's sufficiently dimensioned.
But I couldn't really find anything in the documentation apart from stackstate.components.all.elasticsearchEndpoint
The other elasticsearch options seem to refer more to the instance in the cluster.
Can you tell us how this should be configured?```
Is there internal documentation available?

---

**Jeroen van Erp** (2025-02-05 21:34):
I don't think that's supported Christian... Engineering team might know better. But the es instance is tuned with specific indices afaik

---

**Remco Beckers** (2025-02-06 08:36):
An external Elasticsearch cluster is not supported indeed.

---

**Remco Beckers** (2025-02-06 08:37):
It is also questionable if a bigger elasticsearch cluster would help performance, there are several other databases in use that often have a bigger impact on the system.

---

**Remco Beckers** (2025-02-06 08:38):
We can help with performance problems.

The first question would be which profile they are using and how big their monitored clusters are (in terms of "default nodes" (or just the number of vCPUS and memory). See also https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements#resource-requirements.

---

**Remco Beckers** (2025-02-06 08:39):
An additional question is if they have some specific workload that results in an extraordinary amount of pods or more than normal churn.

---

**Christian Scherm** (2025-02-06 09:34):
Thanks for the feedback. Let me pass over the questions to the customer

---

**Mark Bakker** (2025-02-06 13:40):
Hi @José Guilherme Vanz thanks for sharing!

Couple of suggestions:
• Define a demo flow where you have a policy which is not behaving in the right way (e.g. high latency, or high latency due too excessive evaluations or something along those lines).
• Make sure to add monitors to the kubewarden resources which monitor this
    ◦ Add a remediation hint including a link to the specific traces which showcase this behaviour so you can troubleshoot the issue easily having guidance.
• Add some of the metric bindings also to the highlight perspective since those are the main graphs of interests for these resources
• If you need help to do this you might consider asking @Ravan Naidoo if he can help out (not sure about his availability)
• I would also advise to package these bindings and monitors in a StackPack

---

**Mark Bakker** (2025-02-06 14:34):
@José Guilherme Vanz for your information soon we also will show the events inline for Span's.
So if you have interesting information in those we will show it. Not sure when it's ready but should be before SUSECon:

---

**José Guilherme Vanz** (2025-02-06 18:12):
Thank you for the feedback! We will prioritize this improvements for next sprints.

---

**Christian Scherm** (2025-02-06 20:06):
The customer wrote me the following:

```We use the 100-nonha sizing. We connected some of our clusters, in total about ~70 'default nodes'.
hbase.stackgraph was running into OOM, so I increased the memory limit to 6Gi.
 
At the moment, stackstate.components.server is in a crash loop. I attached two logs.
We generally experience slow performance and some errors popping up in the UI, but atm I can't check further due to the server component crashing.
 
I think for our productive setup we'll switch to the 250 HA preset, but for now it would be great to have this setup running again.
Any help with the errors would be appreciated!```

---

**Christian Scherm** (2025-02-06 20:07):
What would be the best approach to help them? Open a support ticket?

---

**John Pugh** (2025-02-06 21:55):
If they are a customer, they most definitely *should* open a ticket!

---

**Andreas Prins** (2025-02-07 10:18):
big shout out to @kevin.ayres who created a very practical guide if you have people considering SUSE Cloud Observability. Couple good hints and directions also on how to steer the conversation. Thanks Kevin putting this together. Posting here for visibility: https://docs.google.com/presentation/d/1vGY_5J0Cz0DgQYvn4B8muw-CyoxxH9UmQxcf1brgLUU/edit?usp=sharing

---

**Jeroen van Erp** (2025-02-07 10:23):
Nice! Good overview

---

**Paul Gonin** (2025-02-07 10:25):
can we submit comments in the slideset ?

---

**Andreas Prins** (2025-02-07 10:26):
yes please do so! I think Keven is fine if you post them here

---

**Paul Gonin** (2025-02-07 10:26):
very good overview of the customer journey

---

**Paul Gonin** (2025-02-07 10:27):
"It’s a SaaS only offering, targeting upstream Rancher and k8s users."
=&gt; I would call it Community Rancher rather than upstream

---

**Christian Scherm** (2025-02-07 10:38):
Ticket created: 01569131

---

**Yingluo Zhang** (2025-02-07 16:42):
Hi SUSE Observability experts, I would like to confirm a resource requirement detail for installing the O11y Server:
1. In the documentation (https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements), the CPU and memory requests and limits mentioned—do they refer to the resource requirements for all the worker nodes in the Kubernetes cluster where O11y is installed (excluding the master nodes)? For example, in a setup with 3 master nodes (4 CPU, 8GB memory each) and 3 worker nodes (8 CPU, 16GB memory each), the total available resources would be the combined resources of the 3 worker nodes, i.e., 24 CPU and 48GB memory. Is my understanding correct?

---

**Vladimir Iliakov** (2025-02-07 16:52):
Yes, your understanding is correct.
The master nodes are dedicated to run core Kubernetes services. By default, the applications can't be deployed to them.

---

**kevin.ayres** (2025-02-07 18:39):
Please do.  Shout if you need Edit rights

---

**Yingluo Zhang** (2025-02-10 08:41):
Hi SUSE Observability experts,

Our customer, `BMW Brilliance Automotive Ltd (A058385)`, is deploying SUSE Observability but has encountered resource-related issues:

1. The Kubernetes cluster hosting o11y consists of `3 masters (4C+8G) and 3 workers (20C+32G),` with the sizing profile set to `150ha`.
2. According to our official documentation (https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements), the Memory Requests is 67Gi.
3. During the actual deployment, checking each Kubernetes worker node shows that the `actual Memory Requests ≈ 30Gi` per node, with a `total Memory Requests ≈ 90Gi`. This has resulted in many `o11y components being unschedulable due to insufficient resources`. I have attached the actual data and error messages obtained from the customer’s environment for your reference.

Could you confirm whether the resource requirements in our official documentation need updating? Or do we have other suggestions for the customer?

Thank you very much!

---

**Alejandro Acevedo Osorio** (2025-02-10 09:29):
Hi @Yingluo Zhang I just verified it and unfortunately is an error in the documentation. The correct number is supposed to be `126Gb`

---

**Yingluo Zhang** (2025-02-10 09:33):
Thanks   so much for your reply @Alejandro Acevedo Osorio  ,Could you please update all  resource requirments`(*CPU Requests/Limits&Memory Requests/Limits)*` based on `150ha`?

---

**Alejandro Acevedo Osorio** (2025-02-10 09:35):
I just verified the other values for `150-ha`  and they are correct/ I'll make the update to the docs for the incorrect memory requests

---

**Alejandro Acevedo Osorio** (2025-02-10 09:36):
@Bram Schuur Could you help me with a review? https://github.com/StackVista/stackstate-docs/pull/1579

---

**Ravan Naidoo** (2025-02-10 12:25):
As more teams within SUSE explore SUSE Observability for use within their domain, its important to understand the capabilities offered by SUSE Observability for customization and extension.  In the Monitoring Your SUSE Virtualization Environment (https://github.com/ravan/suse-observability-guides/blob/main/guides/suse/virtualization/metrics/README.md) guide, we explored OpenTelemetry, custom metrics, views and dashboards.

To build on this, I’ve created a SUSE Observability User Interface Extension (https://github.com/ravan/suse-observability-guides/blob/main/guides/suse/observability/view-customization/README.md) guide that explains how the SUSE Observability user interface is put together and how you could potentially add your own to better observe your domain.

---

**Gaby Beitler** (2025-02-10 15:52):
Hello all, I am attempting to set up observability in a lab and I think I am almost there, but am getting a blank white page when I go to the ingress. Below is my configuration. Any help appreciated. Thanks
```gbeitler@Gabys-MacBook-Pro ~ % kubectl get -n suse-observability ingress
NAME                            CLASS   HOSTS   ADDRESS                                                                 PORTS   AGE
suse-observability-ui-ingress   nginx   *       10.144.109.65,10.144.109.66,10.144.109.75,10.144.109.77,10.144.109.78   80      78m
gbeitler@Gabys-MacBook-Pro ~ % kubectl get -n suse-observability ingress
NAME                            CLASS   HOSTS   ADDRESS                                                                 PORTS   AGE
suse-observability-ui-ingress   nginx   *       10.144.109.65,10.144.109.66,10.144.109.75,10.144.109.77,10.144.109.78   80      105m
gbeitler@Gabys-MacBook-Pro ~ % kubectl describe -n suse-observability ingress
Name:             suse-observability-ui-ingress
Labels:           &lt;none&gt;
Namespace:        suse-observability
Address:          10.144.109.65,10.144.109.66,10.144.109.75,10.144.109.77,10.144.109.78
Ingress Class:    nginx
Default backend:  &lt;default&gt;
Rules:
  Host        Path  Backends
  ----        ----  --------
  *
              /   suse-observability-ui:8080 (10.42.5.5:8080)
Annotations:  &lt;none&gt;
Events:       &lt;none&gt;```

---

**Vladimir Iliakov** (2025-02-10 15:56):
Hi Gaby,
You have to expose the *router* service, and not the *ui*.
You can provision an Ingress resource from the chart:
https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-via-the[…]e-observability-helm-chart (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-via-the-suse-observability-helm-chart)

---

**Nick Zhao** (2025-02-10 16:36):
Thanks for your sharing.  Have you tested ldap over ssl connection?

---

**Tanuj Kohli** (2025-02-10 18:58):
Hello Team, A few of us met StoneX last week. They would like a deeper understanding of the alert channels being used in StackState/SUSE Observability. Is there some info which can be shared with customers on that front?

---

**Louis Lotter** (2025-02-10 20:17):
Hi. Can you check https://docs.stackstate.com/monitors-and-alerts/notifications and the pages that follow from it and see if it answers your questions ?

---

**Louis Lotter** (2025-02-10 20:17):
We have rich integration with Slack etc. and support webhooks.

---

**Saurabh Sadhale** (2025-02-11 07:37):
@Nick Zhao i have not tested but it would prove to be a good edit to the above page. I will look it up and update once I have successfully tested a scenario.

---

**George Yao** (2025-02-11 12:33):
Hi Team, I am deploying observability in air-gapped way, but I was block with some pods cannot be started. Does it caused by the warning prompted when executing helm upgrade or ? I am using `trial`  for sizing.profile.

---

**Vladimir Iliakov** (2025-02-11 12:38):
Hi George, no these warnings can be ignored.
The problem is with the pods stuck in `Pending` state
They all depend on persistent volumes, so I guess something wrong with them.
Check the status/events of the persistentvolumes and persistentvolumeclaims

---

**Vladimir Iliakov** (2025-02-11 12:38):
kubectl get pv,pvc
kubectl describe pv &lt;volume_name&gt;
kubectl describe pvc &lt;pvc_name&gt;

---

**Louis Lotter** (2025-02-11 12:49):
@Sheng Yang may be good for you and your guys to review this

---

**Flávio Gussi** (2025-02-11 13:49):
Good morning everybody!

Is there any possibility or roadmap for integrating Observability with Service Now? for example, when an error is identified, will it automatically generate a ticket for viewing?

---

**Louis Lotter** (2025-02-11 13:50):
You could do this yourself using the webhook functionality on alerting

---

**Andreas Prins** (2025-02-11 13:50):
we also have experience at some of our customers doing this.

---

**Andreas Prins** (2025-02-11 13:51):
@Mohamed Elnemr or @Marc Rua Herrera I think can certainly explain how we did that

---

**Flávio Gussi** (2025-02-11 13:51):
what a quick response!
Thank you very much, Louis and Andreas!

---

**Marc Rua Herrera** (2025-02-11 14:06):
Hi Flavio, we use to have an integration with ServiceNow, but I don't think is any longer in the product. You can probably achieve that doing what Louis suggested, although I have never done it myself.

https://docs.stackstate.com/monitors-and-alerts/notifications/channels/webhook

---

**Mark Bakker** (2025-02-11 14:12):
We indeed don't have a direct integration with ServiceNow, but it should be fairly straightforward to create a small app which takes the WebHook request and converts that to ServiceNow which is the direction I would advise.

---

**José Guilherme Vanz** (2025-02-11 14:55):
@Mark Bakker @Jeroen van Erp, we were discussing the next steps for the SUSE Observability + Kubewarden demo during our planning session. We have some questions about what you would like to showcase at the upcoming events. Given our limited bandwidth in the next few weeks, this information will help us properly prioritize tasks to maximize your impact and ensure a successful product demonstration with Kubewarden. Therefore, would you be available to chat with us this week to discuss these questions?

---

**Mark Bakker** (2025-02-11 15:00):
Hi @José Guilherme Vanz feel free to book something on Thursday or Friday, I have some slots available.

---

**Mark Bakker** (2025-02-11 15:00):
My agenda is up-to-date

---

**José Guilherme Vanz** (2025-02-11 15:52):
I've just sent an invite for you and Jeroen. Let me know if I should add someone else :wink:

---

**Hugo de Vries** (2025-02-11 16:18):
Not supported out of the box for now. Our customer NN created a serverless function to convert the SUSE Observability webhook to a ServiceNow incident creation API call.

---

**Louis Lotter** (2025-02-11 16:21):
Can you ask nicely to borrow the code :slightly_smiling_face: ?

---

**Hugo de Vries** (2025-02-11 16:24):
I can. And they would like to get the source code of the topology health agregation Monitor. Shall I propose a trade? :slightly_smiling_face:

---

**Louis Lotter** (2025-02-11 16:27):
why not. I think we should also maybe maintain a library of webhook recipes etc.

---

**James Mason** (2025-02-11 19:04):
:wave: With regard to the agent, is there a timeline for rebranding? I see that the helm chart still refers to `stackstate/promtail`, `stackstate/stackstate-k8s-agent`, `stackstate/stackstate-k8s-cluster-agent`, `stackstate/stackstate-k8s-process-agent`, and values are still defined for `stackstate.cluster`, `stackstate.url`, etc.

I'm working on the EKS Addon for "SUSE Observability Client" and I think it's going to be very confusing for customers if they install "SUSE Observablity Client", but the result is all these "stackstate" resources in their cluster.
cc @Karen Van der Veer @Dominic Vieira

---

**Jeroen van Erp** (2025-02-11 19:22):
Where are you getting the agent from?

---

**James Mason** (2025-02-11 20:06):
https://github.com/StackVista/helm-charts/tree/master/stable/suse-observability-agent , provided by @Mark Bakker

---

**Sergey Nasovich** (2025-02-11 20:27):
:wave: First time post here from a total newb in SUSE Observability.

Does SUSE Observability support logs from processes running directly on cluster nodes (e.g. output of `journalctl`) or is it limited to "K8s entities like pods"? Looking at https://docs.stackstate.com/logs/k8sts-explore-logs seems the answer is "no" but wanted to confirm here.

---

**Jeroen van Erp** (2025-02-11 20:31):
Ahh yes, the docker images have not been renamed…

---

**Jeroen van Erp** (2025-02-11 20:32):
I was checking the deployment and that looks rebranded. :wink:

---

**James Mason** (2025-02-11 20:42):
So... just move forward as-is?

---

**Jeroen van Erp** (2025-02-11 20:47):
This is what the deployment looks like once deployed, the container images are still called `stackstate` , but those you only see if you look deeper

---

**James Mason** (2025-02-11 23:29):
For EKS Addons, there are some _helm_ things that are not allowed. I'm working on a version that meets AWS' expectations, but how do you all want to handle the differences moving forward? I don't want to maintain a fork forever...

WIP on changes, so far: https://github.com/StackVista/helm-charts/compare/master...bear454:observability-helm-charts:eks-addon?expand=1
The rules of the road: https://docs.aws.amazon.com/marketplace/latest/userguide/container-product-policies.html#publishing-eks-add-on

---

**Alex Settle** (2025-02-12 03:53):
Just an FYI, I added this comment to our tracking Epic: https://jira.suse.com/browse/SURE-9533

---

**Bram Schuur** (2025-02-12 09:20):
I might be getting ahead of ourselves, but it would be great if we can upstream your work at some point. I see some changes ther though (like some conditional being dropped, header injector being dropped), that we cannot easily transfer.

Proposal (discussed with @Mark Bakker): You work out the changes that are needed for EKS polished, then we work together on seeing how to upstream

---

**Bram Schuur** (2025-02-12 09:21):
cc @Louis Lotter

---

**Bram Schuur** (2025-02-12 09:23):
Right this moment we do not support OS-level logs like journalctl, I think this is on the roadmap, @Mark Bakker knows more there

---

**Mark Bakker** (2025-02-12 10:43):
Hi @Sergey Nasovich indeed as @Bram Schuur mentioned not yet, but it's indeed on our roadmap for the coming half year.

---

**Gabriel Lins** (2025-02-12 13:32):
Hello!
Is it possible to connect Zabbix to SUSE Observability? Our customer wants to integrate it to automatically send an ACK to the Service Desk, a automatic process that they already have built.
Additionally, their main goal is to stop using New Relic (won't renew anymore) and have all information delivered through SUSE Observability. Can SUSE Observability address use cases like JBoss (which is not running on Kubernetes) or connect an agent to an external database outside Kubernetes? Will StackPacks 2.0 bring anything aligned with this?

---

**Sergey Nasovich** (2025-02-12 14:42):
Thank you for the responses - that would be a great addition. Is there Jira or anything like it to track in regards to this enhancement?
FYI @Chris Kim @Chris Wayne as it’s connected to our conversation about improving logging for Rancher v2prov (and probably not just v2prov - provisioning in general).

---

**Mark Bakker** (2025-02-12 14:50):
We have the investigation story, but be aware this work is not yet refined, https://stackstate.atlassian.net/browse/STAC-21786

---

**Paul Gonin** (2025-02-12 14:53):
my attlassian account is on `@suse.de`  I don't have the courage to go down that rabbit hole to recover my account :smile:

---

**George Yao** (2025-02-12 15:32):
Hi Team, I get my observability server installed and expose it by ingress with TLS configuration in `ingress_values.yaml`, when I install `sts` cli, it prompted the certificate is not valid for my observability domain but for ingress.local. May I know how I can fix it up.

---

**Sergey Nasovich** (2025-02-12 15:33):
Thank you. Doesn't seem like I have access to https://stackstate.atlassian.net but that's OK.

---

**Jeroen van Erp** (2025-02-12 15:43):
Do you have cert-manager with letsencrypt running?

---

**Javier Lagos** (2025-02-12 15:53):
Seems like you are not creating a certificate for the observability domain. I usually create the following cluster-issuer along with cert-manager to create a valid HTTPS certificate

```apiVersion: cert-manager.io/v1 (http://cert-manager.io/v1)
kind: ClusterIssuer
metadata:
  name: letsencrypt-prod
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    privateKeySecretRef:
      name: letsencrypt-prod
    solvers:
    - http01:
        ingress:
          class: nginx```
and then I deploy Suse Observability with the following ingress variables
```ingress:
  enabled: true
  annotations:
    cert-manager.io/cluster-issuer (http://cert-manager.io/cluster-issuer): letsencrypt-prod
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
  hosts:
    - host: &lt;your-observability-domain&gt;
  tls:
    - hosts:
        - &lt;your-observability-domain&gt;
      secretName: tls-secret```

---

**George Yao** (2025-02-12 16:32):
I fixed it up with above solution. It seems can only be used in online environment, how it can work in air-gap environment, of course I can get cert-manger installed in air-gap way with helm, but the `letsencrypt` is required to connect to `https://acme-v02.api.letsencrypt.org/directory` .

---

**Jeroen van Erp** (2025-02-12 16:34):
You can actually generate a wildcard certificate for airgapped envs… Doing so is probably somewhere in someones docs :wink:

---

**Vladimir Iliakov** (2025-02-12 22:47):
The EKS cluster name seems to be a reasonable name for `stackstate.cluster.name`.
Can you please delete the api key from the message?

---

**James Mason** (2025-02-13 00:07):
Sorry, I assumed that was fake or random. I got that by email.

---

**James Mason** (2025-02-13 00:11):
Do you have any advice on using the EKS cluster name programatically in a helm chart?

---

**Brian Six** (2025-02-13 04:21):
I see the Ingress piece in the docs but nothing about cert manager.  If I'm not using nginx as the ingress like rke2 might, I'm using traefik with K3s.  What changes do I make for that?

---

**Jeroen van Erp** (2025-02-13 07:40):
Choose a different ingressClassName I think :slightly_smiling_face:

---

**Vladimir Iliakov** (2025-02-13 09:41):
It depends on the deployment pipeline and tooling.
For example, if you use Terraform for both EKS and Helm deployments, you can use the output of the EKS resource as an input for Helm value.
or if you use Shell-based pipeline you can pass cluster name in a Shell variable.

---

**Vladimir Iliakov** (2025-02-13 09:45):
@Louis Parkin Can you maybe explain how do we provision EKS and Agent for the beest tests?

---

**Louis Parkin** (2025-02-13 11:07):
cc @Daniel Barra

---

**Daniel Barra** (2025-02-13 11:15):
For beest, if not wrong, we use terraform for provisioning the env, and ansible to setup some configurations:

```beest test $BEEST_SCENARIO --no-destroy
2025/02/13 10:06:23 Terraform will run from: /go/src/app/sut/yards/k8s
.
.
.
2025/02/13 10:14:10 Play Ansible playbook: ansible-playbook  --extra-vars '{"bees_path":"/go/src/app/sut/bees","scenario_test_group":"/go/src/app/tests/k8s"}' --inventory /go/src/app/sut/yards/k8s/ansible_inventory --tags prepare /go/src/app/sut/yards/k8s/playbook.yml ...```

---

**Louis Parkin** (2025-02-13 12:05):
When reproducing locally I usually use eksctl and helm to create the agent cluster @Vladimir Iliakov

---

**Louis Parkin** (2025-02-13 12:05):
What is it that you really want to know?

---

**Vladimir Iliakov** (2025-02-13 12:14):
nothing )))

---

**Vladimir Iliakov** (2025-02-13 12:52):
@James Mason to programmatically use the EKS cluster name for the agent deployments you have to orchestrate the whole deploymant at the higher abstraction level, whether it is Terraform, Ansible, Shell-script, or whatever tooling you use.

---

**James Mason** (2025-02-13 16:02):
okay, that's not accessible in this case ... the actual deployment method is an AWS "black box".

---

**Amol Kharche** (2025-02-14 10:09):
This is what I did to configured but I don't know how to check if it working or not.
```# cat values.yaml
nodeAgent:
  config:
    override:
    - name: conf.yaml
      path: /etc/stackstate-agent/conf.d/zabbix.d     
      data: |
        init_config:
        instances:
          - url: http://139.59.86.23:32226/api_jsonrpc.php    # Your Zabbix URL
            user: Admin
            password: zabbix
            # ssl_verify: true```
```helm upgrade --install --namespace suse-observability --create-namespace --set-string 'stackstate.apiKey'='cOP0GxH7xMe07Vkzr1H2g' --set-string 'stackstate.cluster.name'='observability' --set-string 'stackstate.url'='https://stackstate.io/receiver/stsAgent' --set 'nodeAgent.skipKubeletTLSVerify'=true --values values.yaml suse-observability-agent suse-observability/suse-observability-agent```
Below command will confirm changes.
```# kubectl exec -it suse-observability-agent-node-agent-rpfr7 -- cat /etc/stackstate-agent/conf.d/zabbix.d/conf.yaml
Defaulted container "node-agent" out of: node-agent, process-agent
init_config:
instances:
  - url: http://139.59.86.23:32226/api_jsonrpc.php
    user: Admin
    password: zabbix
    # ssl_verify: true```

---

**Remco Beckers** (2025-02-14 15:32):
First to answer the JBoss question, at the moment we don't have any special support for that. With open telemetry you could get otel services and instances out of it though.

---

**Remco Beckers** (2025-02-14 15:36):
There are plans to improve on that but that's better explained by @Mark Bakker. I'm not sure if that's part of stackpacks 2.0

---

**Gabriel Lins** (2025-02-14 15:55):
@Kaio Neuhauss dos Santos cc

---

**Remco Beckers** (2025-02-14 16:29):
On the Zabbix check: I don't know the status of that, I'm actually surprised it is part of the agent.

It comes with a corresponding Zabbix Stackpack but we don't ship it with SUSE Observability (only with the "old" StackState) because it doesn't provide many of the newer UI elements (overview pages, highlight pages etc).

Maybe someone more knowledgeable on Zabbix can comment on the status of this. @Louis Parkin @Mark Bakker

---

**James Nguyen** (2025-02-14 18:55):
Hey Team, I have a customer that is looking for an external monitoring tool for their rancher cluster where it will notify them if all of their nodes are down - does stackstate / suse observability have a feature like this?

They're looking for monitoring with SolarWinds which have not been implemented. If there is a feature I was going to suggest SUSE observability as a catch all

---

**Ravan Naidoo** (2025-02-14 20:21):
A similar discussion was had in this thread with potential solution:
https://suse.slack.com/archives/C079ANFDS2C/p1737751650396889

---

**Louis Parkin** (2025-02-17 09:32):
@Remco Beckers I know the Zabbix integration exists, I know it doesn't ship with platforms 6 or 7 by default, and with that, we have reached the limit of what I know, both about Zabbix, and its integration with the platform formerly known as StackState.

---

**Nick Zhao** (2025-02-17 11:42):
hi team,do we have a plan for enhancement remediation acceleration of troubleshooting via invoking any LLM? Some prospective are asking for junior AIops.

---

**Yingluo Zhang** (2025-02-17 11:46):
Dear Team, I have noticed an update to the SUSE Observability Helm chart. Could you please advise where I can find the detailed release notes for this update?

---

**Louis Lotter** (2025-02-17 11:50):
https://docs.stackstate.com/self-hosted-setup/release-notes/v2.3.0

---

**Louis Lotter** (2025-02-17 11:51):
It's on the roadmap and we are actually experimenting with this a bit this week.
In the past we have had good results but it always required us to send data to openai etc. which was not something we could do.

---

**Louis Lotter** (2025-02-17 11:52):
With better open source models this is becoming more practical now.

---

**Louis Lotter** (2025-02-17 11:52):
@Mark Bakker can fill you in more about Suse's offical plans here.

---

**Martin Weiss** (2025-02-17 12:01):
Do we have some production HA sizing guidelines for an on premise deployment for customers that have a 3 node rancher and two six node (3 master / 3 worker) downstream cluster that requires observation?

---

**Mohamed Elnemr** (2025-02-17 12:04):
@Alejandro Acevedo Osorio @Remco Beckers our smallest HA deployment is for 150 nodes which sounds like an overkill here. what do you guys think ?

---

**Nick Zhao** (2025-02-17 12:36):
It is great to hear that. :thumbs-up: when will it be released? Can i have a demo video or dev version for presenting?

---

**Mark Bakker** (2025-02-17 12:48):
@Nick Zhao it's too early for demo/ presentation. Do you have a particular customers asking for it?
I am interested in early validation with interested customers.

---

**Nick Zhao** (2025-02-17 12:54):
Mcdonald china.  They are trying to do that with many components such as prometheus, grafana, ollama and some python scripts for invoking LLM API.  We talked about our observability platform, when turn to remediation they were querying if we can integrating LLM for inference.

---

**Mark Bakker** (2025-02-17 13:25):
Hi Nick, I love to get on a chat with them about that.

---

**Alejandro Acevedo Osorio** (2025-02-18 11:43):
I guess it does sound like an overkill the 150 nodes. But first I guess we would need to derive how many `default nodes` (4 vCPUs and 16GB) want to be observed
https://docs.stackstate.com/self-hosted-setup/install-stackstate/requirements#resource-requirements

---

**Mohamed Elnemr** (2025-02-18 11:44):
30 nodes 8 CPU/ 16 GB memory so 60 “default nodes”?  or how would you calculate “default nodes”

 @Martin Weiss am i correct re the number of worker nodes?

---

**Martin Weiss** (2025-02-18 15:12):
We also have smaller environments that require HA - and for example we have SAP Edge Integration Cell environments where we have 3 Nodes Rancher cluster, 2 * 6 node downstream (3 master, 3 worker) where each machine has 4 CPU/8 GB RAM or 8 CPU / 16 GB RAM..

---

**Yingluo Zhang** (2025-02-18 16:57):
Hello SUSE Observability experts, I kindly seek your help with two questions:

1.  If the logging framework inside the container in a pod does not use the default   `stdout`  and  `stderr`  but instead writes logs to a custom log path, can `o11y` still collect the container logs from the pod? 
2.  Can we define multiple custom monitoring metrics, such as `HTTP response time`, so that these metrics can be applied to different workloads? 
 Thank you!

---

**Christopher Derasp** (2025-02-19 00:01):
Hi Team, do we have a roadmap/plans to evolve SUSE Observability beyond Kubernetes? One of the limiting factors for adoption within my larger or innovative accounts, is that customers are looking for a holistic all encompassing tool. Customers appear to settle for average Kubernetes monitoring if the scope of tool includes networking, CSP's, fin ops etc. They are basically looking for Dynatrace without the high cost.

---

**Mark Bakker** (2025-02-19 00:17):
Hi @Christopher Derasp can you eloborate a more on this in the following way:
• Which percentage of customers is looking for a holistic all encompassing tool
• If they won't have that would they still be interested in the K8S only part or do they stick to an other solution
• Can you give specific examples?

---

**Mark Bakker** (2025-02-19 00:18):
Hi @Yingluo Zhang currently we only take the container logs (e.g. stdout stderr), we will support all host and open-telemetry based logs as well in the near future, it's on the roadmap for the upcoming 6 months. Ps. no guarantee that this indeed will be within 6 months, but it's on the near term.

---

**Mark Bakker** (2025-02-19 00:20):
You can specify the expected response times as annotations for specific workloads and we also support Dynamic Threshold monitors which automatically learn the normal behaviour of the last 2 weeks.

---

**Yingluo Zhang** (2025-02-19 04:58):
Thanks a lot @Mark Bakker , For question 2 , Do we have more information about  `Dynamic Threshold monitors which automatically learn the normal behaviour of the last 2 weeks`  in our documents or other place?

---

**Andreas Prins** (2025-02-19 08:28):
@ashawki we noticed you registered for a trial environment. Before we create anything, what is the purpose you had in mind for this?

---

**Andreas Prins** (2025-02-19 08:28):
@Mark Bakker @Louis Lotter FYI

---

**Yingluo Zhang** (2025-02-19 10:18):
Recently, I have demoed SUSE Observability to many of our subscription customers, and they often ask the following question: part of their Application(e.g., databases) is not deployed on Kubernetes. From the perspective of application topology, this means it is not complete. Therefore, customers often ask whether SUSE Observability will support traditional infrastructures (such as virtual machines or bare metal).:blush:

---

**Mark Bakker** (2025-02-19 14:23):
Hi Yinglue can you make this more clear in numbers? E.g. 5 out of 5 or 1 out of 5?

---

**Yingluo Zhang** (2025-02-19 14:47):
hi Mark ， you mean our customer  which i have visited recently?

---

**Mark Bakker** (2025-02-19 14:50):
you said I demoed to 'many of our subscription customers' and then you say 'they often ask'
I like to understand the following about this sentence:
1. In which percentage of the cases you got this feedback (e.g. 2 out 5 demo's)
2. Is this a roadblock for adapting SUSE Observability, e.g. they will use a competitor as overall monitoring solution
    a. If so in which percentage of the cases (e.g. from the 3 times I got the feedback 1 time it was a roadblock).

---

**Christopher Derasp** (2025-02-19 15:10):
Good morning/afternoon Mark, two recent conversations from two different customers in the finserv space raised the same message along the lines that they will not invest in two monitoring tools. SUSE observability although quite strong is limited to kubernetes, observability and infra teams do not want to invest in tooling to monitor a smaller portion of their business.
Would you be willing to meet these customers for a deeper dive ? I will gather specific details along the lines of "what would it take to have SUSE Observability become a corp standard if we could enlarge scope"
Customers:
• Industrial Alliance (Canada's largest Rancher consumer)
• TMX, Innovators in the Montreal stock exchange, current users of Prime, Rancher desktop, piloting NV and Longhorn.

---

**Yingluo Zhang** (2025-02-19 15:14):
@Mark Bakker  3 out of 5 , the customer asked same question.

---

**Mark Bakker** (2025-02-19 15:15):
Hi @Christopher Derasp I like to indeed meet them to understand the specific needs.

---

**Christopher Derasp** (2025-02-19 17:17):
Great! thanks @Mark Bakker allow me to collect a few more details then we can compare availability.

---

**ashawki** (2025-02-19 17:51):
@Andreas Prins I’m working on a POC, and would like to add the scope of observability to that.
i wanted to know the experience of registering for trial, what to expect so i can guide my customer through that.
The POC will be on-prem

---

**Michael Bukva** (2025-02-19 23:36):
In SCC, I see entitlements for SUSE Observability 2.0.0 and up are described as PLATFORM-OPTIMIZATION. SUSE Observability 1,0 is just described as OBSERVABILITY.

My existing Rancher customer with old style per-node and per-node/by-tier subs that don't renew until October, has a SUSE Observability 1.0 entitlement in SCC.

How do all these Observability entitlements relate to Rancher subs purchased under the previous "pre-Suite" and "pre-per-core/socket" models entitled to in terms of Observability functionality _*before*_ changing over to the new per-core/per-socket pricing model? What should they see in SCC as entitlements?

And finally is the tiered Obs functionality actually gated (do we enforce the entitlements in the Rancher product now)? Have no systems to test this on.

@Lasith Haturusinha

---

**Shamsul Zulkifli** (2025-02-20 09:09):
I attended a meeting with a customer today. They asked if our observability tools are capable of monitoring/intercepting metrics queries for an RDBMS (Oracle &amp; SQL). They mentioned that Dynatrace has this capability. Any pointers on this would be helpful.

---

**tiernan.ohalmhain** (2025-02-20 10:08):
All the old SKUs only got given Observability. Provisioning was done manually. Not sure how to answer the gating question.

---

**Louis Lotter** (2025-02-20 10:11):
@Bram Schuur can you respond here, maybe add what we are planning

---

**Ravan Naidoo** (2025-02-20 11:27):
You could use OpenTelemetry  collector configured with the oracledb, sqlserver receiver.  See receiver oracledb metrics (https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/oracledbreceiver/documentation.md) and sqlserver metrics (https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/sqlserverreceiver/documentation.md)  for a list of metrics collected.

---

**Bram Schuur** (2025-02-20 11:29):
What @Ravan Naidoo said. We have a roadmap on eBPF based SQL metrics (so getting this without needing OTEL), but this is on the roadmap.

---

**Martin Weiss** (2025-02-20 11:55):
Is there some ready to use solution on how to create instances in SUSE observability with an helm install / yaml deployment? Customer does not want to click through the UI with every new cluster they create (clusters are created via gitops -&gt; fleet -&gt; rancher)..

---

**Wilco van der Stek** (2025-02-20 11:58):
Yes, you can use the sts executable or the api. I have an example ansible playbook. If you want it, just let me kwow

---

**Louis Lotter** (2025-02-20 12:16):
@Vladimir Iliakov @Lukasz Marchewka anything to add here ?

---

**Ravan Naidoo** (2025-02-20 12:19):
Here is the CLI command that you can incorporate into you gitops.

```sts --url YOUR_SO_URL --api-token YOUR_SO_TOKEN stackpack install -n kubernetes-v2 -p kubernetes_cluster_name=YOUR_CLUSTER_NAME```

---

**Shamsul Zulkifli** (2025-02-20 12:20):
Thank all for the quick update. I will relay the info back to the cust.

---

**Ravan Naidoo** (2025-02-20 12:26):
Or you could do it with Curl,

```curl --location 'https://xxx/api/stackpack/kubernetes-v2/provision?unlocked=fail' \
--header 'X-API-Token: tRaxxxx' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data '{"kubernetes_cluster_name":"myclustername"}'```

---

**Vladimir Iliakov** (2025-02-20 12:27):
There is no ready-to-use solution. As suggested before cli or curl can be incorporated into Gitops, I am not sure about Fleet capabilities, but assume it might be a deployment pre-hook, Kubernetes job, that runs cli or curl :point_up:

---

**Martin Weiss** (2025-02-20 13:26):
Thanks!! Unfortunately - cli and curl are not "declarative" and not easy from a gitops prospective - and can not be integrated easily with fleet.. maybe we need an enhancement to let a suse-observablity operator do these things based on CRDs in the future.. and/or maybe it would be nice if an agent could call this api automatically to allow "self creation".. as we specify an apiKey - maybe that could be used... A workaround might be to run some jobs created / deployed via helm chart that call that api...

---

**Louis Lotter** (2025-02-20 14:09):
We have invested some time into investigating using Operators for Stackstate and all it's depenendant DB's etc. It's viable and on our backlog but not the highest priority atm.

---

**Louis Lotter** (2025-02-20 14:09):
@Lukasz Marchewka can you share some of your conclusions or docs here ?

---

**Lukasz Marchewka** (2025-02-20 14:17):
ClickHouse operator is there (I'm using it just now to setup multi-tenancy). I have created doc with my findings here: https://www.notion.so/stackstate/ClickHouse-operator-17c20856d23880baa9b3e4b09e11ad4f  , but IMO it isn't valuable for this discussion. @Martin Weiss you question is about using operator to manage clusters, of course it is possible and doable, even we don't have to wait to migrate everything to operators, we can do it now.

---

**Lukasz Marchewka** (2025-02-20 14:19):
actually @Vladimir Iliakov has created very similar operator to manage Notifications

---

**Vladimir Iliakov** (2025-02-20 14:35):
@Louis Lotter what is in the backlog are the operators to install SuseObservability platform. What Martin asks for is operators to manage SuseObservability configurations as CRD: clusters(stackpacks) and this is not in the backlog.

---

**Martin Weiss** (2025-02-20 14:47):
So what do we need to do to get it into the product? Basically we need 100% automation via Kubernetes API :wink: - we just went through similar challenges with Neuvector - maybe we can use some synergies?

---

**Vladimir Iliakov** (2025-02-20 15:07):
Lets call the product magician @Mark Bakker :point_up:

---

**Vladimir Iliakov** (2025-02-20 15:09):
I guess we can do
• build the operator for SuseObservability internally within the team
• provide SDK/documentation for SuseObservability API and allow people to build the automation themselves.

---

**Vladimir Iliakov** (2025-02-20 15:10):
The last one would be nice to do anyway.

---

**Mark Bakker** (2025-02-20 15:49):
Yeah this is something we need to put on the roadmap alongside the automation for the serverside.

---

**Mark Bakker** (2025-02-20 15:49):
@Martin Weiss do the above provided examples provide a workaround for now?

---

**Martin Weiss** (2025-02-20 15:53):
The workaround for now is to go to the "UI" and create the "clusters" manually and repeat this manually.. implementing anything with calling api / building my own helm chart with jobs that call the api is just too much effort as of now..

---

**Martin Weiss** (2025-02-20 15:54):
(customer does not pay me for doing that..)

---

**Andreas Prins** (2025-02-20 16:06):
sorry for the late reply.
If the PoC is on-prem, our suggestion is to use the key they have in SCC and install it on-prem.

If this customer is able to get this up and running in cloud, I recommend the SaaS version on AWS, 14 days for free, no need to spin up anything.

---

**Andreas Prins** (2025-02-20 16:06):
so long story short, we're decomissioning the request for a trial this way and pointing people to the AWS variant.

---

**Andreas Prins** (2025-02-20 16:07):
or on prem

---

**ashawki** (2025-02-20 16:13):
if it is a poc, customer wouldn’t have that in their scc!
Do they need to signup somethere to get that in their scc for on-prem trial

---

**Andreas Prins** (2025-02-20 16:17):
there are trial licenses, @Jeroen Storm @Meriem Ahmed-Wolters and more important I guess @Shady Khattab can help you out

---

**IHAC** (2025-02-20 18:40):
@Garrick Tam has a question.

:customer:  Tieto Finland Oy - Cloud

:facts-2: *Problem (symptom):*  
Partner is trying https://docs.stackstate.com/agent/k8s-custom-secrets-setup but see the following error when trying to deploy agent.  Is there a bug in the schema causing this error?  Where does the schema file reside?
```Observed error:
values don't meet the specifications of the schema(s) in the following chart(s):
suse-observability-agent:
- stackstate.apiKey: Invalid type. Expected: string, given: null```

---

**Garrick Tam** (2025-02-20 20:02):
Some additional details.  When sts is installed with stackstate.manageOwnSecrets=true, I get the following instructions for "Deploy the SUSE Observability Agent and Cluster Agent".
```helm upgrade --install \
--namespace suse-observability \
--create-namespace \
--set-string 'stackstate.apiKey'='INSERT_YOUR_INGESTION_API_KEY' \
--set-string 'stackstate.cluster.name'='garrickk8s' \
--set-string 'stackstate.url'='https://observability.137.184.247.204.sslip.io/receiver/stsAgent' \
suse-observability-agent suse-observability/suse-observability-agent```
Note the "INSERT_YOUR_INGESTION_API_KEY".  It is not clear if stackstate.apiKey should be replaced with
```customSecretName: my-custom-secret
  customApiKeySecretKey: api-key```
values, but if we do the helm install throws the following error.
```Error: values don't meet the specifications of the schema(s) in the following chart(s):
suse-observability-agent:
- stackstate.apiKey: Invalid type. Expected: string, given: null```

---

**Garrick Tam** (2025-02-20 20:03):
Base on the above behavior, can I assume the agent installation does not support using secret but MUST replace INSERT_YOUR_INGESTION_API_KEY with the actual value in customSecretName?

---

**Garrick Tam** (2025-02-20 20:21):
The Overview from the docs states:
```The stackstate/stackstate-k8s-agent (starting from version 1.0.79) supports specifying the name of a custom secret that contains the API key and cluster authorization token. This feature is useful for users who wish to manage their own secrets and avoid the automatic creation of secrets by the Helm chart.```

---

**Garrick Tam** (2025-02-20 20:22):
Please let me know if this is a bug.

---

**Garrick Tam** (2025-02-20 20:42):
After some testing, I found the following works.
```&gt; helm upgrade --install \
--namespace suse-observability \
--create-namespace \
--set-string 'stackstate.manageOwnSecrets'=true \
--set-string 'stackstate.customSecretName'='my-custom-secret' \
--set-string 'stackstate.customApiKeySecretKey'='api-key' \
--set-string 'stackstate.apiKey'='api-key' \
--set-string 'stackstate.cluster.name'='garrickk8s' \
--set-string 'stackstate.url'='https://observability.137.184.247.204.sslip.io/receiver/stsAgent' \
suse-observability-agent suse-observability/suse-observability-agent```

---

**Garrick Tam** (2025-02-20 20:43):
The documentation isn't clear and the required --set-string 'stackstate.apiKey'='api-key' seem odd and not sure if it is a bug or documentation gap.

---

**Amol Kharche** (2025-02-21 04:33):
Yeah, It works for me when I add `apiKey: ""` at the end.
```# cat agent.yaml
stackstate:
  manageOwnSecrets: true
  customSecretName: my-custom-secret
  customApiKeySecretKey: api-key
  customClusterAuthTokenSecretKey: auth-token
  apiKey: ""

# helm upgrade --install --namespace suse-observability --create-namespace --set-string 'stackstate.cluster.name'='observability' --set-string 'stackstate.url'='https://stackstate.147.75.204.223.nip.io/receiver/stsAgent' --values agent.yaml suse-observability-agent suse-observability/suse-observability-agent

Release "suse-observability-agent" does not exist. Installing it now.
NAME: suse-observability-agent
LAST DEPLOYED: Thu Feb 20 08:32:25 2025
NAMESPACE: suse-observability
STATUS: deployed
REVISION: 1
TEST SUITE: None```

---

**Garrick Tam** (2025-02-21 04:35):
thanks @Amol Kharche for the additional testing.  So even empty works so seems like a bug to be looking for apiKey and doc needs improvement as well.

---

**Bram Schuur** (2025-02-21 09:45):
Thanks @Amol Kharche I will turn this into a ticket

---

**gaetan.trellu** (2025-02-21 14:16):
Hi Team, I keep getting this error in `server` pod which raises a websocket timeout in the UI.

---

**gaetan.trellu** (2025-02-21 14:17):
I'm running version `v7.0.0+8a3bd61`

---

**gaetan.trellu** (2025-02-21 14:18):
Sometime the page loads but its a 80% (failing)-20%(success)

---

**Alejandro Acevedo Osorio** (2025-02-21 14:51):
This issue with the  `View.QueryTimedOut` is not causing the issue itself as this is on the `Monitors` trying to calculate health state that are timing out. But it does show that propably the topology is a little too big for the instance.

---

**Alejandro Acevedo Osorio** (2025-02-21 14:52):
What nonHa profile are they using? They could go to a bigger nonHa profile or manually give a little more resources to the `server` pod and/or the `stackgraph-hbase` one. Those 2 probably are under  a lot of pressure

---

**gaetan.trellu** (2025-02-21 14:53):
@Alejandro Acevedo Osorio The instance is monitoring 9 nodes, its running on a 32 cores with 64Gb RAM VM.

---

**Alejandro Acevedo Osorio** (2025-02-21 14:53):
So I assume it's the `10-nonHa` profile

---

**gaetan.trellu** (2025-02-21 14:54):
Nop, `20-nonha`

---

**Alejandro Acevedo Osorio** (2025-02-21 14:54):
Are those `9 nodes` compliant with out default node size?

---

**gaetan.trellu** (2025-02-21 14:55):
What do you mean by compliant?

---

**Alejandro Acevedo Osorio** (2025-02-21 14:55):
default node size = (4 vCPUs and 16GB)

---

**Alejandro Acevedo Osorio** (2025-02-21 14:56):
probably the solution would be to move them to the `50-nonHa` but anywho better to check if `server` or `hbase` pods have memory/cpu pressure

---

**gaetan.trellu** (2025-02-21 14:57):
Masters are 6 cores / 8Gb and workers are 8 cores / 16Gb

---

**Alejandro Acevedo Osorio** (2025-02-21 14:58):
I see ... workers are indeed equivalen to `18` default nodes then.

---

**Alejandro Acevedo Osorio** (2025-02-21 14:58):
So they are on the edge of what the instance seems to hold

---

**gaetan.trellu** (2025-02-21 15:01):
Gonna check the pods resource consumption then.

---

**gaetan.trellu** (2025-02-21 15:23):
Metrics on `server` pod looks ok

---

**gaetan.trellu** (2025-02-21 15:25):
`hbase-stackgraph` looks "fine" as it seems to spike time to time

---

**Kaio Neuhauss dos Santos** (2025-02-21 16:00):
Hello Team,
1 - Do we have documentation like we have for harvester/longhorn and so on, where can we see a roadmap for SUSE Observability? If not, is there an estimated date when this will be public?
2 - I would like to know more about our plans regarding the replacement of the monitoring stack (prometheus/grafana/alertmanager). Will we have a native integration with grafana dashboards or something similar? Currently, many customers use grafana and prometheus because it is easier to install and the main dashboards are pre-built.
3 - Is it correct to say that SUSE Observability will be focused only on kubernetes and we will not deliver observability to environments outside of kubernetes?

---

**Garrick Tam** (2025-02-21 17:04):
Please provide ticket number when you have it so I can tie it to my customer case.   Thx

---

**Gaby Beitler** (2025-02-21 19:08):
Hello all, setting up Observability in my lab and following the instructions at https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress
```To make SUSE Observability accessible outside of the Kubernetes cluster it's installed in, it's enough to route traffic to port 8080 of the <namespace>-stackstate-k8s-router service.```
I go to my cluster through the web browser and get a nginx 404 error, digging deeper i see that the error of route to service
```# kubectl describe ingress.networking.k8s.io/observability-ui-route
Name:             observability-ui-route
Labels:           <none>
Namespace:        default
Address:
Ingress Class:    <none>
Default backend:  <default>
TLS:
  suse-observability terminates observability.local
Rules:
  Host                 Path  Backends
  ----                 ----  --------
  observability.local
                       /   suse-observability-stackstate-k8s-router:8080 (<error: services "suse-observability-stackstate-k8s-router" not found>)
Annotations:           <none>
Events:                <none>```
Am I missing something in to documentation, since I thought followed it correctly. However I see the service listed differently than from the documentation:
```# kubectl get svc -n suse-observability suse-observability-router
NAME                        TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)             AGE
suse-observability-router   ClusterIP   10.43.25.8   <none>        8080/TCP,8001/TCP   67m```

---

**Garrick Tam** (2025-02-21 21:03):
Also, there is no clear explanation what the "sts-cluster-auth-token" is.  Can someone help explain?

---

**Joel Gordon** (2025-02-21 21:22):
STS is a service in AWS (Security Token Service). It generates temporary credentials(tokens). I don't know enough context to say anything more.

---

**Garrick Tam** (2025-02-21 21:36):
In this case it should only pertain to sts/suse-observability

---

**Amol Kharche** (2025-02-22 03:22):
It seems to be documentation not updated correctly.  Suse Observability doesn't have any service like `suse-observability-stackstate-k8s-router:8080`  , May be engineering team can confirm on this , I never seen such service. 
Can you try below.

```1) Create ingress_values.yaml
# cat ingress_values.yaml
ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
  hosts:
    - host: stackstate.MY_DOMAIN   # SUSE Observability URL 
  tls:
    - hosts:
        - stackstate.MY_DOMAIN
      secretName: tls-secret

2) Include the ingress_values.yaml file in helm upgrade
# helm upgrade --install \
  --namespace "suse-observability" \
  --values "ingress_values.yaml" \
  --values $VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml \
  --values $VALUES_DIR/suse-observability-values/templates/sizing_values.yaml \  
suse-observability \
suse-observability/suse-observability
```
Exposing SUSE Observability outside of the cluster | SUSE Observability (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-via-the-suse-observability-helm-chart)

---

**Amol Kharche** (2025-02-22 03:39):
If you are not using ingress-values.yaml at helm upgrade then your ingress-manual.yaml should be like this for manual apply.
```apiVersion: networking.k8s.io/v1 (http://networking.k8s.io/v1)
kind: Ingress
metadata:
  name: stackstate-ingress
  namespace: suse-observability
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect (http://nginx.ingress.kubernetes.io/ssl-redirect): "true"
spec:
  ingressClassName: nginx
  rules:
  - host: stackstate.MY_DOMAIN
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: suse-observability-router 
            port:
              number: 8080```

---

**Amol Kharche** (2025-02-22 03:42):
If you're looking to set up ingress with TLS (using Let's Encrypt), I've created a simple script to help with the setup. Feel free to give it a try!
https://github.com/amolvkharche/cert-manager

---

**Bram Schuur** (2025-02-24 08:47):
@Garrick Tam i filed this ticket: https://stackstate.atlassian.net/browse/STAC-22402

---

**Alejandro Acevedo Osorio** (2025-02-24 13:29):
I see for `50-nonha` stackgraph has
```  stackgraph:
    resources:
      requests:
        memory: "3Gi"
        cpu: "2000m"
      limits:
        memory: "3Gi"
        cpu: "4000m"```
and the server
```      resources:
        limits:
          cpu: 5000m
          memory: 6500Mi
        requests:
          cpu: 2500m
          memory: 6500Mi```
So it doesn't look like it's resource contrained. Perhaps if you can share a complete log from each pod

---

**Ravan Naidoo** (2025-02-24 15:40):
Shouldn’t you point to https instead of http since the ingress is setups with TLS?

---

**Gaby Beitler** (2025-02-24 15:52):
I tore down and am rebuilding.

---

**Gaby Beitler** (2025-02-24 15:53):
At this point, I can't even port forward:
```observability:/home/gaby # kubectl port-forward service/suse-observability-router 8080:8080 --namespace suse-observability
Forwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
^Z
[1]+  Stopped                 kubectl port-forward service/suse-observability-router 8080:8080 --namespace suse-observability
observability:/home/gaby # bg
[1]+ kubectl port-forward service/suse-observability-router 8080:8080 --namespace suse-observability &
observability:/home/gaby # curl observability.fios-router.home:8080
curl: (7) Failed to connect to observability.fios-router.home port 8080 after 3 ms: Couldn't connect to server```

---

**Ravan Naidoo** (2025-02-24 15:56):
Try to curl localhost:8080.

---

**Gaby Beitler** (2025-02-24 15:56):
That worked :face_palm:

---

**Ravan Naidoo** (2025-02-24 15:57):
Then SUSE Observability is fine.

---

**Ravan Naidoo** (2025-02-24 15:58):
Check the https thing when you rebuid.

---

**Gaby Beitler** (2025-02-24 15:58):
Right, the issue is getting the ingress to connect the router and exposed externally.

---

**Gaby Beitler** (2025-02-24 15:59):
Made the change in ingress_rule.yaml
```observability:/home/gaby # cat ingress_rule.yaml
apiVersion: networking.k8s.io/v1 (http://networking.k8s.io/v1)
kind: Ingress
metadata:
  name: observability-ui-route
  namespace: suse-observability
spec:
  tls:
  - hosts:
    - observability.local
    secretName: suse-observability
  rules:
  - host: observability.fios-router.home
    https:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: suse-observability-router
            port:
              number: 8080```

---

**Ravan Naidoo** (2025-02-24 16:07):
I did not mean updating the `https` of the ingress rule, but rather referred to your previous comment about not being able to curl to:

``` however I still get a 404 error when pointing to http://observability.local```
I meant `curl https://observability.local`

---

**Gaby Beitler** (2025-02-24 16:08):
I get a 404 from nginx when I curl https

---

**Gaby Beitler** (2025-02-24 16:08):
Can you hop on Google Meet and help me get it set up appropriately?

---

**Ravan Naidoo** (2025-02-24 16:14):
This problem is less to do with SUSE Observability and more to do with Kubernetes ingress and I have limited knowledge there. So I won’t be much help on a call.

A correctly configured ingress has a spec  similar to (will vary depending on helm release name you use):

```spec: 
  rules: 
    - host: susecon.app.stackstate.io
      http: 
        paths: 
          - backend: 
              service: 
                name: stackstate-susecon-suse-observability-router
                port: 
                  number: 8080
            path: /
            pathType: Prefix
  tls: 
    - hosts: 
        - susecon.app.stackstate.io
      secretName: susecon-ecc-tls```
You hosts are `observability.fios-router.home`
and  `observability.local`

---

**Ravan Naidoo** (2025-02-24 16:15):
Shouldn’t then be the same?

---

**Gaby Beitler** (2025-02-24 16:17):
OK, Thanks. when I rebuilt I am using the main DNS server in my home, instead of one I created to eliminate complexity. I will work on the ingress.

---

**Graham Hares** (2025-02-24 16:57):
Noticed the new observability ui extension with Rancher Manager v2.10.2 but not sure how to connect it?  have obs running on a downstream cluster already, which token should I use? tried sts token..

---

**Graham Hares** (2025-02-24 16:58):
Maybe it's due to self-signed certs?

---

**Jeroen van Erp** (2025-02-24 17:06):
Yes, you need a proper cert I think :slightly_smiling_face: letsencrypt and cert-manager are your friends

---

**Graham Hares** (2025-02-24 17:23):
Thanks @Jeroen van Erp I thought that would be it, still demo was nice just using the ingress link, was just excited to see what the new tab looked like

---

**Gaby Beitler** (2025-02-24 21:23):
Fixed it. I was lacking the IngressClass:
```apiVersion: networking.k8s.io/v1 (http://networking.k8s.io/v1)
kind: IngressClass
metadata:
  labels:
    app.kubernetes.io/component (http://app.kubernetes.io/component): controller
  name: nginx-observability
  annotations:
    ingressclass.kubernetes.io/is-default-class (http://ingressclass.kubernetes.io/is-default-class): "true"
spec:
  controller: k8s.io/ingress-nginx (http://k8s.io/ingress-nginx)```

---

**Thiago Bertoldi** (2025-02-25 00:19):
Hey guys, how are you? Version v0.120.0 (https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.120.0) of the opentelemetry-collector-contrib, launched last week, broke the configuration we provide in here (https://docs.stackstate.com/open-telemetry/collector#configure-the-collector).

---

**kunhong.choi** (2025-02-25 07:18):
Hello,
Anybody knows what is the size of log files, the main driver of growth and impact on the performance?

---

**Remco Beckers** (2025-02-25 08:35):
Thanks! I've noticed a deprecation warning before but we didn't update it yet. Doing that right now.

---

**gaetan.trellu** (2025-02-25 18:20):
Hi there, I have a dummy question :smile: I'm don't understand why none of my `services` get monitored; no `HTTP Req/s`, `HTTP Latency`, etc... Not sure what I'm missing. Monitors for these are enabled. _(Sorry if the question got asked but I found nothing on this Slack channel_ :confused: _)_

---

**gaetan.trellu** (2025-02-25 18:26):
I guess I'm missing tom `http_*` metrics...

---

**Jeroen van Erp** (2025-02-25 19:43):
Is there a steady flow of traffic?

---

**gaetan.trellu** (2025-02-25 19:45):
Not steady but at least 1 query every 5 minutes (external monitoring)

---

**gaetan.trellu** (2025-02-25 20:11):
How these metrics are collected? https://play.stackstate.com/#/components/urn:kubernetes:%2Francher-rke2-cluster-0:sock-shop:service%2Fingress?timeRange=LAST_6_HOURS

---

**gaetan.trellu** (2025-02-25 20:11):
I don't have any `podparty_http_requests_count` for this cluster.

---

**gaetan.trellu** (2025-02-25 20:12):
Does the cluster needs to be an RKE2 cluster?

---

**Jeroen van Erp** (2025-02-25 20:16):
Definitely not, works on all clusters. Traffic intensity is important. The traffic metrics come from ebPF network inspection. Try adding a load runner to simulate some load to see whether they appear then

---

**gaetan.trellu** (2025-02-25 20:18):
@Jeroen van Erp I know its late for you so no need to answer now, from where is coming the `podparty_http_requests_count` metric?

---

**Jeroen van Erp** (2025-02-25 20:29):
That one I don't know. I'd need to look it up also. Maybe @Bram Schuur can answer this tomorrow!

---

**Bram Schuur** (2025-02-25 20:35):
They are ultimately coming from the node agent pod (process agent container). You can check that for signs of trouble.

---

**Bram Schuur** (2025-02-25 20:37):
Traffic intensity is indeed important for topology, the metric should be there even with lower intensity though

---

**Jeroen van Erp** (2025-02-25 20:39):
Even once per 5 mins Bram?

---

**Bram Schuur** (2025-02-25 20:44):
I have not tested that exact interval, what I know is the agent reports all observations and correlator is supposed to report all metrics. Could be this low frequency is hard on victoriametrics, or some of our queries, so I'm 80% confident here. Increasing traffic will help homing in to this issue for sure in case the low frequency trips up victoriametrics or some other glitch.

---

**Louis Lotter** (2025-02-25 21:15):
@kunhong.choi Could you restate this question. I'm really struggling to make sense of what you are asking.

---

**Dinesh Chandra** (2025-02-25 23:03):
Question related to Log shipping from a Customer. Log agent is enabled and pod logs are shown in SUSE Observability
1. How long pod logs are available in SUSE Observability? It seems like 1 week max? Can it be configured ?
2. If any pod get deleted, seems like there is no way to see those logs in SUSE Observability?
3. Can SUSE Observability used as centralised logging destination or other logging systems suggested?
4. If other logging system to be used then - Can SUSE Observability do log forwarding? What is the recommendation?

---

**gaetan.trellu** (2025-02-25 23:51):
I ran a lot of requests but nothing appear.

---

**gaetan.trellu** (2025-02-25 23:52):
```Lifting the server siege...
Transactions:		     120048 hits
Availability:		     100.00 %
Elapsed time:		    3600.51 secs
Data transferred:	       7.21 MB
Response time:		       0.05 secs
Transaction rate:	      33.34 trans/sec
Throughput:		       0.00 MB/sec
Concurrency:		       1.66
Successful transactions:      120048
Failed transactions:	          0
Longest transaction:	      13.67
Shortest transaction:	       0.03```

---

**Bram Schuur** (2025-02-26 07:14):
Some other thing you could check:
• Are the services headless (we only support clusterip)
• Are there http metrics on the pods?
• Is the traffic encrypted through https?
• Is the node agent pod functioning properly?

---

**Louis Lotter** (2025-02-26 08:53):
@Remco Beckers @Bram Schuur I asked chatgpt to help me interpret this question
```This is asking if we have any benchmarks or detailed information on how SUSE Observability handles log file management—specifically, the typical size of the log files and any associated performance impacts. The customer's CTO at KT Cloud wants to understand if the log file sizes might affect overall system performance, especially as we're positioning Rancher Prime as the backbone for their cloud-native infrastructure.

In short, they need data or benchmarks that can help answer questions like:
	•	What is the average or expected log file size generated by SUSE Observability?
	•	How do these log file sizes impact system performance?
	•	Are there any performance metrics or tests we can share?

Does that clarify the query?```
Can you guys help out here ?

---

**Alejandro Acevedo Osorio** (2025-02-26 08:57):
1. Logs retention is by default 7 days. It's configurable via the helm vales. See https://docs.stackstate.com/self-hosted-setup/data-management/data_retention#configure-disk-space-for-elasticsearch ... Potentially Disk space will have some impact so you probably need to update both
2. Currently the only way to see the logs of a deleted pod is to time travel to a moment when the pod still was present
3. SUSE Observability is recommended for your pod logs as it will help you on correlating and troubleshooting. The question would be if you need to collect logs from other sources
4. SUSE Observability can't do log forwarding

---

**kunhong.choi** (2025-02-26 09:00):
Hi Louis,

I don't think I can better restate my question than ChapGpt. The CTO of KT Cloud said that other Observability tools happen to have performance impact due to the size of the log files. If you think a meeting with him will be necessary for clear understanding, I will try to organize one.

---

**Jeroen van Erp** (2025-02-26 09:29):
As an addendum, SUSE Observability is not intended to be a long-term log storage solution for auditing purposes.

---

**Bram Schuur** (2025-02-26 09:34):
@kunhong.choi Question:
Are you interested in the performance/volume of logs SUSE Observability platform and agent produce themselves, or how the logs ingestion feature of the SUSE Observability platform/agent performs/scales?

---

**Mark Bakker** (2025-02-26 09:58):
Also as an addition, we will reshape our log collection and storage this year which will include:
• Log on workloads, where you see the logs of all pods deleted and current
• A log explorer for all logs
• Support for other types of logs including OpenTelemetry
• With this it can be a central logging destination
• Long term storage will not be part of this, we might consider the option to forward logs in the pipeline to other long term storage backends, but this is TBD

---

**kunhong.choi** (2025-02-26 09:58):
I am interested in the performance/volume of logs of SUSE Observability platform and agent produce themselves.

---

**Dinesh Chandra** (2025-02-26 12:27):
Thanks a lot

---

**Dinesh Chandra** (2025-02-26 12:29):
@Alejandro Acevedo Osorio we tried time travel but couldnt figure out old pod logs. Will check again may be we missed something.

---

**gaetan.trellu** (2025-02-26 12:45):
• Mostly `ClusterIP` and some `LoadBalancer`
• No HTTP metrics on the pod
• HTTP
• Yes

---

**Bram Schuur** (2025-02-26 15:04):
We do not have 'performance' numbers of our logs, nor really hard number on how much logs we produce, this is the first time we got this question. So far we've not had any complaints from customers that we do excessive logging was weighing the system down.

I can put a user story on our backlog and ask the team what they can produce. From the user story perspective: how would you measure logs performance in this context? How would you like these number presented?

---

**Thiago Bertoldi** (2025-02-26 19:00):
Hey guys, I installed SUSE Observability following this document (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime). I have an employee subscription that I generated in SCC, and I used that subscription in the install process. I was able to login in the web interface (using the password generated in baseConfig_values.yaml) but when loading the traces I get this error in the image below. What can I check?

---

**Jeroen van Erp** (2025-02-26 19:22):
Correct, SCC license keys do not work in SUSE Observability… Please have a look at the pinned messages in this channel for a valid license key

---

**Thiago Bertoldi** (2025-02-26 20:08):
Thanks! I'll check it out

---

**Dinesh Chandra** (2025-02-28 06:25):
Hi @Alejandro Acevedo Osorio No luck with time travel for delete Pod logs. Could you please guide me to the steps. It can show events/alerts etc but no logs

---

**Mark Bakker** (2025-02-28 08:16):
Hi @Dinesh Chandra
If you go to the pods overview then select a moment in time in the timeline where the pod existed you can select the pod and from there see the logs.

---

**Mark Bakker** (2025-02-28 08:17):
At any other place in the interface where a pod is referenced you can do the same, while time-traveling you see the exact state at that moment in time for each resource.

---

**Mark Bakker** (2025-02-28 08:17):
As said more improvement like the logs explorer, but also better visibility for deleted elements in a time-range will follow.

---

**Mark Bakker** (2025-02-28 08:18):
Hope this helps?

---

**Dinesh Chandra** (2025-02-28 12:52):
Thanks @Mark Bakker I think finally managed to see the logs for old pod. :pray:

---

**Federico Pinca** (2025-02-28 14:55):
```Caused by: org.apache.hbase.thirdparty.com.google.protobuf.InvalidProtocolBufferException: Message missing required fields: encoded_region_name, table_name, log_sequence_number, write_time```

---

**Federico Pinca** (2025-02-28 15:23):
Hi , I reopen this thread, I have on my lab deployed observability and now is asking me for license key, the license in the pinned message do not work, my license key from scc for internal use not work, how can I have a license key?

---

**Federico Pinca** (2025-02-28 15:24):
This is for a customer POC , in my lab, they only see the stuff not interact or access to it

---

**Louis Lotter** (2025-02-28 15:24):
What version do you have installed there

---

**Federico Pinca** (2025-02-28 15:24):
latest helm chart

---

**Federico Pinca** (2025-02-28 15:24):
from here https://charts.rancher.com/server-charts/prime/suse-observability

---

**Federico Pinca** (2025-02-28 15:25):
suse-observability:2.3.0

---

**Federico Pinca** (2025-02-28 15:30):
This is what SCC show to me when try to have a suse observability key, 2.3.0 is not there for example

---

**gaetan.trellu** (2025-02-28 20:19):
Hi, is SUSE Observability "follows" the user's token scope? I basically had a multi-tenancy question from Fortinet asking if a user with permissions only on cluster A in Rancher Manager will be able to see data from cluster B in SUSE Observability.

---

**Jeroen van Erp** (2025-02-28 21:09):
Currently the answer is no, Suse observability does not follow the scope of rancher. However integration with ranchers rbac is actively being worked on and is hopefully ready in clthe coming month(s). For a more precise estimate, @Mark Bakker is the guy to talk to

---

**gaetan.trellu** (2025-02-28 22:22):
Thanks @Jeroen van Erp

---

**Bram Schuur** (2025-03-03 08:48):
Thanks for reporting! This looks a lot like data corruption. I do see you are using longhorn, which based on earlier experiences causes data corruption in combination with HDFS (@Vladimir Iliakov may have more details here). Could you make your setup without longhorn inthere?

@Louis Lotter @Mark Bakker @Remco Beckers I think we should document our incompatibility with longhorn, and put a ticket on the roadmap to work with the team to iron out the issues there.

---

**Louis Lotter** (2025-03-03 08:53):
@Sheng Yang :point_up:

---

**Louis Lotter** (2025-03-03 08:53):
@Bram Schuur I do think we should verify this if possible as it would be good feedback to the Longhorn team as well.

---

**Louis Lotter** (2025-03-03 08:58):
Ok so this will be really time consuming so we want to create a test setup ourselves and start testing the Suse Observability combination with Longhorn. We will create a ticket for this.

---

**Louis Lotter** (2025-03-03 08:58):
Jumping on investigating here would likely bee too time consuming right now though.

---

**Mark Bakker** (2025-03-03 08:58):
@Bram Schuur agreed, we should add a clear note that for storage/ vpc's we don't support longhorn as engine yet. It would also be good if we can get the logs from this poc setup so we can reproduce it. @Sheng Yang I would recommend to make a ticket for the longhorn team to verify/ fix this case. @Bram Schuur I would also make a ticket on our side, but only if we verify that the longhorn team has some bandwith work on it on their side to make this effective

---

**Bram Schuur** (2025-03-03 09:02):
I will do all that:+1: Be advised that at this point i cannot 'proof' that this exact issue is longhorn related, my advise here is to take longhorn out of the mix at the customer, so this is not a clear-cut bug report to the longhorn team yet.

We know longhorn is trouble based on earlier experiences so we might investigate first to get to some exact reproducable cases.

---

**Vladimir Iliakov** (2025-03-03 09:02):
I think these two were open to investigate the problems our customer had with Longhorn-based storage. The problem was that the disk write was confirmed, though in fact it timed out due to high CPU load on the node with Longhorn...
https://github.com/longhorn/longhorn/issues/3895
https://github.com/longhorn/longhorn/issues/4070

---

**Bram Schuur** (2025-03-03 09:06):
I wrote the following ticket: https://stackstate.atlassian.net/jira/software/c/projects/STAC/boards/127

---

**Federico Pinca** (2025-03-03 09:07):
After some more deploy, Observability deployed well, but sometimes it failed randomly, the impression was that sometimes the harvester csi driver take some time to assign/create/bound the volume and in that time the deploy failed, but it's an impression because there are no logs other then the one I posted before

---

**Federico Pinca** (2025-03-03 09:07):
Also I noted that re-using the volume from the previous failed deploy , in a subsequent deploy make the deploy fail

---

**Federico Pinca** (2025-03-03 09:08):
logs from the failed pod

---

**Federico Pinca** (2025-03-03 09:09):
`2025-02-27T18:54:50,582 WARN  [master/suse-observability-hbase-stackgraph:60001:becomeActiveMaster {}] regionserver.HRegion: Failed initialize of region= master:store,,1.1595e783b53d99cd5eef43b6debb2682., starting to roll back memstore`

---

**Bram Schuur** (2025-03-03 09:10):
(Wrote a docs ticket to be picked up: https://stackstate.atlassian.net/browse/STAC-22429)

---

**Vladimir Iliakov** (2025-03-03 09:10):
@Federico Pinca can you check the logs of the Longhorn pods for possible errors?

---

**Federico Pinca** (2025-03-03 09:23):
Now I have observability deployed, and I have to show this POC tomorrow, so I will do more tests if you need it after the customer call

---

**Federico Pinca** (2025-03-03 09:47):
```2025-03-03T08:45:53,044 WARN  [master/suse-observability-hbase-stackgraph:60001:becomeActiveMaster {}] regionserver.HRegion: Failed initialize of region= master:store,,1.1595e783b53d99cd5eef43b6debb2682., starting to roll back memstore
java.io.IOException: Error while reading WALKey, originalPosition=1309, currentPosition=1310
	at org.apache.hadoop.hbase.regionserver.wal.ProtobufWALStreamReader.next(ProtobufWALStreamReader.java:67) ~[hbase-server-2.6.0-hadoop3.jar:2.6.0-hadoop3]```
I have booted up the kube cluster (because during weekend I shutdown my lab) where observability is installed on and I have this logs

---

**Federico Pinca** (2025-03-03 09:50):
I m checking harvester/longhorn logs now

---

**Federico Pinca** (2025-03-03 09:55):
this pod: suse-observability-hbase-stackgraph-0 (https://62.69.130.120.rancher.sslip.io/dashboard/c/c-m-4ntdr285/explorer/pod/suse-observability/suse-observability-hbase-stackgraph-0) does not like to be rebooted

---

**Federico Pinca** (2025-03-03 09:58):
If you like to attach logs, these are the now status of that pod (after starting up this morning) and the harvester supportbundle (I have not seen anything strange on longhorn logs this morning)

---

**Federico Pinca** (2025-03-03 09:58):
I can give you also access to my lab if you need

---

**Federico Pinca** (2025-03-03 09:59):
but It seems strange that until now no one tested suse observability on top of harvester with harvester-csi driver and longhorn , they are all our products :joy:

---

**Sam Chen** (2025-03-03 14:07):
Hi there, can we monitoring GPU usage just like Grafana?
https://grafana.com/grafana/dashboards/14574-nvidia-gpu-metrics/ (https://grafana.com/grafana/dashboards/14574-nvidia-gpu-metrics/)

---

**Jeroen van Erp** (2025-03-03 14:27):
Yes, @Ravan Naidoo can give you some more insights

---

**Sam Chen** (2025-03-03 14:38):
Woo~ Great :+1:  I need this information, maybe some screenshots, we need it to attract more customers.

---

**Ravan Naidoo** (2025-03-03 14:43):
Nvidia GPU usage is available at the Pod and Node level.  Currently going to be part of SUSE AI.

---

**Sam Chen** (2025-03-03 14:46):
If customer didn’t use our AI solution, can we deliver it to customers?

---

**Ravan Naidoo** (2025-03-03 14:48):
I would say yes, because we pull in the information via OpenTelemetry and the DCGM Exporter.

---

**Sam Chen** (2025-03-03 14:52):
Excellent :+1: thanks you guys :pray:

---

**Jeroen van Erp** (2025-03-03 15:10):
I would say that PM has a say in that….

---

**Sam Chen** (2025-03-03 15:22):
Got it, I think we should be support both, because some user didn’t use our AI solution, they just run their workloads for ML.

---

**Mark Bakker** (2025-03-03 16:49):
Let me discuss this with our Suse Ai pm

---

**Ravan Naidoo** (2025-03-03 16:51):
@Mark Bakker Just as a side note,  If Open Telemetry data is used to augment existing Kubernetes types in SUSE Observability. That can be done without PM involvement right.

---

**Mark Bakker** (2025-03-03 16:54):
@Ravan Naidoo correct

---

**Jeroen van Erp** (2025-03-03 16:54):
It’s more about the SUSE Observability extension I think?

---

**Jeroen van Erp** (2025-03-03 16:54):
The types and bindings?

---

**Mark Bakker** (2025-03-03 16:55):
As long as it is an consultancy effort. If we have an productized AI StackPack we might (and likely do) only ship it with AI

---

**Jeroen van Erp** (2025-03-03 16:55):
That’s what I meant indeed

---

**Ravan Naidoo** (2025-03-03 16:55):
Cool. Got it.

---

**Sheng Yang** (2025-03-03 21:40):
cc @David Ko @Derek Su for the Longhorn team. And yes, please file a SURE JIRA ticket for the Longhorn team if it seems Longhorn related.

---

**Sheng Yang** (2025-03-03 21:43):
Also, I would not describe it as incompatibility. Longhorn is a general purpose storage. There is no way we say Longhorn doesn’t compatible with HBase or some database. If it’s a bug then we should fix it. If it’s resource issue then we need to put guardrails.

---

**David Ko** (2025-03-04 00:37):
@Federico Pinca what Harvester version are u using? What Rancher and RKE2 version? What Harvester CSI driver version is used? This might be related to Harvester CSI. This doesn’t sound like a Longhorn issue.

Please help create a Jira (SURE) to report this issue to Harvester instead. Thanks.

---

**Federico Pinca** (2025-03-04 09:22):
```rancher v2.9.5
harvester v1.4.1
suse-observability 2.3.0```
all the components are the default for the product version

---

**David Ko** (2025-03-04 10:02):
Thanks. Can u reproduce this or even have the support bundle already? Please help create a ticket first. We will look into it.

---

**Federico Pinca** (2025-03-04 10:11):
The supportbundle is 4 message up on this thread

---

**David Ko** (2025-03-04 10:12):
Thanks then the issue please.

---

**Federico Pinca** (2025-03-04 10:14):
I think they wrote a ticket for stackstate , for harvester honestly I do not know what to write because I think it was an observability issue, for harvester what can I write? to check harvester csi with observability?

---

**David Ko** (2025-03-04 10:21):
yes, the volumes provisioned for guest cluster are handled by Harvester CSI driver. You can describe the situation as you mentioned https://suse.slack.com/archives/C079ANFDS2C/p1740989238278589?thread_ts=1740740593.461939&amp;cid=C079ANFDS2C.

Unfortunately, each project has different issue mgmt. Please create or even clone the issue for the case. Otherwise, we won't be able to handle that.

---

**Federico Pinca** (2025-03-04 10:35):
https://jira.suse.com/browse/SURE-9884

---

**ivan.pires** (2025-03-04 13:39):
Hello Team, i need a buyers guide or face off comparison between Suse Observability (Statckstate) x New Relic x Dinatrace.  Someone can share?

---

**Nico Lamberti** (2025-03-04 17:30):
looking for a StackState vs. Datadog comparison/battlecard or (best practice for integration)

---

**Louis Lotter** (2025-03-04 18:15):
@Andreas Prins @Jeroen van Erp Can we help these guys out :point_up:?

---

**James Mason** (2025-03-04 19:18):
Can I use the SaaS for testing the AWS EKS Addon? How?

---

**Karen Van der Veer** (2025-03-04 19:30):
Hi all, if we are going to get the Observability agent there by SUSECon, James needs help rather quickly ^^ thanks

---

**Jeroen van Erp** (2025-03-04 20:54):
Hi James which SaaS and what's the aws EKS addon?

---

**James Mason** (2025-03-04 21:45):
SUSE Observability SaaS on AWS?

---

**James Mason** (2025-03-04 21:46):
The EKS Addon is a new delivery method we're in the process of providing for the observability agent https://docs.aws.amazon.com/eks/latest/userguide/eks-add-ons.html

---

**Jeroen van Erp** (2025-03-04 22:13):
That should just work indeed… You could even spin up an Observability instance yourself and point the agent to it

---

**James Mason** (2025-03-04 23:52):
That's the exact part I'm trying to avoid... me doing that adds variables &amp; mistakes - I'm hoping to limit the scope of my testing to just the agent

---

**andy.wu** (2025-03-05 08:05):
Hi @Jeroen van Erp I'm having the same problem, so what you're saying is that we need to install another cert-manager to generate certificates?

---

**Andreas Prins** (2025-03-05 08:32):
with regards to buyers guides and comparison @ivan.pires and @Nico Lamberti we don't have these yet, we can for sure focus on this as one of the tasks very soon after SUSECON. @Nuno do Carmo and @Ivan Tarin. Can you @Mark Bakker share your rough (internal use only) slides with the guys directly? the ones you created for the DSA training a few months ago?

---

**Louis Lotter** (2025-03-05 08:54):
How long would you need it James ?

---

**Louis Lotter** (2025-03-05 08:55):
We should be able to help but there is a cost associated. depending on how long it runs

---

**Mark Bakker** (2025-03-05 08:56):
Yes use the 1-10 host listing in this list:
https://aws.amazon.com/marketplace/search/results?searchTerms=suse+cloud+observability
For Europe you need the EU one for the rest of the world the other one (geofencing).

---

**Louis Lotter** (2025-03-05 08:56):
@Vladimir Iliakov what would be the easiest way to get this going for James ?

---

**Vladimir Iliakov** (2025-03-05 08:59):
@Louis Lotter purchase a trial via AWS Marketplace??? )))

---

**Vladimir Iliakov** (2025-03-05 09:00):
@Lukasz Marchewka can you create one?

---

**Vladimir Iliakov** (2025-03-05 09:06):
NVM, I found how to do that.

---

**Saurabh Sadhale** (2025-03-05 10:42):
I have a customer who has raised a concern w.r.t the Button of “SHOW LOGS” in the Stackstate UI. The button is no longer visible in the StackState UI.

NOTE: I have already checked this for multiple pods which do have some logs in them.

If this is removed I believe an update in the documentation with a note or in the Release notes should really help customers.

Along with my colleague @Devendra Kulkarni I was able to find a JIRA STAC-21012 which does confirm our suspicion.

The main problem here is that some of the pods in the kube-system project are unable to show any logs even though the pods are generating logs every minute.

Example of cloud-controlller-manager pod:

```kubectl logs cloud-controller-manager-ssadhale-stackstate-reproducer-master-8dzk7-c5j5z -n kube-system 
I0305 08:01:23.970167       1 serving.go:392] Generated self-signed cert in-memory
I0305 08:01:24.286147       1 serving.go:392] Generated self-signed cert in-memory
I0305 08:01:24.517775       1 controllermanager.go:160] Version: v1.31.1-k3s3
I0305 08:01:24.524457       1 requestheader_controller.go:172] Starting RequestHeaderAuthRequestController
I0305 08:01:24.524501       1 shared_informer.go:313] Waiting for caches to sync for RequestHeaderAuthRequestController
I0305 08:01:24.524622       1 configmap_cafile_content.go:205] "Starting controller" name="client-ca::kube-system::extension-apiserver-authentication::client-ca-file"
I0305 08:01:24.524645       1 shared_informer.go:313] Waiting for caches to sync for client-ca::kube-system::extension-apiserver-authentication::client-ca-file
I0305 08:01:24.524640       1 configmap_cafile_content.go:205] "Starting controller" name="client-ca::kube-system::extension-apiserver-authentication::requestheader-client-ca-file"
I0305 08:01:24.524675       1 secure_serving.go:213] Serving securely on 127.0.0.1:10258
I0305 08:01:24.524670       1 shared_informer.go:313] Waiting for caches to sync for client-ca::kube-system::extension-apiserver-authentication::requestheader-client-ca-file
I0305 08:01:24.525111       1 tlsconfig.go:243] "Starting DynamicServingCertificateController"
I0305 08:01:24.525142       1 leaderelection.go:254] attempting to acquire leader lease kube-system/rke2-cloud-controller-manager...
I0305 08:01:24.625074       1 shared_informer.go:320] Caches are synced for client-ca::kube-system::extension-apiserver-authentication::client-ca-file
I0305 08:01:24.625186       1 shared_informer.go:320] Caches are synced for client-ca::kube-system::extension-apiserver-authentication::requestheader-client-ca-file
I0305 08:01:24.625129       1 shared_informer.go:320] Caches are synced for RequestHeaderAuthRequestController ```
Example from stackstate:

---

**Louis Lotter** (2025-03-05 11:00):
@Saurabh Sadhale The view all button in the logs section should show these logs.
The button on the left was remove a year ago

---

**Louis Lotter** (2025-03-05 11:00):
we do endeavour to add changes like this to the release notes but this is from before we merged with Suse

---

**Louis Lotter** (2025-03-05 11:00):
can you check if the logs show up if you click on view all

---

**Saurabh Sadhale** (2025-03-05 11:08):
Yes I agree about the View all button in the logs section. There are two screenshots.

The problem is about the cloud-controlller-manager pod not able to show logs from stackstate UI.

---

**Saurabh Sadhale** (2025-03-05 12:12):
@Louis Lotter ^^ the issue is about other pods like cloud-controller-manager not showing logs in the suse observability dashboard even though the pod is actually logging

---

**Remco Beckers** (2025-03-05 12:35):
If those pods are not showing logs in the UI it very likely is because there are no logs stored for that pod for the selected time period. This can have several reasons:
1. The logs agent is not running on the nodes for those pods, or somehow cannot access the logs
2. When too many logs are received they may get truncated to not fill up all disk space with logs of only a few pods
Given that there seem to be no logs at all I think 1. is more likely.

---

**Remco Beckers** (2025-03-05 12:38):
If the logs are only missing for pods in the kube-system namespace I suspect these pods are running on `control-plane` nodes that have a `taint`  to only allow pods with a specific `toleration`.

An easy way to check this is to check that there is a logs-agent running on every node. If not you might need to look at the `taint(s)`  on the nodes and add corresponding `tolerations` to the agent configuration.

---

**Saurabh Sadhale** (2025-03-05 12:40):
The pod for cloud controlller manager is running on the following node:

```kubectl get po -o wide -n kube-system cloud-controller-manager-ssadhale-stackstate-reproducer-master-8dzk7-c5j5z
NAME                                                                         READY   STATUS    RESTARTS   AGE     IP             NODE                                                NOMINATED NODE   READINESS GATES
cloud-controller-manager-ssadhale-stackstate-reproducer-master-8dzk7-c5j5z   1/1     Running   0          3h36m   64.227.188.8   ssadhale-stackstate-reproducer-master-8dzk7-c5j5z   &lt;none&gt;           &lt;none&gt; ```
the node-agent and logs-agent are also running on the same:

```ssadhale@192 suse-observability % kubectl get po -o wide -n suse-observability -l app.kubernetes.io/component=logs-agent (http://app.kubernetes.io/component=logs-agent) | grep ssadhale-stackstate-reproducer-master-8dzk7-c5j5z
suse-observability-agent-logs-agent-6f8hf   1/1     Running   0          152m   10.42.116.206   ssadhale-stackstate-reproducer-master-8dzk7-c5j5z   &lt;none&gt;           &lt;none&gt;

ssadhale@192 suse-observability % kubectl get po -o wide -n suse-observability -l app.kubernetes.io/component=node-agent (http://app.kubernetes.io/component=node-agent) | grep ssadhale-stackstate-reproducer-master-8dzk7-c5j5z
suse-observability-agent-node-agent-l5sbg   2/2     Running   0          152m   64.227.188.8      ssadhale-stackstate-reproducer-master-8dzk7-c5j5z   &lt;none&gt;           &lt;none&gt;```

---

**Saurabh Sadhale** (2025-03-05 12:40):
node-agent and logs-agent are up and running on the nodes where cloud-controller-manager are also running.

---

**Remco Beckers** (2025-03-05 12:41):
Can you get the logs of the logs agent and share them with us?

---

**Saurabh Sadhale** (2025-03-05 12:47):
I am sharing in a bit. I can also share you the access of the whole cluster if you want to take a live look at the environment. z

---

**Remco Beckers** (2025-03-05 12:48):
I've been looking at the the different `*-controller-managers` in one of our clusters, but I don't see that they are logging all the time. Actually they only seem to be logging during startup (on my example 21 days ago), so I don't have any logs at all for these pods.

Except for one instance of the cloud-controller-manager, it has a log that gets regular updates, but I've got 3 in total (one active and 2 failover I guess)

---

**Remco Beckers** (2025-03-05 12:53):
Maybe you can check if this is also the case on your cluster? https://suse.slack.com/archives/C079ANFDS2C/p1741175326640319?thread_ts=1741167768.285659&amp;cid=C079ANFDS2C

---

**Remco Beckers** (2025-03-05 12:54):
The logs-agent seems to be doing alright (though a bit of a hiccup at the end of the log with sending the data, but it seems to have recovered)

---

**Saurabh Sadhale** (2025-03-05 12:59):
Yes they are not logging all the time. However, I believe if the pods logged between time 10:00 - 11;00 and set the TIME in the dashboard correctly I should be able to see those logs in the stackstate UI.

@Remco Beckers do you see the logs in the Dashboard ? Like view all logs ?

---

**Saurabh Sadhale** (2025-03-05 13:22):
In my current cluster I cannot see logs for the following components even though logs are present ( not continuous but present ) :

• kube-apiserver
• etcd
• cloud-controller-manager
• kube-controller-manager
• kube-proxy
• kube-scheduler

---

**Remco Beckers** (2025-03-05 14:13):
The logs should show up if they are within the selected time range, but there are some exceptions:
• Log retention is only 7 days, so if logs are older they will be gone
• Logs retention is also determined by available diskspace, if we run out of disk space the oldest logs will be removed. That could be happening here as well
I do see logs in SUSE Observability for one of our `aws-cloud-controller-manager` pods (the one that is logging consistently), but I don't see the startup logs for any of these pods because those logs are older than 7 days.

---

**José Guilherme Vanz** (2025-03-05 14:25):
Hi folks! I'm trying to install an external monitor in my SUSE Observability cluster but I'm getting the following error :thread:

---

**José Guilherme Vanz** (2025-03-05 14:26):
This is the file that I'm trying to apply:

```nodes:
- _type: ExternalMonitor
  healthStreamUrn: urn:health:kubewarden:audit
  description: Kubewarden policies checks
  identifier: urn:custom:external-monitor:kubewarden
  name: Kubewarden
  remediationHint: |-
    To remedy this issues check which policies the resources are violating and make the necessary adjustments.
    To remedy this issue with the deployment {{ labels.deployment }}, consider taking the following steps:
    
    1. Look at the logs of the pods created by the deployment
  tags:
    - kubewarden
    - security```

---

**José Guilherme Vanz** (2025-03-05 14:27):
I based my monitor in the example from the docs (https://docs.stackstate.com/health/health-synchronization#external-monitor)

---

**José Guilherme Vanz** (2025-03-05 14:29):
Even if I try to deploy the monitor from the example, I get the same error.

---

**José Guilherme Vanz** (2025-03-05 14:29):
Where should I define these "labels" field?

---

**Jeroen van Erp** (2025-03-05 14:34):
It comes from `{{ labels.deployment }}` this one I think

---

**Jeroen van Erp** (2025-03-05 14:34):
Try it without, the handlebars context might not contain the `labels` key

---

**José Guilherme Vanz** (2025-03-05 14:34):
:facepalm:

---

**José Guilherme Vanz** (2025-03-05 14:35):
Sure, sorry I totally forgot to change that hint template

---

**José Guilherme Vanz** (2025-03-05 14:36):
I'm embarrassed now... let me go back to my test and forgot this thread. xD

---

**Remco Beckers** (2025-03-05 14:53):
I've been checking some of the other pods now and it does look like our logs agent is not shipping data for the kubernetes system services like `etcd`. I'll make a bug ticket and see that we can have a more detailed look at this

---

**Saurabh Sadhale** (2025-03-05 14:55):
I was in the process of raising a bug. I'll go ahead and create it in few mins.

---

**Federico Pinca** (2025-03-05 15:01):
Hi, I can confirm that same deploy but using nfs-csi and not harvester-csi is more more stable and deploy/reboot without issue on WAL reloading by hadoop container

---

**Federico Pinca** (2025-03-05 15:02):
Same infrastructure, so under it there is always harvester v1.4.1 but in this case the longhorn storage is used behind qcow2 volume and nfs-csi, and not directly with harvester-csi

---

**Saurabh Sadhale** (2025-03-05 15:05):
I have raised this Bug  https://stackstate.atlassian.net/browse/STAC-22443

---

**Federico Pinca** (2025-03-05 15:05):
And I think is wrong to classify it as a FEATURE, after this test, is seems cleary a BUG somewhere, or the ability from harvester-csi to not support heavy storage workload like hadoop

---

**Remco Beckers** (2025-03-05 15:21):
Thanks, I've updated with some more info and moved it to our backlog

---

**Federico Pinca** (2025-03-05 15:21):
I'm not an expert but is possible that is not harvester-csi the culprint but longhorn directly, I'm not an expert on the differences on how the volumes on lonhorn are handled by harvester-csi and by the volume creation on harvester, when I have time I will try to go into detail of this difference

---

**Derek Su** (2025-03-05 15:46):
To simplify the problem, is it possible to deploy the service directly on Longhorn using a containerized approach without a VM?

---

**Federico Pinca** (2025-03-05 15:49):
I think someone at some point deployed observability with longhorn, somewhere

---

**Federico Pinca** (2025-03-05 15:49):
I can understand that my test was like a corner case (not so corner)

---

**Amol Kharche** (2025-03-05 15:53):
Is this same issue ?
https://suse.slack.com/archives/C079ANFDS2C/p1733489337251419?thread_ts=1733489337.251419&amp;cid=C079ANFDS2C (https://suse.slack.com/archives/C079ANFDS2C/p1733489337251419?thread_ts=1733489337.251419&amp;cid=C079ANFDS2C)

---

**Remco Beckers** (2025-03-05 15:54):
I don't think so, but maybe @Saurabh Sadhale can confirm he is running a recent version of SUSE Observability (&gt;= 2.2.1)

---

**Saurabh Sadhale** (2025-03-05 16:00):
I’d say the above conversation partly talks about the Log not seen problem however it was not about k8s systems projects. For my user-deployed applications it is working well without any issues. As I have outlined in the JIRA only SPECIFIC projects are not showing logs.

---

**Derek Su** (2025-03-05 16:02):
BTW, what's the filesystem on the Longhorn volume?

---

**Federico Pinca** (2025-03-05 16:07):
ext4, I will try the observability on longhorn directly when I have time

---

**James Mason** (2025-03-05 16:24):
I don't know how long I will need it. Part of the validation process for adding a new EKS Addon to AWS Marketplace, is running the addon on an EKS cluster, for each version it supports, and allowing AWS to inspect that the addon is running successfully. Docs say the inspection process can take up to 30 days; that's after I satisfy myself that it's actually working.

---

**Vladimir Iliakov** (2025-03-05 16:35):
@Louis Lotter shall I create a tenant?

---

**Louis Lotter** (2025-03-05 16:36):
Let me check.

---

**Louis Lotter** (2025-03-05 16:43):
@James Mason this should be really low load right. Meaning we can use the smallest hardware profile ?

---

**Louis Lotter** (2025-03-05 16:44):
1-10 nodes

---

**Louis Lotter** (2025-03-05 16:47):
@James Mason have you tried to use the marketplace to create an instance https://aws.amazon.com/marketplace/search/results?searchTerms=suse+cloud+observability ?

---

**Jeroen van Erp** (2025-03-05 16:48):
Don’t we filter out suse.com (http://suse.com) emails?

---

**Louis Lotter** (2025-03-05 16:49):
for the marketplace. I don't think so. @Lukasz Marchewka?

---

**Gabriel Lins** (2025-03-05 17:13):
Hello! IHAC currently uses New Relic, Zabbix, and Grafana to monitor throughput, disk I/O, and JVM performance. Additionally, they have used Grafana to measure shard performance in the JVM. All this data is posted to Zabbix for quick alerts and reporting.
We need to propose a way to monitor all these metrics using SUSE Observability and promote this solution to them.
Additionally, they are requesting a comparison presentation with other tools like Dynatrace and New Relic.

---

**Gabriel Lins** (2025-03-05 17:15):
Just a bit of context: we are working to keep Rancher Prime as the management solution for their AWS clusters, and any additional cloud integrations would be highly beneficial.

---

**Vladimir Iliakov** (2025-03-05 17:24):
@James Mason you should get the welcome message with the login info soon

---

**James Mason** (2025-03-06 01:02):
Does the observability agent run on ARM64 arch?

---

**George Yao** (2025-03-06 03:56):
Hi team, is there a way to obtain licenseKey for customer who haven't completed the renewal this year with new Rancher Prime SKU, but customer wants to setup observability before renewal.

---

**Amol Kharche** (2025-03-06 05:40):
Customer can log in SSC portal and should able to see observability licenseKey.

---

**George Yao** (2025-03-06 05:43):
Thanks Amol.

---

**Mark Bakker** (2025-03-06 08:17):
@George Yao for which client is this? And does Observability influence the renewal?

---

**Bram Schuur** (2025-03-06 08:20):
it does not, it is on our medium-term roadmap

---

**George Yao** (2025-03-06 08:27):
Hi Mark, It is for customer *LONGI Solar Technology CO., Ltd.* A198823 in China, customer will renew Rancher Prime as planned, we just want get customer setup SUSE Observability as soon as possibility, because customer has interested in it.

---

**Gabriel Lins** (2025-03-06 15:15):
So, if apps is out of K8s even having opentelemetry applied to this app, customer couldn't have SUSE Observability to it regarding the observability agent? I'm correct?

---

**James Mason** (2025-03-06 16:01):
Well, at least in the short term, that saves me from building 12 more EKS clusters :P

---

**Niel Bornstein** (2025-03-06 20:07):
Hi! What is the state of open sourcing StackState code?

---

**Louis Lotter** (2025-03-06 20:30):
Hi Niel. It's on the list of priorities for the next 12 months but we have a lot on our plates.

---

**Brian Six** (2025-03-07 02:04):
Not sure I understand the question.

---

**jianqiang.cheng** (2025-03-07 04:04):
Hi team,
Our Rancher MSP user, IDCF, wants to try SUSE Observability but found that there is no registration code for SUSE Observability on SCC.
IDCF's Account ID is A195410.
Can anyone grant them a registration code?
Thank you in advance!

---

**Amol Kharche** (2025-03-07 05:10):
Could you please post in the <#C02AYV7UJSD|> channel?

---

**jianqiang.cheng** (2025-03-07 05:11):
Thank you @Amol Kharche! I will do that.

---

**Sam Chen** (2025-03-07 06:26):
Hi there, our partner can’t create correct trial license key from NFR, who should I report to and get a correct key?

---

**Amol Kharche** (2025-03-07 07:33):
I can see the correct license key in SCC portal for Palsys Digital Technology Corp.

---

**Nick Zhao** (2025-03-07 10:50):
hi team, we are doing poc with prospective, do we have trial key to install SOB?

---

**Mark Bakker** (2025-03-07 10:53):
See the pinned message

---

**Nick Zhao** (2025-03-07 11:09):
thx, Mark.  but those pods are crashing loop when initializing.  is it related to the lic?

---

**Mark Bakker** (2025-03-07 11:17):
I am not sure, maybe someone else here is.

---

**Sam Chen** (2025-03-07 14:45):
can you check pvc and pv status?

---

**Sam Chen** (2025-03-07 14:46):
Thanks you Amol.

---

**José Guilherme Vanz** (2025-03-07 14:55):
Hi folks! I have a question about URN :thread:

---

**José Guilherme Vanz** (2025-03-07 14:56):
I testing my external monitor. It sending health check using the following urn:
`url:kubernetes:/kubewarden1:default:pod/privileged-pause-pod`

I'm trying to identify the pod `privileged-pause-pod` running in the `default` namespace on the cluster `kubewarden1` . Is it right?

---

**Alejandro Acevedo Osorio** (2025-03-07 14:59):
The construction of the identifier for the pod looks OK but `url` -&gt; `urn`

---

**José Guilherme Vanz** (2025-03-07 15:18):
I'm intrigued because my health checks are not being shown in the UI. Let me follow the troubleshooting docs...

---

**Alejandro Acevedo Osorio** (2025-03-07 15:24):
I think if you fix the urn (identifier) for the component they should land.
```urn:kubernetes:/kubewarden1:default:pod/privileged-pause-pod```

---

**Alejandro Acevedo Osorio** (2025-03-07 15:24):
is the `ExternalMonitor` already present as well?

---

**José Guilherme Vanz** (2025-03-07 15:24):
Ah!!!!! Now I saw the typo.

---

**José Guilherme Vanz** (2025-03-07 15:24):
:facepalm:

---

**José Guilherme Vanz** (2025-03-07 15:30):
Thank you for the fresh eyes!

---

**Alejandro Acevedo Osorio** (2025-03-07 15:31):
Glad I could help :+1:

---

**James Mason** (2025-03-07 17:25):
I'm super excited to report that I am successfully observing an EKS cluster, via an AWS EKS Addon for SUSE Observability Agent. :tada:

---

**Mark Bakker** (2025-03-07 17:57):
Nice work!

---

**James Mason** (2025-03-07 18:06):
Now I just have to run an EKS cluster each k8s version supported (1.25, 1.26, 1.27, 1.28, 1.29, 1.30, 1.31, 1.32), write the docs, and prove to AWS it works :exploding_head:

---

**James Mason** (2025-03-07 18:49):
There's an interim state, where incoming connections aren't available yet, and that's interpreted as an "Upgrade to Rancher Prime" condition (which it's not - it resolves as more data comes in) ... but the link to "LEARN MORE" ( https://l.stackstate.com/saas/rancher-prime-learn-more ) goes to a 404 page.

---

**Dustin Groh** (2025-03-07 19:13):
Hi all, very new to SUSE Observability and trying to help a customer newly installing it. They can get to the UI but only see this. Is there a place you'd recommend I start troubleshooting?

---

**Dustin Groh** (2025-03-07 19:14):
i'd like to add, the hamburger menu on the top left only have "views"

---

**Dustin Groh** (2025-03-07 19:16):
1.30.9 RKE2, btw

---

**Ravan Naidoo** (2025-03-07 19:29):
Can you verify all of the SUSE Observability pods are started?

---

**Dustin Groh** (2025-03-07 19:33):
I believe so

---

**Dustin Groh** (2025-03-07 19:34):
also, we do see an invalid license key message in the server logs. But just confirmed the key is directly what's present in SCC. might not be related, just providing info.

---

**Dustin Groh** (2025-03-07 19:40):
@Ravan Naidoo i'll also throw in that they're using an ingress, not port forwarding

---

**Ravan Naidoo** (2025-03-07 19:42):
If the key is invalid then the rest does not initialise.  Port forwarding to the router service won’t work either. I would troubleshoot the license angle first.

---

**Ravan Naidoo** (2025-03-07 19:43):
Check if copy paste went well. No extra spaces.

---

**Dustin Groh** (2025-03-07 19:46):
Okay that's good info to have. At least viewing it here it does look identical to SCC. *AC93B6A5DCD7DAE0*

---

**Ravan Naidoo** (2025-03-07 19:49):
Unfortunately I don’t have an understanding of the SCC license validity.  But what you sent through so far the ingress is good if not you would not have seen the blank ui.

---

**Dustin Groh** (2025-03-07 19:50):
Right, I think you're right in saying the license key is the place to be troubleshooting.

---

**James Nguyen** (2025-03-07 23:37):
IHAC who is leveraging:
`SUSE Observability: 1.0.1`
`Rancher: 2.9.2` 
`RKE2 1.30.9`
They started experiencing an inability to login (azure ad and local accounts) after they added the SUSE Observability plugin. Once they removed the plugin, they were able to login again - has anyone seen this issue before?

---

**David Noland** (2025-03-07 23:44):
I've seen this issue with the Elemental plugin. Incompatible plugins can brick the UI. Not sure if the combo you mentioned is problematic or not. See also SURE-9597 (https://jira.suse.com/browse/SURE-9597)

---

**James Nguyen** (2025-03-07 23:53):
Thanks David! Yeh I'll see if they can turn on `safemode` and the best bet to bypass is to potentially upgrade to 2.10.x/2.11.x

They just responded back with their OS and they're leveraging CentOS (very much EOL), so it could also cause issues

---

**James Mason** (2025-03-08 00:01):
Can someone take a look at https://github.com/SUSE-Enceladus/marketplace-docs/pull/56 and let me know if you see any stupid mistakes?

---

**James Mason** (2025-03-08 00:30):
@Vladimir Iliakov thanks - it's working well, but it looks like I'm limited to 5 clusters... I need to have 8 running simultaneously to prove to AWS that the agent works (one for each k8s version from 1.25→1.32)

---

**James Mason** (2025-03-08 00:33):
NM... just some browser auth glitch, apparently.

---

**James Mason** (2025-03-08 04:32):
I published it... we can always make adjustments (and it's easier to read this way) https://suse-enceladus.github.io/marketplace-docs/observability/agent/eks-addon/

---

**Amol Kharche** (2025-03-08 06:50):
I think the licensee key should be in ABCDE-BCDEF-WF3DA format , Can you give a try ?

---

**Dinesh Chandra** (2025-03-08 12:13):
IHAC who wants different Observability server deployed for different environment (dev/prod etc), is there licensing impact?

---

**Yingluo Zhang** (2025-03-10 03:53):
hi Team ,do we have more detail about the diffrence  of SUSE Observatiliby  and SUSE Observability Plateform optimazation ? our customer want to know  thanks a lot.

---

**andy.wu** (2025-03-10 08:16):
Hi Team
We have a customer who is using the “sizing.profile=150-ha” framework, and then the following error occurs when configuring “notification”.what is the problem?

---

**Bram Schuur** (2025-03-10 09:14):
Based on the docs: https://docs.stackstate.com/self-hosted-setup/configure-stackstate/email-notifications#configure-suse-observability-with-the-smtp-configuration and what i read here on confluence https://confluence.suse.com/display/SUP/E-mail+notificationse, TLS encryption (starttls) is required. The confluence page also contains some potential troubleshooting steps.

cc @Amol Kharche

---

**Remco Beckers** (2025-03-10 09:41):
I've made a bug ticket to fix the link for the LEARN MORE.

---

**Remco Beckers** (2025-03-10 09:42):
But do I understand correctly that this is a self-hosted Prime installation that still shows the "Incoming" section as "locked"?

---

**andy.wu** (2025-03-10 10:03):
Hi @Bram Schuur
If “mail.smtp.auth”: “false” is configured to disable auth, do I still need authentication information?
```additionalProperties: 
      # Add needed Java email properties for your mail server (use string values), defaults are: 
      "mail.smtp.auth": "false"
      "mail.smtp.starttls.enable": "false"```

---

**Bram Schuur** (2025-03-10 10:17):
that i do not know

---

**Nick Zhao** (2025-03-10 10:17):
Hi team, are we able to leverage open-telemetry to collect metrics from snmp, such as switch, idrag - OOB system, etc.  If so, can SOB draw up a topology for all the things?

---

**Vladimir Iliakov** (2025-03-10 10:24):
@andy.wu you have to set username and password to `"null"`

See https://suse.slack.com/archives/C07CF9770R3/p1734696968113909?thread_ts=1729767478.190499&cid=C07CF9770R3

---

**Mark Bakker** (2025-03-10 10:57):
You can ingest the Otel data and you will be able to see the traces and metrics.
You will also be able to create metric bindings and monitors for the metrics.
A topology will be automatically created from the Otel data if traces are send. At the moment the Topology entails the service-service communication based on trace data.
Creating topology out of the Semantic Conventions from Otel data is not yet possible but is planned in the coming months. This means that if you have certain types of Spans or Metrics we interpret the semantic conventions for attributes set on the data based on configuration data which can be set via a StackPack to get topology. This will first be done for Traces and Metrics.
Do you have the ability to get data from such systems in Otel format. They can help us in defining our mapping for semantic conventions.
cc @Remco Beckers

---

**Hugo de Vries** (2025-03-10 10:57):
No first hand experience, but there is an Otel receiver for SNMP: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/snmpreceiver

---

**Mark Bakker** (2025-03-10 10:58):
At the moment the difference is only the ability to use some old integrations with monitoring systems. Later in the year we will add automatic prioritization and automated triaging capabilities which will be part of the add-on.

---

**Mark Bakker** (2025-03-10 10:58):
So at the moment the is not a huge advantage but that will change later in the year.

---

**José Guilherme Vanz** (2025-03-10 13:53):
Hey folks! Do you have documentation about how to create a stackpack? :grimacing:

---

**James Mason** (2025-03-10 15:16):
This is *not* a self-hosted installation.

---

**José Guilherme Vanz** (2025-03-10 16:18):
Ah! I guess people are in SUSECON. Let me try the wider audience in the whole channel. :slightly_smiling_face:

Do you know if there is some documentation about how to create a stackpack?

---

**Thiago Bertoldi** (2025-03-10 16:21):
Here https://docs.stackstate.com/5.1/develop/developer-guides/stackpack

---

**Remco Beckers** (2025-03-10 16:44):
Thanks for clarifying (now I suddenly also notice the URL in the screenshot :facepalm:).

As far as I know it is then correct to show it as in the screenshot. What happens when more data comes in? Is that data from the nodes that are now in the "incoming" section, so they will end up being part of the normal topology in the end?

It would probably help if you have a screenshot that shows the topology after more data came in.

---

**James Mason** (2025-03-10 16:53):
When more data comes in, the "Incoming" nodes are browsable in Topology, and the 404  link is no longer available.

---

**Remco Beckers** (2025-03-10 17:03):
Ok. But then I don't think we can do much about this behavior. Until the extra data comes in the network connections seem to be connecting to something outside of the observed (by the agents) landscape from the perspective of SO (SUSE Observability). That's why they end up in the incoming section of the topology which is a prime feature.
With the extra data the components become part of the observed landscape and SO will treat them as any other component (so they will not be in the "incoming" section anymore either).

Normally this should last only for a short time after first setup and installation of the agents, or when new applications are deployed.

---

**James Mason** (2025-03-10 17:04):
I'm not concerned about the browsability of the incoming nodes, I'm concerned about having a link that goes to a "404 NOT FOUND" page

---

**Remco Beckers** (2025-03-10 17:05):
Ok, well that's what I already created a ticket for and will be fixed

---

**Remco Beckers** (2025-03-10 17:06):
https://stackstate.atlassian.net/browse/STAC-22460, in our current sprint

---

**Gaby Beitler** (2025-03-10 17:34):
Is there a temporary key that a customer can use to do an evaluation?

---

**Dustin Groh** (2025-03-10 19:06):
@Amol Kharche you’re right, but it actually was related to a faulty key. There is a thread about it in the <#C02AYV7UJSD|> channel. Even after getting the new key and updating the helm release with the new license they’re in the same spot, unfortunately .

---

**andy.wu** (2025-03-11 01:51):
Hi @Vladimir Iliakov
Customer feedback that configuring username and password to “null” doesn't work.
I also checked the logs of the suse-observability-notification pod, and the following error occurs, but the environment actually does not have this pod, what could be the problem?
`Error from server (NotFound): pods "suse-observability-server-0" not found`

---

**Thiago Bertoldi** (2025-03-11 03:10):
Hey guys, I just wanted to let you know about some strange behavior I got in the Kubernetes stackpack :thread:

---

**Thiago Bertoldi** (2025-03-11 03:11):
My example uses the sts CLI, but the same happens in the web interface.
Suppose I installed the kubernetes stackpack to monitor my cluster "local", something like this:
```sts stackpack install -n kubernetes-v2 -p kubernetes_cluster_name=local```
Now, if I try to list the instances:
```sts stackpack list-instances --name kubernetes-v2```
I get a table with ID, Status, Version and the last update.
I can now proceed to install the same stackpack with the same kubernetes_cluster_name as many times I want, and it will generate new entries to the instance list, each with it's own ID.
The thing is, when I configure the agent, the ID is not required, I can use the cluster name only:
```helm upgrade --install \
--namespace suse-observability \
--create-namespace \
--set-string 'stackstate.apiKey'='9CRvAaSGfVRTIqI32yGBvLQB9VjgrAx4' \
--set-string 'stackstate.cluster.name'='local' \
--set-string 'stackstate.url'='http://suse-observability/receiver/stsAgent' \
suse-observability-agent suse-observability/suse-observability-agent```
In the end, I can have multiple clusters with the same name (screenshot below), all active in the stackpacks page. When I list the Kubernetes clusters in the web interface, I can only see one.
My end goal is being able to see, with the CLI, if I'm already monitoring a given cluster. But the CLI doesn't return cluster names (only IDs), and if I try the register the same cluster twice, I don't get an error, the operation is successful, but having multiple clusters with the same name only bloats the stackpack instance list without having any real effect.
I don't know if I'm missing something, but looks like it could be nice to add a 'unique' restriction to the cluster name.

---

**Thiago Bertoldi** (2025-03-11 03:12):
The infinite number of same name instances:

---

**Thiago Bertoldi** (2025-03-11 03:13):
Cluster list:

---

**Thiago Bertoldi** (2025-03-11 03:13):
List instances output:

---

**Nick Zhao** (2025-03-11 03:30):
Thank your for your kindly reply.  It greatly increases our confidence in promoting SOB.  Many customers are looking for a unified observability platform, both inside and outside the cluster.  So we can leverage OTL to implement it.

---

**Amol Kharche** (2025-03-11 03:40):
@andy.wu Can the worker node hosting the notification pod reach the customer's SMTP server? Is port 25 open between the that worker node and the SMTP server?

---

**andy.wu** (2025-03-11 03:46):
The customer's current problem is that they can't configure notification, not the problem of sending mail, so I currently think it may be related to the error “Error from server (NotFound): pods ‘suse-observability-server-0’ not found”.

---

**andy.wu** (2025-03-11 03:47):
I've set up the environment myself, but I can't find the suse-observability-server-0 pod.

---

**Amol Kharche** (2025-03-11 03:55):
Which chart version they are using ?

---

**andy.wu** (2025-03-11 03:58):
they use 2.2.1 chart version.

---

**andy.wu** (2025-03-11 03:58):
suse-observability-2.2.1.tgz

---

**Amol Kharche** (2025-03-11 04:13):
Let me try to replicate issue

---

**Amol Kharche** (2025-03-11 05:27):
Can we have a call with customer?

---

**Vladimir Iliakov** (2025-03-11 09:06):
`Error from server (NotFound): pods "suse-observability-server-0" not found` should be ignored for HA profiles.

---

**Vladimir Iliakov** (2025-03-11 09:14):
Regarding smtp settings, I missed the Bram's message above about STARTTLS as a requirement. The issue might because it is set to `false`

---

**andy.wu** (2025-03-11 09:18):
But I'm using the 150-ha architecture part, and I don't get the error `pods 'suse-observability-server-0' not found`.

---

**andy.wu** (2025-03-11 09:19):
So you're saying that “mail.smtp.auth”: “true” and “mail.smtp.starttls.enable”: “true” should both be set to true, right?

---

**Vladimir Iliakov** (2025-03-11 09:22):
You can find the error in the init container, `ensure-no-server-statefulset-pods-are-running`, logs

---

**Vladimir Iliakov** (2025-03-11 09:27):
> So you're saying that “mail.smtp.auth”: “true” and “mail.smtp.starttls.enable”: “true” should both be set to true, right?
Right,
In the link I mentioned before someone succeded with `mail.smtp.auth` set to false and username and password to “null”, but I can't confirm if it is true or not...

---

**Amol Kharche** (2025-03-11 09:32):
Yes, I tested successfully without `mail.smtp.auth`  in values file. Here is my values file.
```stackstate:
  email:
    enabled: true
    sender: "<mailto:root@smtpstackstate.do.support.rancher.space|root@smtpstackstate.do.support.rancher.space>"
    server:
      host: "smtpstackstate.do.support.rancher.space (http://smtpstackstate.do.support.rancher.space)"
      port: 25
      protocol: smtp
      auth:
        username: "null"
        password: "null"```

---

**Mark Bakker** (2025-03-11 10:52):
@Nick Zhao yes from a technical level we can and from a licensing level we are looking into this as well.

---

**Jeroen van Erp** (2025-03-11 12:02):
You’re 100% right. Trick you can use in the CLI is add `-o yaml` and use `yq` to find the cluster names

---

**Jeroen van Erp** (2025-03-11 12:02):
Or json and jq should also work

---

**Mario Manno** (2025-03-11 13:57):
Hey,  I wanted to follow up on an initial discussion we had with @Mark Bakker regarding Fleet observability.

We currently have prometheus metrics and solving https://github.com/rancher/fleet/issues/3295 should make those available.
Beyond that, I took a quick look at the otel usage in kubewarden (e.g. https://github.com/kubewarden/kubewarden-controller/pull/934/files) . I can’t see any code-level instrumentation there, just the metric in `metrics.go` and the exporter. Is that is the goal for integrating Fleet and Observability? And is the precedence `prometheus &lt; otel metrics &lt; zero code instrumentation &lt; code level instrumentation`?

---

**José Guilherme Vanz** (2025-03-11 14:57):
Kubewarden is sending data to a OTEL collector which adds all the metadata from the cluster and forward the data to SUSE Observability

---

**Mario Manno** (2025-03-11 14:58):
What kind of data exactly? :wink:

---

**José Guilherme Vanz** (2025-03-11 14:58):
Metrics and traces

---

**Mario Manno** (2025-03-11 15:01):
I’m very interested in the traces, do you create the spans for the traces yourself or is it done automatically?

---

**José Guilherme Vanz** (2025-03-11 15:07):
We create traces only in policy-server.
https://github.com/kubewarden/policy-server/blob/1af6de1cbdf4db0485cb09d30636e3c3cea6b115/src/api/handlers.rs#L97-L127

Are looking for a go package for that?

---

**José Guilherme Vanz** (2025-03-11 16:05):
The policy server uses the tracing crate to create traces. We configure it when the app starts (https://github.com/kubewarden/policy-server/blob/1af6de1cbdf4db0485cb09d30636e3c3cea6b115/src/tracing.rs#L57-L81) and later on the use the instrumentation from the crate to create the span as you can see from a previous link

---

**Mario Manno** (2025-03-11 16:42):
Thanks, that was a piece I was missing.
&gt;  Are looking for a go package for that?
There are some examples in the docs over at https://opentelemetry.io/docs/languages/go/getting-started/

Right now I’m trying to figure out what belongs into a first issue. :slightly_smiling_face:

---

**Remco Beckers** (2025-03-11 17:21):
For the overall idea I think you captured it very well with this:
&gt; prometheus &lt; otel metrics &lt; zero code instrumentation &lt; code level instrumentation
That is exactly the way I would do it when you already have metrics collection setup with a prometheus exporter (or any other metrics library).

The long version:
1. Get started by using what you have, Prometheus exporter metrics
2.  introduce zero code instrumentation (I wouldn't be very quick with switching to reporting metrics via the otel sdk yet, because you probably have other users of the prometheus exporter api, but you could always support both).
3. Finally you cans start adding extra manual instrumentation to add more spans or enrich existing spans with extra information attributes

Finally, one of the goals of the OTEL project is to get library developers to to instrument their code themselves (depending only on the OTEL API). So that when you use the library and have the OTEL SDK available it will work out-of-the-box without even setting up the zero-code instrumentation. In some languages there seems to be some traction for this now (I believe Rust and .NET) but it will probably still take a long time to get there.

---

**Mario Manno** (2025-03-11 17:35):
Thanks :) that helps to scope the issue. I think controller-runtime has some support, so we can investigate that (https://github.com/kubernetes-sigs/controller-runtime/issues/305#issuecomment-2669920650) afterwards.

---

**Remco Beckers** (2025-03-11 17:49):
Didn't know about the bridge, that sounds pretty cool. Now I need to check if they also have it for Java/Scala...

---

**Nick Zhao** (2025-03-11 17:49):
Hi team, our customer Swire coca-cola China who are interesting with SOB by its full stack observability.  But they have a concern about the performance and stability from SOB server and agent side once they deployed it,  even will it impact the workload on clusters when its agent crashed?  2nd Q:  Do we have api to do the develop for integration or invoking?

---

**Dinesh Chandra** (2025-03-12 00:33):
Hi Team, customer wants to use externalSecret for SUSE Observability License and deploying with ArgoCD. It fails during templating any suggestions please.
If licence key is defined locally then all works fine

---

**Ravan Naidoo** (2025-03-12 00:48):
Your screenshot are not of very good resolution to read everything a 100%.  One thing that I’ve seen in the past with ArgoCD, is the nesting level and their concept of  application in application.  You may need an extra nesting level.

---

**Dinesh Chandra** (2025-03-12 00:50):
Thanks @Ravan Naidoo any specific details on how to use external secret for license ?

---

**Ravan Naidoo** (2025-03-12 01:03):
I think you should be looking more in the ArgoCD side of things to solve this issue.  See stuff like https://codefresh.io/learn/argo-cd/argocd-secrets/

---

**Dinesh Chandra** (2025-03-12 01:11):
Would be helpful if there is any reference/pointer even for normal helm deployment (suse observability)  using externalsecret instead of defining license key as value
```license:
    fromExternalSecret: null```

---

**Ravan Naidoo** (2025-03-12 01:25):
I don’t get what you asking for normal helm?  The license key is part of the values.yaml that you supply.  The license value is put into a secret when deployment takes place.  How you manage your values.yaml has nothing to do with the helm chart.

https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#installation

---

**Dinesh Chandra** (2025-03-12 01:40):
What customer wants is not to put License key in Value file. Instead use externalSecret and get key from there and then create secret. Looking at HELM values stackstate supports this but gives error during templating

Stackstate value.yaml already has `fromExternalSecret` option but not sure how can this be used.
With HELM we should have some ways to use  `fromExternalSecret`?
```stackstate:
  license:
    # stackstate.license.fromExternalSecret -- Use an external secret for the license key. This suppresses secret creation by StackState and gets the data from the secret with the provided name.
    fromExternalSecret:
    # stackstate.license.key -- (string) **PROVIDE YOUR LICENSE KEY HERE** The StackState license key needed to start the server.
    key:```

---

**Remco Beckers** (2025-03-12 08:03):
External secrets are documented here: https://docs.stackstate.com/self-hosted-setup/security/external-secrets

---

**Dinesh Chandra** (2025-03-12 08:09):
Thank you, I will test with vault and update customer

---

**andy.wu** (2025-03-12 08:19):
Hi Team
I created a jira ticket to track this issue.
https://jira.suse.com/browse/SOBS-2

---

**andy.wu** (2025-03-12 08:37):
I've created a ticket here, too.
https://stackstate.atlassian.net/browse/STAC-22488?atlOrigin=eyJpIjoiMmQ3OWI0ODNlYTg4NDg1NGIxNWU3MzBhZDJlMzQwN2IiLCJwIjoiaiJ9

---

**José Guilherme Vanz** (2025-03-12 19:23):
When a stackpack install an external monitor, is it necessary to create something else beyond applying the template with the external monitor?

---

**José Guilherme Vanz** (2025-03-12 19:24):
I have this stackpack (https://github.com/jvanz/audit-scanner/blob/suseobs-monitor/kubewarden-stackpack/provisioning/KubewardenProvision.groovy) used to install (https://github.com/jvanz/audit-scanner/blob/suseobs-monitor/kubewarden-stackpack/provisioning/templates/kubewarden.stj) an external monitor and metrics bindings. But my custom health checks show in the UI only after I send a manual json adding a fake check state. Should I create something in the provisioning of the stackpack to make the external monitor to work right after the stackpack installation?

NOTE: the groovy code came from the tutorial stackpack. I still want to clean some not used variables in the template rendering.

---

**José Guilherme Vanz** (2025-03-12 19:42):
Should I create a DataSource to be used in the external monitor? If so, why don't I need to do that when creating the external monitor outside the stackpack?

---

**andy.wu** (2025-03-13 01:58):
Hi Team
I would like to ask if the email feature of Observability can be configured with templates? It ensures that the content of the email sent is sent in a customized format.

---

**Dinesh Chandra** (2025-03-13 06:46):
Hi Team, my customer is deploying suse-observability and suse-observability-agent with agocd. Managed to get it working but there few points customer is looking to clarify
• Customer query 
    ◦ Some more details from my end
• do we need to configure `stackstate.authentication.adminPassword` - from the chart, it looks like this will get auto-created for you if you don’t specify it. My preference would be not to specify it and let Stackstate create it. 
    ◦ Noticed if deploying with ArgoCD, it doesnt create adminPassword itself and manually needs to be defined. Auto creation only works if Helm template is used. 
• for the agent, do we need to specify `stackstate.apiKey` . Why isn’t it using the `apiKey` from the secret. My preference is to only use the value from the secret
    ◦ For Agent deployment customer used `externalSecret/customSecret` and it deployed successfully, but it still needs `apiKey` value even though it doenst need to be correct value, it  still looks for apiKey and some value.  Attached screenshot for Agent values
• does the `suse-observability-api-key` have to contain the keys `sts-api-key` and `sts-cluster-auth-token` exactly
    ◦ Related to above, also needed `sts-cluster-auth-token` which was same as `sts-api-key` 
• do we still need to manually add the stackpack, considering we are deploying the `suse-observability-agent` helm chart with all the necessary values (the same as what we’d configure if using the UI)
    ◦ Also customer doesnt want to login to Observability and create Instances, instead wants agent automatically connect to server once agent is deployed. Is this possible? 
Thanks in advance

---

**Bram Schuur** (2025-03-13 08:53):
Dear Jose,

The external monitor will not produce data by itself, but only help interpret data which is sent through the health synchronization from an external system (https://docs.stackstate.com/health/health-synchronization#overview). So it is expected that you only see the health after sending in the health information.

So in the typical case there should be an external 'agent'/'middleware' pushing the health states into the platform.

If this does make sense/not make sense to you feel free to describe the use-case you are trying to implement, this will help us guide you on how to get that into the platform.

Cheers,

Bram

---

**Benoît Loriot** (2025-03-13 11:45):
Hi, a customer has configured the Open Telemetry Collector to send traces to SUSE Observability.
SUSE Observability is accessed via the endpoint: `vs-avi-kubernetes-runai-stg.xmp.net.intra`

The doc (https://docs.stackstate.com/open-telemetry/collector#configure-the-collector) states that we should configure:
`&lt;otlp-stackstate-endpoint&gt;` with the OTLP endpoint of your SUSE Observability. If, for example, you access SUSE Observability on `play.stackstate.com (http://play.stackstate.com)` the OTLP endpoint is `otlp-play.stackstate.com (http://otlp-play.stackstate.com)` for GRPC and `otlp-http-play.stackstate.com (http://otlp-http-play.stackstate.com)` for HTTP traffic.

The issue the customer has is they cannot configure a vip on `*oltp-*vs-avi-kubernetes-runai-stg.xmp.net.intra`, only thing allowed would be to define an endpoint such as `vs-avi-kubernetes-runai-stg*-oltp*.xmp.net.intra`.
Are these prefixes hardcoded? Can we change the prefixes `otlp-` and `otlp-http-` on the SUSE Observability side/deployment so that it is constructed differently, for example `play-otlp.stackstate.com (http://play-otlp.stackstate.com)` and not `otlp-play.stackstate.com (http://otlp-play.stackstate.com)`?
Thanks

---

**Alejandro Acevedo Osorio** (2025-03-13 11:48):
You can configure it on the ingress https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-fo[…]e-observability-helm-chart (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-rule-for-open-telemetry-traces-via-the-suse-observability-helm-chart)

---

**Benoît Loriot** (2025-03-13 11:53):
Thanks, I'll notify the customer they have to create the 2 vip and configure the Ingress.

---

**José Guilherme Vanz** (2025-03-13 12:22):
Yes, I'm aware that the health data should come from another application. I've already have it. That's the issue. The app is sending the data ( I can share the payload, if you want to take a look). But the data is not show in the UI. The app data is show *only* *after* I send health check manually using a testing payload

---

**José Guilherme Vanz** (2025-03-13 12:23):
Give me a moment, I will give you more context...

---

**José Guilherme Vanz** (2025-03-13 12:29):
I doing the Kubewarden project integration with SUSE Obs. The integration focuses on two key aspects:
1. *Kubewarden metrics/traces visualization* within the SUSE Observability UI.
2. *External monitor integration* to display audit scanner results.
I've already create and installed the metrics bindings and external monitor individually. And they are working. Now, I want to create a stackpack to install everything at once. But the external monitor, when installed by the stackpack, is not showing the data sent by Kubewarden. The Kubewarden app that sent the data, does not received any error. It seems to be working fine. But the data is not show. However, when I send a manual health check (using curl) to the API using the same health stream used by the Kubewarden app, the healtch check is show in the UI (the one send by my manual request and the health checks sent by the Kubewarden app).

---

**José Guilherme Vanz** (2025-03-13 12:29):
For example, this is a payload sent by the Kubewarden app:
```{
  "apiKey": "3fcZ0vXhzVBPfq04ALWlGjIQyr8W6Cxg",
  "collection_timestamp": 1741865222,
  "internalHostname": "stackstate.hpc9u27",
  "metrics": [],
  "service_checks": [],
  "health": [
    {
      "consistency_model": "REPEAT_STATES",
      "expire": {
        "repeat_interval_s": "60",
        "expiry_interval_s": "100"
      },
      "stream": {
        "urn": "urn:health:kubewarden:audit_scanner"
      },
      "check_states": [
        {
          "checkStateId": "clusterwide-no-privilege-escalation-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-no-privilege-escalation",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-no-privilege-escalation"
        },
        {
          "checkStateId": "clusterwide-drop-capabilities-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-drop-capabilities",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-drop-capabilities"
        },
        {
          "checkStateId": "clusterwide-no-host-namespace-sharing-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-no-host-namespace-sharing",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-no-host-namespace-sharing"
        },
        {
          "checkStateId": "clusterwide-do-not-run-as-root-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-do-not-run-as-root",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-do-not-run-as-root"
        },
        {
          "checkStateId": "clusterwide-no-privileged-pod-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-no-privileged-pod",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-no-privileged-pod"
        },
        {
          "checkStateId": "clusterwide-do-not-share-host-paths-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-do-not-share-host-paths",
          "message": "",
          "health": "Clear",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-do-not-share-host-paths"
        },
        {
          "checkStateId": "clusterwide-safe-labels-suse-observability-pod-suse-observability-agent-checks-agent-5d5854ff98-wf6w9-clusterwide-safe-labels",
          "message": "The following mandatory labels are missing: cost-center",
          "health": "Deviating",
          "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:suse-observability:pod/suse-observability-agent-checks-agent-5d5854ff98-wf6w9",
          "name": "clusterwide-safe-labels"
        }
      ]
    }
  ],
  "topoligies": []
}```

---

**José Guilherme Vanz** (2025-03-13 12:30):
This is the payload that I use in my manual test:
```{
   "apiKey":"00OfwhADvPAzbe7r2sgPCRZSQGg6pEGT",
   "collection_timestamp":1741182237,
   "internalHostname":"stackstate.hpc9u27",
   "events":{},
   "metrics":[],
   "service_checks":[],
   "health":[
      {
        "consistency_model": "REPEAT_STATES",
        "expiry": {
          "repeat_interval_s": 50,
          "expiry_interval_s": 300
        },
        "stream": {
          "urn": "urn:health:kubewarden:audit_scanner"
        },
        "check_states": [
          {
            "checkStateId": "checkStateId2",
            "message": "Provisioning failed.",
            "health": "critical",
            "topologyElementIdentifier": "urn:kubernetes:/kubewarden1:node/k3d-kubewarden1-server-0",
            "name": "Health monitor"
          }
        ]
      }
   ],
   "topologies":[]
}```

---

**José Guilherme Vanz** (2025-03-13 12:31):
If you want to understand everything that I did so far, you can read this comment (https://github.com/rancher/kubewarden/issues/4#issuecomment-2717686092)

---

**José Guilherme Vanz** (2025-03-13 12:32):
Now, I'm wondering, when an external monitor is installed by a stackpack (https://github.com/jvanz/audit-scanner/blob/suseobs-monitor/kubewarden-stackpack/provisioning/templates/kubewarden.stj). Should I create something else beyond the external monitor itself?

---

**José Guilherme Vanz** (2025-03-13 12:36):
If I export the settings from my instance, I can see the external monitor definition there.

---

**José Guilherme Vanz** (2025-03-13 12:37):
For example, the payload that I've shared just happens. And this is the current state of the resource:

---

**Remco Beckers** (2025-03-13 13:21):
Those bucket names are only placeholders, you need to create the buckets yourself in S3 and they will need to have a globally unique name

---

**Remco Beckers** (2025-03-13 13:22):
But that unique name is enforced by AWS when you create the bucket

---

**Remco Beckers** (2025-03-13 13:30):
• The `helm template` command is a separate command that generates values files only. The `helm upgrade --install suse-observability/suse-observability` command is the installation command and that expects the `adminPassword` to be defined in one of the values files (or on the command line). It won't be generated by the `suse-observability` helm chart installation. ArgoCD will only execute the second helm `helm upgrade --install` command (actually it works slightly different, but the effect is the same), so the adminPassword is required
• The apiKey being required even with external secrets is a bug that is being fixed already: https://stackstate.atlassian.net/browse/STAC-22402
• Yes I think both are needed, usually you would use different values for both. The `sts-cluster-auth-token`  is only used inside the cluster for communication between agents, the `sts-api-key` is used to communicate with SUSE Observability
• The agent will connect automatically to the server, but the data will remain unprocessed and there will be no monitors, or overviews. To get the data processed SUSE Observability needs to know the cluster name. So at the moment this is not possible.

---

**Remco Beckers** (2025-03-13 13:31):
@Mark Bakker Do you track feature requests somewhere? The last bullet here is a feature request I have been expecting for a while now

---

**Remco Beckers** (2025-03-13 13:35):
That's not possible, there is only the fixed email format that's provided.

---

**Remco Beckers** (2025-03-13 13:35):
@Mark Bakker FYI, also a feature request

---

**kunhong.choi** (2025-03-13 13:51):
Thanks a lot. Let me convey your message at my meeting with the customer next Monday. Let me get back with any feedback.

---

**Remco Beckers** (2025-03-13 16:13):
We indeed rely on an older version of Minio because they removed the gateway functionality completely

---

**Remco Beckers** (2025-03-13 16:20):
But the error you get is unrelated to that. The `301 Moved Permanently` happens when you access an S3 bucket via another region endpoint than where it is created. I'm not sure why this would happen exactly, maybe because you're running this setup in one region and created the bucket in another?

---

**Remco Beckers** (2025-03-13 16:25):
The error should contain information on which s3 endpoint should be used for that, but it looks like Minio doesn't log that. Can you check in which region you created the bucket? Then you can use this page (https://docs.aws.amazon.com/general/latest/gr/s3.html) to determine what the service endpoint should be and add that to the `s3gateway` section of the `values.yaml` :
minio:
```s3gateway:
    enabled: true
    accessKey: 
    secretKey: 
    serviceEndpoint: &lt;service-endpoint-for-your-region&gt;```

---

**Remco Beckers** (2025-03-13 16:26):
Oh and you should change your aws access/secret key now I'm afraid since it is in your slack message

---

**Remco Beckers** (2025-03-13 16:27):
@Vladimir Iliakov @Fedor Zhdanov Maybe you know when it would be needed to explicitly set the `serviceEndpoint` ? I don't think we do that for our deployments.

---

**Vladimir Iliakov** (2025-03-13 17:00):
No, we don't

---

**Vladimir Iliakov** (2025-03-13 17:00):
@Amol Kharche
Please add this to the IAM policy and try again...
```        {
            "Action": "s3:ListAllMyBuckets",
            "Effect": "Allow",
            "Resource": "*",
            "Sid": "ListAllMyBuckets"
        },```

---

**Remco Beckers** (2025-03-13 17:01):
Next time I'll leave these questions to you :see_no_evil:

---

**Vladimir Iliakov** (2025-03-13 17:10):
Yeah, it is something where we can still beat AI :smile:

---

**Mark Bakker** (2025-03-13 18:00):
@Remco Beckers yes please at them at the bottom of https://docs.google.com/spreadsheets/d/1muCkZ5e6etOwiQJD24zyHHkwNiqxDVg2Iao3h166Mys/edit?gid=0#gid=0 and include the name of the customer asking

---

**Dinesh Chandra** (2025-03-13 20:26):
Thanks @Remco Beckers and @Mark Bakker Here is customer details
Account - *Jemena Ltd*
Account Number - A116609

Customer has also raised an issue
https://github.com/StackVista/helm-charts/issues/27

---

**andy.wu** (2025-03-14 04:17):
Hi Team
Is there anyone who can take a look at this case?
https://jira.suse.com/browse/SOBS-2

https://stackstate.atlassian.net/browse/STAC-22488

---

**Dinesh Chandra** (2025-03-14 04:59):
Is there a any plan/roadmap to have Agent auto installed option for local cluster where SUSE-observability is deployed?

---

**Remco Beckers** (2025-03-14 08:13):
:sweat_smile:

---

**Amol Kharche** (2025-03-14 09:37):
For point 4: Can we use `sts`cli that can be integrated into your GitOps workflow?

`sts --url YOUR_SO_URL --api-token YOUR_SO_TOKEN stackpack install -n kubernetes-v2 -p kubernetes_cluster_name=YOUR_CLUSTER_NAME`

---

**Remco Beckers** (2025-03-14 09:38):
Yes that's indeed possible

---

**Remco Beckers** (2025-03-14 09:38):
We know some customers are doing that

---

**Amol Kharche** (2025-03-14 09:41):
Thanks @Remco Beckers @Vladimir Iliakov , I'm currently on leave, I'll try to implement the solution on Monday once I'm back.

---

**Remco Beckers** (2025-03-14 09:42):
@andy.wu Is this a request from a customer? If so can you share the customer name so we can track this as a feature request.

---

**Remco Beckers** (2025-03-14 09:42):
Have a nice day :smile:

---

**andy.wu** (2025-03-14 10:22):
Yes, the customer asked if this feature was available.
the customer name is BMW Brilliance Automotive Ltd

---

**Bram Schuur** (2025-03-17 09:09):
Dear Dinesh, there is no such item on our roadmap.

---

**Bram Schuur** (2025-03-17 09:18):
@Amol Kharche @Yash Tripathi could you guys work with @andy.wu here to figure out what is going on here? Whether this is a misconfiguration or a bug? And if this is a bug, how to reproduce?

---

**Amol Kharche** (2025-03-17 09:25):
@Bram Schuur we had a call with the customer on March 13th where we attempted to set up the email notification channel. Unfortunately, it wasn't working. We tried various settings, including configuring "`mail.smtp.auth"` and "`mail.smtp.starttls.enable`" but nothing seemed to work.

---

**Dinesh Chandra** (2025-03-17 11:16):
ok thanks @Bram Schuur

---

**Saurabh Sadhale** (2025-03-17 12:57):
<#C079ANFDS2C|> could “Show logs” button being hidden or removed be added in the documentation or in the release notes ?

---

**James Mason** (2025-03-18 17:20):
Is there a published lifecycle for the the agent? (e.g. when a version is no longer supported?)

---

**Louis Parkin** (2025-03-18 17:59):
Hi @James Mason, not really, no.  We strived in the past to keep agents and platform releases backwards-compatible with each other, and then between StackState 5 and StackState 6 (StackState K8s) there was a feature parity break, so any agent prefixed with stackstate-k8s is inherently not compatible with StackState 5 (which was compatible with agent versions 2.17.x up to 3.x.x)

From stackstate 6 / StackState K8s, we no longer made fixed releases of the agent itself, but of the helm-chart only.  The agent is promoted from the master branch.

---

**James Mason** (2025-03-18 18:48):
Thanks, @Louis Parkin... I ask because the AWS EKS Add-on will only get updates when we (the Public Cloud Team) push an update, which we plan to do quarterly. The EKS Add-on has to have the helm chart &amp; containers in AWS' registry - cannot pull from :latest upstream. So, if there's some breaking change, we need to know about it, so we can do an unscheduled update.

---

**Louis Parkin** (2025-03-18 18:52):
That's fair.  I think for the time being quarterly should be okay, unless we also produce new functionality that we need to roll out sooner, you know, it doesn't all have to be bad  :wink:

---

**Louis Parkin** (2025-03-18 18:53):
We can perhaps also sync with @Bram Schuur about perhaps hooking you guys into the agent promotion workflow somehow.

---

**James Mason** (2025-03-18 18:54):
That would be awesome.

---

**Alejandro Bonilla** (2025-03-18 21:54):
Worth keeping an eye or browsing for creativity... @Ravan Naidoo @Mark Bakker
https://docs.arize.com/phoenix

---

**Alejandro Bonilla** (2025-03-18 21:55):
https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/langchain_tracing_tutorial.ipynb

---

**Dinesh Chandra** (2025-03-19 07:31):
Customer is deploying SUSE-Observability but `suse-observability-api-key` secret is not getting created. Any pointers to troubleshoot? Thanks
```---
# Source: suse-observability-values/templates/baseConfig_values.yaml
global:
  imageRegistry: "registry.rancher.com"

stackstate:
  baseUrl: "http://suse-observability-router.suse-observability"
  authentication:
    adminPassword: "$2a$10$tRg2Wc1rxGOiLbiyr.QIju6wurxYsgUJ2uO3qh3A7rckv0L3c9hOW"
  apiKey:
    key: "If0POQM6CN1LHfFhZ2r4ShL2uBA4XOiO"
  license:
    key: "DC6KQ-DPRLA-D4JNA"
---
# Source: suse-observability-values/templates/baseConfig_values.yaml
# Your SUSE Observability admin password is: 2uBqDzIrPGwsPPJg```

---

**Amol Kharche** (2025-03-19 07:50):
Hello Dinesh, Which chart version customer using ? any values.yaml file passed ?
```helm status suse-observability -n suse-observability
helm list -n suse-observability```

---

**Amol Kharche** (2025-03-19 08:41):
The error in agent logs are expected as `401 Unauthorized`  due to authentication issues.
@Remco Beckers @Bram Schuur I haven't seen this before — the `suse-observability-api-key` isn't being created after deploying SUSE-Observability. Has anyone else noticed this?

---

**Dinesh Chandra** (2025-03-19 08:55):
User related issue, in registry values yaml had some values related to api which was causing this. All good now. Thanks

---

**Louis Parkin** (2025-03-19 10:28):
cc @Bram Schuur

---

**Amol Kharche** (2025-03-19 11:05):
Hi Team, Is this expected when we used kubernetes storage option?
```cat backup.yaml
backup:
  enabled: true
  stackGraph:
    bucketName: aws-stackgraph-bucket-sob-2025-09-13
  elasticsearch:
    bucketName: aws-elasticsearch-backup
  configuration:
    bucketName: aws-configuration-backup
victoria-metrics-0:
  backup:
    bucketName: aws-victoria-metrics-backup
victoria-metrics-1:
  backup:
    bucketName: aws-victoria-metrics-backup
clickhouse:
  backup:
    enabled: true
    bucketName: aws-clickhouse-backup
minio:
  accessKey: ********************
  secretKey: ****************************************
  persistence:
    enabled: true

# kubectl exec -it suse-observability-minio-6894bc7c59-dgjv6 -- sh
sh-4.4$ cd /export
sh-4.4$ pwd
/export
sh-4.4$ ls -ltr
total 32
drwxrws---  2 root 1000 16384 Mar 18 08:41 lost+found
drwxr-sr-x  2 1000 1000  4096 Mar 18 08:41 aws-stackgraph-bucket-sob-2025-09-13
drwxr-sr-x  3 1000 1000  4096 Mar 19 03:00 aws-elasticsearch-backup
drwxr-sr-x  2 1000 1000  4096 Mar 19 04:01 aws-configuration-backup
drwxr-sr-x 26 1000 1000  4096 Mar 19 09:45 aws-clickhouse-backup
sh-4.4$ pwd
/export
sh-4.4$```

---

**Remco Beckers** (2025-03-19 11:25):
Yeah, then it will use a PVC attached to the minio pod to store the data

---

**Amol Kharche** (2025-03-19 11:39):
I saw `aws-victoria-metrics-backup` bucket not created earlier because under victoria-metrics-0 and victoria-metrics-1 `backup.enable.true`  not set. I will raise PR to correct it.
```victoria-metrics-0:
  backup:
    enabled: true
    bucketName: aws-victoria-metrics-backup
victoria-metrics-1:
  backup:
    enabled: true
    bucketName: aws-victoria-metrics-backup

# kubectl logs suse-observability-backup-init-19t102748-5zhqj
Defaulted container "configure" out of: configure, wait (init)
=== Testing for existence of MinIO bucket "aws-stackgraph-bucket-sob-2025-09-13"...
=== Testing for existence of MinIO bucket "aws-configuration-backup"...
=== Testing for existence of MinIO bucket "aws-victoria-metrics-backup"...
mc: &lt;ERROR&gt; Unable to list folder. The specified bucket does not exist
=== Creating MinIO bucket "aws-victoria-metrics-backup"...
Bucket created successfully `minio/aws-victoria-metrics-backup`.```
I can see the bucket now.
```bash-4.4$ cd export/
bash-4.4$ ls -ltr
total 36
drwxrws---  2 root 1000 16384 Mar 18 08:41 lost+found
drwxr-sr-x  2 1000 1000  4096 Mar 18 08:41 aws-stackgraph-bucket-sob-2025-09-13
drwxr-sr-x  3 1000 1000  4096 Mar 19 03:00 aws-elasticsearch-backup
drwxr-sr-x  2 1000 1000  4096 Mar 19 04:01 aws-configuration-backup
drwxr-sr-x 26 1000 1000  4096 Mar 19 09:45 aws-clickhouse-backup
drwxr-sr-x  2 1000 1000  4096 Mar 19 10:30 aws-victoria-metrics-backup
bash-4.4$```

---

**Mohamed Elnemr** (2025-03-19 11:43):
if that’s rabobank then it’s a bug. I am not sure if it was fixed at some point

---

**Remco Beckers** (2025-03-19 11:52):
I think our documentation indeed says you need to enable those explicitly. So if you change the helm chart you also need to check that the docs are still correct

---

**Marc Rua Herrera** (2025-03-19 11:59):
This is in Merck. I am aware of the bug at Rabo, but I am not sure if it id the same or not. I believe it is not

---

**Amol Kharche** (2025-03-19 13:04):
Not sure if it related to https://stackstate.atlassian.net/browse/STAC-22443. cc: @Remco Beckers

---

**Remco Beckers** (2025-03-19 13:06):
If you're not seeing any logs it is not related to STAC-22443.

---

**Dinesh Chandra** (2025-03-20 02:07):
Is there any document for different components and functions? More specifically which has what PV has what data and purpose?
My customer wants to put small notes/description on each PV.  Below is related to 5.1 but doesnt have PV specific info. Not sure if this is still applicable?
https://docs.stackstate.com/5.1/use/concepts/stackstate_architecture

---

**Amol Kharche** (2025-03-20 05:32):
This link can explain components and its function.
Overview-of-subsystems (https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/advanced-troubleshooting#overview-of-subsystems) .

---

**Dinesh Chandra** (2025-03-20 06:23):
Thanks @Amol Kharche

---

**Warner Chen** (2025-03-20 08:53):
Hi Team, Does SOB have a built-in watchdog mechanism to monitor whether the alerting system itself is functioning properly?

---

**Louis Lotter** (2025-03-20 08:56):
We do have some self monitoring capabilities yes. @Remco Beckers or @Lukasz Marchewka can you guys expand on that for Warner ?

---

**Remco Beckers** (2025-03-20 09:12):
Yes, but that's not really a watchdog. What we have is, as part of the SUSE Observability stackpack, a form of self-monitoring where if a pod goes down or some processing becomes very slow a monitor triggers. But if it is the monitor/notification system itself that is in trouble chances are the alert will not reach you timely.

We don't have real watchdog behavior, to have that we would need a monitor that will periodically trigger an alert that can then be used in the notification system to trigger, for example, the DeadManSwitch in PagerDuty or the HeartBeats in Opsgenie.

Is that the thing you're looking for?

---

**Warner Chen** (2025-03-20 09:45):
Yes, I am also looking for available metrics to create watchdog alert rules for self-monitoring.

---

**Remco Beckers** (2025-03-20 09:54):
You mean simply a metric that is always present or a metric that reflects the health of the monitors / notifications?

---

**Remco Beckers** (2025-03-20 09:58):
Either way you could use the metrics that are used to track running of monitors, they are produced internally (directly from the monitor system to the metric store). For example:
```changes(stackstate_monitor_latency_seconds_count{stackstate_app="true"}[5m])```

---

**Warner Chen** (2025-03-20 10:12):
Yes both are fine. I’m looking for a metric similar to `vector(1)`.:joy:

---

**Remco Beckers** (2025-03-20 10:14):
Haha, you can then simply run that query. That's even easier, it's just promql: `1` will give you a consistent value of 1

---

**Warner Chen** (2025-03-20 10:25):
yes i will do a test. thx so much Louis and Remco!

---

**Bram Schuur** (2025-03-20 10:53):
Is there anything In the receiver logs @Marc Rua Herrera?

---

**Marc Rua Herrera** (2025-03-20 11:32):
That's something I have not checked. I don't have access by myself to their env tho. I will check with them later.

---

**Bram Schuur** (2025-03-20 13:24):
Nothing relevant there. Is there anything in the middle between agent/platform that might bounce the request? Like a proxy/gateway or somesuch?

---

**Remco Beckers** (2025-03-20 13:27):
Don't logs go through the `receiver-logs` pod?

---

**Bram Schuur** (2025-03-20 13:28):
good catch, could you get the logs for that pod @Marc Rua Herrera?

---

**Marc Rua Herrera** (2025-03-20 13:29):
Nothing in there:

---

**Marc Rua Herrera** (2025-03-20 13:31):
There is nothing in between the agent and StS. Also, metrics, topology are arriving to StackState. Only thing we miss are the logs

---

**Rajesh Kumar** (2025-03-20 14:24):
Hi Team, While installing the observability-agent through Rancher, we have found inconsistencies in the way the values file is rendered.

1 - Configuring the private registry url updates the image.registry (https://github.com/StackVista/helm-charts/blob/master/stable/suse-observability-agent/values.yaml#L81), but imageRegistry (https://github.com/StackVista/helm-charts/blob/master/stable/suse-observability-agent/values.yaml#L7) stays same registry.rancher.com (http://registry.rancher.com) and images are pulled through registry.rancher.com (http://registry.rancher.com).
2 -  Adding username in the UI adds username under imagePullCredentials.username instead of imagePullCredentials.&lt;registryname&gt;.username as shown (https://github.com/StackVista/helm-charts/blob/master/stable/suse-observability-agent/templates/pull-secret.yaml#L5) here.
3 - There is no option to disable SSL check on the UI.

---

**Bram Schuur** (2025-03-20 15:14):
@Marc Rua Herrera i double checked and the receiver should log all 4xx errors, which makes me think we are not reaching the receiver but the 4xx is coming from something inbetween.  Could you check the router pod? What URL was the agent configured with? Does the the 'scheme' part of the url (http/https) match the encryption of the instance?

---

**Warner Chen** (2025-03-20 15:39):
The *Add new metric threshold monitor* requires setting an identifier, but `vector(1)` does not have any available labels. It seems not feasible.:thinking_face:

---

**Remco Beckers** (2025-03-20 15:49):
You don't need to have any labels, you can also use a fixed identifier. The identifier maps the monitor state to a component so you could simply pick a component where you'd want to map that health state onto and use its exact identifier.
The side-effect is that that component is always in a critical  or deviating state

---

**Rajesh Kumar** (2025-03-21 06:57):
@Mark Bakker, I need your help understanding it. I am not sure if it should go into Rancher or Observability

---

**Mark Bakker** (2025-03-21 08:42):
@Bram Schuur can you have a look with your team?

---

**Saurabh Sadhale** (2025-03-21 08:47):
Hello we are attempting to install StackState on an ARO ( Azure Red Hat OpenShift ) cluster. The click house pod fails to come up because of the following error:

We have attempted to provide scc but still it fails.

---

**Louis Lotter** (2025-03-21 08:53):
<!here> We have noticed quite a few people using the SOB acronym for Suse Observability. As there are some obviously negative connotations to SOB we would really prefer this does not become a standard way to refer to our team and product.
Could we plead of everyone to use Suse Obs or come up with another more suitable acronym :pleading_face:.
Pretty please.

---

**Paul Gonin** (2025-03-21 08:55):
Actually “Acronyms are not allowed per new brand guidelines”

---

**Manuel Recena** (2025-03-21 08:56):
This is why I write every time SUSE Application Collection instead of AppCo :laughing:

---

**Bram Schuur** (2025-03-21 08:58):
I added the following ticket and scheduled it for next sprint: https://stackstate.atlassian.net/browse/STAC-22549

---

**Paul Gonin** (2025-03-21 08:58):
correction... I did not find "Not allowed"...  it is in Ground Rules "Acronyms are bad"

---

**Louis Lotter** (2025-03-21 08:59):
Yeah. I think for a long time Suse Observability is just more clear to everyone anyways.

---

**Javier Lagos** (2025-03-21 08:59):
Hey @Saurabh Sadhale,this looks like a problem related with the SCC default configured by Openshift in all the pods automatically and probably Clickhouse pod requires more permissions. Try executing this command and let me know if it helps.

oc adm policy add-scc-to-user anyuid system:serviceaccount:suse-observability:<serviceaccount-of-clickhouse-pod>

I don't know if there is a possibility to modify this pod to not require this extra permissions.

---

**Paul Gonin** (2025-03-21 08:59):
~Suse~ SUSE though :wink:

---

**Louis Lotter** (2025-03-21 09:00):
:slightly_smiling_face:

---

**Yingluo Zhang** (2025-03-21 09:02):
SUSE O11y :grin:

---

**Yingluo Zhang** (2025-03-21 09:02):
just like k8s

---

**Remco Beckers** (2025-03-21 09:07):
Would be nice to be able to not need the full name, but just using "Observability" or "O11y" will be to generic and confusing

---

**Vladimir Iliakov** (2025-03-21 09:07):
For some of the workload we can't adopt the securityContext. @Saurabh Sadhale have you tried this SCC https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/openshift_install#manually-create-secu[…]configuration-objects (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/openshift_install#manually-create-securitycontextconfiguration-objects). We don't regurlarly test it, I can't say if we have tested it with Clickhouse....

---

**Remco Beckers** (2025-03-21 09:08):
Now I wonder if "o11y" also counts as an acronym and is bad...

---

**Marc Rua Herrera** (2025-03-21 09:24):
I need to check again with the customer. I will do in our next session.

---

**Frank van Lankvelt** (2025-03-21 09:25):
I think you know the answer to that.  It's a big improvement over SOB, so I would be happy to use that for internal communications.  Don't think it should ever be used outside of SUSE though

---

**Remco Beckers** (2025-03-21 09:27):
Not for the name no, but I use it all the time for abbreviating the annoyingly long "observability", similar to k8s

---

**Bram Schuur** (2025-03-21 10:01):
Coolio, i will be on holiday next week, so you'll have to pull in someone else to continue this one

---

**Saurabh Sadhale** (2025-03-21 11:12):
@Javier Lagos appreciate your update. I tried that already but that did not work.

@Vladimir Iliakov does that mean we need to create one more SCC for clickchouse ?

I can see that there is an sCC object created while the installation was done.

```oc describe scc suse-observability-suse-observability
Name:						suse-observability-suse-observability
Priority:					&lt;none&gt;
Access:						
  Users:					&lt;none&gt;
  Groups:					system:serviceaccounts:suse-observability
Settings:					
  Allow Privileged:				false
  Allow Privilege Escalation:			true
  Default Add Capabilities:			&lt;none&gt;
  Required Drop Capabilities:			&lt;none&gt;
  Allowed Capabilities:				&lt;none&gt;
  Allowed Seccomp Profiles:			&lt;none&gt;
  Allowed Volume Types:				configMap,downwardAPI,emptyDir,ephemeral,persistentVolumeClaim,projected,secret
  Allowed Flexvolumes:				&lt;all&gt;
  Allowed Unsafe Sysctls:			&lt;none&gt;
  Forbidden Sysctls:				&lt;none&gt;
  Allow Host Network:				false
  Allow Host Ports:				false
  Allow Host PID:				false
  Allow Host IPC:				false
  Read Only Root Filesystem:			false
  Run As User Strategy: RunAsAny		
    UID:					&lt;none&gt;
    UID Range Min:				&lt;none&gt;
    UID Range Max:				&lt;none&gt;
  SELinux Context Strategy: MustRunAs		
    User:					&lt;none&gt;
    Role:					&lt;none&gt;
    Type:					&lt;none&gt;
    Level:					&lt;none&gt;
  FSGroup Strategy: RunAsAny			
    Ranges:					&lt;none&gt;
  Supplemental Groups Strategy: RunAsAny	
    Ranges:					&lt;none&gt;```

---

**Vladimir Iliakov** (2025-03-21 11:41):
@Saurabh Sadhale Can we get a full error message in plain-text? Maybe we can adopt Clichouse values...

---

**Vladimir Iliakov** (2025-03-21 11:42):
@Mark Bakker just want to confirm if we still support the platform installation to Openshift?

---

**Saurabh Sadhale** (2025-03-21 11:51):
```create Pod suse-observability-clickhouse-shardO-O in StatefulSet suse-observability-clickhouse-shardO failed error: pods "suse-observability-clickhouse-shardO-O" is forbidden: unable to validate against any security context constraint: [provider "anyuid":
Forbidden: not usable by user or serviceaccount, provider restricted-v2: spec.securityContext.fsGroup: Invalid value: []int64{1001}: 1001 is not an allowed group, provider restricted-v2: .containers[OJ.runAsUser: Invalid value: 1001: must be in the ranges: [1000750000, 1000759999], provider restricted-v2: .containers[l].runAsUser: Invalid value: 1001: must be in the ranges: [1000750000, 1000759999], provider "restricted": Forbidden: not usable by user or serviceaccount, provider "nonroot-v2": Forbidden: not usable by user or serviceaccount, provider "nonroot": Forbidden: not usable by user or serviceaccount, pod.metadata.annotations[seccomp.security.alpha.kubernetes.io/pod (http://seccomp.security.alpha.kubernetes.io/pod)]: Forbidden: seccomp may not be set, pod.metadata.annotations[container.seccomp.security.alpha.kubernetes.io/clickhouse (http://container.seccomp.security.alpha.kubernetes.io/clickhouse)]: Forbidden: seccomp may not be set, pod.metadata.annotations[container.seccomp.security.alpha.kubernetes.io/backup (http://container.seccomp.security.alpha.kubernetes.io/backup)]: Forbidden: seccomp may not be set, provider
"hostmount-anyuid": Forbidden: not usable by user or serviceaccount, provider "machine-api-termination-handler": Forbidden: not usable by user or serviceaccount, provider "hostnetwork-v2": Forbidden: not usable by user or serviceaccount, provider
"hostnetwork": Forbidden: not usable by user or serviceaccount, provider "hostaccess": Forbidden: not usable by user or serviceaccount, provider "node-exporter": Forbidden: not usable by user or serviceaccount, provider "privileged": Forbidden: not usable by user```

---

**Vladimir Iliakov** (2025-03-21 12:20):
I created a ticket to investigate it https://stackstate.atlassian.net/browse/STAC-22556

---

**Saurabh Sadhale** (2025-03-21 12:22):
We have tried this in 10-nonha sizing.

---

**Vladimir Iliakov** (2025-03-21 12:27):
These extra values disable securityContext, which might help with the deployment, but there are no guarantees  anything else won't be broken
```clickhouse:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false```
Maybe @Lukasz Marchewka has some ideas...

---

**Mark Bakker** (2025-03-21 12:59):
@Vladimir Iliakov yes we still support OpenShift

---

**Mark Bakker** (2025-03-21 13:00):
We have customers running on it...

---

**Vladimir Iliakov** (2025-03-21 13:02):
Ok, then we have to investigate it....

---

**Vladimir Iliakov** (2025-03-21 13:29):
Ah, so no easy win.

---

**James Mason** (2025-03-21 15:03):
If only slack had built-in sed expansions like hipchat did.

---

**Marc Rua Herrera** (2025-03-21 15:59):
No problem Bram. Thanks for you help and enjoy your Holidays :cat-wave:

---

**Sheng Yang** (2025-03-21 16:03):
I would accept o11y. Not OBS though since that’s `openSUSE Build Service`

---

**Sam Chen** (2025-03-21 17:05):
Hi there, we are visited some customer (FSI, CSP) and we got some questions.
1. can we export all logs to another logging system(e.g. ELK)? because CSP have regulation for logs must stored for 6 months.
2. do we have data tiering concept for log retrieve? hot data for 1 or 2 week, over 2 week move those to another storage.
3. if customer have some service running on A cluster and need to access B cluster, can we correlation those service relationship ? 
4. can we collect Cisco、Palo Alto、Fortinet firewall logs?
5. if customer already have ELK, can we use customer’s ELK logs data for o11y?

---

**Paul Gonin** (2025-03-21 17:06):
and IT IS Open Broadcaster Software

---

**Aaron Conklin** (2025-03-22 00:18):
howdy folks. I have this memory that the Observability SaaS was not meant to allow private offers, but all 4 listings currently allow that option. Is this intended?

---

**Andy Fitzsimon** (2025-03-24 00:17):
I can't believe we are discussing this again but for the sake of consistency,  I urge everyone to consider context and that we are optimising our naming for new audiences not people ' in the know'

> Will others encounter what was written?   be it a partner, a colleague at a customer or a new colleague at SUSE?If so... 
*DO NOT USE ACRONYMS FOR OUR SOLUTIONS OR PRODUCTS* 

> Is this in a DM, personal journal or other medium that is not part of any system of record? 
_use whatever you want._ 

> Is this in a message or part of content that is used by ANY system of record, be it public slack, customer exchange, salesforce comment, email etc?   
*DO NOT USE ACRONYMS FOR OUR SOLUTIONS OR PRODUCTS* 


For the massive benefits clarity brings to all minds and eyeballs, we can afford the extra bytes of bandwidth.  Please do your part.

---

**Seh Guan Lim** (2025-03-24 08:04):
Hi. We have a customer who encounter issues recently with regards to kube proxy, which has since been fixed by a newer version of k8s.
This issue occurs while a cert rotation has been performed, whereby the kube proxy would not restart automatically and continue to behave erratically by going into pending state intermitently.
While the issue has been resolved, the customer is interested to know whether SUSE Observability would be able to help monitor such issues in case it happens again.
From what I have gathered, this issue is not a generic issue due to the following
1. Kube proxy is a key k8s component and is deployed as a static pod in k8s
2. A Kube proxy issue could potentially be a node wide issue, such that it might also impact the other pods running in the node which includes the StackState agent
Hence for such issues, how could SUSE Observability helps? Is there any monitors "for ep, Pod Ready State" that works right of the box? Is there any write ups or documentations around this?
Many thanks for looking into this.

---

**Remco Beckers** (2025-03-24 08:40):
You can use all of those. The error you shared seems to be caused by using `https` for the URL while the loadbalancer doesn't support TLS. Here is a setup I use with the service name when running the otel collector and SUSE Observability in the same cluster:

```otlp/stackstate:
  auth:
    authenticator: bearertokenauth
  endpoint: http://suse-observability-otel-collector.monitoring.svc.cluster.local:4317
otlphttp/stackstate:
   auth:
      authenticator: bearertokenauth
   endpoint: http://suse-observability-otel-collector.monitoring.svc.cluster.local:4318```
Note that port 4317 us for OTLP and 4318 for OTLP over HTTP.

---

**Remco Beckers** (2025-03-24 08:45):
It is hard to say without knowing more details about "the issue with kube proxy". But SUSE Observability has monitors for generic issues:
• Pod Ready State (takes a pod too long to get to a ready state)
• Container restarts (too many restarts within a limited time period)
• Pods in waiting state (pods too long in a waiting state)
• Desired vs actual replica count (checks for insufficient # pods for replicasets, statefulsets and deployments)

---

**Remco Beckers** (2025-03-24 08:46):
You can see for yourself on a pod: https://play.stackstate.com/#/components/urn:kubernetes:%2Fgke-demo-public.gcp.stacksta[…]81-9176-4e1ede2587ca?detachedFilters=namespace%3Asock-shop (https://play.stackstate.com/#/components/urn:kubernetes:%2Fgke-demo-public.gcp.stackstate.io%2Fpod%2Feae056a0-33a0-4281-9176-4e1ede2587ca?detachedFilters=namespace%3Asock-shop)

Or the complete list of monitors: https://play.stackstate.com/#/monitors

---

**Remco Beckers** (2025-03-24 09:16):
Which of those 2 exporters are you using in the pipelines? I see I am only using OTLP over HTTP.  So I can only confirm that one works.

The OTLP exporter uses GRPC which requires TLS by default. To disable that you need to include `insecure: true`  in its TLS configuration to disable TLS. For all config option see https://github.com/open-telemetry/opentelemetry-collector/blob/main/exporter/otlpexporter/README.md.

Note that in the end you need to only configure one of the two exporters and use that one in all of the pipelines.

---

**Dinesh Chandra** (2025-03-24 09:31):
Oh Let me check this. Thanks again for the details.

---

**Dinesh Chandra** (2025-03-24 11:59):
Thanks @Remco Beckers it works after changing the pipeline using OTLP over HTTP

---

**Remco Beckers** (2025-03-24 12:02):
:thumbs-up:

---

**Louis Lotter** (2025-03-25 10:32):
@Lukasz Marchewka can you help out here ?

---

**Lukasz Marchewka** (2025-03-25 10:50):
in 30 minutes, I have to finish code review

---

**Louis Lotter** (2025-03-25 10:50):
np. just don't want Sam to wait forever

---

**Daniel Barra** (2025-03-25 11:19):
*We are pleased to announce the release of 2.3.1, featuring bug fixes and enhancements. For details, please review the release notes (https://docs.stackstate.com/self-hosted-setup/release-notes/v2.3.1).*

---

**Troy Topnik** (2025-03-25 22:55):
Would we consider Kubeshark a competitor to SUSE Observability? https://www.kubeshark.co/

---

**Troy Topnik** (2025-03-25 22:56):
I ask because their CRO has reached out on LinkedIn. I expect we may see them express interest as a Rancher partner. Let me know if I should politely put the brakes on that.

---

**Andreas Prins** (2025-03-26 06:25):
Yes for sure I would say. They provide a nice map to visualize some metrics we have in our system

---

**Paul Gonin** (2025-03-26 06:58):
I’m not totally familiar with Kubeshark but I identified them as a different type of solution. More like a tool in the cluster admin toolbox that you use and enable during troubleshooting periods.

---

**John Pugh** (2025-03-26 08:17):
Kubeshark only provides network visibility. That's it. No remediation suggestions, no tracing, no logging...just network. If we're about choice...I would embrace it. There is no way it can compete with the extensive capability of observability.

---

**Sam Chen** (2025-03-26 08:50):
Hi Folks, we have a online event with customer at Friday, can we provide a short version for customer questions?

---

**Lukasz Marchewka** (2025-03-26 08:50):
doing it now

---

**Lukasz Marchewka** (2025-03-26 10:14):
1. We store logs in ElasticSearch, there is few options how to expert/sync logs to another ELK cluster. But they can configure retention for logs, more details is here: https://docs.stackstate.com/self-hosted-setup/data-management/data_retention
2. ElasticSearch allows configure hot, warm, cold indices. I'm not sure if we can configure it easily for indices created by us. I think it is possible but I'm not sure.
3. @Remco Beckers do you know if it is possible
4. @Remco Beckers do you know if it is possible
5. It should be possible but it can cause issues. We install all dependencies (databases) instead reuse existing one. But why? Already existing databases may be configure in a way to cause performance issues or limit some functionality. Also version of these components maybe not be compatible. We had such problems in the past.

If you need more details, please ping me.

---

**Remco Beckers** (2025-03-26 10:43):
1. For shipping logs somewhere else I would suggest to customize the log shipper configuration to directly ship to a location that is used for long-term storage
2. We don't support that level of configuration right now
3. We can, but it requires some extra setup to be able to do this: https://docs.stackstate.com/agent/k8sts-agent-request-tracing. Next to this you could also use Open Telemetry traces to get the same result, but that requires instrumenting your applications
4. At the moment our log collection and UI only supports Kubernetes pods. Improving this to support logs from any system (both for collection and in the UI) is on the roadmap however.
5. We don't support that. It was a big cause for problems and support tickets. Moreover it is very likely we'll move away from Elasticsearch when we improve the logs support.

---

**Louis Lotter** (2025-03-26 10:47):
Thanks guys.

---

**Mark Bakker** (2025-03-26 10:47):
@Troy Topnik I would say they do compete a little but indeed only focus on the network visibility.
From our perspective I don't see a big benefit of a partnership. I also don't see them as a thread so it won't hurt us other than that it takes time we can invest in other partners.

---

**Mark Bakker** (2025-03-26 10:48):
@Remco Beckers or @Frank van Lankvelt can you look into this issue?

---

**Louis Lotter** (2025-03-26 10:55):
This key can be used for internal use only -&gt;
```U8ZAU-74W8U-SZ8NA ```
It will expire 1 September 2025. Please do not share with any customers.

---

**Sam Chen** (2025-03-26 11:21):
Thanks you guys, it’s really helpful for me. :+1:

---

**Alejandro Acevedo Osorio** (2025-03-26 11:49):
@Rajesh Kumar We picked up the ticket and made the relevant updates. The changes will be included on the next release

---

**Derek So** (2025-03-26 13:26):
Hi Team,

A customer is asking if they can collect all systemd journal logs to SUSE Observability cluster.  Apparently this is possible by configuring and running another `promtail` pod to achieve this as suggested by this doc (https://docs.stackstate.com/logs/k8sts-log-shipping#running-additional-promtail-pods)?

Any guidance or help on how this can be done is appreciated. Thanks!

---

**Frank van Lankvelt** (2025-03-26 13:28):
@Dinesh Chandra: apparently the collector cannot forward the metrics to vmagent - is there a problem with that, or the backend store victoria metrics?

---

**Frank van Lankvelt** (2025-03-26 13:37):
please refrain from using the SOB acronym.  This was recently discussed here: https://suse.slack.com/archives/C079ANFDS2C/p1742543639813079

---

**Derek So** (2025-03-26 13:45):
Thank you @Frank van Lankvelt for clarifying this with me! I didn’t mean for any negative meaning behind this acronym. Has edited my question and see if there’s any suggestion for this. Appreciate your help.

---

**Frank van Lankvelt** (2025-03-26 13:55):
I think you misread the document.  Logs are expected to be shipped to SUSE Observability by running our agent pod.  The section on additional promtail pods is for dealing with other destinations.  If logs need to be shipped to another destination in addition to SUSE Observability, the customer needs to run an additional promtail - instead of trying to get the one embedded in our agent to do this.

---

**Graham Hares** (2025-03-26 14:32):
I noticed a new menu for GenAI Observability components, if there a doc on what to install to add that please?

---

**Derek So** (2025-03-26 14:33):
Thanks Frank! I was thinking shipping the systemd logs to their own SIEM if SUSE Observability cluster is not an option. To do this, does it meant to configure promtail to ship off systemd journal in another container? Any guidance or example we can take for customer as reference?

---

**Jeroen van Erp** (2025-03-26 14:37):
@Graham Hares I assume you’re looking at the SA instance? This is not generally available

---

**Frank van Lankvelt** (2025-03-26 14:37):
I don't know what SIEM is, or how to best ship logs to it.  For SUSE Observability, just deploy its agent.

---

**Graham Hares** (2025-03-26 14:39):
Yes, thanks @Jeroen van Erp I was trawling around the docs to try to find it :slightly_smiling_face:
Is it generally available internally to try out, test etc?  any version dependancies etc..

---

**Derek So** (2025-03-26 14:47):
The default deployment for SUSE Observability agent can only ship pod level logs to the SUSE observability cluster, not systemd journal logs. Is there any other options to configure the agent to ship systemd logs to the cluster?

---

**Frank van Lankvelt** (2025-03-26 14:54):
@Louis Parkin: can you offer any insights here?

---

**Louis Parkin** (2025-03-26 14:56):
Hey @Frank van Lankvelt, this is more @Bram Schuur’s thing... Am I understanding the question correctly? The goal is to ship logs of the systemd on the node, i.e. not logs from a pod in the cluster, but from the node's filesystem?

---

**Louis Parkin** (2025-03-26 14:57):
If so, we'd have to read up what promtail allows.  Maybe with sufficient config and permissions given to the pod, it could be done, but off the top of my head, I just don't know.

---

**Derek So** (2025-03-26 15:15):
The goal is to ship both node level systemd logs and pod level logs to the suse observability cluster.

---

**Jeroen van Erp** (2025-03-26 15:24):
@Ravan Naidoo Can tell you more about this extension. I think that the AI team is working on making this an official extension

---

**Ravan Naidoo** (2025-03-26 15:27):
The extension in the SA instance is a prototype.  It has been handed over to the AI dev team (Thiago Bertoldi )  for productization.

---

**Mark Bakker** (2025-03-26 15:27):
We have an Epic on our roadmap to support general logs via OpenTelemetry, this is something coming this year, until than we only support pod logs.

---

**Mark Bakker** (2025-03-26 15:27):
node and systemd logs can than be shipped via OpenTelemetry format.

---

**Louis Parkin** (2025-03-26 15:30):
Good to know, thanks Mark!

---

**Lionel Meoni** (2025-03-26 16:13):
Question, we are able to generate subscription on our SCC for demo purpose on observability, but how we translate the subscription in valid license?

---

**Mark Bakker** (2025-03-26 16:34):
Better to ask this in <#C02AYV7UJSD|>

---

**Derek So** (2025-03-26 16:36):
Thank you everyone for prompt response!

---

**Lionel Meoni** (2025-03-26 16:37):
done yes thanks

---

**Derek So** (2025-03-26 16:38):
@Mark Bakker Will this new feature be able to ship node and systemd logs from SLE-Micro  based node provisioned by Elemental Operator?

---

**Mark Bakker** (2025-03-26 16:46):
We aim to make that possible, but that needs to be detailed out. Running a pod with a logshipper in otel-format is our target architecture, but we still need to work out details like SLE-Micro

---

**Garrick Tam** (2025-03-26 18:15):
Hi, anyone know what component takes on the duties of the server pod in an HA deployment?  I'm in a call trying to troubleshooting OIDC authentication and the last deployment results in an internal error message.

---

**Jeroen van Erp** (2025-03-26 18:21):
Api pod I think

---

**Garrick Tam** (2025-03-26 18:25):
yes, found it by age with
```kubectl get pods -n suse-observability -l app.kubernetes.io/name=suse-observability (http://app.kubernetes.io/name=suse-observability)```

---

**IHAC** (2025-03-26 18:36):
@Garrick Tam has a question.

:customer:  Kroger

:facts-2: *Problem (symptom):*  
Working with customer to address OIDC Redirect URI issue but after making some changes to authentication.yaml and redeploy, we are now seeing 500 internal error.

---

**Garrick Tam** (2025-03-26 18:48):
:resolved: found the secret was a mismatch.

---

**Garrick Tam** (2025-03-26 18:50):
BTW, we can only fix the redirect URI error after setting the redirectUri value in authentication.yaml; which the documentation says is optional.  Anyone else can confirm this with OIDC with Microsoft Entra ID?

---

**Dinesh Chandra** (2025-03-26 23:31):
Thanks @Frank van Lankvelt will check those

---

**Remco Beckers** (2025-03-27 07:53):
If you don't specify the `redirectUri` the `redirectUri` is generated by SUSE Observability based on the `baseUrl` that is required. If you have provided the correct `baseUrl` that should normally be fine because the path part that gets added is fixed. So it depends on what the fix for the `redirectUri` was, maybe that fix also needs to be applied to the `baseUrl.`

---

**Amol Kharche** (2025-03-27 08:01):
@Vladimir Iliakov @Remco Beckers I’ve noticed some unusual behavior while configuring the S3 Gateway. I can see that the backup for the configuration and ClickHouse were successfully created under those buckets, but not for the others. Is there something I'm missing in the configuration?
 Here is my backup.yaml file.
```cat aws-backup.yaml
backup:
  enabled: true
  stackGraph:
    bucketName: sts-stackgraph-backup-26-03-2025-08-16
  elasticsearch:
    bucketName: sts-elasticsearch-backup-26-03-2025-08-16
  configuration:
    bucketName: sts-configuration-backup-26-03-2025-08-16
victoria-metrics-0:
  backup:
    enabled: true
    bucketName: sts-victoria-metrics-backup-26-03-2025-08-16
victoria-metrics-1:
  backup:
    enabled: true
    bucketName: sts-victoria-metrics-backup-26-03-2025-08-16
clickhouse:
  backup:
    enabled: true
    bucketName: sts-clickhouse-backup-26-03-2025-08-16
minio:
  accessKey: dummy-access-key
  secretKey: not-so-secret
  s3gateway:
    enabled: true
    accessKey: AKIA********************
    secretKey: ****************************************
    #serviceEndpoint: s3.ap-south-1.amazonaws.com (http://s3.ap-south-1.amazonaws.com)```
Logs from minio pod.
```API: PutObject(bucket=sts-stackgraph-backup-26-03-2025-08-16, object=sts-backup-20250327-0300.graph)
Time: 03:01:00 UTC 03/27/2025
DeploymentID: f07dc017-2304-4543-b066-5d0e6cfe5a2e
RequestID: 183089B341EE7AF7
RemoteHost: 10.244.0.77
Host: suse-observability-minio:9000
UserAgent: aws-sdk-go-v2/1.26.1 os/linux lang/go#1.22.10 md/GOOS#linux md/GOARCH#amd64 api/s3#1.53.1
Error: The bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint. (minio.ErrorResponse)
       4: cmd/api-errors.go:2026:cmd.toAPIErrorCode()
       3: cmd/api-errors.go:2051:cmd.toAPIError()
       2: cmd/object-handlers.go:1660:cmd.objectAPIHandlers.PutObjectHandler()
       1: net/http/server.go:2171:http.HandlerFunc.ServeHTTP()```

---

**Remco Beckers** (2025-03-27 08:05):
The S3 buckets will not necessarily be created automatically. You need to create it yourself first

---

**Remco Beckers** (2025-03-27 08:05):
Oh I see you have them

---

**Remco Beckers** (2025-03-27 08:12):
AFAIK this is the error I previously gave this response to: https://suse.slack.com/archives/C079ANFDS2C/p1741879539401629?thread_ts=1741868018.175169&amp;cid=C079ANFDS2C. But maybe @Vladimir Iliakov can help out again?

---

**Amol Kharche** (2025-03-27 08:15):
I tried that one also (`serviceEndpoint: s3.ap-south-1.amazonaws.com (http://s3.ap-south-1.amazonaws.com)`) but minio pod is going into `CrashLoopBackOff` forever saying
```$ kubectl logs suse-observability-minio-596ddd65c5-f2r4g
ERROR Invalid argument: unable to guess port from scheme```

---

**Remco Beckers** (2025-03-27 08:16):
Did you try including a scheme? I.e. `https://`

---

**Amol Kharche** (2025-03-27 08:16):
No, Let me try

---

**Vladimir Iliakov** (2025-03-27 08:20):
I would first check the logs of the backup container of the Clickhouse pod for the related errors/warnings

---

**Remco Beckers** (2025-03-27 08:21):
Mmm yeah, that should also be failing if all buckets are in the same account/region. All uploads go through Minio so use the exact same config :think_spin:

---

**Vladimir Iliakov** (2025-03-27 08:24):
Sorry, I meant to check the logs of the failed backups:
stackgraph (K8s jobs/pods)
victoriametrics (backup container)
for elasticsearch it is a bit treaky (you have to port-forward port and query snapshot/slm API)

---

**Amol Kharche** (2025-03-27 08:25):
&gt; Did you try including a scheme? I.e. `https://`
Wow, It seems its working after putting `https://` , Backup job completed without errors.
```NAME                                                              READY   STATUS      RESTARTS      AGE
suse-observability-backup-conf-27t071723-v8htr                    0/1     Completed   0             52s
suse-observability-backup-init-27t071723-jk5k7                    0/1     Completed   0             51s

$ kubectl logs suse-observability-backup-init-27t071723-jk5k7
Defaulted container "configure" out of: configure, wait (init)
=== Testing for existence of MinIO bucket "sts-stackgraph-backup-26-03-2025-08-16"...
=== Testing for existence of MinIO bucket "sts-configuration-backup-26-03-2025-08-16"...
=== Testing for existence of MinIO bucket "sts-victoria-metrics-backup-26-03-2025-08-16"...
=== Testing for existence of MinIO bucket "sts-victoria-metrics-backup-26-03-2025-08-16"...
=== Testing for existence of MinIO bucket "sts-clickhouse-backup-26-03-2025-08-16"...
=== Testing for existence of MinIO bucket "sts-elasticsearch-backup-26-03-2025-08-16"...
=== Configuring ElasticSearch snapshot repository "sts-backup" for bucket "sts-elasticsearch-backup-26-03-2025-08-16"...
{
  "acknowledged" : true
}
=== Configuring ElasticSearch snapshot lifecycle management policy "auto-sts-backup" for snapshot repository "sts-backup"...
{
  "acknowledged" : true
}```
No error reported in minio pod logs.
```NAME                                                              READY   STATUS      RESTARTS      AGE
suse-observability-minio-54ff8569cb-qxq99                         1/1     Running     0             100s

$ kubectl logs suse-observability-minio-54ff8569cb-qxq99
Endpoint: http://10.244.0.195:9000  http://127.0.0.1:9000

Browser Access:
   http://10.244.0.195:9000  http://127.0.0.1:9000

Object API (Amazon S3 compatible):
   Go:         https://docs.min.io/docs/golang-client-quickstart-guide
   Java:       https://docs.min.io/docs/java-client-quickstart-guide
   Python:     https://docs.min.io/docs/python-client-quickstart-guide
   JavaScript: https://docs.min.io/docs/javascript-client-quickstart-guide
   .NET:       https://docs.min.io/docs/dotnet-client-quickstart-guide```

---

**Vladimir Iliakov** (2025-03-27 08:27):
This jobs just initialises backup (prepare Minio, ES policy)...

---

**Vladimir Iliakov** (2025-03-27 08:29):
The Clickhouse, Stackgraph, and configuration backups are done by the cronjobs
. So you see nothing in the buckets you have to check the logs of these jobs

---

**Vladimir Iliakov** (2025-03-27 08:30):
For VM you have to check the logs of the sidecar container

---

**Amol Kharche** (2025-03-27 08:30):
```# kubectl get cronjobs.batch
NAME                                               SCHEDULE        TIMEZONE   SUSPEND   ACTIVE   LAST SCHEDULE   AGE
suse-observability-backup-conf                     0 4 * * *       &lt;none&gt;     False     0        3h29m           16h
suse-observability-backup-sg                       0 3 * * *       &lt;none&gt;     False     0        4h29m           16h
suse-observability-clickhouse-full-backup          45 0 * * *      &lt;none&gt;     False     0        6h44m           16h
suse-observability-clickhouse-incremental-backup   45 3-23 * * *   &lt;none&gt;     False     0        44m             16h```

---

**Vladimir Iliakov** (2025-03-27 08:32):
For Elasticsearch
```k port-forward svc/suse-observability-elasticsearch-master-headless 9200:9200```
and in a different terminal
```curl 127.0.0.1:9200/_slm/policy | jq .```

---

**Amol Kharche** (2025-03-27 08:34):
Just a quick question: When we apply the `backup.yaml` file, does the backup start immediately, or does it wait for the next cycle defined in the cron job? Or will it perform a full backup right away?

---

**Vladimir Iliakov** (2025-03-27 08:35):
it waits for the next cycle defined in the cron job

---

**Amol Kharche** (2025-03-27 09:05):
@Remco Beckers @Vladimir Iliakov Thanks for your support :saluting_face:

---

**Tapas Nandi** (2025-03-27 10:56):
Hello Team,
For a 150 HA setup , the sizing is I believe  103 CPU cores and 131 GB memory minimum and 2 TB HDD as per our doc. So considering I have a 3 Node setup will this requirement be cumulative of all 3 nodes or per node.
If I am installing the server in 3 VM can i just go with a combined 103 vCPU and 131 GB of mem requirements in total

---

**Andreas Prins** (2025-03-27 10:59):
Hi team, we very much need some social media boost, sharing is caring!! We just published a new video in our under-3-minutes-series for SUSE Cloud native. have a look, and please comment like and reshare. Comments are amzing!
https://www.linkedin.com/posts/andreasprins_observability-opensource-cloudnative-acti[…]m=member_desktop&amp;rcm=ACoAAADjq30BFYAdX1wFuXEB-b7Mn9w7WlkOjOE (https://www.linkedin.com/posts/andreasprins_observability-opensource-cloudnative-activity-7310962434351988736-iakQ?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAADjq30BFYAdX1wFuXEB-b7Mn9w7WlkOjOE)

---

**Tapas Nandi** (2025-03-27 11:19):
Please Guide

---

**Vladimir Iliakov** (2025-03-27 11:30):
It doesnt feel alive :smile:

---

**Marc Rua Herrera** (2025-03-27 11:32):
Hi Tapas,
The sizing requirements you've mentioned — 103 vCPUs, 131 GB memory, and 2 TB HDD — are cumulative for the entire 3-node setup, not per node.
So yes, if you're installing the server across 3 VMs, you can distribute the total 103 vCPUs and 131 GB memory across them. Just make sure the individual nodes still meet any minimum per-node requirements (e.g., sufficient resources to run critical services and handle failover scenarios if needed).

---

**Tapas Nandi** (2025-03-27 11:32):
Thanks @Marc Rua Herrera

---

**Andreas Prins** (2025-03-27 11:36):
this is really fun, it was 100% human, not even recorded with a script or anything like that. Glad you think AI get's so close. Of sadly my behaviour is adjusted to AI to much. :smile:

---

**Vladimir Iliakov** (2025-03-27 11:48):
Or it just me not seeing the difference any longer :facepalm:

---

**Remco Beckers** (2025-03-27 12:14):
If the pod got stuck in `pending` state it would have indeed been caught by the `Pod Ready State` monitor. If a pod is unschedulable or if it takes longer than 15m for the pod to be ready that monitor will go to a critical state (red)

---

**Olli Tuominen** (2025-03-27 14:26):
Hi. I'm just going to present and using the playground but it is acting funny. Example related health violations doesn't show the topology right.

---

**Andreas Prins** (2025-03-27 14:27):
can you paste the URL?

---

**Olli Tuominen** (2025-03-27 14:30):
Components | SUSE Observability (https://play.stackstate.com/#/components/urn:endpoint:%2Fgke-demo-public.gcp.stackstate.io:10.2.147.211/highlights?detachedFilters=namespace%3Asock-shop%2Ccluster-name%3Agke-demo-public.gcp.stackstate.io&amp;timeRange=LAST_3_HOURS&amp;timestamp=1743077700000)

---

**Hugo de Vries** (2025-03-27 14:30):
Works for me, for example here: https://play.stackstate.com/#/components/urn:service:%2Fgke-demo-public.gcp.stackstate.io:otel-demo:od-frontend

---

**Andreas Prins** (2025-03-27 14:31):
there is no related health violation at a dependent component, so you therefore there is nothing special in the topology of the monitor

---

**Hugo de Vries** (2025-03-27 14:32):
You are looking at the lowest level unhealthy component already, to see the other related component you need to switch on the impacted components:

---

**Hugo de Vries** (2025-03-27 14:33):
For demo's I advise to use the services in the otel-demo namespace

---

**Olli Tuominen** (2025-03-27 14:35):
Ahh. I see. Usually the demo has landed into situation where the ad service has been the issue.

---

**Hugo de Vries** (2025-03-27 14:35):
I think that was the more complex example you were looking for:

---

**Hugo de Vries** (2025-03-27 14:35):
https://play.stackstate.com/#/components/urn:service:%2Fgke-demo-public.gcp.stackstate.[…]eRange=1743060949536_1743082549536&amp;timestamp=1743081203109 (https://play.stackstate.com/#/components/urn:service:%2Fgke-demo-public.gcp.stackstate.io:otel-demo:od-frontend?timeRange=1743060949536_1743082549536&amp;timestamp=1743081203109)

---

**Zia Rehman** (2025-03-27 16:06):
Hi Team, I’m conducting a beta session for *SUSE Observability* next week, which will include customers, partners, and internal participants. The session will feature a hands-on installation of Observability, where I plan to use the following license key: *'*BEWRF-34GQNG-G348DY*'*.
Could you confirm if it's appropriate to share this key with all participants? If not, please advise on the correct key to use.

---

**James Mason** (2025-03-27 16:11):
Is https://more.suse.com/SUSE_Cloud_Observability_Early_Access_Program.html still applicable, or is there a better destination to point new customers to? The use case is in prerequisites listed in documentation for an alternative provider of the agent (AWS EKS add-on in AWS Marketplace)

---

**Andreas Prins** (2025-03-27 16:16):
no it is no longer applicable, bring them over to the https://www.suse.com/products/cloud/observability/ (AWS marketplace)
And if they don't like cloud saas, go for the regular path: v

---

**Jeroen van Erp** (2025-03-27 16:17):
Hi Zia, definitely not. We do not want to share a long-living key. @Louis Lotter could give you a key that’s valid for a few days

---

**Louis Lotter** (2025-03-27 16:18):
when should it expire ?

---

**Zia Rehman** (2025-03-27 16:20):
I have no idea, it was shared by Andreas to me.

---

**Zia Rehman** (2025-03-27 16:21):
Can you provide a key which is valid for a week. My session will be from 1-4 April. So key can expire on 5th April.

---

**Louis Lotter** (2025-03-27 16:29):
ok thats what I meant

---

**Louis Lotter** (2025-03-27 16:30):
AD49Q-SUDVH-UU16A

---

**Louis Lotter** (2025-03-27 16:30):
This key expires 7 April 2025

---

**Louis Lotter** (2025-03-27 16:30):
To give you some leeway.

---

**Zia Rehman** (2025-03-27 16:31):
Thanks @Louis Lotter.

---

**James Mason** (2025-03-27 17:01):
https://suse.slack.com/archives/C02B5UVEC94/p1743090799223929

---

**Aline Werner** (2025-03-27 17:24):
Hi, I wanted to check if we have a package on OBS/IBS that provides stackstate-cli. I need to install it in a container.

---

**Louis Lotter** (2025-03-27 17:34):
@Zia Rehman @Frank van Lankvelt reminded me that keys can only expire at the end of months so the key I gave you may stop working 1 April

---

**Louis Lotter** (2025-03-27 17:34):
I generate a new on YL7ZY-XJH8D-TJADA
It will work up to 1 May 2025

---

**Zia Rehman** (2025-03-27 17:35):
Okay, I'll use this one. Thanks Louis!

---

**Alejandro Bonilla** (2025-03-27 17:46):
Guys how do we set tlsverify to no in the chart?

---

**Alejandro Bonilla** (2025-03-27 17:46):
For the agent install.

---

**Marc Rua Herrera** (2025-03-27 17:48):
```--set 'nodeAgent.skipSslValidation'=true \
--set 'clusterAgent.skipSslValidation'=true \
--set 'checksAgent.skipSslValidation'=true \```

---

**Alejandro Bonilla** (2025-03-27 17:49):
Yep found in the yams, thanks. We need this in the questions.yaml

---

**Alejandro Bonilla** (2025-03-27 17:50):
Very common in a POC to not have proper Certa

---

**Alejandro Bonilla** (2025-03-27 17:57):
Where do we get the token for the extension?

---

**Alejandro Bonilla** (2025-03-27 17:57):
Sorry! On a remote call and I’ve been living a SaaS life so far with Observability

---

**Alejandro Bonilla** (2025-03-27 17:58):
@Marc Rua Herrera would you know that one?

---

**Marc Rua Herrera** (2025-03-27 17:59):
Which token? For the agent?

---

**Marc Rua Herrera** (2025-03-27 17:59):
The API Key?

---

**Alejandro Bonilla** (2025-03-27 18:00):
For the extension. It wants a url and a key.

---

**Alejandro Bonilla** (2025-03-27 18:00):
I know the URL is the same as the one for the instances but the token is different for the Rancher extension

---

**Alejandro Bonilla** (2025-03-27 18:01):
The APi key and URL in the stack pack is for the downstream cluster, right?

---

**Marc Rua Herrera** (2025-03-27 18:02):
You can get both API Key and URL from the stackpacks section in Suse Observability.

---

**Alejandro Bonilla** (2025-03-27 18:02):
Yes, but that’s for the clusters

---

**Alejandro Bonilla** (2025-03-27 18:03):
Do we need to observe the local cluster?

---

**Alejandro Bonilla** (2025-03-27 18:04):
I’m looking for a key for the extension

---

**Alessio Biancalana** (2025-03-27 19:22):
actually I don't think so, which container do you need to install it in? Would it be ok to have it in factory/tumbleweed?

---

**Jeroen van Erp** (2025-03-27 19:49):
You need a service token for the Ui extension

---

**Jeroen van Erp** (2025-03-27 19:49):
Those can be created through the cli

---

**Jeroen van Erp** (2025-03-27 19:49):
Sts service-token create...

---

**Karen Van der Veer** (2025-03-27 19:54):
https://suse.slack.com/archives/C02B5UVEC94/p1743090799223929

---

**Alejandro Bonilla** (2025-03-27 22:30):
Where is sts? It’s a client to installed and consumed with kubeconfig or is there sts somewhere already installed.

---

**Jeroen van Erp** (2025-03-27 22:34):
https://docs.stackstate.com/cli/cli-sts :slightly_smiling_face:

---

**Jeroen van Erp** (2025-03-27 22:37):
You can also login to your Observability instance, and then click on the “Hamburger” menu, and then the CLI menu option

---

**Jeroen van Erp** (2025-03-27 22:37):
That shows you the installation instructions also

---

**IHAC** (2025-03-28 02:31):
@Garrick Tam has a question.

:customer:  Lumen Technologies (CenturyLink)

:facts-2: *Problem (symptom):*  
Customer Request RBAC control with namespace scoping.  See original request below.  I created the following authentication.yaml to create the custom view only role limiting to cluster but not sure how to scope it to just namespaces.  Can someone lend me a hand on what I am missing?

--- Customer Request --
Our cluster consists of several namespaces managed by different teams through security group assignment. I'm looking to find out if its possible to achieve role-based access control with namespace scoping in suse observability as well; such that members belonging to a specific team are only able to see &amp; access their namespace workloads, metrics, logs etc. in the observability tool

---authentication.yaml---
```stackstate:
  authentication:
    keycloak:
      url: "https://keycloak.24.199.71.163.sslip.io/auth"
      realm: master
      authenticationMethod: client_secret_basic
      clientId: sts
      secret: "I50MxHWZHUaqGA8wmn4NKSp8Kqeg20mJ"
      jwsAlgorithm: RS256
      scope: ["openid", "profile", "email"]
      jwtClaims:
        usernameField: preferred_username
        groupsField: group
    roles:
      guest: [ "" ]
      powerUser: [ "" ]
      admin: [ "administrators" ]
      demo: [ "demo" ]
      custom:
        demo:
          systemPermissions:
          - access-cli
          - access-view
          - access-explore
          - execute-component-actions
          - manage-star-view
          - perform-custom-query
          - read-permissions
          - read-settings
          - read-system-notifications
          - read-telemetry-streams
          - update-visualization
          - view-monitors
          viewPermissions:
          - access-view
          topologyScope: "(label = 'kube_cluster_name:dosts')"```

---

**Garrick Tam** (2025-03-28 06:14):
Is the below how to limit to specific namespace?  What permission would I need to run queries because my custom role user is getting Forbidden trying to execute a query.
```topologyScope: "(label = 'kube_cluster_name:dosts' AND domain IN ('demo'))"```

---

**Louis Lotter** (2025-03-28 07:48):
@Garrick Tam RBAC is our primary focus atm. It's making good progress.

---

**Louis Lotter** (2025-03-28 07:49):
@Alejandro Acevedo Osorio can you take a look at the requirements here :point_up: And verify if our current RBAC design caters for everything in here ? If not we need to make @Mark Bakker aware so we can follow up after the first release with enhancements if they make sense.

---

**Remco Beckers** (2025-03-28 08:27):
@Alejandro Acevedo Osorio Didn't you add this just earlier this week?

---

**Alejandro Acevedo Osorio** (2025-03-28 09:27):
@Garrick Tam in the current RBAC model the way to limit to a namespace would be
```topologyScope: "(label = 'cluster_name:dosts' AND label IN ('namespace:some-Namespace'))"```
And as a note this model only applies scope to topology.

---

**Alejandro Acevedo Osorio** (2025-03-28 09:33):
Yes on the next release the `questions.yaml` will include `global.skipSslValidation`

---

**Vladimir Iliakov** (2025-03-28 14:50):
I think I have seen such behaviour, the server pod got restarted on the first run after the deployment. And after automatic restart it should be ok...

---

**Rajesh Kumar** (2025-03-28 15:07):
hmm I have restarted it several times even before sending the logs to get the fresh logs

---

**Alejandro Acevedo Osorio** (2025-03-28 15:18):
how do the `suse-observability-hbase-stackgraph-0` and `suse-observability-hbase-tephra-0` look like? Any errors over there?

---

**Rajesh Kumar** (2025-03-28 15:39):
I am interested in learning how to debug this.

---

**Rajesh Kumar** (2025-03-28 15:39):
There are a few errors, but not sure if they are related.

---

**Rajesh Kumar** (2025-03-28 15:41):
I am using trial profile, with 2 node 8 cpu 16GB memory each

---

**Alejandro Acevedo Osorio** (2025-03-28 16:01):
seems that we got an issue with a thread that should be running and it just silently continues ...

---

**Alejandro Acevedo Osorio** (2025-03-28 16:01):
Can you restart stackgraph and tephra?

---

**Rajesh Kumar** (2025-03-28 16:04):
Is there any dependency that we should first start stackgraph and then tephra?

---

**Alejandro Acevedo Osorio** (2025-03-28 16:06):
stackgraph should be first but tephra would keep restarting until it finds a healthy stackgraph

---

**Alejandro Acevedo Osorio** (2025-03-28 16:09):
@Remco Beckers I created this ticket https://stackstate.atlassian.net/browse/STAC-22596 .. not sure if I put the correct sprint/labels though

---

**Rajesh Kumar** (2025-03-28 16:17):
Restarted but the error is still present, restarted server pod as well but crashed.

---

**Alejandro Acevedo Osorio** (2025-03-28 16:27):
I guess the server pod has pretty much the same logs you showed before?

---

**Alejandro Acevedo Osorio** (2025-03-28 16:28):
Can you describe the server pod? Is it due to an error that restarts or is it due to the readiness/liveness probe?

---

**Rajesh Kumar** (2025-03-28 16:28):
Okay.. give me 5 mins

---

**Rajesh Kumar** (2025-03-28 17:01):
Sorry, was preparing dinner

---

**Alejandro Acevedo Osorio** (2025-03-28 17:26):
```  Warning  Unhealthy         47m (x13 over 51m)  kubelet            Readiness probe failed: Get "http://10.42.0.230:1618/readiness": dial tcp 10.42.0.230:1618: connect: connection refused
  Warning  Unhealthy         42m (x19 over 51m)  kubelet            Liveness probe failed: Get "http://10.42.0.230:1618/liveness": dial tcp 10.42.0.230:1618: connect: connection refused```

---

**Alejandro Acevedo Osorio** (2025-03-28 17:27):
Apparently the `2 node 8 cpu 16GB memory each` are not enough? Or takes too long to start the server pod

---

**Alejandro Acevedo Osorio** (2025-03-28 17:28):
You can try to tweak the liveness and readiness probe to make it more relax ... or even drop it ... Or add another node perhaps (although in theory should not be  needed)

---

**James Mason** (2025-03-28 17:33):
https://www.suse.com/c/start-observing-your-aws-eks-cluster-in-less-than-5-minutes/

---

**Alejandro Acevedo Osorio** (2025-03-28 17:39):
checking the describe of your pod it seems you have tweaked the values?
```    Limits:
      cpu:                3
      ephemeral-storage:  6Gi
      memory:             6Gi
    Requests:
      cpu:                2
      ephemeral-storage:  1Mi
      memory:             6Gi```
does not exactly match the values for `trial`

---

**Rajesh Kumar** (2025-03-28 18:01):
Yes, i changed it

---

**Rajesh Kumar** (2025-03-28 18:01):
I thought it's crashing because of resources

---

**Rajesh Kumar** (2025-03-28 18:02):
But node top commands were pretty fine

---

**Garrick Tam** (2025-03-28 18:24):
@Alejandro Acevedo Osorio Given the namespace limitation only applies scope to topology; then we should have a feature request in place to support "see &amp; access their namespace workloads, metrics, logs etc."  Can you please let me know what Jira ID exists to support the requested functionality so I can associated it with the customer case?

---

**Rajesh Kumar** (2025-03-28 18:59):
Yes, probably you were right. I didn't do anything and now it's stable. The problem is debugging, how can we debug these issues. We will have to come back to Engineering even if it has nothing to do with the codebase

---

**Rajesh Kumar** (2025-03-28 19:14):
So, I have been working on a fix for externalsecret issue. I made the below changes, and it is working fine for me for server auth and licence.

---

**Garrick Tam** (2025-03-28 19:15):
Something appears to be wrong with custom roles.  I created a custom role with yaml from --&gt; https://docs.stackstate.com/self-hosted-setup/security/rbac/rbac_roles#custom-roles-with-custom-scopes-and-permissions-via-the-configuration-file but am not seeing Kubernetes from left nav and also getting Forbidden error when trying to run Query.  Here's the YAML and I even took the topologyScope out.  Since this custom role is the same as predefined k8sTroubleshooter role, when I login with the k8sTroubleshooter role I see Kubernetes from left nav pane and also get a successful query response.  Can someone help me understand if I'm doing something wrong or is this a bug?
```stackstate:
  authentication:
    keycloak:
      url: "https://keycloak.24.199.71.163.sslip.io/auth"
      realm: master
      authenticationMethod: client_secret_basic
      clientId: sts
      secret: "I50MxHWZHUaqGA8wmn4NKSp8Kqeg20mJ"
      jwsAlgorithm: RS256
      scope: ["openid", "profile", "email"]
      jwtClaims:
        usernameField: preferred_username
        groupsField: group
    roles:
      guest: [ "" ]
      powerUser: [ "" ]
      admin: [ "demo" ]
      test: [ "administrators" ]
      custom:
        test:
          systemPermissions:
          - access-cli
          - create-views
          - execute-component-actions
          - export-settings
          - manage-monitors
          - manage-notifications
          - manage-stackpacks
          - manage-star-view
          - perform-custom-query
          - read-agents
          - read-metrics
          - read-permissions
          - read-settings
          - read-system-notifications
          - read-telemetry-streams
          - read-traces
          - run-monitors
          - update-visualization
          - view-metric-bindings
          - view-monitors
          - view-notifications
          viewPermissions:
          - access-view
          - save-view
          - delete-view```

---

**chihjen.huang** (2025-03-31 03:23):
Hey Team, :wave:
I’m working on installing Observability in the lab environment. Most of the pods are running, and I can log in to the UI console, but a few pods aren't starting properly.
After checking the logs, it looks like the issue is related to Elasticsearch (since other pods depend on it). Specifically, it seems to be failing on Elasticsearch’s Readiness and Liveness probes.
I’m not sure how to dig deeper to resolve this. Could anyone assist with troubleshooting?
I’ve attached the relevant info for reference (it’s an HTML file, please save it locally to view some highlighted sections). Thanks in advance! :pray:

---

**Mark Bakker** (2025-03-31 07:25):
Be aware the full Role Based Access setup is changing in a few months. We will have full support for Project Level Access for Metrics, Traces, Logs, Topology and Events.
Currently we the scoping is limited to the Topology.

---

**Marc Rua Herrera** (2025-03-31 15:23):
Hey Team,
A customer is using `HTTPRoute` instead of `Ingress` in their clusters. I haven't seen any `HTTPRoute` components appearing in SUSE Observability.
Do you know if SUSE Observability supports capturing `HTTPRoute` components and their metrics?
Thanks!

---

**Remco Beckers** (2025-03-31 16:24):
Which externalsecret issue are you referring to? STAC-22411  (https://stackstate.atlassian.net/browse/STAC-22411)maybe? A fix for that got released in version 2.3.1

---

**Remco Beckers** (2025-03-31 16:25):
&gt; Specifying custom authentication breaks on missing license key

---

**Remco Beckers** (2025-03-31 16:25):
Or are there more that we don't know about?

---

**Remco Beckers** (2025-03-31 16:29):
From the symptoms you describe it seems like your user doesn't have any permissions at all. With the configuration you have a user will get the custom permissions only when the username is `test` or when they are in the `test` group (the group comes from the OIDC Provider). Is that indeed your setup?

---

**Remco Beckers** (2025-03-31 16:32):
The line `test: [ "administrators" ]` is not supported by the helm chart. The keys you define under `custom` , so in this case `test` , are expected to directly match a user or group name.

---

**Remco Beckers** (2025-03-31 16:34):
We also don't have components for ingress. So there is no difference there

---

**Garrick Tam** (2025-03-31 16:35):
Ok, thank you for pointing out my syntax error.

---

**Remco Beckers** (2025-03-31 16:36):
Oh correction, we do have ingress components but not on an overview page

---

**Remco Beckers** (2025-03-31 16:38):
But we don't have any metrics connected to them.

---

**Remco Beckers** (2025-03-31 16:38):
The metrics are on the ingress controller pod (that actually implements the ingress). For exmaple nginx-ingress-controller in our own clusters

---

**Marc Rua Herrera** (2025-03-31 16:41):
So, for making it clear. I won't se an HTTPRoute component, right?

---

**Remco Beckers** (2025-03-31 16:41):
HTTPRoute is similar to ingress but we don't support it yet

---

**Remco Beckers** (2025-03-31 16:42):
But metrics for traffic we will still have, the Gateway + HTTPRoute resources together are similar to the ingress resource before iirc

---

**Remco Beckers** (2025-03-31 16:43):
And there is still a controller that is actually doing the routing work defined in those resources (like traefik, envoy, kong or nginx gateway fabrik, but the original nginx ingress controller not anymore, that's getting deprecated I believe)

---

**Remco Beckers** (2025-03-31 16:46):
Oh and of course you will also have metrics on the services.

---

**Marc Rua Herrera** (2025-03-31 17:01):
Okay. Thanks for your response Remco !!

---

**Jacob Perkins** (2025-03-31 22:45):
Is there a way to override the registration URL for StackState to something other than scc.suse.com (http://scc.suse.com)? RGS uses a proxy for our customers that sits in front of scc.suse.com (http://scc.suse.com) and we'd like the ability to use our licenses through that

---

**Garrick Tam** (2025-03-31 22:59):
what profile are you trying to bring up and what size are your nodes?

---

**chihjen.huang** (2025-03-31 23:07):
I'm using `10-nonha` profile, and my cluster is a 3 nodes with 72GB ram and 48 cpus.
```sizing.profile='10-nonha'```

---

**Garrick Tam** (2025-03-31 23:11):
Ok, then node size shouldn't be a problem.

---

**Garrick Tam** (2025-03-31 23:31):
• From our kxfer deck, it is noted EA pod will restart automatically when
    ◦ Liveness probe fails
    ◦ Container crashes (for example due to OOM)
Have you check Zookeeper?

---

**Lasith Haturusinha** (2025-04-01 05:11):
Has anyone come across this -&gt; Welcome to the Observability Cloud (https://www.observeinc.com/)

---

**Amol Kharche** (2025-04-01 05:13):
Could you please help us to attach logs. Support Package (Logs) | SUSE Observability (https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/support-package-logs)

---

**chihjen.huang** (2025-04-01 05:43):
Here is the log.

---

**chihjen.huang** (2025-04-01 05:44):
After numerous restarts, it finally succeeded. Please note that I didn't make any changes to my cluster.
```neuvector@ubuntu2204-E:~/olly/log$ k get pods -n suse-observability
NAME                                                              READY   STATUS    RESTARTS          AGE
kafkaclient                                                       1/1     Running   0                 144m
nfs-subdir-external-provisioner-6bf7467b87-s96tn                  1/1     Running   0                 28h
suse-observability-clickhouse-shard0-0                            2/2     Running   0                 27h
suse-observability-correlate-d6469d94d-d9hwt                      1/1     Running   4 (27h ago)       27h
suse-observability-e2es-7b78949955-v8vc8                          1/1     Running   185 (5h49m ago)   27h
suse-observability-elasticsearch-master-0                         1/1     Running   132 (18h ago)     27h
suse-observability-hbase-stackgraph-0                             1/1     Running   0                 27h
suse-observability-hbase-tephra-0                                 1/1     Running   0                 27h
suse-observability-kafka-0                                        2/2     Running   0                 27h
suse-observability-kafkaup-operator-kafkaup-6696df7b49-xpt88      1/1     Running   0                 27h
suse-observability-otel-collector-0                               1/1     Running   0                 27h
suse-observability-prometheus-elasticsearch-exporter-86f5599j4q   1/1     Running   0                 27h
suse-observability-receiver-876df75c7-7gkgb                       1/1     Running   0                 27h
suse-observability-router-7bf6bb65b6-qmss4                        1/1     Running   0                 27h
suse-observability-server-7bdbff894f-r4r5h                        1/1     Running   4 (27h ago)       27h
suse-observability-ui-5c7b954d7f-hxdln                            2/2     Running   0                 27h
suse-observability-victoria-metrics-0-0                           1/1     Running   0                 27h
suse-observability-vmagent-0                                      1/1     Running   0                 27h
suse-observability-zookeeper-0                                    1/1     Running   0                 27h```

---

**chihjen.huang** (2025-04-01 05:46):
@Garrick Tam, zookeeper looks good.
as the current status :point_up: , it recovered automatically (don't know why).

---

**Amol Kharche** (2025-04-01 05:57):
The error I see in correlate pod. which indicate that the required Kafka topics are currently missing. it might have taken a long time for Kafka to start and the job that creates the topics might have already failed earlier.
```2025-03-30 23:59:53,060 ERROR none - Stopping correlate app. Topic check failed.
com.stackstate.kafka.StsKafkaAdminClient$MissingKafkaTopics: These Kafka topics do not exist at the moment: sts_topo_process_agents, sts_correlate_endpoints, sts_correlated_connections, sts_correlate_http_trace_observations. StackState expects these topics to be available. Please contact support if this happens with a standard installation.```
The easiest way to create the topics is by running the `helm upgrade` command to do an "upgrade" (no pods will be really affected if you don't make any changes in configuration). It will start the `create-topic` job again, it should be able to create the topics without a problem now and after that the pods in crashloopbackoff should also recover.

---

**Amol Kharche** (2025-04-01 06:00):
By the way, Suse Observability don't recommend to use NFS for persistence volumes.
https://suse.slack.com/archives/C07CF9770R3/p1731321912118639?thread_ts=1730962730.143879&amp;cid=C07CF9770R3

---

**chihjen.huang** (2025-04-01 06:11):
I don't have permission for the link, could you share the content with me?

---

**Amol Kharche** (2025-04-01 06:12):
Stackstate engineer (*Vladimir Iliakov*) - Maybe we should stop here. We, Suse Observability, don't recommend to use NFS for persistence volumes, especially in production

---

**chihjen.huang** (2025-04-01 06:14):
I see, thanks for your information.  This is for my personal testing so it should be okay

---

**chihjen.huang** (2025-04-01 06:14):
I want to avoid using cloud, it's a bit expensive.

---

**Amol Kharche** (2025-04-01 06:16):
May be can try local path provisioner
https://github.com/rancher/local-path-provisioner

---

**chihjen.huang** (2025-04-01 06:16):
nice, thanks for your sharing !

---

**Rajesh Kumar** (2025-04-01 07:25):
yes 22411, additionally I was trying to use suse-observability-values helm chart for external-secrets but there is no way, that creates confusion from what is mentioned in the document (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/kubernetes_install) . So I added the implementation in the values chart.

---

**Mark Bakker** (2025-04-01 07:51):
Hi @Lasith Haturusinha yes they are known in the Observability space. Don't hear them to often.

---

**Remco Beckers** (2025-04-01 08:23):
No problem :slightly_smiling_face:

---

**Remco Beckers** (2025-04-01 08:56):
I'll discuss with the team whether we can include that in the values helm chart. It's main purpose is to simplify configuration of the parts that repeatedly appear in the main charts values (like affinity) or that use a single input to set a lot of values (like the profile).
There are many settings that users might want to set on the main helm chart and we included none of them in the values chart to keep that simple to configure and not repeat ourselves

---

**Saurabh Sadhale** (2025-04-01 09:35):
@Remco Beckers @Louis Lotter is there a possibility to add about the Button ( Show Logs ) Removal in the release notes ?

---

**Remco Beckers** (2025-04-01 10:02):
We can, but it will be on a old version (actually I think the first version released as SUSE Observability)

---

**Nick Zhao** (2025-04-02 03:30):
hi team, do we support find what is consuming memory for pod in code level?  Such as: . net core, java.  My customer is facing memory leap.  thank you.

---

**Frank van Lankvelt** (2025-04-02 07:44):
Hi Nick.  We ingest metrics by those VMs by default and expose them for pods running them.  You should be able to find some examples on https://play.stackstate.com (https://play.stackstate.com)

---

**Saurabh Sadhale** (2025-04-02 10:11):
I think that should help.

---

**Remco Beckers** (2025-04-02 10:23):
It's there now: https://docs.stackstate.com/self-hosted-setup/release-notes/v2.0.0

---

**Saurabh Sadhale** (2025-04-02 10:24):
Thank you so much the quick response :smile:

---

**Nick Zhao** (2025-04-02 10:50):
I want to see which part of the code/class has the memory leak issue. Can't see it from the metric, right?

---

**Frank van Lankvelt** (2025-04-02 10:52):
no, you'll have to attach a debugger or get a memory dump for that level of analysis.

---

**Nick Zhao** (2025-04-02 10:55):
how about open-telemetry? can we leverage it with custom dashboard to show something valuable?

---

**Frank van Lankvelt** (2025-04-02 11:03):
debugging these issues goes well beyond observability.  With the metrics and deployment history in hand, it is possible to bisect the change that introduced the leak.

---

**Lasith Haturusinha** (2025-04-02 12:29):
Seems like certain capabilities and features similar to us...

---

**Zia Rehman** (2025-04-02 14:06):
Hi Team,
During my ongoing beta, I came across three questions and would appreciate your insights:
1. How do we configure RBAC in SUSE Observability?
2. What is the purpose of using the CLI when SUSE Observability already has a robust UI? (might be for scripting and automation) 
3. Is Open_Telemetry SDK use cases related in anyway to the "extensions" used with Suse Observability ? Or both are different topics ?
Looking forward to your responses. Thanks!

---

**Louis Lotter** (2025-04-02 14:37):
RBAC is still a work i progress. It's our top priority atm.

---

**Louis Lotter** (2025-04-02 14:43):
@Mohamed Elnemr Could probably expand nicely on everything he and @Marc Rua Herrera used the CLI for.

---

**Louis Lotter** (2025-04-02 14:44):
@Remco Beckers can you tackle question 3 ?

---

**Remco Beckers** (2025-04-02 14:50):
RBAC integration with Rancher/Kubernetes is work in progress, but we do have RBAC support already. That is documented on our docs site: https://docs.stackstate.com/self-hosted-setup/security/rbac

---

**Remco Beckers** (2025-04-02 14:53):
For 3. I'm not sure what you mean by
&gt; "extensions" used with SUSE Observablity
If you are referring to the Rancher extension for SUSE Observability, the answer is no. Open Telemetry is entirely unrelated. The typical use-case for Open Telemetry is to instrument your own applications in more depth to get  traces and custom metrics. With the open telemetry collector it is also possible to scrape metrics from many third-party applications (for example many databases are supported or anything with a Prometheus exporter can be scraped).

---

**Remco Beckers** (2025-04-02 14:55):
The CLI is usually used in gitops scenarios where configuration is (partially) automated in CI/CD pipelines.
But there are also some configurations that are not supported in the UI but that can be done via the CLI (for example creating service tokens or ingestion api keys).

---

**Zia Rehman** (2025-04-02 15:44):
Got it, thanks a lot for sharing the information.

---

**Thomas Muntaner** (2025-04-02 15:44):
Hi SUSE Obervability team.

our cluster's ingress has a certificate signed by the SUSE CA. Because the agent doesn't have the CA, I saw that we have to use `global.skipSslValidation` to get it to speak to our cluster.

Do we have a more secure option that lets us add the CA to the agent pods?

Thanks

---

**Nick Zhao** (2025-04-03 05:24):
Thank you Frank.  So it is out of our support scope.

---

**Rajesh Kumar** (2025-04-03 06:44):
This https://docs.stackstate.com/self-hosted-setup/security/self-signed-certificates ?

---

**Thomas Muntaner** (2025-04-03 09:08):
Thanks. I thought this was only for the SUSE Observability server, and not the agent

---

**Thomas Muntaner** (2025-04-03 09:10):
actually, I don't see the trust store at all in the agent helm chart values

---

**Dinesh Chandra** (2025-04-03 09:16):
Hi Team, my customer wants custom metrics pulled from Apps and available in SUSE observability for example velero backup related info, is there any guide for same?
https://grafana.com/grafana/dashboards/15469-kubernetes-addons-velero-stats/

I am testing auto-instrumentation  (https://github.com/open-telemetry/opentelemetry-operator?tab=readme-ov-file#opentelemetry-auto-instrumentation-injection)but so far no luck. It only work if app has some way to export to otel-collector. Any suggestions please Thanks

---

**Marc Rua Herrera** (2025-04-03 09:18):
Just to add on the RBAC part: at the moment, RBAC can't be configured via the UI yet. Since it's typically a one-time setup, some customers prefer to do it using the CLI. Others who want to automate the deployment or integrate it in their GitOps flow often include the configuration directly in the Helm chart—especially useful when managing multiple environments or clusters. This way, access control is versioned and consistently applied across setups.

---

**Saurabh Sadhale** (2025-04-03 09:55):
Can you please also help with the release for observability agent 1.0.30 for the bug https://stackstate.atlassian.net/browse/STAC-22443 as the same customer has raised a new case reporting similar behaviour.

is there any workaround that we can suggest to the customer ?

---

**Remco Beckers** (2025-04-03 10:08):
I believe the new agent was released. @Alessio Biancalana did you check if the agent was released?

---

**Saurabh Sadhale** (2025-04-03 10:31):
```% helm search repo suse-observability
NAME                                        	CHART VERSION	APP VERSION                                 	DESCRIPTION                                       
suse-observability/suse-observability       	2.3.1        	7.0.0-snapshot.20250312150320-master-1f9655b	Helm chart for SUSE Observability                 
suse-observability/suse-observability-agent 	1.0.25       	3.0.0                                       	Helm chart for the SUSE observability Agent.      
suse-observability/suse-observability-values	1.0.7        	1.0.0                                       	Helm Chart for rendering SUSE Observability Values```

---

**Remco Beckers** (2025-04-03 10:42):
I just checked and it wasn't released due to a bug in the release pipeline. I've asked someone to look at that now

---

**Remco Beckers** (2025-04-03 10:43):
In the mean time maybe @Alessio Biancalana can you help maybe by explaining the configuration changes? They could apply them to their logs agent installation I think

---

**Alessio Biancalana** (2025-04-03 10:50):
@Saurabh Sadhale I created a new scraping job in the logs agent config map

```    - job_name: static-pod-logs
      kubernetes_sd_configs:
        - role: pod
      pipeline_stages:
        - docker: {}
        - cri: {}
      relabel_configs:
        - action: replace
          source_labels:
            - __meta_kubernetes_pod_name
          target_label: pod_name
        - action: replace
          source_labels:
            - __meta_kubernetes_pod_uid
          target_label: pod_uid
        - action: replace
          source_labels:
            - __meta_kubernetes_pod_container_name
          target_label: container_name
        # The __path__ is required by the promtail client

  

  

  
        - replacement: /var/log/pods/*$1/*.log
          separator: /
          source_labels:
            - __meta_kubernetes_pod_annotation_kubernetes_io_config_mirror
            - __meta_kubernetes_pod_container_name
          target_label: __path__
        # Drop all remaining labels, we do not need those
        - action: labeldrop
          regex: __meta_(.*)```

---

**Alessio Biancalana** (2025-04-03 10:50):
I think the shortest path is just to get the new helm chart out anyway

---

**Remco Beckers** (2025-04-03 10:50):
Maybe just give it a minute indeed. Looks like they already have a fix and we should be able to publish it soon.

---

**Davide Rutigliano** (2025-04-03 10:52):
Hey SUSE Observability team,

We would like to use RBAC integration with Rancher roles. As I understood it's not yet rolled out but is there any beta/experimental feature available already?

---

**Davide Rutigliano** (2025-04-03 10:52):
For instance I see helm chart has `stackstate.experimental.k8sAuthorization`  parameter. Is that related?

---

**Alejandro Acevedo Osorio** (2025-04-03 10:54):
It is related indeed, that's the feature flag we are using internally while developing. But unfortunately is not there yet to be tried out

---

**Davide Rutigliano** (2025-04-03 10:56):
I see the parameter in chart `v2.3.1` (stackstate `7.0.0-snapshot.20250312150320-master-1f9655b` ), won't it work if I enable it?

---

**Alejandro Acevedo Osorio** (2025-04-03 11:00):
it won't completely work. It will enable some bits on the SUSE Observability instance (where there are still bits missing) but it would be missing an agent that needs to be deployed to all the observed clusters. So it definitely won't work

---

**Davide Rutigliano** (2025-04-03 11:01):
you mean suse-observability agent or?

---

**Alejandro Acevedo Osorio** (2025-04-03 11:03):
a new RBAC agent

---

**Davide Rutigliano** (2025-04-03 11:05):
aha ok, make sense thanks!

---

**Davide Rutigliano** (2025-04-03 11:06):
as far as you know, is there any plan for the RBAC agent to be released in experimental version?

---

**Alejandro Acevedo Osorio** (2025-04-03 11:11):
that's a good question, I'm not sure what the plan is about that

---

**Davide Rutigliano** (2025-04-03 11:12):
We (itpe-core team) would be very happy to be customer 0 for it :)

---

**Alejandro Acevedo Osorio** (2025-04-03 11:13):
Awesome @Davide Rutigliano. Let me tag the right people here so they keep you in mind @Remco Beckers @Louis Lotter @Mark Bakker :point_up:

---

**Louis Lotter** (2025-04-03 11:30):
@Davide Rutigliano RBAC  is our top priority atm. It's complex and should not be rushed but it's also not years away. We work fast. Please be patient with us :bow:

---

**Louis Lotter** (2025-04-03 11:32):
We will clearly anounce it when it's ready and would love to have you as an early tester.

---

**Zia Rehman** (2025-04-03 14:59):
@Marc Rua Herrera, thanks for the explanation.
I have one more question:
When we install the STS CLI using the command:
`curl -o- https://dl.stackstate.com/stackstate-cli/install.sh | STS_URL="&lt;URL&gt;" STS_API_TOKEN="&lt;API-TOKEN&gt;" bash`
the configuration file is automatically generated at `.config/stackstate-cli/config.yaml`.
Given this, why do we still need to run the following configuration command?
`sts context save --name &lt;NAME&gt; --url &lt;URL&gt; --api-token &lt;API-TOKEN&gt;` 
--
Following are the reason or any other aspect is there:
1.Installation generates a default config but doesn’t name a context explicitly.
2.Using sts context save allows you to define multiple contexts and switch between them easily.

---

**Remco Beckers** (2025-04-03 16:11):
Nope, that's why you would manually save the context. No need to do that if you're happy with the `default`

---

**Zia Rehman** (2025-04-03 16:45):
Okay got it. Thanks @Remco Beckers.

---

**Saurabh Sadhale** (2025-04-03 16:45):
I have tested this in my lab by patching the configmap and it works. I can see logs for all static pods as well. example is for etcd pod:

---

**Davide Rutigliano** (2025-04-04 14:26):
Hi SUSE Observability team,

We are trying to setup LDAP authentication against `ucs-ldap.dmz-prg2.suse.org (http://ucs-ldap.dmz-prg2.suse.org)` . I am providing the custom CA certificate using `stackstate.authentication.ssl.trustCertificateBase64Encoded`  but whenever I try to authenticate in the UI login fails with invalid credentials (both for local admin user that was working before and LDAP users) and I get following error in suse-observability-api pod about `java.security.cert.CertPathValidatorException: name constraints check failed`.

I have tried also trustCertificate (no base 64) and trustStore (for which I didn't find any trustStorePassword parameter BTW) without success and I’m not sure how to dig deeper to resolve this. Anyone who could assist with troubleshooting? :pray:

---

**Alejandro Bonilla** (2025-04-04 14:52):
@Mark Bakker here is a request from two customers I’ve talked to in the last 2 weeks. One of them includes Kroger:
• ability to one-click add a cluster to Observability. Meaning that if the Rancher Manager has the extension installed, one can go into a downstream cluster and click “Observe” or install and it would handle the stack pack configuration and agent install.
• they also requested the ability to observe at cluster creation, without having to do anything manually. Looks like the best way would be to add a button to the rancher provisioning (cluster creation) so that we handle the addition.
Do we have these on roadmap or is there a current JIRA for something similar? Thanks

---

**Alejandro Bonilla** (2025-04-04 14:57):
For the first point, we could copy the workflow from Kubewarden…! Check it out.

---

**Lukasz Marchewka** (2025-04-04 14:59):
can you confirm if it works, if yes then I will make changes to our helm chart :slightly_smiling_face:

---

**Lukasz Marchewka** (2025-04-04 15:09):
@Saurabh Sadhale please wait, I want to test sth else before

---

**Luca Barzè** (2025-04-04 15:18):
hello! I have two questions:
• a prospect is using graylog to centralize their logs from different sources (active directory, windows event viewer, … ) can we use open telemetry agents to collect also this logs into suse observability? 
• we do not support windows k8s worker nodes, don’t we?
thank you!

---

**David Noland** (2025-04-05 19:35):
If this a paid customer such as Kroger, it's probably best to have them file a support case on SCC so we can track it properly as an RFE.

---

**Alejandro Bonilla** (2025-04-06 01:02):
@Wayne Patton ^^

---

**Surya Boorlu** (2025-04-07 07:08):
Hi Team, Customer Wabra Bank is facing an issue where stackstate server pod is restarting and causing UI not available.

Here are the logs and yaml of the server pod.

Is this due to the timeout?

---

**Remco Beckers** (2025-04-07 08:17):
• At the moment SUSE Observability only supports logs for pods. So even though you can use Open Telemetry to collect the logs they will not be available in SUSE Observability afterwards. We have full log support on the roadmap to support these use-cases though.
• We don't support Windows worker nodes indeed

---

**Remco Beckers** (2025-04-07 08:37):
The `name constraints check failed.` error suggests that the CA certificate has some `name constraints` defined and apparently the `ucs-ldap.dmz-prg2.suse.org (http://ucs-ldap.dmz-prg2.suse.org)` fails one of those checks. That's about where my knowledge on certificates ends. This (https://www.gradenegger.eu/en/use-name-constraints-to-allow-a-ca-to-issue-certificates-only-for-certain-domain-names/) looks like a detailed explanation on `name constraints`. But here is a more concrete example: https://www.pkisolutions.com/name-constraints-extension/

I would try to view the details of the certificate to see what constraints are defined in the CA certificate, For example with `openssl` that should be possible, but also with `keytool` that comes with a Java distribution or, in Windows, right-click and select open on the certificate.

---

**Chris Riley** (2025-04-07 09:13):
@Surya Boorlu Please post case-related queries like this in <#C07CF9770R3|>

---

**Remco Beckers** (2025-04-07 09:30):
The new agent has been released as well now

---

**Lukasz Marchewka** (2025-04-07 13:04):
@Saurabh Sadhale
1. can you share configuration of clickhouse which you have applied (`clickhouse.*` from `values.yaml` ) 
2. can you export one of clickhouse pod to YAML ?
3. do you have more logs when you have disabled Security Context

---

**Saurabh Sadhale** (2025-04-07 13:05):
@Lukasz Marchewka the cluster is gone. I will set up one more time and then get back to you.

Do you want me to add the above clickhouse: configuration that you have shared. ?

---

**Vladimir Iliakov** (2025-04-07 13:36):
Hi @James Mason, is the Saas tenant still needed?

---

**Lukasz Marchewka** (2025-04-07 13:45):
nope,  please use this one
```clickhouse:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false```

---

**Lukasz Marchewka** (2025-04-07 13:46):
can you ping me when a cluster will be ready

---

**James Mason** (2025-04-07 17:01):
You can close if necessary, but I would like to be able to test future versions before publishing

---

**Davide Rutigliano** (2025-04-07 18:47):
Hi team, I am trying to configure LDAP authentication in stackstate but I am not sure which certificates I need to include in the trustStore/trustCertificate. Should they include the entire CA certificates chain or is the root CA enough (as reported in my previous question (https://suse.slack.com/archives/C079ANFDS2C/p1743769598425569) seems it's not)? I am following the docs (https://docs.stackstate.com/self-hosted-setup/security/authentication/ldap#:~:text=trustStore%20%2D%20Optional%2C%20Java%20trust%20store%20file%20for%20SSL.%20If%20both%20trustCertificates%20and%20trustStore%20are%20specified%2C%20trustCertificatesPath%20takes%20precedence) but I don't have the full chain of PEM files so I would like to use the trustStore instead. Is there any way to provide a password for it? I don't see any `stackstate.ldap.ssl.trustStorePassword`  (while I see it's available for java trustStore instead). Anyone who could help us here (also by pointing out docs/examples/tests to take inspiration from)?

---

**Remco Beckers** (2025-04-08 08:10):
Normally providing the root CA is enough, and there is no need for the entire chain

---

**Remco Beckers** (2025-04-08 08:11):
Did you check my suggestion in the other thread?

---

**Remco Beckers** (2025-04-08 08:18):
As for the trust store: there is no way to provide a password for that, but the password is also not needed to read a certificate from the store (it is only required for updating the store).

---

**Vladimir Iliakov** (2025-04-08 09:11):
I think, this is necessary since there are costs involved...
@Louis Lotter FYI

---

**Davide Rutigliano** (2025-04-08 09:12):
Thanks Remco, make sense :slightly_smiling_face: About the root CA I am not sure if I am doing something else wrong then. The LDAP server  (ucs-ldap.dmz-prg2.suse.org (http://ucs-ldap.dmz-prg2.suse.org)) has following chain:
• Server certificate signed by `SUSE CA dmz-prg2.suse.org (http://dmz-prg2.suse.org)` 
• `SUSE CA dmz-prg2.suse.org (http://dmz-prg2.suse.org)` intermediate certificate signed by  `SUSE CA Root`
• `SUSE CA Root` certificate signed by `SUSE Trust Root`
I am using `SUSE Trust Root`  only (either PEM or JKS format) but stackstate api cannot validate the ldap endpoint and at each login i get errors reporting `Caused by: java.security.cert.CertPathValidatorException: name constraints check failed`.

---

**Remco Beckers** (2025-04-08 09:13):
So you provide SUSE Observability with the `SUSE CA Root` certificate?

---

**Remco Beckers** (2025-04-08 09:18):
@Mark Bakker I've had this request (for the first bullet) a few times as well. The KubeWarden approach (for Rancher Prime only) of using the extension to simplify the installation looks like it could work for our agents as well

---

**Davide Rutigliano** (2025-04-08 09:20):
`SUSE Trust Root`  that is the CA used for signing the `SUSE CA Root` certificate (which I think is an intermediate CA)

---

**Remco Beckers** (2025-04-08 09:29):
Ok. Did you try using `SUSE CA Root` ?

---

**Remco Beckers** (2025-04-08 09:30):
I'm definitely not an expert on this, but the error indicates restrictions on the certificate used for verification

---

**Davide Rutigliano** (2025-04-08 09:33):
Didn't try `SUSE CA Root`  as I don't have it by hand but for other ldap configurations (eg. with grafana) we use `SUSE Trust Root`

---

**Davide Rutigliano** (2025-04-08 09:34):
and from what i got (no expert here as well) I understood Java is a bit picky with certificates and that's why I thought it would need the entire certificate chain

---

**Remco Beckers** (2025-04-08 09:50):
Then I guess the only thing left is try a trust store that has certificates for the entire certificate chain

---

**Remco Beckers** (2025-04-08 09:50):
I'll ask in our team to see if anyone has seen something similar before

---

**Mark Bakker** (2025-04-08 09:51):
@Alejandro Bonilla having a tighter integration with all ECM products is on our roadmap, thanks for sharing those two specific asks. From who came which of the asks and who is the second customer so I can add that to our feedback tracking?

---

**Mark Bakker** (2025-04-08 09:52):
@David Noland better not to file RFE's since we will change that process soon to a process where customers can only file Idea's. An RFE gives an expectation which we don't like to give.
An idea is something we can count and if many have the same request we can account for it.

---

**Mark Bakker** (2025-04-08 09:56):
@Alejandro Bonilla do you have some more information about the cluster creation one? What exactly are they searching for regarding this?

---

**Davide Rutigliano** (2025-04-08 10:14):
I have maually crafted the certificate chain adding SUSE Trust Root and the 2 intermediate CAs I had in ldap server certificate and it seems I got a step further. I can passthrough the login screen and I get an Internal Server Error (that may be related to the way I configured LDAP and not to stackstate)

---

**Remco Beckers** (2025-04-08 10:22):
:sweat_smile:

---

**Marc Rua Herrera** (2025-04-08 13:26):
Hi Team, I see this error in the Traces. I had a look at all the pods but apparently there are not any issues. I also inspected the network and saw an strange thing, a 404 error. What else can I check here?

---

**Amol Kharche** (2025-04-08 13:50):
What is under endpoint? I would love to see the logs from client otel collector and suse-observability-otel-collector-0 statefulset pod. Also it is possible to share otel-collector.yaml file here ?
```  exporters:
    otlp/stackstate:
      auth:
        authenticator: bearertokenauth
      endpoint: &lt;otlp-stackstate-endpoint&gt;:443
    otlphttp/stackstate:
       auth:
          authenticator: bearertokenauth
       endpoint: https://&lt;otlp--http-stackstate-endpoint&gt;  ```

---

**Marc Rua Herrera** (2025-04-08 13:58):
I need to ask to the customer to these files. However, I believe its well configured because we are receiving metrics. It is just the traces view, which it does not load

---

**Amol Kharche** (2025-04-08 14:10):
Okay, @Remco Beckers Have you seen like metrics is fine but not traces , I have no idea now.

---

**Alejandro Bonilla** (2025-04-08 14:48):
Nowcom and Kroger. Kroger wants to easily observe clusters. Meaning to avoid even the agent install and cluster creation. Maybe @Wayne Patton can add more

---

**Remco Beckers** (2025-04-08 15:31):
It looks like the traces api is completely disabled to be honest

---

**Remco Beckers** (2025-04-08 15:32):
Which version did they install and do they have clickhouse running?

---

**Ivan Wong** (2025-04-08 15:40):
Hi, is there any evaluation key for SUSE Observability?  Thx.

---

**Mark Bakker** (2025-04-08 15:44):
And which ones where from Nowcom?

---

**Remco Beckers** (2025-04-08 16:07):
To be clear: this has nothing to do with whether or not trace data is shipped to SUSE Observability. This is the platform API returning a 404 for the trace endpoints.

---

**Remco Beckers** (2025-04-08 16:09):
More useful information would be: logs, specifically from the api pod but preferably the entire support package: https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/support-package-logs

---

**Jaroslaw Biniek** (2025-04-08 16:32):
Hi team, what is the licensing status of StackState/Observability? I know it was supposed to be open-sourced soon after SUSE took over but have we actually done it yet?

---

**Louis Lotter** (2025-04-08 16:35):
It's pinned in this channel

---

**Louis Lotter** (2025-04-08 16:36):
Open sourcing Suse Observability has not happened yet. It's on the roadmap but is fighting for priority with a lot of key features like RBAC, Dashboarding etc.

---

**Mark Bakker** (2025-04-08 16:51):
It is planned for end of this year @Jaroslaw Biniek

---

**Alejandro Bonilla** (2025-04-08 17:16):
1. NowCom and other customers, as well as my agreement on the UX - With the one click inclusion with the extension.
2. Kroger wants automated ways for clusters to be observed. It was my opinion to add a check-box in Rancher provisioning to then have this happen automatically with the cluster addition.

---

**Alejandro Bonilla** (2025-04-08 17:16):
As these "System Services" listed at the bottom.

---

**Alejandro Bonilla** (2025-04-08 17:17):
but, we can setup a call with Kroger for you to ask these questions or we can ask them for you.

---

**Alejandro Bonilla** (2025-04-08 17:17):
Please provide the questions and we can pass them on

---

**Wayne Patton** (2025-04-08 18:18):
The original question from Kroger was:

```"Do you know if there is a way for Suse Observability to automatically add a new cluster stackpack if it starts reporting to it? I hate to have to automatically add new clusters when they get deployed."```

---

**David Noland** (2025-04-08 20:49):
Do we at least plan on dropping the mandatory license key soon? We get quite a few support cases for this.

---

**David Noland** (2025-04-09 00:15):
When will "Ideas" be rolled out so we can track customer RFEs?

---

**Michael Bukva** (2025-04-09 04:34):
What is the support and "direction" for using/pitching SUSE Observability to customers with Openshift k8s clusters?

The only existing public docs, still Stackstate-branded, describe integrating Openshift with the SAAS version of SUSE Observability (that is in the quick-start guide) and then there is a separate section for setting up Observability within Rancher Prime which mentions rke2 and the three big hyperscalers' k8s-aas but not Openshift.

Just want to understand what is and isn't supported and in what mode of operation. Sort of thing a support matrix would do.

---

**Bram Schuur** (2025-04-09 09:10):
FYI @Louis Lotter: I put a task on our backlog to contact @Davide Rutigliano you when we are ready. https://stackstate.atlassian.net/browse/STAC-22641

---

**Mark Bakker** (2025-04-09 13:05):
In the future SCC will be leading with the registering of Rancher managers to it and getting the entitlements from it. This however is not in the short term for Observability yet.

---

**George Yao** (2025-04-09 13:16):
Hi team, one prospect is asking if Observability is configurable to integrate with external database rather than using its own database like Victoria Metrics,ElasticSearch, ClickHouse, StackGraph. Or do we have the  plan to support this in future.

---

**Frank van Lankvelt** (2025-04-09 13:21):
SUSE Observability neither has that capability nor the intention to support that.  We tried that in the past, but that ties us down the lowest common denominator and severely limits the functionality that can be provided.

---

**George Yao** (2025-04-09 13:38):
OK, understood. Thanks for your reply.

---

**Mark Bakker** (2025-04-09 13:41):
From a technology point of view we support OpenShift and have multiple customers observing OpenShift.
From a licensing perspective this is supported if they import the clusters in Rancher since we support any workload managed by Rancher Prime.

---

**Michael Bukva** (2025-04-09 13:46):
Right, that’s reasonable and what I’d hoped for. @Lasith Haturusinha

---

**Dawid van der Merwe** (2025-04-09 15:21):
Hi Team, do we have a SUSE version, and a more recent version, of this document? - https://assets.ctfassets.net/ud9dfq0vudar/37BRx9BHbuhsZ5V6VFkPrD/b542c8c6758de459eed29cbb396acb4b/StackState_Technical_Overview_-_Q1_2021.pdf

+

https://assets.ctfassets.net/ud9dfq0vudar/7dNTFzy4LwD6RZrh5LmgST/005e98b636c597b358146ba762b9ca08/Data_Sheet_-_4T_Data_Model_-_November_2020.pdf

+

https://516677.fs1.hubspotusercontent-na1.net/hubfs/516677/stackstate-observability-maturity-model.pdf

---

**Erico Mendonca** (2025-04-09 21:22):
What would cause the nodes to be reported as "Not Ready" in Observability even though they are also "Clear" and "Healthy", with dozens of running workloads and available resources?

---

**Jeroen van Erp** (2025-04-09 21:27):
The status column is coming from kubernetes,

---

**Erico Mendonca** (2025-04-09 21:28):
but...
```[root@rancher03 ~]# kubectl get nodes
NAME        STATUS   ROLES                       AGE   VERSION
rancher02   Ready    <none>                      33d   v1.30.6+rke2r1
rancher03   Ready    control-plane,etcd,master   39d   v1.30.6+rke2r1
[root@rancher03 ~]# ```

---

**Erico Mendonca** (2025-04-09 21:31):
and if I open the "Node Readiness" monitor on one of the nodes... :confusedparrot:

---

**Erico Mendonca** (2025-04-09 21:33):
Is this a Schroedinger's node? :schrodinger_cat:

---

**Jeroen van Erp** (2025-04-09 21:40):
Can you check in the metrics explorer: `kubernetes_state_node_by_condition{condition="Ready"}`

---

**Jeroen van Erp** (2025-04-09 21:42):
@Remco Beckers @Bram Schuur Might be one for you guys to look at tomorrow

---

**Erico Mendonca** (2025-04-09 21:43):
From the mouse over text:
```kubernetes_state_node_by_condition {kubelet_version="v1.30.6+rke2r1", container_runtime_version="<containerd://1.7.22-k3s1>", sts_host="rancher02-worker01", interval="0", condition="Ready", status="true", kernel_version="5.14.0-565.el9.x86_64", node="rancher02", os_image="CentOS Stream 9", cluster_name="worker01"}```

---

**Alejandro Acevedo Osorio** (2025-04-10 00:01):
Seems like the same issue https://suse.slack.com/archives/C07CF9770R3/p1744154187179919 (https://suse.slack.com/archives/C07CF9770R3/p1744154187179919)

---

**Erico Mendonca** (2025-04-10 00:35):
It seems I don't have access to the link you provided.

---

**James McKenzie** (2025-04-10 05:27):
Were you ever to get this figured out.  I am having the same issue through ingress setup on a new cluster, fresh install.

---

**James McKenzie** (2025-04-10 05:34):
never mind, tried the incognito and it worked.  Now just need a reg code

---

**Alejandro Acevedo Osorio** (2025-04-10 09:17):
It would be nice to collect the component data. You can do that in the right hand side panel. On the 3 dot menu there’s an option to get the component JSON representation and there I can inspect what we get from k8s

---

**Lukasz Marchewka** (2025-04-10 09:42):
Hi @Saurabh Sadhale , can you share the status

---

**Saurabh Sadhale** (2025-04-10 09:46):
Apologies I have been busy with other issues. I will share details today. I have an OCP cluster setup have not installed stackstate yet.

---

**Nick Zhao** (2025-04-10 10:39):
hi team, our customer has certs assigned by internal microsoft enterprise ca provider server.  they required for using this cert for o11y deployment, how can we do with the external cert files?  thanks

---

**Alejandro Acevedo Osorio** (2025-04-10 10:41):
@Erico Mendonca after investigating how we derive that `node.status` column I see that the source data we use to derive it has some issues. We have a bug ticket to fix that https://stackstate.atlassian.net/browse/STAC-22603 ... the metrics that @Jeroen van Erp mentioned are corrected, and our monitor works with those metrics thus the health state `CLEAR`

---

**Davide Rutigliano** (2025-04-10 10:46):
Hello team, one clarification about SUSE observability agent and stackpacks. We have a SUSE observability cluster to which we plan to connect multiple RKE2 clusters (harvester, rancher and downstream clusters in OpenPlatform). As our list of cluster names could change over time, is it possible to connect SUSE observability agents deployed in a cluster to SUSE Observability receiver without manually adding the stackpack?

---

**Davide Rutigliano** (2025-04-10 10:50):
As I understood the `stackstate.stackpacks.installed` parameter in SUSE observability helm chart allows to pre-configure stackpacks at install time. While this could be enough and we can artifact some automation in our pipelines to fetch the list of cluster names, we were wondering if there is any way to make stackpacks installed dynamically (i.e., when a new agent connects to the receiver)?

---

**Ravan Naidoo** (2025-04-10 10:56):
SUSE Observability does not have this capability out of the box. I think this functionality can be easily achieved with a custom helm chart that depends on  the agent chart.  The custom chart has  job to run the CLI to register the Kubernetes StackPack instance with the backend.

---

**Saurabh Sadhale** (2025-04-10 11:02):
@Lukasz Marchewka please confirm do i add only in the openshift-values.yaml file whhile installing ?

```clickhouse:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false```

---

**Jeroen van Erp** (2025-04-10 11:13):
```    /usr/local/bin/sts stackpack install --name kubernetes-v2 --url $url --service-token $service_token -p "kubernetes_cluster_name=$cluster_name" --unlocked-strategy fail```

---

**Jeroen van Erp** (2025-04-10 11:14):
And to create a dedicated ingestion (receiver) API key:

```  resp=$(/usr/local/bin/sts ingestion-api-key create --name $cluster_name -o json --url $url --service-token $service_token)
  echo $resp | jq -r '."ingestion-api-key".apiKey'```

---

**Mikhail Nikitin** (2025-04-10 11:26):
Wondering if we have any competitive analysis on https://github.com/coroot/coroot

It's an open-source eBPF-based observability tool that looks like does a lot of what we do in a similar fashion plus has some nice options on top like cloud cost monitoring that we don't have

---

**Davide Rutigliano** (2025-04-10 11:46):
this also requires to generate a dedicated service token (with sts cli) for each agent, correct?

---

**Jeroen van Erp** (2025-04-10 11:47):
Service token you only need one, that’s needed for the API that you as a user (or your automation) interacts with.

The Ingestion API Token (hihglighted above) is what the Agent uses to connect to the receiver API

---

**Davide Rutigliano** (2025-04-10 12:04):
thanks @Jeroen van Erp, I am giving it a try but I hit another issue in the meantime (and stackpack is pending in installing phase). I see `suse-observability-sync`  is continuously restarting and logging:
```exec /usr/bin/tini: exec format error```

---

**Davide Rutigliano** (2025-04-10 12:04):
is that a known issue / something related ?

---

**Jeroen van Erp** (2025-04-10 12:04):
stackpack == pending is good, meaning it’s waiting to receive data

---

**Jeroen van Erp** (2025-04-10 12:05):
It will go into green once there’s incoming data

---

**Davide Rutigliano** (2025-04-10 12:05):
it's "installing"

---

**Jeroen van Erp** (2025-04-10 12:05):
Ahh… first time can take a few secs (30+)

---

**Davide Rutigliano** (2025-04-10 12:05):
btw it was working til couple of days ago

---

**Jeroen van Erp** (2025-04-10 12:06):
Not sure about the sync service @Alejandro Acevedo Osorio?

---

**Davide Rutigliano** (2025-04-10 12:06):
I think that is breaking some flow, as the stackpack is installing since &gt;10m

---

**Davide Rutigliano** (2025-04-10 12:12):
Maybe this is also related?
`*api* 2025-04-10 10:00:49,361 ERROR c.s.security.authenticators.PersonalTokenAuthenticator - Personal API Token &lt;XXX&gt; is unknown`

---

**Remco Beckers** (2025-04-10 15:02):
That looks like the replica count for clickhouse is only 1 but should be 3.

---

**Remco Beckers** (2025-04-10 15:02):
So that sounds like a weird bug on our helm chart

---

**Remco Beckers** (2025-04-10 15:03):
That or 2 out of the 3 clickhouse pods are not starting up properly.

---

**Remco Beckers** (2025-04-10 15:03):
Could you check if that's the case?

---

**Remco Beckers** (2025-04-10 15:05):
Never mind, I see you shared the entire package

---

**Marc Rua Herrera** (2025-04-10 15:09):
That's a new set of logs after we tweek some stuff. Restart pods, redeploy Clickhouse and increase sync pods resources as it (didn't have enough resources)

---

**Remco Beckers** (2025-04-10 15:14):
I see one thing that is the likely cause for the traces api not working: the 4000-nonha profile disables traces in the api. Can you check in the generated `sizing_values.yaml` and remove the `traces: false` setting from the `experimental` section? It beats me why that is in there (it is in non of the other profiles)

---

**Marc Rua Herrera** (2025-04-10 15:15):
:thumbs-up:

---

**Remco Beckers** (2025-04-10 15:19):
Another thing that may be causing problems (and I can't see what is causing that) is that the otel-collector pod has trouble connecting to the api pod. It only succeeds occassionally, while most of the time it gives this error. But I see that the api was restarted very recently, so that might well be the cause (the last call succeeded again)

---

**Marc Rua Herrera** (2025-04-10 15:51):
Just tested it. It was the `stackstate.experimental.traces=false`

---

**Remco Beckers** (2025-04-10 15:54):
I thought so. That was a nice little bug that snuck in when setting up the 4000 profile (none of the other profiles had that)

---

**Erico Mendonca** (2025-04-10 17:59):
Here's the JSON.
``````

---

**Alejandro Acevedo Osorio** (2025-04-10 18:01):
Thanks, it does match with the issue that the ticket https://stackstate.atlassian.net/browse/STAC-22603 describes.

---

**Sam Chen** (2025-04-11 04:09):
hi there, we have a customer wants to know can we setup notification mail group by LDAP?

---

**andy.wu** (2025-04-11 05:07):
Hi Team
Is there any way to put the results of Metrics query through PromQL on views?
We have a customer who wants to customize icons, like grafana.

---

**Lasith Haturusinha** (2025-04-11 06:41):
Hi Team,
We've got few questions regarding SUSE Observability. Appreciate if someone can provide some context/answers to them :slightly_smiling_face:

1. Can the agent be installed in another way rather than using Rancher UI? Can we automate this to deploy multiple clusters?
2. What customizations we can do with SUSE Observability and how it is been done? how they can be customised to behave in certain ways based on things like thresholds?
3. Can we create custom dashboards?
4. Is there a way to define SLO?
5. Can the markers be labelled? how long do they persist? Are they visible to other users once it is set?
6. What IaC options do you have for configuring/customising your observability stack (eg. is there a terraform provider?)
If one requires me to send an email with all of the questions above, please let me know. Thanks in advance :)

---

**Amol Kharche** (2025-04-11 06:59):
1. Can the agent be installed in another way rather than using Rancher UI? Can we automate this to deploy multiple clusters?
--&gt;  Here is the sts cli command that you can be used into you gitops.
```sts --url YOUR_SO_URL --api-token YOUR_SO_TOKEN stackpack install -n kubernetes-v2 -p kubernetes_cluster_name=YOUR_CLUSTER_NAME```

---

**Lasith Haturusinha** (2025-04-11 07:31):
Thanks @Amol Kharche...appreciate your reply to the 1st question :slightly_smiling_face:

---

**Frank van Lankvelt** (2025-04-11 07:49):
Maybe it's easier to track the questions by putting them each in a separate thread?

---

**Lasith Haturusinha** (2025-04-11 07:50):
Thanks @Frank van Lankvelt, I'll put them separately now

---

**Lasith Haturusinha** (2025-04-11 07:51):
As suggested, dropping the above questions separately....starting with the 2nd :slightly_smiling_face:
2) What customizations we can do with SUSE Observability and how it is been done? how they can be customised to behave in certain ways based on things like thresholds?

---

**Lasith Haturusinha** (2025-04-11 07:51):
3) Can we create custom dashboards?

---

**Lasith Haturusinha** (2025-04-11 07:52):
4) Is there a way to define SLO?

---

**Lasith Haturusinha** (2025-04-11 07:52):
5) Can the markers be labelled? how long do they persist? Are they visible to other users once it is set?

---

**Lasith Haturusinha** (2025-04-11 07:52):
6) What IaC options do you have for configuring/customising your observability stack (eg. is there a terraform provider?)

---

**Frank van Lankvelt** (2025-04-11 07:53):
this is precisely what we're working on now, under the moniker "dashboarding".  It is already possible to create custom graphs by making your own stackpack.  With a metric binding, a promql query can be bound to a component.  There is even a limited amount of configurability for the placement of these graphs.

---

**Frank van Lankvelt** (2025-04-11 07:58):
Most of the UI elements are driven by configuration out of stackpacks.  Also monitors and their default thresholds.  Some monitors inspect annotations on components and use these to override the defaults.

---

**andy.wu** (2025-04-11 08:03):
Hi @Frank van Lankvelt Thank you for your reply.
So what you are saying is that in the future there will be a new feature called “dashboarding” that will allow customers to customize their visual charts right?

---

**Remco Beckers** (2025-04-11 08:20):
Even now they can already add metric charts to components (to be precise to the `metrics` perspective of a component, see https://docs.stackstate.com/metrics/custom-charts/k8s-add-charts.

Dashboards will allow a user to create a collection of charts (and other widgets) like in Grafana

---

**Remco Beckers** (2025-04-11 08:22):
Do you mean that they want SUSE Observability to use these certificates to provide HTTPS endpoints?

---

**Remco Beckers** (2025-04-11 08:25):
The recommended way is to setup an ingress controller that  handles the TLS encryption. Then configure an ingress for SUSE Observability and provide the certificates as the TLS secret: https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-via-the[…]e-observability-helm-chart (https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress#configure-ingress-via-the-suse-observability-helm-chart).

SUSE Observability itself doesn't support HTTPS directly

---

**Remco Beckers** (2025-04-11 08:26):
SUSE Observability can send notifications via e-mail. So if you configure it to send the email to the mail group I think that should work.

---

**Frank van Lankvelt** (2025-04-11 08:42):
A thread about this just started in the channel. Tldr: not as user yet, developers can.  But it's under active development.

---

**Frank van Lankvelt** (2025-04-11 08:50):
the markers are not persisted - so I think they just last a single browser session - maybe not even that.  The timerange and instant of the "topology timeline" ARE persisted in the URL.  So you can easily share the view at a particular instant and others will see the exact same state.

---

**Mark Bakker** (2025-04-11 08:55):
For the monitor to set custom thresholds, see:
https://docs.stackstate.com/monitors-and-alerts/customize/k8s-override-monitor-arguments
To add custom charts:
https://docs.stackstate.com/metrics/custom-charts/k8s-add-charts
For the rest I like the question to be more specific. What does your customer/ prospect like to adjust/ add?

---

**Mark Bakker** (2025-04-11 08:56):
They are per session (browser)

---

**Nick Zhao** (2025-04-11 09:02):
alright，let me have a try. thanks

---

**Ravan Naidoo** (2025-04-11 09:03):
To understand UI elements mentioned by Frank, see
https://github.com/ravan/suse-observability-guides/blob/main/guides/suse/observability/view-customization/README.md

---

**Ravan Naidoo** (2025-04-11 09:06):
See https://docs.stackstate.com/metrics/custom-charts/k8s-add-charts.

For a practical example, see https://github.com/ravan/suse-observability-guides/blob/main/guides/suse/virtualization/metrics/README.md#step-4-adding-custom-dashboard-charts

---

**Ravan Naidoo** (2025-04-11 09:19):
The is no terraform provider.  But you can wrap the CLI to perform tasks.

For examples see https://github.com/SUSE/lab-setup/tree/develop/scripts#suse-observability

---

**Lasith Haturusinha** (2025-04-11 10:14):
Thanks @Ravan Naidoo. This may sound as a silly question, but is there a way to answer this question in a way to say why there's no IaC options for Observability? the reason behind...I don't know whether there's any such options for other tools.

---

**Lasith Haturusinha** (2025-04-11 10:15):
Thank you both @Frank van Lankvelt and @Ravan Naidoo. That'll help for now.

---

**Lasith Haturusinha** (2025-04-11 10:17):
Thanks @Frank van Lankvelt and @Mark Bakker. Appreciate it very much and it makes sense. The customer loved the "marker" functionality for troubleshooting....

---

**Ravan Naidoo** (2025-04-11 10:22):
There are many different provisioning tools over the years (Ansible, Salt, Puppet,  Terraform, Pulumi, etc.)  and CI/CD pipelines (Jenkins, AzureDevops, Github Actions, ArgoCD,  etc.) with each org having their own preference. As a small team there is no time cater for them all, so by having the CLI, people are free to wrap it however they like.   So the CLI is the driver.  As for the “as-code” part, all SUSE Observability configuration can be expressed in a yaml format. Example of a Monitor:

```_version: 1.0.85
nodes:
- _type: Monitor
  arguments:
    comparator: GTE
    failureState: DEVIATING
    metric:
      aliasTemplate: metric absent
      query: absent_over_time(stackstate_agent_running{sts_host=~"susecon-frb-cluster.*"}[1m]) or vector(0)
      unit: short
    threshold: 1.0
    urnTemplate: urn:cluster:/kubernetes:susecon-frb-cluster-0
  description: Agent has not sent data in 1 minute
  function: {{ get "urn:stackpack:common:monitor-function:threshold"  }}
  id: -13
  identifier: urn:custom:monitor:agent-connection-lost
  intervalSeconds: 60
  name: Agent connection lost
  remediationHint: |-
    No data received from agent.
    - Check network connectivity
    - Check agent deployed on observed cluster using Rancher Manager
  status: ENABLED
  tags:
  - agent```

---

**Lukasz Marchewka** (2025-04-11 12:46):
@Saurabh Sadhale is it ready

---

**Saurabh Sadhale** (2025-04-11 12:47):
I have an OCP cluster however facing other difficulties installing SUSE Observability on it.

---

**Saurabh Sadhale** (2025-04-11 12:47):
Let me know if I can share the details here.

---

**Saurabh Sadhale** (2025-04-11 12:47):
URL: https://console-openshift-console.apps.am970cxfa69043732c.southindia.aroapp.io/

Username: kubeadmin
Password: bRUaF-mu7cs-86Fnf-E5dwc

---

**Lukasz Marchewka** (2025-04-14 09:19):
@Saurabh Sadhale I want to continue this openshift problem, but I see the app is uninstalled. I have access to the cluster but maybe it would be better if you can install the app and then I will fix it. Otherwise I can install it myself but I don't have experience with Openshift so I can brake sth on. Who is the owner of the cluster ?

---

**Saurabh Sadhale** (2025-04-14 09:21):
@Lukasz Marchewka I am owner. 

I will try to complete the installation as soon as possible. I apologise for this delay.

---

**Bram Schuur** (2025-04-14 09:50):
@Davide Rutigliano about the `exec /usr/bin/tini: exec format error`. Could it be that pod landed on an arm64 node or something? Google tells me this error pops up when running on a different architecture

---

**Dawid van der Merwe** (2025-04-14 09:53):
Hi Team, does anyone have a POC or a Software Test template for Observability? A client needs to test Observability before they can accept and deploy in their estate? Help would be appreciated.

---

**Remco Beckers** (2025-04-14 10:00):
You can define your own (metric) monitors to define SLOs on certain components.

---

**Davide Rutigliano** (2025-04-14 11:32):
@Bram Schuur all nodes are amd64

---

**Bram Schuur** (2025-04-14 11:54):
Could you give the exact docker URL of the image? I'll see whether i can reproduce locally

---

**Davide Rutigliano** (2025-04-14 12:16):
`registry.rancher.com/suse-observability/stackstate-server:7.0.0-snapshot.20250312150320-master-1f9655b-2.5 (http://registry.rancher.com/suse-observability/stackstate-server:7.0.0-snapshot.20250312150320-master-1f9655b-2.5)`

---

**Bram Schuur** (2025-04-14 13:40):
I am at a loss then, that exact image is running fine for me locally aswell as in our cloud

---

**Nick Zhao** (2025-04-14 14:03):
hi team, do we support to watch the crd?

---

**Bram Schuur** (2025-04-14 14:34):
Right now we do not. It is on the roadmap, but I don't know exactly where

---

**Louis Lotter** (2025-04-14 14:35):
@Ravan Naidoo @Jeroen van Erp How is this normally approached ?

---

**Ravan Naidoo** (2025-04-14 14:48):
@Louis Lotter I’ve answered Dawid via mail already.

In general, attached is an old template that we used to use for StackState Pocs before only concentrating on Kubernetes. We used to do Pocs that needed detailed planning. When we switched to Kubernetes, customers just put the product through its paces internally. Platform Engineering teams are pretty opinionated and know what they want. We hardly ever got involved so I don’t have any up to date documents for that.

The attached PocExampleScenarios is just examples of what a prospect could potential use to evaluate. But these things are really driven depending on the customer and their teams needs.

---

**Gabriel Lins** (2025-04-14 15:04):
Hello, team. Could us generate a trial code to a customer test observability's install during a PoC? What's the best procedure in this case?

---

**Louis Lotter** (2025-04-14 15:17):
@Mark Bakker Does the scc handle this ? or do I step in ?

---

**Louis Lotter** (2025-04-14 15:18):
or should this just come from that spreadsheet I generated ?

---

**Louis Lotter** (2025-04-14 15:19):
the
```Partner &amp; Prospect Trial licenses```
doc

---

**Mark Bakker** (2025-04-14 15:25):
I don't know the process for trial for customers the partner sheet is only for partners mainly. Best to ask in <#C02AYV7UJSD|> channel.

---

**Gabriel Lins** (2025-04-14 15:56):
Does this partner spreadsheet contain a collection of licenses or just one? What is the validity period of each one? Since we have a partner connected to this customer, maybe they could provide the license. By the way, I asked in <#C02AYV7UJSD|> and am waiting for the correct approach. Thanks!

---

**Mark Bakker** (2025-04-14 16:00):
Best to ask @Meriem Ahmed-Wolters to get a trial license for partners she manages them

---

**Nick Zhao** (2025-04-14 18:15):
I hope it could be released asap since our many prospects require it.

---

**Masashi Homma** (2025-04-15 08:14):
Hello team, according to comment from thread https://suse.slack.com/archives/C079ANFDS2C/p1724207127214089, we can enter rancher FQDN into SUSE Observability URL. But it causes attached error. What URL should I use?

---

**Wilco van der Stek** (2025-04-15 08:34):
Despite the url message, you need to remove https://

---

**Masashi Homma** (2025-04-15 08:40):
Thank you! But another error occurs. I am using WLJWJ-5V5CF-NR1FA for service token.

---

**Ravan Naidoo** (2025-04-15 09:18):
Refer to Installing UI Extensions (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#installing-ui-extensions) in the docs.  You can follow the `Obtain a Service Token`  section to create a token that you can use.

---

**Masashi Homma** (2025-04-15 09:28):
Thank you. The document says "Log into the SUSE Observability instance". How to log in it?

---

**Jeroen van Erp** (2025-04-15 09:42):
@Masashi Homma The key you’re now entering is the license key, not the service token. Different thing altogether :slightly_smiling_face:

---

**George Yao** (2025-04-15 10:26):
Hi Team, A quick question, does SUSE Observability support to configure custom sizing.profile like `30-nonha` otherwise customer has to follow `50-nonha`  size to build Observability Server cluster.

---

**Bram Schuur** (2025-04-15 10:37):
The platform supports exactly the profiles that are listed on the docs (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#requirements), no others (so no `30-nonha`)

---

**Marc Rua Herrera** (2025-04-15 12:25):
Hey! I’m trying to pull all events for some stats we need from the Rabobank environment. If I remember right, we used to have an API for that—something like `http://.../api/events`—but I don’t remember the exact URL and can’t access it now.
Is the API still available? Could someone remind me of the correct URL?

---

**Bram Schuur** (2025-04-15 12:27):
Hey Marc, will you be accessing this api one-off or use it as part of their solution? Right now the events api is not for consumption by customers, hence why i am asking.

---

**Marc Rua Herrera** (2025-04-15 12:48):
For now is just one time use. It will not be part of any recurrent scripting.

---

**Marc Rua Herrera** (2025-04-15 12:49):
They want to some statistic, for example how often a specif component flips to a critica state in a time window

---

**Bram Schuur** (2025-04-15 12:51):
the openapi spec can be found here: (for your eyes only, please do not let customer go and integrate with this, many of these apis are internal): https://gitlab.com/stackvista/platform/stackstate-openapi/-/blob/master/spec/openapi.yaml

---

**Ben Craft** (2025-04-15 14:15):
Please would it be possible for a tenant to be created on the cloud serviceability instance for rancher saas?

Id like to utilise observability in the client clusters, which for now is only short lived staging instances, once we get a volume of customers im happy to set up observability in our management controlplane to remove the load from your cloud instance. However for now it would be greatly appreciated if I could just focus on the client side.

Thank you!

---

**Jorn Knuttila** (2025-04-15 22:20):
Just to confirm. SUSE Observability currently does *not* support ARM on either server or downstream, correct?

---

**Thiago Bertoldi** (2025-04-15 23:00):
Hey! Did anything change in registry.rancher.com (http://registry.rancher.com)?
Yesterday I was able to
`docker pull registry.rancher.com/suse-observability/sts-opentelemetry-collector (http://registry.rancher.com/suse-observability/sts-opentelemetry-collector)`
but today I had to specify the version
`docker pull registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.14 (http://registry.rancher.com/suse-observability/sts-opentelemetry-collector:v0.0.14)`

---

**Louis Lotter** (2025-04-16 08:39):
No but we are currently working on this

---

**Mark Bakker** (2025-04-16 08:50):
To be clear we are working on the Agent as we speak an the server is planned later this year.

---

**Remco Beckers** (2025-04-16 10:29):
Not that I know. But I also wasn't aware there was a `latest` version published for our docker images.

Maybe something changes in the rancher registry setup itself?

---

**Remco Beckers** (2025-04-16 10:33):
I just checked and we only publish specific tags

---

**Lukasz Marchewka** (2025-04-16 13:03):
@Saurabh Sadhale I have installed clickhouse to your OpenShift cluster (`ch-test` namespace) and it works correctly. I had to disable SC for clickhouse
```clickhouse:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false```
and SC for clickhouse backup, it isn't possible to disable via values so I had to disable it manually in the helm chart. Now I'm going to add to the helm chart. Eventually I wasn't able to reproduce your problem. Can you help me to reproduce it ?

---

**Jorn Knuttila** (2025-04-16 14:22):
Thanks, gentlemen

---

**Jorn Knuttila** (2025-04-16 14:23):
Idea: This very much feels like something that should be in the requirements section of the documentation. Agreed?

---

**Nick Zhao** (2025-04-17 04:49):
Hi team, IHAC who are doing o11y POC, can we replace the trial lic key to the formal one when finished the ordering without re-deployment?  if so, how to do that?  Thanks a lot.

---

**Rajesh Kumar** (2025-04-17 05:16):
Hi @Alejandro Acevedo Osorio When can we expect the fix? which version?

---

**Alejandro Acevedo Osorio** (2025-04-17 08:55):
Hi @Rajesh Kumar there's a version being prepared that includes the fix, but I'm not completely sure about the exact date. @Bram Schuur do we have an estimate?

---

**Bram Schuur** (2025-04-17 10:13):
The fix has been (silently) released with the latest 1.0.33 rolling release, published this morning, and will be announced with the next platform release (which is expected early next week).

---

**Saurabh Sadhale** (2025-04-17 15:42):
Okay let me circle back to this on Monday if that is fine by you. I will re-create the OCP cluster and once it’s done I will share the cluster details.

---

**Zia Rehman** (2025-04-17 17:56):
Hi everyone, I am trying to set up a notification channel using Slack and have been following these steps:
1. Created an app on the Slack API using a manifest — received the *App Client ID* and *App Client Secret*.
2. Created a `values.yaml` file containing the `app_client_id` and `app_client_secret`.
3. Executed the `helm upgrade` command with all the necessary `values.yaml` files.
4. Attempted to configure the Slack notification from the Observability UI.
    ◦ When I select the Slack channel and click *Choose Workspace*, I try to sign in by entering `my-workspace-name.slack.com (http://my-workspace-name.slack.com)`.
    ◦ However, I encounter the error (Screenshot attached).  
It seems I do not have the necessary permissions to create an app within Slack.
Could you please suggest how I should proceed further?
Alternatively, if a Slack notification channel or app has already been created that I could use for demonstration purposes, that would also work.

---

**Marc Rua Herrera** (2025-04-17 19:26):
Hi,
I’m looking into a security compliance issue in a customer’s Azure environment. The issue is being raised across all the *SUSE Observability node agent pods*, which are currently configured to share the `hostprocessID` and the `hostIPCnamespace`. This setup conflicts with the customer's security policies, which state that workloads should not share these host namespaces.
I assume this configuration is essential for monitoring purposes, but I need a bit more input to give the customer a proper answer.
• Why do the SUSE Observability node agents need access to the `hostprocessID` and `hostIPCnamespace`?
• Are these required for the agent to function correctly?
• If disabled, would it impact SUSE Observability’s behavior or visibility?
• Is there an alternative that avoids sharing these host namespaces?

---

**Brian Six** (2025-04-18 00:23):
What is the approx storage needed for approx 600 downstream servers over a 2 week period?

---

**Remco Beckers** (2025-04-18 08:38):
When the license keys is about to expire (2 weeks before I believe) a dialog will be shown right after logging in where the new license key can be provided.

If you want to update the license key before that moment there is no UI for that but you can do it using the CLI using the `sts license update --key &lt;new-key&gt;` command. See our docs for how to get the CLI https://docs.stackstate.com/cli/cli-sts.

---

**Remco Beckers** (2025-04-18 08:38):
This won't require a restart

---

**Remco Beckers** (2025-04-18 08:39):
To set that up you indeed need admin access for the workspace which we don't have for the SUSE Slack.

---

**Remco Beckers** (2025-04-18 08:40):
We had that on our old stackstate Slack however which is where we developed and tested it.

The easiest way to demo it is to use one of our saas tenants which has this pre-configured. But if you need to set it up yourself I think the quickest way is to create your own Slack workspace and use that

---

**Bram Schuur** (2025-04-18 09:30):
Hey Marc, the short answer here is: we need this access to provide the experience we give today. We did an effort end last year to reduce the amount of permissions we need for the node agent, so I'm reasonably confident they are 'minimized'.

The longer answer is: we might take a fresh look at these two exact permissions, especially the hostIPCnamespace one is suspect to me, i cannot come up with a place we would need that. The hostPID i am very sure we need, however, we might investiagte whether we can gimp the agent in some way that keeps it functional (no guarantees there, connection correlation typically needs a host-wide view of network traffic, including the processes).

This is all quite a bit of work though, because we need to reevaluate the entire functioning of the agent. I can make a story for this but I cannot guarantee it will be picked up. What is the urgency here?

Side-question: is the customer using `nodeAgent.scc.enabled=true`? (are they on openshift?)

---

**Marc Rua Herrera** (2025-04-18 09:55):
Just to clarify — if I understand correctly, these permissions allow the SUSE Observability agent (running in a container) to access process IDs and IPC information from the host. This implies some level of data crossing from the container to the host, which breaks strict isolation.

That said, in most cases the data is sent to StackState, which is running in the same cluster — meaning the traffic stays within the same virtual network and environment.

Is there any argument I could use to justify that this setup is still reasonably safe? For example, can we say that because everything runs within the same isolated network boundary and doesn’t leave the cluster, the risk is limited? Any input that could help me position this in a more acceptable way from a security perspective would be appreciated.

---

**Bram Schuur** (2025-04-18 09:58):
If the platform is running in the same cluster this for sure is true (the collected traffic will travel only between agent and platform). This depends on how the platform is exposed though (i we send the traffic through an web-based ALB the traffic will actually go on the web and back into the smae cluster).

---

**Bram Schuur** (2025-04-18 10:02):
I will write the story you request. Are there other permissions the customer does not want to allow? Our process agent also runs privileged with enabled. If the really do not want our agent to see antyhing on the host that is also bad: https://kubernetes.io/docs/concepts/security/pod-security-standards/ and makes me want to have a chat about this, because our OOB functionality just requires the agent to look at host/other pods so basically 'breaching' security up to a point. I'd also not call our agent a workload but agent really, so it should be regarded an infrastructure component rather than a isolated pod doing some work

---

**Nick Zhao** (2025-04-18 11:57):
cool，thanks.  Remco :thumbs-up:

---

**Mark Bakker** (2025-04-18 12:21):
See https://docs.stackstate.com/get-started/k8s-suse-rancher-prime and then the storage section

---

**Marc Rua Herrera** (2025-04-18 14:14):
Not that I know. I believe these were raised automatically from Azure

---

**Benoît Loriot** (2025-04-18 14:24):
Hi, I work with a customer (large bank) on SO PoC. He did an internal presentation that went well.
A few questions arised, could you help me answer ?

• The http metrics are great, but how does it work? What does it do behind the curtains to get all those metrics regarding http per upstream/downstream pod (error, latency, throughput) and network throughput?
• We are concerned about the footprint. Do you have metrics regarding stress test or intense use cases to see what is the impact of collecting all this data on the observed cluster (CPU, memory and network consumption) and sending it to the observability cluster? Could it impact the applications running on the observed cluster (less network throughput, memory or CPU for them)?
• For the timeline feature, we can for example navigate through time to see the changes made on secrets and configmaps, does that mean that the observability cluster stores all versions of those file (storing secrets of observed clusters)? What exactly goes to the storage of the observability cluster and what does not?
Thanks !

---

**Bram Schuur** (2025-04-18 14:56):
The following story was filed: https://stackstate.atlassian.net/browse/STAC-22672, what customer is this for?

---

**Mark Bakker** (2025-04-18 14:59):
1. the metrics are gathered by inspecting all traffic between all processes in all pods and inspecting the calls to encryption libraries. After that the data is inside the kernel processed to get Error, Throughput and Latency out of of them. 
2. The impact on the applications is minimal &lt;3% overhead in normal cases. This is due too the fact that most is done with eBPF inside the kernel.
3. We do not store secrets, only the hash of a secret. For other files we only store the diff of each version like git also does it.

---

**Bram Schuur** (2025-04-18 15:00):
For a bit more in-depth info on eBPF (both how it works and the performance benefits) we have a blog post on the SUSE blog (hat-tip to @Mark Bakker): https://www.suse.com/c/ebpf-revolutionizing-observability-for-devops-and-sre-teams/

---

**Mark Bakker** (2025-04-18 15:08):
Hi @Shady Khattab is asking if we already know SUSE Observability works on Alibaba Cloud. I know you @Yash Tripathi are testing this. Next week I am out. Can you update @Shady Khattab if we know more?

---

**Lukasz Marchewka** (2025-04-18 15:18):
@Saurabh Sadhale I have updated doc how to install in on OpenShift: https://github.com/StackVista/stackstate-docs/pull/1606/files  can you test if it works. I have installed only ClickHouse with this changes it was ok

---

**Zia Rehman** (2025-04-18 15:26):
Thanks Remco.
Yeah, I tried creating a Slack workspace but seems it will be enabled by admin. I'll try if admin allows my workspace or else I'll use already created saas tenant.

---

**Jorn Knuttila** (2025-04-18 15:42):
I've tried something similar in the past and pretty much got a talk-to-the-hand from IT. (as it relates to Slack permissions)

---

**Remco Beckers** (2025-04-18 15:44):
Oh, I should have said: create your own slack organization (always get confused about workspace vs organization). I think you can simply do that entirely outside of the SUSE Slack account

---

**Jorn Knuttila** (2025-04-18 15:45):
yeah, make a `suse-tech-training.slack.com (http://suse-tech-training.slack.com)` or something instance on your own just so you can get those alerts/screencaps. :slightly_smiling_face:

---

**Brian Six** (2025-04-18 15:46):
Omg :-).  I looked at that page several times and missed that.   Sorry for asking about something so obvious :-).

---

**Benoît Loriot** (2025-04-18 15:50):
Thanks a lot guys !

---

**Mark Bakker** (2025-04-18 15:52):
@Brian Six no problem :slightly_smiling_face: It can happen

---

**Shaun Gardiner** (2025-04-18 15:53):
~Good day Observers,~
~Do I understand it properly SUSE Observability is now only available to customers through a support entitlement?  I know there was a period where there was a trial open to all customers but has that gone away?~

---

**Marc Rua Herrera** (2025-04-18 16:30):
This is Rabobank

---

**Yingluo Zhang** (2025-04-18 17:01):
Thank you for the  professional explanations. This has been invaluable for our technical presentations about SUSE Observability at client sites.:+1:

---

**Joel Endel** (2025-04-18 17:16):
Hi Team,

My Client is Playing around with SUSE Observability and wants to release it to their Dev teams, but they need the RBAC integration.

Is SUSE observability still on target for it's release with the Rancher RBAC integration hopefully sometime next month? Also what version of Rancher will be required, I'm assuming 2.11.

Thank you

---

**Shaun Gardiner** (2025-04-18 17:57):
I have been properly informed:
&gt; Unless something has changed, all Rancher Prime customers get SUSE Observability.

---

**Garrick Tam** (2025-04-18 18:41):
Here are the logs.

---

**Tom McGonagle** (2025-04-18 19:12):
Hello one of my customers is keen to use suse observability. They have installed the helm chart with their licesnse key from SCC but are still seeing locks in the interface. Is there any documentation on getting rid of the locks with a licensed version of suse observability?

---

**Garrick Tam** (2025-04-18 19:17):
I found previous discussion here --&gt; https://suse.slack.com/archives/C079ANFDS2C/p1735294445472839 and how to lower the retention period (https://docs.stackstate.com/self-hosted-setup/data-management/clear_stored_data).  I suggested this to customer.

---

**Alejandro Bonilla** (2025-04-18 19:19):
Is there someone that can help with a few questions around using Kafka with otel?

---

**Alejandro Bonilla** (2025-04-18 19:33):
How can we ingest metrics when an application is not running on k8s?

---

**Alejandro Bonilla** (2025-04-18 19:36):
Where are all our training resources to use, consume or customize SUSE Observability? We are about to hit a year after the Stackstate acquisition and this continues as a black box where we have little to no information, videos or content on how to help our customers.

---

**Frank van Lankvelt** (2025-04-18 19:37):
This is determined by the deployment mode, that's maybe still set to 'community'?

---

**Tom McGonagle** (2025-04-18 19:38):
How do you change the deployment mode from communitiy. Do you know of any documentation I could reference. Thank you very much

---

**Frank van Lankvelt** (2025-04-18 19:40):
SUSE observability exposes a Prometheus write endpoint, you can send any metrics to that.  And query them later using the promql api.

---

**Alejandro Bonilla** (2025-04-18 19:43):
where is that? the goal is to capture Kafka metrics, perhaps logs into observability.

---

**Alejandro Bonilla** (2025-04-18 19:43):
Where is that mentioned so I can have a look?

---

**Frank van Lankvelt** (2025-04-18 19:46):
https://docs.stackstate.com/metrics/advanced-metrics/k8s-prometheus-remote-write (https://docs.stackstate.com/metrics/advanced-metrics/k8s-prometheus-remote-write) has some info on the endpoint.  How best to scrape the Kafka metrics is probably best determined by yourself

---

**Tom McGonagle** (2025-04-18 19:48):
I searched the docs.stackstate.com (http://docs.stackstate.com) and came up dry on community setting.

---

**Frank van Lankvelt** (2025-04-18 19:56):
does the values.yaml have a key `stackstate.deployment.edition` that is set to `Community`?  Removing that should set it to the default, `Prime`.  That will also end up in the `suse-observability-server`  configmap.

---

**Alejandro Bonilla** (2025-04-18 19:56):
OK, all we need is the token and then configure the remote write in prometheus...

---

**Tom McGonagle** (2025-04-18 19:56):
Got it. Ill take alook

---

**Frank van Lankvelt** (2025-04-18 19:57):
I'm a bit puzzelled as this should be pretty much default behavior when deploying the helm chart manually

---

**Tom McGonagle** (2025-04-18 19:58):
My customer deployed SUSE Observability via the helmchart in Rancher. They did not deploy manually. Does that explain the behavior?

---

**Frank van Lankvelt** (2025-04-18 19:59):
ah, okay.  Yeah, I'm not very knowledgeable on that front I'm afraid

---

**Tom McGonagle** (2025-04-18 19:59):
Gotcha thank you

---

**IHAC** (2025-04-18 21:10):
@Garrick Tam has a question.

:customer:  Child Rescue Coalition

:facts-2: *Problem (symptom):*  
Customer has the following question/problem:
```We see our license in the SCC, however there is now way to enter it in the SaaS solution.
The agent helm chart values only point to an apiKey.
Where do we enter our license key?

Currently the Saas solution displays lots of key metrics with logs and requests that we register for Rancher Prime, which we already have.```
Does anyone know how to address above?  I try looking up SaaS in the documentation website and got Page not found --&gt; https://docs.stackstate.com/v/stackstate-saas

---

**Garrick Tam** (2025-04-18 22:28):
@Mark Bakker Disney had this feedback regarding this issue.
```I still there there should be better handling of this condition than a crash loop and an error buried in the logs. Can you open a feature request and/or bug for that?```
I suggested the following.  Can you please take it as a feature request from Disney?
```The overall product status can be more clear and possibly funnel up to a working UI.  However; I don't believe current method of implementation is a bug and don't believe our team will accept a bug report for this condition.  I will provide feedback to our engineer/product team with your concern and request a feature improvement for a better way to indicate overall deployment health.```

---

**Frank van Lankvelt** (2025-04-18 22:30):
Don't know much about it, just that auto-instrumentation does a decent job of creating producer/consumer spans.  And in SUSE Observability we connect those together to form a relation between the otel services in the topology.

---

**Garrick Tam** (2025-04-19 00:44):
I hope someone might confirm my suspicion.  While troubleshooting authentication, we had to enable debug logging following the recommendation here --&gt; https://docs.stackstate.com/self-hosted-setup/security/authentication/troubleshooting.  After we fixed the creation of custom role and was able to login with the custom role user, the UI became slow and some view don't load successfully.  Upon disabling debug logging, the loading bar is moving faster but topology continues to not load anymore.  The customer is running with an HA profile.  At this point, we addressed the authentication with custom role question but the UI became no longer useful with topology no longer loading.  I reviewed the components pod logs but didn't find any recurring exceptions.  Any quick way to restore topology view?

Can someone confirm if debug logging taxed the components to the point where maybe some of the data processing broken or cannot catchup?

Should I be fearful of employing debug logging to troubleshoot in the future?

---

**Garrick Tam** (2025-04-19 00:53):
Here's a screenshot of topology not loading.

---

**Garrick Tam** (2025-04-19 01:10):
Can someone confirm if "SUSE Cloud Observability" is the only Observability SaaS currently available?  Also, what is the licensing details for this solution? Any documentations, etc... available?

---

**Christian Frank** (2025-04-19 14:56):
Are we still on track for open-sourcing SUSE Observability?

---

**Yash Tripathi** (2025-04-21 08:11):
Sure, @Shady Khattab Currently trying to deploy suse-observability on ACK, will let you know how it goes

---

**Zia Rehman** (2025-04-21 09:31):
Ohh got it. Thanks Jorn and Remco I'll proceed with it.

---

**Saurabh Sadhale** (2025-04-21 09:56):
Hello <#C079ANFDS2C|> Is there a possibility to configure *DEFAULT* Telemetry time interval as explained below in the 5.1 documentation ?

https://docs.stackstate.com/5.1/configure/telemetry/custom_telemetry_interval

I don’t find this in 6.0 branch or SUSE Observability branch of the  documentation.  I am assuming something has changed.

---

**Shady Khattab** (2025-04-21 16:24):
Thank you so much ,looking forward

---

**Garrick Tam** (2025-04-21 20:02):
I spoke to Roberto at Child Rescue Coalition and gotten a clearer understanding of what's going on.
```Customer is accessing their POC on StackState SaaS via https://sts-16225955.app.stackstate.io and wants to get full access.  Currently, contents are blurred and states the message "Upgrade to Rancher Prime and enjoy faster troubleshooting".  See the limitations customer is trying to access in attached screenshots.  ```
@Chad McIntyre @Mike Nelson @christopher.malise @Al Kalafian Is this something the customer's account team can help with?
@Mark Bakker @Louis Lotter  Is stackstate SaaS still offer and available for this customer to fully trial and buy?

---

**Yash Tripathi** (2025-04-21 22:58):
I managed to deploy and play around with it with the following values
```zookeeper:
  persistence:
    size: 20Gi
clickhouse:
  replicaCount: 1
  persistence:
    size: 50Gi
elasticsearch:
  volumeClaimTemplate:
    resources:
      requests:
        storage: 100Gi
backup:
  configuration:
    scheduled:
      pvc:
        size: 20Gi
stackstate:
  stackpacks:
    pvc:
      size: 20Gi
  components:
    checks:
      tmpToPVC:
        volumeSize: 20Gi
    healthSync:
      tmpToPVC:
        volumeSize: 20Gi
    state:
      tmpToPVC:
        volumeSize: 20Gi
    sync:
      tmpToPVC:
        volumeSize: 20Gi
    vmagent:
      persistence:
        size: 20Gi```
did not have time for more extensive testing, but for now everything seems to be working fine
`alibaba has a 20Gi lower limit for volumes so the value overrides are important`

---

**Louis Lotter** (2025-04-22 09:03):
SaaS does not require a key. Keys are for on prem installations.

---

**Louis Lotter** (2025-04-22 09:03):
SUSE Cloud Observability is the only SaaS currently available

---

**Andreas Prins** (2025-04-22 09:21):
Yes indeed, this is a correct observation.
The customer is on the SaaS instance with particular limitations.

The customer should move to the full version, however this is on-prem for now That version is included in their subscription.

@Garrick Tam would this customer be okay with an on-prem version? of not @David Stauffer this is another customer where we can go for the full suse observability as a SaaS. I know Mark is working on a proposal however off this week. We could use CRC as a first one to try this out.

---

**Andreas Prins** (2025-04-22 09:22):
up to product to tune in.

---

**Bram Schuur** (2025-04-22 09:22):
Indeed, this feature did not carry to 6.0/7.0, due to the platform being a more out-of-the-box experience. I will write a ticket to reevaluate this choice. Got some questions to write a proper story:

What value would you like to change the default to?
Why is the current default not supporting your use-case?

---

**Saurabh Sadhale** (2025-04-22 09:26):
@Bram Schuur appreciate your update and confirmation. The customer who has raised the case would like to change it to 1 hour or 15 mins.

---

**Bram Schuur** (2025-04-22 09:27):
@Garrick Tam for sure debug logging will slow down the system, so if your issue is fixed, please proceed to remove the debug logging again. If the system remains slow, this could be due to some other changes, in that case, lets connect with a developer to see what is going on

---

**Saurabh Sadhale** (2025-04-22 09:29):
I will get back with an answer to the other question.

---

**Saurabh Sadhale** (2025-04-22 11:45):
@Bram Schuur Customer would prefer 1 hour. The default 6 hour interval is too broad with information. Customers only need most of the time the last hour or 15 minutes or so.

An additional question has popped up as well:

• Would putting a smaller interval also increase the performance in the GUI (loading times)?

---

**Bram Schuur** (2025-04-22 12:00):
Thanks for report, i filed the following ticket: https://stackstate.atlassian.net/browse/STAC-22677

---

**Saurabh Sadhale** (2025-04-22 12:00):
@Bram Schuur that is awesome. :smile:

---

**Saurabh Sadhale** (2025-04-22 12:10):
@Lukasz Marchewka appreciate your extended help on this. I will test a quick lab set-up on  ARO cluster and confirm

---

**Matt Farina** (2025-04-22 14:48):
Hello. I have a scale question. What are the current scale limit for observability? I'm looking at nodes and clusters.

---

**Bram Schuur** (2025-04-22 14:53):
Dear Matt, the current biggest instance we support is the 4000 'default nodes' instance, documented here: https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#requirements (there is also more information on how big a default node is)

---

**Garrick Tam** (2025-04-22 17:25):
Thanks for your review and feedback.  So far, Lumen has not opened a case to report the issue is continuing.  Let's hope the system was able to catch up and issue is no longer happening.

---

**Garrick Tam** (2025-04-22 17:33):
Customer does not want to stand up an on-prem Observability cluster; hence seeking to get full access to SaaS.

---

**Garrick Tam** (2025-04-22 17:49):
I spoke too soon.  Customer just open a new case reporting the symptom still exists.  The description.
```when attempting to view components (e.g clusters, pods, etc.), the observability dashboard is taking time to load and sometimes displays a "something went wrong" message.```

---

**David Stauffer** (2025-04-22 17:59):
Hi, thanks for highlighting it. Agreed, that they could be a great first customer and catalyst. @Mark Bakker is already working on it. Happy to have a meeting and discuss how to proceed with the customer.

---

**Garrick Tam** (2025-04-22 23:13):
@David Stauffer I'm confused.  Did you want to have a call with me or with the customer or with Engineering?

---

**George Yao** (2025-04-23 03:37):
Hi Team, partner requested a NFR subscription to install SUSE observability, but it prompted an error to ask enter a valid license key when login, please help to check why the registration code is not valid. Thanks.

---

**Amol Kharche** (2025-04-23 04:42):
The valid license key should be in ABCDE-ABCDE-ABCDE format.
Which license key you are using and what is the customer name? I can recheck in SCC portal.

---

**George Yao** (2025-04-23 05:06):
The partner used the registration code in the snapshot, please help to check the partner name `Beijing RayooAIOps Technology Co.Ltd`

---

**Amol Kharche** (2025-04-23 05:10):
That's not valid key and can see the same key associated with suse observability in SCC portal.
Could you please post question in <#C02AYV7UJSD|>, They will assist you to correct key.

---

**George Yao** (2025-04-23 05:15):
OK, I will. Thanks for your checking.@Amol Kharche

---

**David Stauffer** (2025-04-23 08:33):
With the customer.

---

**Louis Lotter** (2025-04-23 09:35):
Thanks Amol

---

**Vladimir Iliakov** (2025-04-23 13:22):
Hi Zia, these warnings are "normal" and should be ignored. They are caused by the 3-rd party subcharts and, unfortunatelly, not easy to fix.

---

**Amol Kharche** (2025-04-23 13:22):
https://suse.slack.com/archives/C079ANFDS2C/p1720694723817009?thread_ts=1720694195.839709&amp;cid=C079ANFDS2C

---

**Zia Rehman** (2025-04-23 13:24):
Got it, thanks @Vladimir Iliakov and @Amol Kharche.

---

**Jan Bruder** (2025-04-23 16:49):
Hi team, what are the correct steps to request a license key for a prospect performing an on-premise installation of Observability as part of a Rancher Prime Suite PoC? And what are the steps to request a trial account for Observability Cloud / Stackstate SaaS ?

---

**Marc Rua Herrera** (2025-04-23 16:56):
Hi! Can this License key still be used? *WLJWJ-5V5CF-NR1FA*

---

**Louis Lotter** (2025-04-23 17:26):
The SCC provides the keys

---

**Louis Lotter** (2025-04-23 17:27):
Trial accounts are available on aws marketplace.

---

**Louis Lotter** (2025-04-23 17:28):
https://aws.amazon.com/marketplace/pp/prodview-w36cds3q4i2hc

---

**Jan Bruder** (2025-04-23 17:28):
Assume that the prospect is not an AWS customer

---

**Louis Lotter** (2025-04-23 17:28):
The first 2 weeks or month is free I'm not sure

---

**Louis Lotter** (2025-04-23 17:28):
for Saas that's where we host it so they still need to sign up for it there

---

**Louis Lotter** (2025-04-23 17:29):
their infrastructure does not need to be on aws

---

**Jan Bruder** (2025-04-23 17:29):
You need to sign up to AWS in order to use Observability Saas ?

---

**Jan Bruder** (2025-04-23 17:29):
That sounds strange

---

**Jan Bruder** (2025-04-23 17:29):
How about this: https://www.stackstate.com/trial-sign-up/

---

**Louis Lotter** (2025-04-23 17:30):
Speak to @Mark Bakker and @Oliver Ries about that.

---

**Louis Lotter** (2025-04-23 17:31):
that trial page is not supported anymore.
We went for aws marketplace first as it comes with billing etc.
I'm sure we'll expand it but we have a lot to do.

---

**Jan Bruder** (2025-04-23 17:32):
Ah that is good information. Would it be a good idea to take this page offline then?

---

**Louis Lotter** (2025-04-23 17:33):
Yeah probably. @Andreas Prins @Genevieve Cross :point_up:

---

**Jan Bruder** (2025-04-23 17:34):
Reverting back to the question of license key for on-prem install of observability. I am assuming “license key available in SCC” means that i should create an employee license key (`internal-`) and hand that out to the prospect?

---

**Louis Lotter** (2025-04-23 17:36):
nope, we have special keys but the SCC manages that. Best ask in <#C02AYV7UJSD|>
Or maybe @Amol Kharche can give you pointers. Apologies that part of things is opaque to me.

---

**Louis Lotter** (2025-04-23 17:36):
ever prime customer has been issued a key

---

**Louis Lotter** (2025-04-23 17:36):
but the SCC hands them out

---

**Jan Bruder** (2025-04-23 17:36):
No worries, i will try to find that info in <#C02AYV7UJSD|>. AFAIK there are no trial accounts for Rancher Prime in SCC.

---

**Jan Bruder** (2025-04-23 17:39):
For future reference: https://suse.slack.com/archives/C02AYV7UJSD/p1745422751972669

---

**Jan Bruder** (2025-04-23 17:57):
Sorry to bother you again @Louis Lotter but i have been told specifically that you are able to generate and provide a license key for an on-premise evaluation of Observability. Is that still the case?

---

**Louis Lotter** (2025-04-23 17:57):
yeah. But I've generally been told not do that for Prime customers

---

**Louis Lotter** (2025-04-23 17:57):
am I misunderstanding something here ?

---

**Jan Bruder** (2025-04-23 17:58):
Well they are not a Prime customer. They are a Prime *prospect*

---

**Jan Bruder** (2025-04-23 17:58):
So i guess whatever you were told doesnt apply here :grin:

---

**Louis Lotter** (2025-04-23 17:58):
ok missed that detail apologies

---

**Louis Lotter** (2025-04-23 17:58):
ok when should the key expire ?

---

**Jan Bruder** (2025-04-23 17:58):
I guess 3 months from now would be fair

---

**Louis Lotter** (2025-04-23 17:59):
1 August expiry ok ?

---

**Louis Lotter** (2025-04-23 17:59):
can only be the 1st of a month

---

**Jan Bruder** (2025-04-23 17:59):
Sounds great

---

**Garrick Tam** (2025-04-23 19:48):
Got it.  I will check your calendar and coordinate the call.  Who else should be invited to this call with the customer?  I will hand the customer off to you and close the support case as this is not post-sales support.

---

**Marc Rua Herrera** (2025-04-24 10:18):
It says is expired

---

**Louis Parkin** (2025-04-24 10:19):
@Louis Lotter help a Herrera out

---

**Louis Lotter** (2025-04-24 10:42):
@Marc Rua Herrera what do you need a key for ?

---

**Marc Rua Herrera** (2025-04-24 10:43):
Is not for me actually. I got questions from other consultants that want to test some stuff.

---

**Louis Lotter** (2025-04-24 10:43):
for internal use we have one pinned in this channel

---

**Martin Piala** (2025-04-24 10:50):
@Thomas Muntaner @Davide Rutigliano FYI

---

**Thomas Muntaner** (2025-04-24 10:50):
@Martin Piala we're currently using our own license

---

**Marc Rua Herrera** (2025-04-24 10:50):
Thanks Louis!

---

**Zia Rehman** (2025-04-24 13:08):
Hi All, while performing backup and restore, I have downloaded all the backup-scripts and while executing list command for configuration backup I can see there are multiple *.sty backups.
```./list-configuration-backups.sh 
job.batch/configuration-list-backups-20250424t045416 created
=== Waiting for pod to start...
=== Listing StackGraph backups in local persistent volume...
sts-backup-20250421-0400.sty
sts-backup-20250422-0400.sty
sts-backup-20250423-0400.sty
sts-backup-20250423-1422.sty
===
=== Listing settings backups in storage bucket "sts-configuration-backup"...
sts-backup-20250423-1422.sty
===
=== Cleaning up job configuration-list-backups-20250424t045416
job.batch "configuration-list-backups-20250424t045416" deleted```
But while I try to execute the backup-configuration-now script it gives me error:
```./backup-configuration-now.sh 
error: from must be an existing cronjob: no kind "CronJob" is registered for version "batch/v1" in scheme "k8s.io/kubectl/pkg/scheme/scheme.go:28"```
This script do not execute, how can I run this script or the configuration backup is will be done automatically only by the cron job at 4:00 am only.

---

**Vladimir Iliakov** (2025-04-24 13:11):
Hi Zia, can you run this script with tracing enabled?
```bash -x ./backup-configuration-now.sh ```

---

**Zia Rehman** (2025-04-24 13:20):
I would like to demonstrate the *upgrade process for SUSE Observability from one version to another*. Currently, when we run the `helm upgrade --install` command using all the necessary `values.yaml` files, it installs the *latest available version* of SUSE Observability by default.
On the *UI*, the deployed version appears as *v2.3.1*. However, in the *official documentation*, after StackState v6.0, the listed versions for SUSE Observability start from *v1.0*, which creates some confusion regarding the versioning scheme.
Could you please clarify the current versioning for SUSE Observability? Additionally, how can we *demonstrate an actual upgrade*—for example, upgrading from v2.2 to v2.3.1—instead of directly installing the latest version?

---

**Vladimir Iliakov** (2025-04-24 13:29):
That doesn't make any sense :smile:

---

**Vladimir Iliakov** (2025-04-24 13:30):
What does `kubectl version` return?

---

**Zia Rehman** (2025-04-24 13:31):
```kubectl version
Client Version: version.Info (http://version.Info){Major:"1", Minor:"20", GitVersion:"v1.20.2", GitCommit:"faecb196815e248d3ecfb03c680a4507229c2a56", GitTreeState:"clean", BuildDate:"2021-01-13T13:28:09Z", GoVersion:"go1.15.5", Compiler:"gc", Platform:"linux/amd64"}
Server Version: version.Info (http://version.Info){Major:"1", Minor:"30", GitVersion:"v1.30.3+rke2r1", GitCommit:"6fc0a69044f1ac4c13841ec4391224a2df241460", GitTreeState:"clean", BuildDate:"2024-07-17T22:00:38Z", GoVersion:"go1.22.5 X:boringcrypto", Compiler:"gc", Platform:"linux/amd64"}```

---

**Bram Schuur** (2025-04-24 13:31):
helm allows for specifying a specific version through the `--version` flag, you could use this to show the upgrade.

I can see why the versioning is confusing, @Louis Lotter can you put discussing clarifying the version on the engineering meeting topic list?

---

**Vladimir Iliakov** (2025-04-24 13:32):
It is very old client version

---

**Zia Rehman** (2025-04-24 13:33):
Ohh, let me try updating kubectl then.

---

**Vladimir Iliakov** (2025-04-24 13:34):
Ideally kubectl version matches the K8s server version, 1.30 in your case. Or as recommended
```kubectl
kubectl is supported within one minor version (older or newer) of kube-apiserver.```

---

**Vladimir Iliakov** (2025-04-24 13:34):
But 1.20 is really old one.

---

**Zia Rehman** (2025-04-24 13:35):
Got it, thanks. I'll update it.

---

**Zia Rehman** (2025-04-24 15:44):
Hi @Bram Schuur @Louis Lotter Please add me in the meeting also.

---

**Louis Lotter** (2025-04-24 15:56):
Hi Zia this is an internal meeting but if we need to discuss this before or after this we can do that.

---

**Joel Endel** (2025-04-24 17:59):
Hi Team,

My Client is Playing around with SUSE Observability and wants to release it to their Dev teams, but they need the RBAC integration.

Is SUSE observability still on target for it's release with the Rancher RBAC integration hopefully sometime next month? Also what version of Rancher will be required, I'm assuming 2.11.

Thank you

---

**Daniel Barra** (2025-04-24 19:57):
*We are pleased to announce the release of 2.3.2, featuring bug fixes and enhancements. For details, please review the release notes (https://docs.stackstate.com/self-hosted-setup/release-notes/v2.3.2).*

---

**Alejandro Bonilla** (2025-04-24 21:22):
Should the SCC key work for o11s? Or is that not yet working?

---

**Frank van Lankvelt** (2025-04-24 21:37):
The rancher/SO integration is coming along and is one of our top priorities.  It may be good to realize that SO does not have access to application data.  For troubleshooting it generally helps to have a system-level view on topology and be able to dive into metrics.  Imposing strict RBAC will make it harder to diagnose cross-team issues.
So while there can be good reasons to implement RBAC, maybe for now it is also important to realise the drawbacks.

---

**Frank van Lankvelt** (2025-04-24 21:38):
What is o11s?

---

**Alejandro Bonilla** (2025-04-24 23:21):
Observability- I guess it was o11y

---

**Alejandro Bonilla** (2025-04-25 00:49):
@Mark Bakker can we confirm that aarch64 for the server is not supported? I had asked before and was told the bits should all be built for ARM on the server but the agent wouldn’t because of ebpf and some other requirements.
A customer that is expected to grow has acquired the servers already and needs it supported.

---

**Louis Lotter** (2025-04-25 08:22):
@Louis Parkin can you answer here. Mark is still off.

---

**Frank van Lankvelt** (2025-04-25 08:55):
we're indeed first focusing on the agent, making sure that can run on ARM.  The platform/server comes after that.  While most of it is architecture independent (JVM based), some storage technologies are compiled (e.g. clickhouse is C++).

---

**Louis Parkin** (2025-04-25 08:56):
Good morning, I can confirm that the platform does not have full official ARM support, and ARM support for the agent is currently in progress.

---

**Louis Parkin** (2025-04-25 08:57):
I am also about 60% sure that work to achieve ARM support for the platform was slated to be done in the second half of this year.

---

**Lukasz Marchewka** (2025-04-25 11:19):
@Saurabh Sadhale had you opportunity to test it ?

---

**Saurabh Sadhale** (2025-04-25 11:31):
@Lukasz Marchewka yes I did test the part where I can install clickhouse and it worked without issues. However, unable to deploy complete trial version also on ARO due to constraint issues.

---

**George Yao** (2025-04-25 11:35):
Hi team, Rancher UI shows the status of suse-observability helm release is failed, but all the workload in suse-observability namespace is `running` , could you help to see how to debug this.

---

**Vladimir Iliakov** (2025-04-25 11:42):
You can run `helm ls -n &lt;namespace&gt;` to confirm that it was Helm deployment issue, but I am not sure how to get more details. If Rancher stores somewhere logs for the Helm commands it might give a clue...

---

**Vladimir Iliakov** (2025-04-25 11:45):
maybe `helm status suse-observability` ???

---

**George Yao** (2025-04-25 13:29):
helm status suse-observability didn't give any clue..., let me check with Rancher team.Thanks in advance.

---

**Vladimir Iliakov** (2025-04-25 13:43):
If possible you may trigger the re-deployment from Rancher UI, and check the events in the Suse observability namespace with `kubectl get events -n suse-observability`
Also it might be one of the Helm pre-hooks jobs failed to schedule a pod, so it can be checked with `kubectl get jobs -n suse-observability`

but the Helm logs will say for sure what was the deployment issue...

---

**George Yao** (2025-04-25 15:16):
Hi Mark, May I ask if the multi-tenant function would be implemented and released in this year, or do we have a release plan for it as customer mentioned they need this function couple of times.

---

**Joel Endel** (2025-04-25 18:36):
Thank you frank. My customer went to susecon and saw that RBAC was going to be included in suse observability. This is still the case correct? Do we have any timeline at all I can give them?

---

**Yingluo Zhang** (2025-04-28 05:39):
Hello SUSE observability experts,
We are currently preparing a demo for a SUSE AI marketing event. Could you please let us know when the `SUSE Observability for AI`  is expected to be released? If it is not yet available, is there an internal version that we could use for deployment?
Thank you very much.

---

**Louis Lotter** (2025-04-28 09:40):
The SCC manages keys for Suse Observability yes. They should have one for every Prime customer.

---

**Louis Lotter** (2025-04-28 09:42):
It's coming along well but it's also dependant on the new OIDC feature in Rancher being released. For timelines you have to check with @Mark Bakker and or @Oliver Ries . Mark is on holiday though.

---

**Jorn Knuttila** (2025-04-28 14:16):
I seem to recall @Ronald Nunan saying not until some time into May, if memory serves me correctly.

---

**Erico Mendonca** (2025-04-28 19:46):
I see that the Geeko Insurance demo cluster is not appearing on the Observability instance on the VPN... did something happen?

---

**Gabriel Lins** (2025-04-28 19:48):
I got the same behavior in here. Can't find the insurance example cluster and its namespace..

---

**Mark Abrams 518.421.1504** (2025-04-28 21:51):
Docs indicate that the SUSE Observability agent V3 is deployed as a daemonset on every node and
&gt; Host information is retrieved from the Kubernetes or OpenShift API.
If the cluster is from a managed provider EKS, AKS, etc. can we assume that host information is not retrieved in these cases?

---

**Thiago Bertoldi** (2025-04-28 22:32):
@Yingluo Zhang we currently have this user guide on how to install the extension with a helm chart
https://confluence.suse.com/display/AAI/SUSE+AI+Observability+Extension+-+User+Guide
the chart is available here, but will soon be on AppCo as well:
https://build.suse.de/package/show/SUSE:SLE-15-SP6:Update:Products:AI/suse-ai-observability-extension-chart

---

**Erico Mendonca** (2025-04-28 23:41):
From a partner trying to update to Observability 2.3.2 from the Rancher UI. The components suse-observability-receiver, correlate, e2es and server are forever in Updating status until the Helm chart times out. I noticed that the kafka pods appear to be working without errors until they're killed. There is a job that always appear to crash (topic-create). Have you guys seen this?

---

**Amol Kharche** (2025-04-29 04:50):
The error screenshot does not provide a clear picture of what is wrong with the setup.
Could you please share complete support bundle (https://docs.stackstate.com/self-hosted-setup/install-stackstate/troubleshooting/support-package-logs) logs.

---

**Amol Kharche** (2025-04-29 05:24):
&gt; Host information is retrieved from the Kubernetes or OpenShift API.
This applies regardless of whether the cluster is self-managed or a managed Kubernetes service like EKS, AKS, or GKE. The agent will still query the Kubernetes API for node information. By the way The Kubernetes API server is fully managed by EKS, AKS ,GKE, etc*.*

---

**Amol Kharche** (2025-04-29 05:25):
Here are the screenshots of the nodes from my AKS cluster:point_up_2:.

---

**andy.wu** (2025-04-29 07:18):
Hi Team,We have a customer who wants to know what will happen if the `STS_NETWORK_TRACING_ENABLED` environment variable in the node-agent pod is changed to `false`?
Or do we have any documentation on what these environmental variables do?

---

**Hugo de Vries** (2025-04-29 08:43):
I believe that’s related to: https://docs.stackstate.com/agent/k8sts-agent-request-tracing (https://docs.stackstate.com/agent/k8sts-agent-request-tracing)

---

**Bram Schuur** (2025-04-29 08:56):
This feature flag governs whether we do network observations at all (not just http request tracing, but also our tcpv4 connection correlation). This is not a public feature flag. @andy.wu Could you detail what the customer is looking for? Are they worried about security? Do they want certain features enabled/disabled?

---

**Louis Lotter** (2025-04-29 08:56):
@Vladimir Iliakov do you know who takes care of this instance. I don't remember anything about this instance.

---

**andy.wu** (2025-04-29 09:00):
Thank you for the quick reply.
Because the customer encountered the following error during installation, they have understood that this is a problem caused by a low kernel version.
```2025-04-22 03:45:33 CRITICAL (main_common.go:207) - Error creating collector: failed to intialize check connections:
network tracer unsupported by OS: error checking for ebpf helper FnMapLookupElem support: detect support for FnMapLookupElem for program type Kprobe:
detect support for Kprobe: load program: operation not permitted. Set the environment STS_NETWORK_TRACING_ENABLED to false to disable network connections reporting```

---

**Bram Schuur** (2025-04-29 09:01):
This issue has been solved in the latest version of our agent, `1.0.33`

---

**Vladimir Iliakov** (2025-04-29 09:04):
We manage the tenant, but not the Geeko Insurance demo cluster.

---

**andy.wu** (2025-04-29 09:05):
Got it,thanks.

---

**Vladimir Iliakov** (2025-04-29 09:05):
First thing to check its status in the Stackpacks page. If it is "Orange", then the tenant is not receiving data from the agent, so the agent logs have to be checked for any issues.

---

**Louis Lotter** (2025-04-29 09:21):
We had a version change when we went from Stackstate -&gt; Suse Observability.
It's seen as a new product.

---

**Louis Lotter** (2025-04-29 09:22):
@Mark Bakker can maybe discuss this with you in more detail when he is back.

---

**Louis Lotter** (2025-04-29 09:23):
Can you explain more what you mean with "*demonstrate an actual upgrade*—for example, upgrading from v2.2 to v2.3.1—instead of directly installing the latest version?"

---

**Zia Rehman** (2025-04-29 10:32):
Hi @Louis Lotter it is resolved now. While installing Suse Observability I used `v2.3.0` and then upgraded to `v2.3.2` using `--version`. I will be demonstrating it in the elearning course that I am creating.

---

**andy.wu** (2025-04-29 10:59):
Hi @Bram Schuur I'd like to ask if fixing this problem means that the os kernel can support this parameter to be configured as true even if it's lower than 5.15 without reporting error?

---

**Mark Bakker** (2025-04-29 11:07):
This is planned to be released with or soon after Rancher 2.12

---

**Mark Bakker** (2025-04-29 11:09):
@Garrick Tam please include me in the call

---

**Bram Schuur** (2025-04-29 11:54):
yes, we support any 5.x kernel, with the parameter enabled

---

**Erico Mendonca** (2025-04-29 13:44):
Here you go.

---

**Vladimir Iliakov** (2025-04-29 14:50):
It looks like Kafka is trying to recover the data from the snapshots, after probably forced restart or kill, but can't succeed due to livenessProbe time limitation.

---

**Vladimir Iliakov** (2025-04-29 14:55):
@Erico Mendonca I am afraid the manual steps are required to fix Kafka and the whole deployment.
Can you try to remove livenessProbe from the Kafka statefulset?

You can do it with `kubectl edit`

`kubectl edit -n suse-observability sts suse-observability-kafka`
Find and delete the following section
```        livenessProbe:
          failureThreshold: 3
          initialDelaySeconds: 240
          periodSeconds: 10
          successThreshold: 1
          tcpSocket:
            port: kafka-client
          timeoutSeconds: 5```
It will restart Kafka pod without livenessProbe and make it possible for Kafka to finish the recovery process.

---

**Erico Mendonca** (2025-04-29 14:58):
Will try it right away.

---

**Thomas Muntaner** (2025-04-29 15:02):
we're running into the same problem with SUSE Observability (storage backed by netapp nfs).

it takes around 40 minutes to recover

---

**Vladimir Iliakov** (2025-04-29 15:04):
And as Amol mentioned we don't recommend NFS for the persistent volumes, though it is the first time I see something happened with Kafka, usually it is Stackgraph.
Unfortunatelly we weren't and aren't able to efficiently troubleshot databases running on the NFS persistent volumes.

---

**Thomas Muntaner** (2025-04-29 15:05):
our Kafka seems to go down once every few days and takes a while to recover

---

**Thomas Muntaner** (2025-04-29 15:05):
but we'll look into another storage

---

**Mark Abrams 518.421.1504** (2025-04-29 15:06):
Good to know. Thank you.

---

**Thomas Muntaner** (2025-04-29 15:17):
@Vladimir Iliakov would iSCSI be fine? If so I'll work with my colleague to set it up on the netapp

---

**Vladimir Iliakov** (2025-04-29 15:22):
I can't say for sure. All our instances Saas and internal are backed up by the AWS EBS (block storage) and in the past it was also GCP block storage, there haven't been such issues.

But there is still a question, what is happened in the first place? Was the Kafka pod killed without properly saving all disk transactions or it was a storage issue?

---

**Thomas Muntaner** (2025-04-29 15:25):
I haven't fully investigated on my end, but it may have happened around when we were deploying changes to the cluster

---

**Thomas Muntaner** (2025-04-29 15:25):
if I find more info, I'll let you know

---

**Vladimir Iliakov** (2025-04-29 15:25):
That would be great :thumbs-up:

---

**Vladimir Iliakov** (2025-04-29 15:26):
Please collect the logs of the Kafka pod before and after redeployment.

---

**Thomas Muntaner** (2025-04-29 15:27):
I'll check SUSE Observability when it's back up :)

---

**Erico Mendonca** (2025-04-29 15:28):
FYI, I removed the section Vladimir mentioned, and it recovered successfully.

---

**Vladimir Iliakov** (2025-04-29 15:29):
@Erico Mendonca you mean the whole Suse Observability tenant is running and available, right?

---

**Erico Mendonca** (2025-04-29 15:30):
Should I recommend them to reinstall with a different storage? It's a demo cluster, but if you need to test anything else related to this issue, we can use it.

---

**Vladimir Iliakov** (2025-04-29 15:30):
Ok, glad to hear that. Now please redeploy it again to restore Kafka livenessProbe

---

**Vladimir Iliakov** (2025-04-29 15:32):
&gt; Should I recommend them to reinstall with a different storage?
The block storage in AWS,GCP, Azure is ideal. If available of course.

---

**Gabriel Lins** (2025-04-29 20:02):
Hello! A customer needs to implement permissions and limitations in SUSE Observability. RBAC integration is already ready to use?
Following this documentation https://docs.stackstate.com/self-hosted-setup/security/rbac/rbac_roles  wasn't possible to add a user to role `development-troubleshooter`
We couldn't even understand how to grant roles to a user or add a user to a group with pre-defined permissions

---

**Louis Lotter** (2025-04-30 09:20):
@Gabriel Lins The RBAC integration is still a work in progress. Top priority but its a large feature that is taking some time. The document you are linking to is the current older implementation of roles that we were using in Stackstate.

---

**Thomas Muntaner** (2025-04-30 16:06):
Hi @Vladimir Iliakov,

Through the logs I was able to access, nothing stood out, but then I think I found the root cause: `terminationGracePeriodSeconds`.

The default is 30 seconds, and it may be that our cluster with NFS needed more than that. As an attempt to verify this, I set it to 300, and it was able to do new deploys, which it failed at before.

---

**Thomas Muntaner** (2025-04-30 16:07):
I think everything was normal, and that k8s killed pods (for normal reasons), and we didn't give it enough time to shut down.

---

**Anthony Tortola** (2025-04-30 17:45):
Hello,  I am trying to install the otel collector on one of my lab clusters and I am seeing the following error: Warning Failed   5m50s (x4 over 7m19s) kubelet      Failed to pull image "otel/opentelemetry-collector-k8s:0.123.1": rpc error: code = NotFound desc = failed to pull and unpack image "docker.io/otel/opentelemetry-collector-k8s:0.123.1 (http://docker.io/otel/opentelemetry-collector-k8s:0.123.1)": failed to resolve reference "docker.io/otel/opentelemetry-collector-k8s:0.123.1 (http://docker.io/otel/opentelemetry-collector-k8s:0.123.1)": docker.io/otel/opentelemetry-collector-k8s:0.123.1 (http://docker.io/otel/opentelemetry-collector-k8s:0.123.1): not found. Any help would be great

---

**Mauricio Alves da Silva Perez** (2025-04-30 20:30):
@Louis Lotter, is the old RBAC implementation still working? We have a customer trying to configure some roles, but it is not working; the users are not getting the permissions.

---

**Remco Beckers** (2025-05-01 08:17):
It looks like they never published the docker image for version `0.123.1`. Instead you can try `0.123.0`

---

**Louis Lotter** (2025-05-01 08:25):
we will need more information about what they did and what is going wrong here.

---

**Anthony Tortola** (2025-05-01 15:06):
Thanks Remco,  I id make the change, I get a new error: error decoding 'receivers': unknown type: "nop" for id: "nop" (valid values: [filelog fluentforward journald k8s_cluster otelarrow receiver_creator hostmetrics jaeger k8s_events k8sobjects prometheus httpcheck kubeletstats otlp opencensus zipkin])

---

**Remco Beckers** (2025-05-01 15:09):
That looks like a change, that we made in the config after testing it, didn't make it into the final docs update. Sorry about that. Let me check what the correct config is.

---

**Remco Beckers** (2025-05-01 15:18):
The `nop` receiver is not needed and should be removed from the `receivers` section. Then the `logs` pipeline that uses it should be updated to this:

```      logs:
        receivers: [otlp]
        processors: []
        exporters: [nop]```

---

**Remco Beckers** (2025-05-01 15:18):
This makes sure that any SDK sending logs will not fail but will just ignore the logs (because we don't support that yet)

---

**Remco Beckers** (2025-05-01 15:19):
For the exact change you can also look at the diff of my docs PR that I now created: https://github.com/StackVista/stackstate-docs/pull/1612/files

---

**Anthony Tortola** (2025-05-01 15:20):
Let me that a look

---

**Mark Abrams 518.421.1504** (2025-05-01 21:23):
Is there a list of what out-of-the-box monitors are available to stack state users? It would be nice to talk about some of the quick hits with prospects if there is something of significant value here.

---

**Ravan Naidoo** (2025-05-02 07:59):
A list of monitors can be seen in the product (https://play.stackstate.com/#/monitors?detachedFilters=namespace%3Asock-shop%2Ccluster-name%3Ademo-playground.demo.stackstate.io&amp;timeRange=LAST_3_HOURS&amp;timestamp=1746159300000) (monitors menu option).  The first image has about 40 out of box monitors

SUSE Observability can also be extended with custom monitors.  Image 2 is an example of about another 60 monitors that the team uses to observe SISE Observability itself .

---

**aki.liu** (2025-05-02 15:56):
Hi Team,

My customer is asking how to check host level like journalctl , systemd logs and disk mount point utilization using SUSE Observability with RKE2 cluster.

Could you please advise SUSE Observability how to accessing host level logs and how to customize dashboard to check the OS disk mount point utilization metrics?

Any advice would be greatly appreciated.

---

**Mauricio Alves da Silva Perez** (2025-05-02 16:34):
Louis, the customer's user database is in a Microsoft AD, but uses the Google OIDC provider.

To better understand the process, they are trying to create a custom role following the example in the documentation (https://docs.stackstate.com/self-hosted-setup/security/rbac/rbac_roles#custom-roles-with-custom-scopes-and-permissions-via-the-configuration-file).

After creating the role, we tried to add a user to the role `development-troubleshooter` custom role, but it's not working.
If we add the user to one of the predefined roles, it works.


Below is an example of what we tried.

```YAML
stackstate:
  apiKey:
    key:
  authentication:
    adminPassword:
    oidc:
      clientId: 22cc95ef-9d1b-4d32-aa25-420f9f0924f0
      customParameters:
        access_type: offline
      discoveryUri: https://idp.mpf.mp.br/nidp/oauth/nam/.well-known/openid-configuration
      jwsAlgorithm: RS256
      jwtClaims:
        groupsField: department
        usernameField: email
      scope:
      - openid
      - email
      - profile
      secret:
    roles:
      custom:
        development-troubleshooter:
          systemPermissions:
          - access-cli
          - create-views
          - execute-component-actions
          - export-settings
          - manage-monitors
          - manage-notifications
          - manage-stackpacks
          - manage-star-view
          - perform-custom-query
          - read-agents
          - read-metrics
          - read-permissions
          - read-settings
          - read-system-notifications
          - read-telemetry-streams
          - read-traces
          - run-monitors
          - update-visualization
          - view-metric-bindings
          - view-monitors
          - view-notifications
          viewPermissions:
          - access-view
          - save-view
          - delete-view
      admin:
      - <mailto:uilsonvasconcelos@mpf.mp.br|uilsonvasconcelos@mpf.mp.br>
      development-troubleshooter:
      - <mailto:arsiclaro@mpf.mp.br|arsiclaro@mpf.mp.br>```

---

**Anthony Tortola** (2025-05-02 16:36):
Sorry, I forgot to update.  After making the changes above I was able to load open-telemetry

---

**Remco Beckers** (2025-05-02 16:36):
Nice. Thanks for the update

---

**Anthony Tortola** (2025-05-02 16:38):
I do have one suggestion for the documentation, where we have &lt;otlp-suse-observability-endpoint&gt; change it to &lt;otlp-suse-observability-endpoint:port&gt;

---

**Anthony Tortola** (2025-05-02 16:38):
maybe give an example too

---

**Remco Beckers** (2025-05-02 16:41):
Thanks. We are making another small update soon and I'll make sure to include that

---

**Mark Abrams 518.421.1504** (2025-05-02 20:56):
Cool. Many of the 40 oob are fairly obvious what they are for but some like "span duration for pods" may need more explanation as I suspect there is some kind of default range defined. Are these documented or is this list equivalent to "the documentation".

---

**Mark Abrams 518.421.1504** (2025-05-02 20:57):
Mostly, I think it is enough to work with for discussion with prospects outside of a more detailed demo or docs

---

**Ravan Naidoo** (2025-05-03 13:16):
https://docs.stackstate.com/monitors-and-alerts/kubernetes-monitors#pod-span-duration

---

**Lasith Haturusinha** (2025-05-06 04:29):
Hi team,
Does SUSE Observability support OTEL Logs? and can a customer use OTEL directly to register the client than using an agent ( I believe this is yes but want to clarify/confirm)?
Thanks

---

**Remco Beckers** (2025-05-06 08:22):
OTEL Logs are not supported, but are on the roadmap. Do you have a customer name related to the question? We track these feature requests

---

**Remco Beckers** (2025-05-06 08:23):
I'm not exactly sure what you mean with "register the client", but you can use OTEL without installing our agent.

---

**Bram Schuur** (2025-05-06 09:05):
Dear Aki,
We do not support host-level logs right now, only pod logs. Host logs are on the roadmap, but quite far in the future.

For custom metrics on disck I/O, you can use the following documentation to bring in custom metrics and custom metrics charts
• https://docs.stackstate.com/metrics/advanced-metrics/k8s-prometheus-remote-write
• https://docs.stackstate.com/metrics/custom-charts/k8s-add-charts

---

**Louis Lotter** (2025-05-06 09:18):
@Bram Schuur can you take a look here ?

---

**Lasith Haturusinha** (2025-05-06 11:06):
Thanks @Remco Beckers for the answers. Yes the customer is Jemena (Australia)

---

**Bram Schuur** (2025-05-06 13:20):
@Mauricio Alves da Silva Perez could you share the contents of the configmap with the name: `&lt;release_name&gt;-suse-observability-&lt;api|server&gt;` (The name depends on the deployment type chosen, it should be either api or server).

---

**Mauricio Alves da Silva Perez** (2025-05-06 15:10):
Hi, Louis and Bram. Thank you so much for your help. I asked the customer for the ConfigMap. As soon as he sends it, I will post it here.

---

**Gustavo Varela** (2025-05-06 16:09):
is observavility still closed source ?

---

**Amol Kharche** (2025-05-06 16:22):
This might help here.
https://suse.slack.com/archives/C079ANFDS2C/p1744122762239529?thread_ts=1744122762.239529&amp;cid=C079ANFDS2C (https://suse.slack.com/archives/C079ANFDS2C/p1744122762239529?thread_ts=1744122762.239529&amp;cid=C079ANFDS2C)

---

**Thiago Bertoldi** (2025-05-06 20:55):
Is there a way to retrieve the STS_API_TOKEN for the CLI without using the web interface?
*Context*: an automated installation script deploys SUSE Observability and then later uses the CLI to manage stackpacks.
If there's another authentication method for the CLI or any viable workaround, I'd appreciate the details.

---

**Jeroen van Erp** (2025-05-06 21:19):
You can setup a bootstrap service token

---

**Jeroen van Erp** (2025-05-06 21:20):
https://docs.stackstate.com/self-hosted-setup/security/authentication/service_tokens#set-up-a-bootstrap-service-token

---

**Thiago Bertoldi** (2025-05-06 21:21):
Perfect! Thanks Jeroen

---

**Jeroen van Erp** (2025-05-06 21:21):
you’re welcome

---

**Mauricio Alves da Silva Perez** (2025-05-06 21:40):
Hi, @Bram Schuur, the customer just sent the ConfigMap.

---

**Bram Schuur** (2025-05-07 11:44):
@Mauricio Alves da Silva Perez could you try giving the 'development-troubleshooter' the same rights as the admin? Could be an essential permission is needed there:

---

**Bram Schuur** (2025-05-07 11:44):
```"systemPermissions": [
            "access-cli",
            "access-explore",
            "access-log-data",
            "access-synchronization-data",
            "access-topic-data",
            "create-views",
            "execute-component-actions",
            "execute-component-templates",
            "execute-node-sync",
            "execute-restricted-scripts",
            "export-settings",
            "import-settings",
            "manage-annotations",
            "manage-ingestion-api-keys",
            "manage-metric-bindings",
            "manage-monitors",
            "manage-notifications",
            "manage-service-tokens",
            "manage-stackpacks",
            "manage-star-view",
            "manage-telemetry-streams",
            "manage-topology-elements",
            "perform-custom-query",
            "read-metrics",
            "read-permissions",
            "read-settings",
            "read-stackpacks",
            "read-telemetry-streams",
            "read-traces",
            "run-monitors",
            "update-permissions",
            "update-settings",
            "update-visualization",
            "upload-stackpacks",
            "view-metric-bindings",
            "view-monitors",
            "view-notifications",
            "read-agents",
            "read-system-notifications",
            "create-dashboards",
            "view-dashboards",
            "update-dashboards",
            "delete-dashboards",
            "create-favorite-dashboards",
            "delete-favorite-dashboards",
            # "unlock-node" We disable unlock node by default because we do not encourage unlocking stackpack-provided settings
            # (rather update the settings). In dire straits this config part can be patched to allow the unlocking.
        ],
        "viewPermissions" : [ "access-view", "save-view", "delete-view" ]```

---

**Bram Schuur** (2025-05-07 15:50):
This is obsolete functionality and can be ignored, i will write a story to remove it.

---

**Cameron Seader** (2025-05-07 18:21):
What is our appetite for this conference?
https://events.linuxfoundation.org/open-observability-summit-otel-community-day/

---

**Warner Chen** (2025-05-08 10:10):
Hello Team, Does SUSE Observability support directly scraping metrics defined by existing ServiceMonitors? We understand that data is typically sent to the SUSE Observability Server via OpenMetrics annotations or Prometheus remote write, but the customer is hoping to reuse their existing ServiceMonitor definitions to simplify the migration process as much as possible.

---

**Jeroen van Erp** (2025-05-08 10:25):
I don’t think so, but maybe @Bram Schuur or @Remco Beckers has an idea… Otherwise it’s a great feature request

---

**Nick Zhao** (2025-05-08 10:48):
Hi team, IHAC (Swire coca-cola) are using o11y.  They have an issue about the EFS monitoring.  Do we only support to monitor the EBS but EFS?  Or  it needs any configurations further?

---

**Remco Beckers** (2025-05-08 11:50):
With the Open Telemetry operator this is possible. It has a target allocator that reads the existing ServiceMonitors to configure the Prometheus scraping in the collector(s). The collectors send the data to SUSE Observability.

We have documentation (https://docs.stackstate.com/open-telemetry/getting-started/getting-started-k8s-operator) on how to configure the operator, but only for the purpose of auto-instrumentation. The setup for ServiceMonitor support is slightly different:
• The collector needs to be setup using the statefulset (or daemonset) mode instead of the deployment mode used in the docs
• You can skip the instrumentation section in that documentation
• Instead you'll need to follow the operator documentation in its Github repo to enable the target allocator and prometheus receiver for the collector, configure it and assign it the proper RBAC permissions: https://github.com/open-telemetry/opentelemetry-operator/blob/main/cmd/otel-allocator/README.md#target-allocator
We haven't fully tested this setup, that's also why it is not in the docs (yet).

---

**Bram Schuur** (2025-05-08 11:56):
Dear niick, thanks for reporting! I filed a ticket: https://stackstate.atlassian.net/browse/STAC-22748

---

**Warner Chen** (2025-05-08 12:01):
Thanks @Remco Beckers, I will do a test. It would be great if this part could be included in the documentation in the future.:smile:

---

**Remco Beckers** (2025-05-08 12:03):
It's on the list.

---

**Davide Rutigliano** (2025-05-08 16:06):
Hello team, I can't find anything in the docs about setting up notifications throught CLI / other options. Is https://docs.stackstate.com/monitors-and-alerts/notifications/configure the only way to configure notifications?

---

**Bram Schuur** (2025-05-08 16:16):
I think the UI is the only official way now to make notifications (@Remco Beckers correct me if i am wrong). @Davide Rutigliano what is your use-case for wanting a cli or something else?

---

**Davide Rutigliano** (2025-05-08 16:23):
We are migrating OpenPlatform observability to SUSE Observability and we are trying to use notifications to replace alertmanager. As we have our current alertmanager configuration in helm I was looking for something more aligned with our IaC setup

---

**Bram Schuur** (2025-05-08 16:40):
thanks @Davide Rutigliano i filed a ticket for this: https://stackstate.atlassian.net/browse/STAC-22755

---

**Thomas Muntaner** (2025-05-08 16:48):
Hi team,

I'm currently working on migrating some of our previous alerts from Prometheus/AlertManager to SUSE Observability.

I've successfully sent my metrics with OTEL, but I have some questions for the monitor:

I created a custom monitor, but I'm stuck with the urnTemplate.

• With metrics not mapped to a current component type, what do we have to do? Do I need to create my own custom types?
• Can I ignore that it's unmapped and still get a notification if the monitor passes the threshold?
Thanks

---

**Thomas Muntaner** (2025-05-08 16:55):
e.g.

```nodes:
  - _type: Monitor
    arguments:
      metric:
        query: gitlab_ci_pipeline_status{status="failed", kind="branch", ref="main"}
        unit: Short
        aliasTemplate: "Failed Pipeline"
      comparator: "GTE"
      threshold: 1
      failureState: "DEVIATING"
      titleTemplate: Gitlab project ${project} has failing ref ${ref}
      urnTemplate: urn:gitlab-project:${project}
    description: "Failed pipeline"
    function: {{ get "urn:stackpack:common:monitor-function:threshold" }}
    identifier: urn:custom:monitor:failed-gitlab-pipeline
    intervalSeconds: 30
    name: Gitlab - Failed pipeline
    remediationHint: Fix it
    status: "ENABLED"
    tags:
      - "gitlab"```

---

**Matt Farina** (2025-05-08 17:15):
I have a quick question. In a k8s cluster, what system resources (cpu/memory/network) are used by the stst agents? My case is a single node k3s cluster and the cpus and memory are fixed. There is a collection of microservices that will run on it.

---

**Matt Farina** (2025-05-08 17:16):
Sorry if I missed this in the docs

---

**Daniel Barra** (2025-05-08 18:43):
*We are pleased to announce the release of 2.3.3, featuring bug fixes and enhancements. For details, please review the release notes (https://docs.stackstate.com/self-hosted-setup/release-notes/v2.3.3).*

---

**Mauricio Alves da Silva Perez** (2025-05-08 19:55):
Bram, yesterday I asked the customer to change the permissions and test the access. I'm waiting for his reply.

---

**Warner Chen** (2025-05-09 04:27):
Hello Team, The IHAC (Swire coca-cola) customer reported encountering some error messages in the server pod. They have currently deployed the SUSE O11y Agent in only two clusters, with a total of around 5 nodes. From the logs, it appears the issue may be related to the number of loaded components (over 1000), which seems to have triggered a certain limitation.

I checked the Helm chart's values configuration and it seems there’s currently no option available to adjust this limit. Could you please advise whether this issue could have a real impact?

---

**Amol Kharche** (2025-05-09 06:01):
https://stackstate.atlassian.net/issues/STAC-22148

---

**Warner Chen** (2025-05-09 06:05):
Thanks! @Amol Kharche

---

**Amol Kharche** (2025-05-09 07:28):
It doesn't appear to be mentioned in the documentation, but here is the calculation of total CPU and memory usage for the SUSE observability agent (v1.0.36).
*CPU Requests -&gt; 155m*
*CPU Limits -&gt; 2495m*
*Memory Requests-&gt;  1432Mi*
*Memory Limits  -&gt;   4584Mi*

---

**Amol Kharche** (2025-05-09 07:29):
@Alejandro Acevedo Osorio Please correct me If I'm wrong here.

---

**Remco Beckers** (2025-05-09 09:02):
Metrics don't have to be mapped to a component, but monitors must be mapped to a component in the SUSE Observability model. That's where the health states are reported (in the data model and to the user), and it is the basis for sending out notifications.

We are working on a solution to easily create components from OTel attributes, but we're still working on the design for that. So, to be honest, I don't know of a good solution for you at the moment.

@Bram Schuur Do you know of other options?

---

**Thomas Muntaner** (2025-05-09 09:20):
Hi @Remco Beckers,

worst case for us, we have a prometheus still in the mix also collecting the metrics, so we can trigger alerts from there, but we would love to  consolidate to SUSE Observability.

I would expect that our use-case is also not so uncommon :)

---

**Remco Beckers** (2025-05-09 09:22):
That's our experience too. That's one of the reason we're working on creating topology from OTEL data. Now we only support some hard-coded types (like services, service instances etc).

---

**Remco Beckers** (2025-05-09 09:24):
Oh, that's something you could make use of:
• Add a `service.name` (and ideally `service.namespace` attribute to your metrics (you can also use a `service.instance.id`). 
• Use the urn template to put the monitor health on either the service or service instance components

---

**Thomas Muntaner** (2025-05-09 09:24):
sure, I'll try that today

---

**Remco Beckers** (2025-05-09 09:25):
Given that you're working with Gitlab pipelines maybe this would work:
• namespace: `Gitlab`
• service.name: &lt;the-gitlab-project&gt;
• service.instance.id: &lt;the-gitlab-pipeline-id&gt;

---

**Remco Beckers** (2025-05-09 09:28):
What we want to achieve with the work we're still doing, is that, with a little bit of configuration, you can create components of type "Gitlab pipeline", "Gitlab Project", etc. Then you could use those for your metrics.

---

**Alejandro Acevedo Osorio** (2025-05-09 09:30):
That looks right @Amol Kharche .... @Remco Beckers do you know if we have something written about the agent resources?

---

**Thomas Muntaner** (2025-05-09 09:30):
would

• namespace: gitlab
• service.name: gitlab
• service.instance.id: gitlab-project
work as well?

We would only want one monitor and raise alerts if any project is currently failing

---

**Thomas Muntaner** (2025-05-09 09:32):
we have many custom exporters that we would also map for other things, for example:

• are downstream clusters still connected to rancher
• can users log into rancher
• can we use the kubernetes api of downstream clusters
• ...

---

**Remco Beckers** (2025-05-09 09:35):
yeah that would work too. You could also not have a service.instance.id at all and put the monitor on the service

---

**Thomas Muntaner** (2025-05-09 09:39):
thanks, I'll try this a little later and see what we get

---

**Remco Beckers** (2025-05-09 09:39):
&gt; • are downstream clusters still connected to rancher
&gt; • can users log into rancher
&gt; • can we use the kubernetes api of downstream clusters
&gt; • ...
Monitors for these we usually map to components in the Kuberntes topology. For example (but you may choose differently):
• Downstream clusters: put the monitor on the `cluster` component
• Log into rancher: Monitor on the Rancher `Pod` or `Deployment` (or `Service`)
• Kubernetes API: On the kube-apiserver `deployment`/`pod`/`service` or possibly just on the `cluster`

---

**Thomas Muntaner** (2025-05-09 09:39):
true, I should be able to map some of these to kubernetes components

---

**Remco Beckers** (2025-05-09 09:40):
I don't know, But I guess not (these are also the defaults, under high/low load you might have to increase or could decrease the requests etc)

---

**Remco Beckers** (2025-05-09 09:47):
Maybe good to know: we have a monitor, that is enabled by default, on the `cluster` components that aggregates the health state from all pods in `kube-system` and all `nodes` as an approximation of cluster health (i.e. if a node or some pods in  kube-system are unhealthy the cluster is unhealthy and is in need of attention)

---

**Amol Kharche** (2025-05-09 13:48):
@Remco Beckers Can we add in our documentation then? I can raise ticket if you want.

---

**Amol Kharche** (2025-05-09 14:04):
https://stackstate.atlassian.net/browse/STAC-22756

---

**Zohar Dansky** (2025-05-09 14:47):
Hi, do we have RSS feeds for SUSE Observability that customers can add to their slack channels?

---

**Frank van Lankvelt** (2025-05-09 14:50):
am not sure what kind of messages you would expect to see - releases or alerts?  For alerts, it is possible to setup a Slack notifications; see https://docs.stackstate.com/monitors-and-alerts/notifications/channels/slack

---

**Louis Lotter** (2025-05-09 15:26):
@Zohar Dansky we do  have an integration to allow monitor alerts to go to slack directly as well if that's the way you are thinking.

---

**Zohar Dansky** (2025-05-09 15:47):
thanks both, the customer is registered to receive release updates and alerts for Rancher via slack. They asked if we have the same for SUSE Observability

---

**Jorn Knuttila** (2025-05-09 18:42):
I agree it would be nice for *all* our products to have RSS feeds like Rancher releases do.

---

**Bram Schuur** (2025-05-12 11:32):
added the ticket to the'incoming' sprint for triage

---

**Warner Chen** (2025-05-13 05:24):
Hi @Remco Beckers, The customer would like to know when the documentation for this part might be updated. Would it be possible to provide an estimated timeline to share with them?

---

**Remco Beckers** (2025-05-13 08:04):
Hi, it's on the backlog but as of yet unplanned. So I cannot provide any concrete timeline yet

---

**Remco Beckers** (2025-05-13 08:09):
If they want to get started quickly I advice them to use the existing documentation by the OTel project as I described earlier in this thread.

---

**Remco Beckers** (2025-05-13 08:09):
Can you share the customer? We try to keep track of the different requests we get

---

**Warner Chen** (2025-05-13 08:13):
OK, I’ll ask the customer to refer to the documentation you mentioned earlier for now. The customer is OOCL.

---

**Remco Beckers** (2025-05-13 09:50):
From the error I'm not 100% sure, but victoria metrics and/or vmagent seem to be either slow or the collector cannot connect to vmagent.

Do you have errors in the vmagent or victoriametrics logs? Are they running close to their cpu/memory limits and/or getting throttled?

---

**Thomas Muntaner** (2025-05-13 09:52):
but let me look. I think we bumped the resources and everything should be within range

---

**Remco Beckers** (2025-05-13 09:57):
The error is about writing to prometheus remote write, which goes via vmagent to Tephra. The receiver is not in that path so I don't expect the error in the receiver log to be related.
However given that that also is a timeout it may be that some pods are running at their limit (or a node is running at 100% cpu), slowing everything down

---

**Thomas Muntaner** (2025-05-13 10:00):
actually, it looks like we may be at some memory limits :melting_face:

---

**Thomas Muntaner** (2025-05-13 10:01):
I'm guessing we just have too much data hitting it and will need to adjust.

---

**Remco Beckers** (2025-05-13 10:02):
Could be, but also Elasticsearch is not involved in the metrics processing (only logs and events).

---

**Thomas Muntaner** (2025-05-13 10:03):
kafka-2 is nearly at 100% memory. Could that be it?

---

**Thomas Muntaner** (2025-05-13 10:05):
and checks is the only pod at over 100% CPU, which I should adjust as well

---

**Remco Beckers** (2025-05-13 10:15):
That might help, but instead of tweaking individual resources you might want to scale up to a bigger profile.

---

**Remco Beckers** (2025-05-13 10:17):
But none of these are in the path for storing metrics from otel. That goes

otel-collector -&gt; vmagent -&gt; victoria-metrics.

Did you try restarting the otel-collector? You mentioned the other 2.

---

**Thomas Muntaner** (2025-05-13 10:18):
we're already on the 250 profile with under 100 nodes :)

---

**Thomas Muntaner** (2025-05-13 10:18):
but we have 15 clusters and multiple harvesters connected to it

---

**Remco Beckers** (2025-05-13 10:20):
How big are your nodes? The 250 is based of nodes with 4 vCPUs and 16GB of memory

---

**Thomas Muntaner** (2025-05-13 10:21):
you're right, I forgot to bump up the nodes after we adjusted the profile. I'll get on that

---

**Thomas Muntaner** (2025-05-13 10:23):
and yes, I recreated the otel pod. It's stuck in a crash loop anyways where it builds up memory until OOM and then restarts

---

**Remco Beckers** (2025-05-13 10:23):
That definitely indicates the metrics are not getting stored then.

---

**Remco Beckers** (2025-05-13 10:24):
If you're still stuck after bumping nodes we should probably get on a call so I can have a look with you to speed things up

---

**Thomas Muntaner** (2025-05-13 10:25):
this used to work and it works for our other development cluster, but I think pushing vm data from harvester with OTEL is causing issues

---

**Thomas Muntaner** (2025-05-13 10:32):
so I was wrong, I was looking at our ETCD node and not the worker node:

---

**Davide Rutigliano** (2025-05-13 11:35):
@Bram Schuur since I have your attention I'd like to ask you if you advise any approach to "automatically" configure monitors. Use case is I have a `monitors.yaml` file that I can apply with sts commands. I was wondering what would be the best approach to apply them in a reproducible/automatic way using terraform/helm

---

**Remco Beckers** (2025-05-13 12:02):
Let's do that. Anything between 14.00 and 16.00 (CEST) works for me today. Or we can do right now, I've got almost half an hour

---

**Thomas Muntaner** (2025-05-13 12:04):
let's just a quick call now. Just give me a min to get it ready

---

**Thomas Muntaner** (2025-05-13 12:33):
logs from the call

---

**Marc Rua Herrera** (2025-05-13 14:46):
Hi team, quick question:
If I manually add a permission (e.g., `unlock-node`) to the Admin role in SUSE Observability, will that permission be retained after an upgrade? Just want to confirm whether RBAC changes to built-in roles are persistent or overwritten.
Thanks!

---

**Bram Schuur** (2025-05-13 14:50):
if you added it through the cli, that should stay. if you added in lets say a configmap, that should be overwritten by the upgrade

---

**Bram Schuur** (2025-05-13 14:52):
at this point we do not support monitors as kubernetes CRs, this is on our medium/long term roadmap. The only way of applying them automatically right now is through the cli `settings` command

---

**Lisa Guerineau** (2025-05-13 19:16):
Hi Team!  I have a customer running into issues when setting up SUSE Observability.  Is this the correct Reg Code?  It's my understanding they should have dashes in the code.

What's the best step forward to correct this? Are you able to provide a new code, or should the customer create a support case?

---

**Mohamed Belgaied** (2025-05-13 19:36):
A customer of mine is asking the following questions about SUSE Observability:
• Does SUSE Observability expose an API for Notifications/Alerts in order to query them from NRPE (Nagios Remote Plugin Executor) ?
• Can you confirm that SUSE Observability does not yet integrate with Rancher's Multi-tenancy and the Project permissions concept, but it is work in progress ? If yes, can you have a vague timeline ?
• Does another Multi-tenancy concept already exist ? Can users only see their assigned dashboards in some way ?

---

**Marc Rua Herrera** (2025-05-13 19:39):
Got it! Thanks Bram

---

**Zia Rehman** (2025-05-14 03:00):
Hi All,

While installing the SUSE Observability agent, I noticed that in the StackPack section, the deploy command URL for every distribution type starts with `htpp` instead of `http`.

Will this be corrected from the backend?

---

**David Noland** (2025-05-14 03:02):
Normally you need to get help at <#C02AYV7UJSD|> for license keys.

---

**David Noland** (2025-05-14 04:06):
Or if the customer opens a support case, my team will go to <#C02AYV7UJSD|> and request help.

---

**Deon Taljaard** (2025-05-14 07:52):
Hi Zia, that URL gets constructed from the `stackstate.baseUrl` provided through Helm values. Could you double-check the value used for `baseUrl` when generating the value files?

---

**Frank van Lankvelt** (2025-05-14 08:31):
that code is very weird - it indeed does not have dashes, but it also has the wrong number of characters.  So it's definitely incorrect.

---

**Bram Schuur** (2025-05-14 09:05):
Dear Mohamed,
1. Currently we do not have an out of the box upstream integration with nagios. We do have an api that would allow you to ingest nagios notifications/alerts as health/monitor information into the platform: https://docs.stackstate.com/health/health-synchronization
2. We are actively working on rancher.k8s native RBAC permission support. Delivery should be in a couple of months
3. There is another concept (our old RBAC system), but we recommend waiting for the rancher based one, there is a high chance our previous iteration will be deprecated.

---

**Mohamed Belgaied** (2025-05-14 09:39):
OK, thank you for your answers.
However for the point 1., I meant it the other way around: not ingesting metrics from Nagios, but expose alerts in an API so that it can be queried from the outside (NRPE).

---

**Bram Schuur** (2025-05-14 09:42):
Sorry, i misunderstood. I am not familiar with NRPE, but suse observability does allow forwarding notifications to extenral services by implementing a webhook. This is not immediately queryable but would allow you to reach the desired goal i think:
• https://docs.stackstate.com/monitors-and-alerts/notifications/channels/webhook#notification-life-cycle

---

**Mohamed Belgaied** (2025-05-14 10:11):
Thank you so much ! These are the answers I needed!

---

**Zia Rehman** (2025-05-14 10:27):
@Deon Taljaard Yes, while running the helm template command I had done typing mistake. Thanks for the correction.

---

**Mohamed Belgaied** (2025-05-14 11:31):
A customer of mine is asking if they can use SUSE Observability agent to ship logs to Kafka (additionally to the SUSE Observability cluster).
My understanding is that:
• Right now, running an additional promtail pod is needed (https://docs.stackstate.com/logs/k8sts-log-shipping#running-additional-promtail-pods). However, Promtail is deprecated upstream (https://grafana.com/docs/loki/latest/send-data/promtail/#promtail-agent).
• SUSE Observability does support Open Telemetry, but Logs are not yet supported in that context (https://docs.stackstate.com/open-telemetry/getting-started/concepts#signals).
• SUSE Observability is working on a new Open Telemetry Log Shipper.
Is this right ?
Do we have a OTA for the new Open Telemetry Log Shipper ?
Should my *new* customer begin with deploying an additional promtail, and migrate down the line ?

---

**Remco Beckers** (2025-05-14 12:43):
Correct. You can't use our agent (promtail) to ship logs somewhere else. But you don't have to use as an additional promtail pod, you could use anything else to ship the logs to Kafka.

It's also correct that SUSE observabilitiy doesn't support OTel logs. But we're not yet working on a new log shipper and api. It is on the roadmap but not yet planned when we will be starting the work.

So I can't give an ETA on the new log shipper.

My suggestion for the customer would be to not use the deprecated promtail but use the Open Telemetry Collector as the log shipper to ship logs to Kafka. See also https://opentelemetry.io/blog/2024/otel-collector-container-log-parser/ for setting up the pod log collection.

---

**Remco Beckers** (2025-05-14 12:44):
Can you share the customer name? I can add them to the list of interested people for the logs roadmap item

---

**Mohamed Belgaied** (2025-05-14 12:47):
Thank you for the clear answers. Yes, the customer is ANFSI, a government agency in France.

---

**Christian Frank** (2025-05-14 12:50):
Hi @Mohamed Belgaied, just to clarify: ANFSI wants to ship logs to Kafka, outside of SUSE Observability, correct? What do they expect to happen with the logs?

---

**Mohamed Belgaied** (2025-05-14 12:52):
Yes, that's right. So, they will still use logging features of SUSE observability but they also have multiple logging solutions that can consume log events from Kafka. They use it for other legacy applications and might use it with K8s as well.

---

**Remco Beckers** (2025-05-14 12:55):
If they already have consumers for those logs on Kafka they might be limited in their choice by the log format that is expected on Kafka. So they probably want to check that the OTel Kafka logs exporter uses a format that they support (same problem if they decide to use promtail of course)

---

**Mohamed Belgaied** (2025-05-14 12:56):
Good to know, thank you! :+1:

---

**Christian Frank** (2025-05-14 12:56):
The Rancher Logging Operator supports Kafka, too :slightly_smiling_face:

---

**Mohamed Belgaied** (2025-05-14 12:58):
Yes, but since this is a new customer, I am hesitant about recommending Rancher logging...

---

**Christian Frank** (2025-05-14 12:59):
Can you explain?

---

**Mohamed Belgaied** (2025-05-14 13:04):
Well, SUSE observability is supposed to replace the monitoring and logging stack that come with Rancher. At some point in the future, I am expecting Rancher logging to come out of support. And knowing how well we handled migration paths in the past, I do not want a new customer to use our "older" solution.

---

**Christian Frank** (2025-05-14 13:09):
Both our monitoring and logging stacks are stable upstream projects; they won't go away anytime soon :slightly_smiling_face:

---

**Christian Frank** (2025-05-14 13:11):
If StackState perseveres, the max they would lose would be the UI integration

---

**gaetan.trellu** (2025-05-14 15:12):
To re-bounce on @Mohamed Belgaied question. Does SUSE Observability has a global API?
• Get the registered clusters
• Retrieve `deviating` objects per cluster or overall
• Retrieve the last changes of an object
• etc...

---

**Bram Schuur** (2025-05-14 15:14):
We do not offer a documented comprehensive api right now for retrieval, there are apis but those are not for public use.

---

**gaetan.trellu** (2025-05-14 15:16):
Thanks @Bram Schuur, does the API will be documented at some point?

---

**Bram Schuur** (2025-05-14 15:17):
we have plans to come out with a standardized api, but that is pretty far on the backlog

---

**gaetan.trellu** (2025-05-14 15:17):
Ok, thanks.

---

**Lisa Guerineau** (2025-05-14 15:35):
Thanks all.  The customer has created Case # 01580459 and I can see the Reg Code has been updated in the SCC.  I will advise the customer to try again with the new code. Thank you.

---

**Marc Rua Herrera** (2025-05-14 16:57):
Hi all,

The installation works, but when I run commands like `sts agent list` or `sts context save`, I get this error:

&gt; :x: Could not connect to https://observability01.rhos02.rb-dcs.bosch.com/api (undefined response type)
When I run the command with `-v`, I can confirm that the CLI *reaches the endpoint*, because it logs this request:

```GET /api/server/info HTTP/1.1
Host: 
observability01.******.com
User-Agent: StackStateCLI/3.0.5
Accept: application/json
X-API-Token: ********
Accept-Encoding: gzip


2025/05/14 09:53:28
HTTP/1.1 200 OK
Cache-Control: no-store, no-cache
Content-Security-Policy-Report-Only: object-src 'none'; base-uri 'self'; script-src 'self' 'nonce-ThemY_72CHkY6qOYv9TZ-A' 'unsafe-inline' 'unsafe-eval' https://*.msauth.net (http://msauth.net) https://*.msftauth.net (http://msftauth.net) https://*.msftauthimages.net (http://msftauthimages.net) https://*.msauthimages.net (http://msauthimages.net) https://*.msidentity.com (http://msidentity.com) https://*.microsoftonline-p.com (http://microsoftonline-p.com) https://*.microsoftazuread-sso.com (http://microsoftazuread-sso.com) https://*.azureedge.net (http://azureedge.net) https://*.outlook.com (http://outlook.com) https://*.office.com (http://office.com) https://*.office365.com (http://office365.com) https://*.microsoft.com (http://microsoft.com) https://*.bing.com (http://bing.com) 'report-sample'; report-uri https://csp.microsoft.com/report/ESTS-UX-All
Content-Type: text/html; charset=utf-8
Date: Wed, 14 May 2025 07:53:27 GMT
Expires: -1
Link: &lt;https://aadcdn.msftauth.net&gt;; rel=preconnect; crossorigin,&lt;https://aadcdn.msftauth.net&gt;; rel=dns-prefetch,&lt;https://aadcdn.msauth.net&gt;; rel=dns-prefetch
P3p: CP="DSP CUR OTPi IND OTRi ONL FIN"
Pragma: no-cache
Set-Cookie: ***; expires=Fri, 13-Jun-2025 07:53:27 GMT; path=/; secure; HttpOnly; SameSite=None
Set-Cookie: e*****; domain=.login.microsoftonline.com (http://login.microsoftonline.com); path=/; secure; HttpOnly; SameSite=None
Set-Cookie: *****; domain=.login.microsoftonline.com (http://login.microsoftonline.com); path=/; secure; HttpOnly; SameSite=None
Set-Cookie: fpc=Aoy4tLfuvw9PhqrCnWcVigykjkD5AQAAAPZCtt8OAAAA; expires=Fri, 13-Jun-2025 07:53:27 GMT; path=/; secure; HttpOnly; SameSite=None
Set-Cookie: x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly
Set-Cookie: stsservicecookie=estsfd; path=/; secure; samesite=none; httponly
Strict-Transport-Security: max-age=31536000; includeSubDomains
Vary: Accept-Encoding
X-Content-Type-Options: nosniff
X-Dns-Prefetch-Control: on
X-Frame-Options: DENY
X-Ms-Ests-Server: 2.1.20663.11 - FRC ProdSlices
X-Ms-Request-Id: 0d982aa3-b854-44ea-b470-46fd998f5500
X-Ms-Srs: 1.P
X-Xss-Protection: 0```
And the response includes a full *Microsoft login HTML page*, not JSON:

```<!DOCTYPE html>
&lt;html dir="ltr" class="" lang="en"&gt;
&lt;head&gt;
    &lt;title&gt;Sign in to your account&lt;/title&gt;
...```
I also see in the API pod logs:

```OidcPersonalTokenProfileCreator - No refresh token found
PersonalTokenAuthenticator - User authenticated with token _Iq7w...```
Does anyone know how I can troubleshoot this or what could be the reason?

---

**Frank van Lankvelt** (2025-05-14 17:07):
you sure the api pod logs appear when trying this command - they weren't from an earlier access?  It sure looks like you are being redirected by a gateway of some sort

---

**Marc Rua Herrera** (2025-05-14 17:11):
I think you are right, they could be indeed from early access. As I also see some other user in the API logs

---

**Derek So** (2025-05-15 07:55):
Hello team, where can we find a complete list of out-of-the-box metrics in our documentation that we can share with customers? Thanks!

---

**Alessio Biancalana** (2025-05-15 08:26):
hi, I think you can refer to this https://docs.stackstate.com/monitors-and-alerts/kubernetes-monitors

---

**Derek So** (2025-05-15 08:33):
Thanks @Alessio Biancalana I showed this page to the customer buy they are looking for list of metrics, not monitors with alert threshold.

---

**Alessio Biancalana** (2025-05-15 08:36):
I'm sorry I didn't understand your question at first, I don't know about metrics :confused:

---

**Derek So** (2025-05-15 09:06):
They would like to see the definition of metrics used in building the PromQL as documented here: https://docs.stackstate.com/metrics/k8sts-explore-metrics

---

**Bram Schuur** (2025-05-15 09:11):
Dear Derek, we do not have documentation for each individual metric right now.

---

**Derek So** (2025-05-15 09:13):
Thanks @Bram Schuur and @Alessio Biancalana! Do you know if there’s any plan to produce this document for customer reference?

---

**Bram Schuur** (2025-05-15 09:14):
there is no immediate plan, we can put this on our backlog, but it depends on the priority of this how quick this will get picked up.

---

**Derek So** (2025-05-15 09:27):
This is requested by a customer who is evaluating this product. It seems we are missing a very important piece of document in this observability product. Be great if this can be prioritized. Thank you very much!

---

**Alejandro Acevedo Osorio** (2025-05-15 09:33):
Perhaps you can enable debug logging to see if you can get more info https://docs.stackstate.com/self-hosted-setup/security/authentication/troubleshooting

---

**Marc Rua Herrera** (2025-05-15 09:34):
I will try this. Thanks Alex.

---

**Alejandro Acevedo Osorio** (2025-05-15 09:37):
I remember a customer case with `Microsoft Identity Platform` on the old 5.1 the ran into this issue
```
SUSE Observability needs OIDC offline access. For some identity providers, this requires an extra scope, usually called offline_access.```

---

**Marc Rua Herrera** (2025-05-15 09:41):
Is this by any chance in our previous support platform?

---

**Alejandro Acevedo Osorio** (2025-05-15 09:42):
This is in our docs https://docs.stackstate.com/self-hosted-setup/security/authentication/oidc#configure-the-oidc-provider (last bullet point)

---

**Remco Beckers** (2025-05-15 10:01):
Are they looking for specific metrics or categories/groups of metrics or the exact list of metric names.
The latter would become a rather unwieldy list of hundreds of metrics.

---

**Vladimir Iliakov** (2025-05-15 10:02):
These 500-s can be ignored, they happened because api was restarted at the same time.

---

**Vladimir Iliakov** (2025-05-15 10:02):
I guess the answer might be in the node agent logs

---

**Derek So** (2025-05-15 10:08):
@Remco Beckers
1. They are planning to migrate from Prometheus/Grafana + Kiali to SUSE Observability. To estimate the effort, they would like to have a complete list of the available metrics out-of-the-box for the migration effort estimation and if the solution can replace their existing monitoring stack.
2. They need this to make use of building up PromQL and add to the dashboard.

---

**Hugo de Vries** (2025-05-15 10:35):
Its a very long list of metrics for:
• Datadog based host/node agent
• Datadog based process agent
• Kubestate metrics from clusteragent
• Metrics provided by OpenTelemetry instrumentation of applications and databases. The repo of each otel integration usually has a list of metrics that it’s collecting.
I tried querying for a list of all the metric names but was not succesful yet.

This is an overview of the host and processagent metrics from datadog agents. When you check the metrics explorer on our playground you’ll see that we collect most of them. They are formated with underscores instead of periods. So system_cpu_ etc.

I expect we will already cover about the same collection of metrics. Since we also support PromQL, they can use the same queries when adding metrics to dashboards in Suse Observability.

1. *Host Agent (core agent) – System Metrics*
These are collected out-of-the-box:

CPU
	•	system.cpu.user
	•	system.cpu.system
	•	system.cpu.idle
	•	system.cpu.stolen
	•	system.cpu.iowait
	•	system.cpu.guest
	•	system.cpu.guest_nice
	•	system.cpu.nice
	•	system.cpu.interrupt
	•	system.cpu.softirq
	•	system.cpu.steal

Memory
	•	system.mem.total
	•	system.mem.used
	•	system.mem.free
	•	system.mem.cached
	•	system.mem.buffered
	•	system.mem.swap.total
	•	system.mem.swap.free
	•	system.mem.swap.used
	•	system.mem.available

Disk
	•	system.disk.read_time
	•	system.disk.write_time
	•	system.disk.read_bytes
	•	system.disk.write_bytes
	•	system.disk.read_ops
	•	system.disk.write_ops
	•	system.disk.in_use
	•	system.disk.free
	•	system.disk.total

Network
	•	system.net.bytes_sent
	•	system.net.bytes_rcvd
	•	system.net.packets_sent
	•	system.net.packets_rcvd
	•	system.net.errors_in
	•	system.net.errors_out
	•	system.net.drops_in
	•	system.net.drops_out

Load
	•	system.load.1
	•	system.load.5
	•	system.load.15

IO
	•	system.io.r_s (read/s ops)
	•	system.io.w_s (write/s ops)
	•	system.io.rkb_s (read KB/s)
	•	system.io.wkb_s (write KB/s)

Filesystem
	•	system.disk.in_use
	•	system.disk.free
	•	system.disk.total
	•	per mountpoint

Others
	•	system.uptime
	•	system.processes.total
	•	system.processes.running
	•	system.processes.sleeping
	•	system.processes.stopped
	•	system.processes.zombies

⸻

1. *Process Agent – Process Metrics*
Collected if the Process Agent is enabled (via process_config.enabled: "true"):

Per-process Metrics
	•	process.cpu.user
	•	process.cpu.system
	•	process.cpu.total_pct
	•	process.mem.rss
	•	process.mem.vms
	•	process.mem.pct
	•	process.io.read_bytes
	•	process.io.write_bytes
	•	process.open_file_descriptors
	•	process.thread_count

Process count per name or group
	•	process.running
	•	process.stopped
	•	process.sleeping
	•	process.zombie

These are grouped and tagged by:
	•	process.name
	•	process.pid
	•	process.user
	•	Custom tags (from config)

---

**Remco Beckers** (2025-05-15 11:08):
We also have a huge list of Kubernetes (and Kubernetes state) metrics  plus quite a list container metrics

---

**Remco Beckers** (2025-05-15 11:08):
Not sure where you got those list from @Hugo de Vries

---

**Marc Rua Herrera** (2025-05-15 12:10):
This clusters not receiving metrics are in a ACI Cisco Netwrok, and they have to open manually the ports. The strange thing is that we receive topology.

One question maybe. If we skip TLS verification, does it use the port 8080 instead of 443? We only opened 443.

---

**Marc Rua Herrera** (2025-05-15 12:16):
The errors in the node-agent, a part for the "too many errors for the endpoint". Also say:

---

**Marc Rua Herrera** (2025-05-15 12:20):
And the to many errors are for 2 different endpoints:

`receiver/stsAgent/intake/`

`receiver/stsAgent/api/v1/series`

---

**Vladimir Iliakov** (2025-05-15 12:29):
That Client.Timeout might be caused by traffic filtering in between or the platform performance issues...

---

**Vladimir Iliakov** (2025-05-15 12:29):
I can't say for sure.

---

**Vladimir Iliakov** (2025-05-15 12:29):
<!subteam^S08HEN1JX50> <!subteam^S08HHSW67FE> fya

---

**Marc Rua Herrera** (2025-05-15 12:31):
Performance issues? I see some GC of 500 ms. These are the receiver-base logs

---

**Vladimir Iliakov** (2025-05-15 12:36):
Is there any http proxy between the agent and the platform?

---

**Marc Rua Herrera** (2025-05-15 12:37):
No proxies

---

**Vladimir Iliakov** (2025-05-15 12:41):
The errors about malformed and corrupt content look suspicious.

---

**Derek So** (2025-05-15 12:47):
Thanks everyone! The list is helpful.

---

**Hugo de Vries** (2025-05-15 13:04):
Be careful sharing this list 1:1 with the customers, we might not collect all of these so needs validation first. Kiali is observability interface for Isio. Istio can be instrumented with metrics and traces using the Prometheus exporter and Otel instrumentation for traces. https://istio.io/latest/docs/reference/commands/pilot-discovery/#metrics

@Remco Beckers good point, there are even more metrics from Kubernetes that we collect indeed. I got this list via datadog website https://docs.datadoghq.com/integrations/#cat-os-system

---

**Hugo de Vries** (2025-05-15 13:06):
Long story short, no noteworthy difference expected in coverage of metrics collected, so migrating should not be an issue. If there is particular interest in certain metrics, please let customer provide the metric name and we can look into it.

---

**Derek So** (2025-05-15 13:49):
Got it. Really appreciate your team’s quick responses! thanks again :pray:

---

**Alessandro Festa** (2025-05-15 17:43):
Hi Observability gurus... newbie question, when I try to use openlit.init() in an application I receive an `ERROR: Failed to export batch code: 401, reason: Unauthorized`  but I have no idea what to pass and how..I found I have an `otlp_headers` but not sure is the right thing to use... anyone has idea or examples? Maybe is a stupid question but I really struggling to find a solution

---

**Remco Beckers** (2025-05-16 08:26):
If you've configured the SUSE Observability otel endpoint directly into openlit you'll need to authenticate using an api key.

We normally recommend, for production at least, running an otel collector close to your application and handle the authentication there: https://docs.stackstate.com/open-telemetry/getting-started/getting-started-k8s.

But it is fine to ignore that (especially when developing, testing, etc). You can simply configure an authentication header with the api token. The getting started has more details but the tldr; is to add bearer token authentication with the scheme `SUSEObservabilty` and an api key as the token.

---

**Remco Beckers** (2025-05-16 08:29):
You can also directly set the header yourself:
`Authentication: SUSEObservability &lt;api-key&gt;`

---

**Zohar Dansky** (2025-05-16 11:38):
How can a customer learn about new releases or patches at the moment? Is that communicated at the Rancher Channels? any formal support pages?

---

**Warner Chen** (2025-05-19 04:19):
Hello Team, May I ask if the JSON data format sent by a Webhook type Notification supports customization?
https://docs.stackstate.com/monitors-and-alerts/notifications/channels/webhook#webhook-requests-and-payload

---

**Frank van Lankvelt** (2025-05-19 08:32):
it's possible to attach custom metadata/tags to a notification.  The idea of the webhook is that you create a custom handler that then transforms the JSON into whatever works best for the customer.

---

**Warner Chen** (2025-05-19 08:38):
thx, i am currently doing some testing on this.:grin:

---

**Benoît Loriot** (2025-05-20 11:03):
Hi, a prospects asked me if it is possible to limit the amount of data sent by the downstream cluster (SO agent) to SUSE Observability?
They have clusters in Africa where bandwidth is limited to 2 Mbps.

---

**Bram Schuur** (2025-05-20 11:10):
There is no out of the box support for this right now, there might be an option for them to route the traffic through a proxy (https://docs.stackstate.com/agent/k8s-network-configuration-saas/k8s-network-configuration-proxy) and have the proxy throttle the traffic, but i have not direct experience with such a setup (just an idea).

---

**Benoît Loriot** (2025-05-20 11:12):
Thanks @Bram Schuur that's a first lead to explore if they would deploy SO in such environments.

---

**Benoît Loriot** (2025-05-20 11:25):
I am wondering now, can we choose to only gather and send datas of a specific namespace ou subset of the cluster ?
That could also be a solution to limit amount of bandwidth required.

---

**Bram Schuur** (2025-05-20 11:26):
we do not support tweaking that right now, we always send everything

---

**Davide Rutigliano** (2025-05-20 15:25):
Hi SUSEObs team, I am trying to configure slack notifications. I have already configured the Slack app ID/secret for access to SUSE Software Ltd (this) workspace. In the UI, after I allow access for the app to the workspace, I see an empty list of channels and errors when trying to reach `https://<suse_obs_url>/api/notifications/channels/slack/<some_id>/listSlackChannels`  with `"message":"Slack API returned an error: ratelimited"`. Could be that due to the fact that stackstate tries to fetch ALL channels in the workspace? Any way to limit/configure this?

---

**Davide Rutigliano** (2025-05-20 15:30):
actually on very first request before getting rate limited I get
```"errors":[{"message":"Operation timeout error.","errorCode":408,"_type":"ServerTimeoutError"}]```

---

**Bram Schuur** (2025-05-20 15:54):
Yes, stackstate tries to fetch all channels. I can see this is an issue in such a big organisation. Filing a ticket...

---

**Bram Schuur** (2025-05-20 15:57):
Thanks for reporting @Davide Rutigliano, filed the following ticket: https://stackstate.atlassian.net/browse/STAC-22771

---

**Davide Rutigliano** (2025-05-20 15:58):
Thanks @Bram Schuur!

---

**Garrick Tam** (2025-05-20 20:29):
Hello.  I have a customer that is stuck with the same issue.  The Observability is installed into a Rancher downstream cluster and the Observability exposed over Rancher Ingress using a self-signed certificate.  When attempting to configure the Observability UI-Extension, the Rancher local cluster ingress returns a 502.

Does the UI-Extension support Observability URL with self-signed certificate?

---

**Garrick Tam** (2025-05-21 02:26):
I believe it is the case where CA signed certificate is required.  An ingress for STS URL backed by CA signed cert returns 401 without correct token while ingress for STS URL backed by Default Ingress Controller Certificate (self-signed) returns 502.

---

**Garrick Tam** (2025-05-21 02:27):
self-signed

---

**Garrick Tam** (2025-05-21 02:27):
@Tj Patel This is what I found.

---

**Garrick Tam** (2025-05-21 02:29):
Can someone that works to integrate UI Extension please confirm this is the expected behavior and a requirement.

---

**Tj Patel** (2025-05-21 18:46):
If so, we really need it in the docs. We have a lot of customers who use air gapped environments and their own private ca's

---

**Jeroen van Erp** (2025-05-21 20:30):
The cert indeed needs to be trusted by rancher, or either a real cert, or add the cert to the truststore

---

**Garrick Tam** (2025-05-21 20:47):
Thx for the response @Jeroen van Erp .   How to make Rancher trust ingress Fake cert?   Which trust store to add cert to and how?

---

**Jeroen van Erp** (2025-05-21 21:16):
That is beyond my knowledge. Best to ask in discuss-rancher?

---

**Tj Patel** (2025-05-21 21:17):
He has, but no one has responded.

---

**Tj Patel** (2025-05-21 21:19):
There are a couple people I've been talking to about our CA certs that I was considering highlighting, but need to double check I don't highlight the wrong person if I do :stuck_out_tongue:

---

**Davide Rutigliano** (2025-05-22 10:43):
Hi team, I am trying to write a remediation guide (https://docs.stackstate.com/monitors-and-alerts/customize/k8s-write-remediation-guide) for a custom monitor and I would like to include metrics labels in the remediation. I am getting a server error when creating the monitor with sts `*message: 'Failed to parse Handlebars template:* Parameter ''labels'' not provided.'`.  Am I doing something wrong?

---

**Davide Rutigliano** (2025-05-22 10:43):
My monitor look like this:
```- _type: Monitor
  arguments:
    comparator: GT
    failureState: DEVIATING
    metric:
      ...
    urnTemplate: urn:cluster:/kubernetes:${cluster_name}
  remediationHint: |-
    The cluster `\{{labels.cluster_name\}}` is lagging too much.```

---

**Davide Rutigliano** (2025-05-22 10:46):
And a funny thing I cannot explain myself is, if I copy/paste the yaml of a built-in monitor referencing metric labels (e.g. `urn:stackpack:stackstate:shared:monitor:clickhouse-distributed-files-to-insert-high`) I get the exact same error about 'labels' not provided

---

**Bram Schuur** (2025-05-22 11:19):
when do you get this issue? when uploading through the cli or in the ui? Could you share the exact file that you are uploading and how?

---

**Davide Rutigliano** (2025-05-22 11:20):
I think it was due to an un-escaped `{{ }}`  sequence

---

**Bram Schuur** (2025-05-22 11:21):
that is what i figured, we might improve our messages there, thanks for reporting:+1:

---

**Andreas Prins** (2025-05-22 13:54):
Sharing is caring:

https://www.linkedin.com/posts/andreasprins_suse-observability-usage-of-ebpf-activity-7331272659822915584-uexB?utm_source=share&amp;utm_medium=member_ios&amp;rcm=ACoAAADjq30BFYAdX1wFuXEB-b7Mn9w7WlkOjOE (https://www.linkedin.com/posts/andreasprins_suse-observability-usage-of-ebpf-activity-7331272659822915584-uexB?utm_source=share&amp;utm_medium=member_ios&amp;rcm=ACoAAADjq30BFYAdX1wFuXEB-b7Mn9w7WlkOjOE)


Leaving a good comment works the best

---

**Bram Schuur** (2025-05-22 14:47):
This is not a work queue but actual state. Could you check the health of the hbase region servers? if loading times out it might be due to them getting restarted.

---

**Bram Schuur** (2025-05-22 14:49):
Side-question: What is the profile used for installing stackstate? How many clustr nodes are hooked up?

---

**Thomas Muntaner** (2025-05-22 14:50):
okay, the hbases are stable, but their storage is slow right now because of a netapp scan going on (https://suse.slack.com/archives/C02AET1AAAD/p1747907110942369?thread_ts=1747407687.687679&amp;cid=C02AET1AAAD).

I was hoping it was something I could just clear and get running, even if it was slow.

---

**Thomas Muntaner** (2025-05-22 14:50):
we have like 15 clusters connected, including 4 harvesters. We're on the 250 node profile, but that may need to be adjusted

---

**Thomas Muntaner** (2025-05-22 14:55):
I can open the question again when everything goes healthy on netapp and if the problem continues

---

**Bram Schuur** (2025-05-22 14:55):
:+1:makes sense

---

**Zia Rehman** (2025-05-23 11:05):
Hi all,
The eLearning course for SUSE Observability will be launching soon. For learners who do not have an SCC subscription and wish to proceed with a trial, how can they obtain a trial license key for SUSE Observability for installation purposes? Is there a specific link or email address where they can request this? I need to include this information in the course.

---

**Josh Stringfellow** (2025-05-23 17:43):
There is a blog post floating around that some of my Rancher Prime Suite customers think implies that they have SaaS observabillity included with their subscription. I am getting several questions about this. Any feedback?
&gt; *Enhanced Rancher Prime Observability for Enterprise Needs*
&gt; SUSE Observability enhances the commercial Rancher Prime offering with robust observability and monitoring features, making it ideal for enterprise environments. Available both as a SaaS service for quick deployment and as an on-premise solution for organizations requiring more control, it provides out-of-the-box golden signals detection and issue detection for applications, queues and databases. Visibility extends beyond the cluster, offering infinite dependency maps through eBPF discovery.
https://www.suse.com/c/introducing-rancher-prime-observability-providing-advanced-insight-into-the-most-complex-environments/

---

**Louis Lotter** (2025-05-26 07:51):
@Andreas Prins

---

**Bram Schuur** (2025-05-26 09:20):
Under this link it is documented how to have rancher trust a custom certficate: https://ranchermanager.docs.rancher.com/getting-started/installation-and-upgrade/resources/custom-ca-root-certificates

---

**Louis Lotter** (2025-05-27 11:32):
@Ben Craft Do you know how long you will need this.

---

**Louis Lotter** (2025-05-27 11:33):
I need to report on the costs etc. so If you can write a short justification and time period then we can do this for you.

---

**Ben Craft** (2025-05-27 11:36):
Likely just a couple of months while we are internally testing, so it'll just be our control plane and a very low number of early access tenant instances.

Beyond that and once the product becomes GA i'm happy to deploy our own instance, or work out a way to compensate for the usage internally (not sure if we have any prior art to doing that, but can investigate)

---

**Louis Lotter** (2025-05-27 11:54):
@Vladimir Iliakov What else do you need to know from @Ben Craft to do this for him ?

---

**Vladimir Iliakov** (2025-05-27 11:59):
The name of the tenant, region: EU or US, the number of nodes to observe.

---

**Vladimir Iliakov** (2025-05-27 12:00):
@Louis Lotter the tenant will be deployed to the "Customer" production cluster  and contribute to "Customer" cost category.

---

**Louis Lotter** (2025-05-27 12:01):
@Vladimir Iliakov this is not for a specific customer

---

**Louis Lotter** (2025-05-27 12:01):
I think this is infrastructure monitoring for Rancher customers

---

**Louis Lotter** (2025-05-27 12:01):
So put it in Infra

---

**Ben Craft** (2025-05-27 12:03):
EU please.

Yes this will be for our control plane, and the downstream tenant clusters (which will only be a few for now)

---

**Louis Lotter** (2025-05-27 12:14):
@Ben Craft How many nodes will you be observing ?

---

**Ben Craft** (2025-05-27 12:14):
2 per cluster, so lets say 10 total for now

---

**Vladimir Iliakov** (2025-05-27 12:34):
&gt; So put it in Infra
The only way to do it is to deploy it to saas-tooling internal cluster...

---

**Vladimir Iliakov** (2025-05-27 12:37):
Which has its own Keycloak, shortly, we can't do that.

---

**Vladimir Iliakov** (2025-05-27 13:50):
Hi @Ben Craft , soon, in 15-30 minutes, you should get a welcome email with the info how to login to your tenant.

I will decommission the tenant on Jul 27, with informing you in advance.

---

**Ben Craft** (2025-05-27 13:52):
Thats great - thank you

---

**Mark Abrams 518.421.1504** (2025-05-27 14:11):
Perhaps if you repost in <#C02ER7LFAR2|> you will get some insight

---

**Louis Lotter** (2025-05-27 14:12):
Thanks Vladimir

---

**Warner Chen** (2025-05-28 10:14):
Hello Team, Does SUSE O11y have built-in support or functionality similar to Blackbox Exporter for performing service availability probing and response content monitoring?

---

**Andreas Prins** (2025-05-28 10:26):
thanks @Josh Stringfellow for highlighting this, we can certainly nuance the blogpost a bit to make that very clear. @Ivan Tarin if you can later today add a few lines that would be great.

Furthermore it is a real product positioning question.
Currently
• SUSE Observability is included in Prime, this is the full product with all features. The customer will host this themselves.
• SUSE Observability as a full package is NOT available as SaaS
• SUSE Cloud Observability, a slimmed down version of the product is available as a SaaS, the customer pays for the "hosting" of this service, it should act as an entry point into the Prime bundle.
Nearby future:
• SUSE Cloud Obs. as described above remains the same
• SUSE Observability will get a SaaS variant, where every Prime customer can purchase this, there is a bit of cost involved, again because we take care for the hosting. 
@Mark Bakker can share more details if you have followup questions

---

**Remco Beckers** (2025-05-28 10:40):
No it doesn't have that. We use the blackbox exporter ourselves. The exporter can be scraped using the OTel collector or our agent to ship the data to SUSE Observability

---

**Warner Chen** (2025-05-28 10:51):
Thx, If I understand correctly, the user still needs to deploy the Blackbox Exporter themselves and then send the data to SUSE O11y.

---

**Remco Beckers** (2025-05-28 10:52):
Yes, that's correct

---

**Bram Schuur** (2025-05-28 15:53):
cc @Mark Bakker

---

**Gabriel Lins** (2025-05-28 23:23):
Hello. How can we integrate opencost with observability? The idea is demonstrate to costumer that it's possíble to have this information presented through SUSE Observability

---

**Nick Zhao** (2025-05-29 04:51):
Are we able to watch code-level profiling, memory and CPU usage analysis, and call analysis of third-party components in SUSE O11y.  Or opentelemetry does?

---

**Frank van Lankvelt** (2025-05-29 08:50):
Some technologies, like the jvm, expose metrics that can be made use of.  Otherwise we can only collect process level metrics.  If you want deeper insights into what's happening in a process, instrumentation (either automatic or manual) is going to be needed.  Open telemetry is then indeed the way to get that data into SUSE Observability.

---

**Nick Zhao** (2025-05-29 09:10):
This is a dashboard from grafana which looks like containing those metrics.  Does our o11y have?  Stackpack?  if there is any hands on docs?  Appreciate it.

---

**Alessio Biancalana** (2025-05-29 09:15):
as Frank already said you can see in the screenshot this is pretty specific to the JVM and I guess what you're looking at are opentelemetry traces.

Usually these data are not available out of the box simply because for example the binaries inside containers are compiled without debug symbols or the operating system is shipped without frame pointers support to actually help build a flame graph.

---

**Alessio Biancalana** (2025-05-29 09:17):
I guess you can look at our Traces Perspective section for further material.

https://docs.stackstate.com/views/k8s-view-structure/k8s-traces-perspective

---

**Zia Rehman** (2025-05-29 09:52):
@Mark Bakker Please let me know.

---

**Zia Rehman** (2025-05-29 09:53):
@Jeroen van Erp Please suggest.

---

**Jeroen van Erp** (2025-05-29 09:54):
I think there's a process for that, but I don't know.

---

**Zia Rehman** (2025-05-29 10:23):
Okay, can you please suggest someone who may know the process.

---

**Frank van Lankvelt** (2025-05-29 11:32):
Maybe this is based on https://github.com/grafana/opentelemetry-ebpf-profiler (https://github.com/grafana/opentelemetry-ebpf-profiler)?  I guess it should be possible to deploy an agent that pushes the otel spans from this profiler to use Observability.  As open telemetry is an open standard, any collector should work - including this one.

---

**Frank van Lankvelt** (2025-05-29 11:34):
If you can send the data as metrics or open telemetry spans/traces, then this should certainly be possible.

---

**Nick Zhao** (2025-05-29 11:34):
how about our o11y collector?  How to do that?:smile:

---

**Frank van Lankvelt** (2025-05-29 13:06):
Sorry, but the SUSE Observability team has not been involved in the development of observability for SUSE AI.  I wouldn't even know where to find the relevant code.  You might have better luck with the SUSE AI team.

---

**George Yao** (2025-05-29 13:10):
Sure, Thanks all the same.:handshake:

---

**Thiago Bertoldi** (2025-05-29 17:56):
Yes, the AI Team can help with that. I'll get in touch with you in the direct messages.

---

**Bram Schuur** (2025-05-30 11:38):
@Amol Kharche @Remco Beckers i raised the following bugticket based on the reported issue around the unauthorized UI extension causing issues in the rancher UI:
• https://stackstate.atlassian.net/browse/STAC-22825

---

**Brian Six** (2025-05-31 00:08):
Customer is asking if in our .yaml configuration file if they can change the "stackstate" wording to something else.  Here is the code they are talking about wanting to change the wording "stackstate":

---

**Bram Schuur** (2025-06-02 09:27):
@Louis Lotter maybe you can help @Zia Rehman, i am oblivious to how license keys are handed out now

---

**Louis Lotter** (2025-06-02 09:29):
@Zia Rehman I don't think I would like to interact with every learner.
Who is in charge of this course ?
Best would probably be to generate a set of short term keys, put it in a spreadsheet and then you or whoever is in charge can hand them out ?

---

**Louis Lotter** (2025-06-02 09:29):
I have no idea if anyone has already planned a process for this but no one has asked me.

---

**Louis Lotter** (2025-06-02 09:30):
I'm happy to help set it up though.

---

**Ravan Naidoo** (2025-06-02 09:34):
Yes they can change the names to anything they like.  They must remember however to redeploy any SUSE Observability Agents and Open Telemetry Agents to point to the newly named url.

---

**Mark Bakker** (2025-06-02 09:47):
We currently don't have a formal process for trial keys outside customers (SCC). We do provide trial keys on request for sales engagements via a spreadsheet which is kept by sales. I like to understand who the typical user which follows these courses?
I also like to understand the content of the course, is this installation, usage, ... ?

---

**Zia Rehman** (2025-06-02 10:27):
1 have developed an e-learning course on SUSE Observability, which also covers the installation process. Learners who do not have an SCC account will need a license key to proceed. Therefore, I need to include information in the course on how they can obtain the license key. Users will be our customers, partners and the SCI's who will be delivering this course.

---

**Hugo de Vries** (2025-06-03 15:07):
Can former StackState customers also use SCC to create tickets? I'm getting ongoing complaints from Accenture,  Rabobank and NN about response times on support request created via zendesk, mainly the initial response that takes days or even longer then a week in some cases. I'd like to onboard these handful of customer to SCC and let them make use of the Suse Sbservability support process in place for Rancher Prime customers. To discuss this, who do I need to reach out to?

---

**Remco Beckers** (2025-06-03 15:13):
@Mark Bakker Maybe you can answer this. I would be happy with that approach too

---

**Alessio Biancalana** (2025-06-03 15:16):
if the roadblock is merely technical then maybe <#C02AYV7UJSD|> is the place to go

---

**Louis Lotter** (2025-06-03 15:28):
i think there may be contractual issues but I agree if possible we need to get this done

---

**Owen Lewis** (2025-06-03 15:59):
Hi Hugo - our plan for 'legacy' StackState customers is that we will support them through Zendesk until they renew to Rancher Prime when we will onboard them to SUSE systems including SCC.

@David Noland Please could you check with the former StackState team on Hugo's feedback and how we can improve the service level on these requests.  Thanks.

---

**Mark Bakker** (2025-06-03 16:03):
I would love to get them on SCC but indeed in their contract we need to do this from NL, I look at the tickets once per day. I would be really happy if we can move them to SCC to be fair!

---

**David Noland** (2025-06-03 16:22):
The agreement was to keep legacy customers on StackState's Zendesk and support tickets need to be handled by the StackState team. I believe there was a legal requirement for multiple legacy customers that only staff within a certain country (Netherlands?) can have access to their tickets. We had to revoke my team's access to Zendesk to satisfy this legal requirement. So unless we can geofence these cases in SCC, we do not want them coming into SCC/SFDC is my understanding.

---

**David Noland** (2025-06-03 16:23):
But if these legacy customers want to purchase Rancher Prime, then they should have no issues getting access to SCC.

---

**Hugo de Vries** (2025-06-03 16:37):
Thanks for the swift responses. So asking them for permission to let first line support potentially be handled by non Dutch citizens would would not be enough then. Accenture has recently renewed, I'll check the contract if Prime is part of that as well.

---

**Owen Lewis** (2025-06-03 16:44):
@Hugo de Vries As and when legacy customers renew to Rancher Prime at the end of their current term is the point at which we can onboard them to SUSE systems and Support processes.  In the meantime, @Mark Bakker please continue to keep an eye on the Zendesk queue so we can give these customers a prompt service.  Thanks all.

---

**Mark Bakker** (2025-06-03 17:37):
@Owen Lewis yes I do, be aware that we had a payment issue for a few weeks which indeed gave slower responses lately.

---

**Graham Hares** (2025-06-03 18:41):
Sorry for this dumb and confusing question, but trying to understand the auth between the otel collector/exporter and a remote suse observability otel collector:
```otlp:
  protocols:
   grpc:
    auth:
     authenticator: ingestion_api_key_auth
     endpoint: ${env:MY_POD_IP}:4317
   http:
    auth:
     authenticator: ingestion_api_key_auth
     endpoint: ${env:MY_POD_IP}:4318```
I have suse obs behind an aws lb with ports 4317 and 4318 open with tcp protocol, the otel ingress objects have self signed certs via cert-manager issuer,
The collector running on a separate cluster is configured with:
```exporters:
  otlp:
   endpoint: https://oltp-${OBS_HOSTNAME}:4317
   headers:
    Authorization: "SUSEObservability ${env:API_KEY}"
   tls:
    insecure: true```
oltp-${OBS_HOSTNAME} is in public Route53 DNS and open.

Question is will GPRC Auth work through the EC2 LB? and is the same API_KEY used for the remote observability agent work for Otel or should I use a different value for header Authorization: string or key?
ty

---

**Graham Hares** (2025-06-03 18:52):
remote collector pod has this in it's log:
```2025-06-03T16:51:22.260Z  warn  grpc@v1.72.1/clientconn.go:1405 [core] [Channel #3 SubChannel #4]grpc: addrConn.createTransport failed to connect to {Addr: "oltp-obs.demo.suselabs.net:4317 (http://oltp-obs.demo.suselabs.net:4317)", ServerName: "oltp-obs.demo.suselabs.net:4317 (http://oltp-obs.demo.suselabs.net:4317)", BalancerAttributes: {"&lt;%!p(pickfirstleaf.managedByPickfirstKeyType={})&gt;": "&lt;%!p(bool=true)&gt;" }}. Err: connection error: desc = "transport: authentication handshake failed: context deadline exceeded"  {"resource": {}, "grpc_log": true}```

---

**Graham Hares** (2025-06-03 18:53):
wondering about mTLS auth :thinking_face:

---

**Remco Beckers** (2025-06-04 09:55):
Your exporter configuration looks a bit strange:
• indentation of the keys inside `otlp` seems wrong (only 1 space), although somehow it seems to work (judging from the logs), so maybe it just got mangled copy/pasting into slack
• The authentication cannot be configured in the exporter, the way to do that is to use the `bearertokenauth` extension and refer that in the exporter, for an example see our docs here: https://docs.stackstate.com/open-telemetry/getting-started/getting-started-k8s#configure-and-install-the-collector

---

**Remco Beckers** (2025-06-04 09:56):
Make sure to enable the extension (and not only configure it) by including it in the `service.extensions` array as well

---

**Graham Hares** (2025-06-04 09:56):
Morning @Remco Beckers I cut and pasted bits from deployment and rancher manager ui :slightly_smiling_face:

---

**Graham Hares** (2025-06-04 09:58):
I stopped my cluster now, reading through configs and will try things again, my demo moved out a week so have the opportunity to get this extra bit figured out

---

**Graham Hares** (2025-06-04 09:59):
Thank you for the extension doc link :pray:

---

**Graham Hares** (2025-06-04 11:07):
I did a test this morning but didn't get the config right I think:
```  helm --kubeconfig=./local/admin-cluster1.conf upgrade \
    --install obs suse-observability/suse-observability \
    --namespace suse-observability --create-namespace \
    --values ./local/suse-observability-values/templates/baseConfig_values.yaml \
    --values ./local/suse-observability-values/templates/sizing_values.yaml \
    --values ./local/suse-observability-values/templates/ingress_values.yaml \
    --values ./local/suse-observability-values/templates/otel_values.yaml \
    --values ./local/suse-observability-values/templates/authentication.yaml
...
coalesce.go:286: warning: cannot overwrite table with non table for suse-observability.opentelemetry-collector.config.receivers.jaeger (map[protocols:map[grpc:map[endpoint:${env:MY_POD_IP}:14250] thrift_compact:map[endpoint:${env:MY_POD_IP}:6831] thrift_http:map[endpoint:${env:MY_POD_IP}:14268]]])
coalesce.go:286: warning: cannot overwrite table with non table for suse-observability.opentelemetry-collector.config.receivers.prometheus (map[config:map[scrape_configs:[map[job_name:opentelemetry-collector scrape_interval:10s static_configs:[map[targets:[${env:MY_POD_IP}:8888]]]]]]])
coalesce.go:286: warning: cannot overwrite table with non table for suse-observability.opentelemetry-collector.config.receivers.zipkin (map[endpoint:${env:MY_POD_IP}:9411])
Error: values don't meet the specifications of the schema(s) in the following chart(s):
opentelemetry-collector:
- (root): Additional property exporters is not allowed
- service: Additional property extensions is not allowed```
with otel_values.yaml:
```opentelemetry:
  enabled: true
opentelemetry-collector:
  extraEnvsFrom:
    - secretRef:
        name: open-telemetry-collector

  config:
    receivers:
      otlp:
        protocols:
          grpc:
            endpoint: 0.0.0.0:4317
          http:
            endpoint: 0.0.0.0:4318
    extensions:
      # Use the API key from the env for authentication
      bearertokenauth:
        scheme: SUSEObservability
        token: "${env:API_KEY}"
  exporters:
    nop: {}
    otlp/suse-observability:
      auth:
        authenticator: bearertokenauth
      # Put in your own otlp endpoint, for example suse-observability.my.company.com:443
      endpoint: otlp-obs.demo.suselabs.net
      compression: snappy
  service:
    extensions: [ health_check,  bearertokenauth ]

  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size: "50m"
      nginx.ingress.kubernetes.io/backend-protocol: GRPC
      cert-manager.io/cluster-issuer: selfsigned-issuer
    hosts:
      - host: otlp-obs.demo.suselabs.net
        paths:
          - path: /
            pathType: Prefix
            port: 4317
    tls:
      - hosts:
          - otlp-obs.demo.suselabs.net
        secretName: otlp-tls-secret
    additionalIngresses:
      - name: otlp-http
        annotations:
          nginx.ingress.kubernetes.io/proxy-body-size: "50m"
          cert-manager.io/cluster-issuer: selfsigned-issuer
        hosts:
          - host: otlp-http-obs.demo.suselabs.net
            paths:
              - path: /
                pathType: Prefix
                port: 4318
        tls:
          - hosts:
              - otlp-http-obs.demo.suselabs.net
            secretName: otlp-http-tls-secret
---```

---

**Remco Beckers** (2025-06-04 11:12):
Are you trying to install SUSE Observability or the OTEL collector in a cluster you're monitoring?

---

**Remco Beckers** (2025-06-04 11:12):
The documentation I linked to is about installing an otel collector  in a cluster you want to monitor. But the helm command you now shared is to install SUSE Observability

---

**Graham Hares** (2025-06-04 11:14):
This is a cluster that is dedicated to SUSE Observability with the otel stackpack added, remote clusters have the receiver agent installed, one has SUSE AI to send otel back

---

**Graham Hares** (2025-06-04 11:14):
just focusing on getting the SUSE Observability cluster deployed correctly atm

---

**Remco Beckers** (2025-06-04 11:15):
The only customizations that are needed (and that are possible) on the otel collector that's part of SUSE Observability is the ingress section. The rest should not be customized because it is used to store data in our internal databases.

---

**Remco Beckers** (2025-06-04 11:16):
In short, in the `opentelemetry-collector:` section you should only keep the `ingress:` and `additionalIngress:` parts and remove the rest.

---

**Graham Hares** (2025-06-04 11:17):
Oh okay, miss-understood, sorry, so by default it's expecting the remote cluster to use the auth extension config

---

**Graham Hares** (2025-06-04 11:17):
That's what I had before, I'll rip it out again :slightly_smiling_face:

---

**Remco Beckers** (2025-06-04 11:18):
The documentation I linked to earlier is to configure a collector in a remote cluster that you want to monitor, but I guess you already have that setup as part of the SUSE AI setup

---

**Graham Hares** (2025-06-04 11:19):
I do, but I don't think it works as is though, unless I miss-understood that too :slightly_smiling_face:

---

**Graham Hares** (2025-06-04 11:19):
I'll fix the obs deployment and move on to it..

---

**Nico Lamberti** (2025-06-04 12:27):
Hi Team, Is there an API for querying data? Customer would like to build a simple external dashboard with Grafana to visualize the health status. Then, for analysis, they will dive into Observability. Any documentation, etc. available? (fyi @Dominik Mathern) BR Nico

---

**Marc Rua Herrera** (2025-06-04 12:32):
Hey team,

We know there are different predefined HA profiles available, but for a customer case (NN), we’re looking into creating a more tailored deployment that ensures maximum stability.

To do that, we want to better understand the available configuration options beyond just sizing. There are several parameters in the profiles (see attached screenshot) that we’re not fully familiar with.

Could someone help explain what these options are for and how they impact the deployment, so we can tweak them if needed for a more stable and custom setup?

Thanks in advance.

---

**Frank van Lankvelt** (2025-06-04 12:34):
you can use SUSE Observability as a Grafana DataSource: https://docs.stackstate.com/metrics/advanced-metrics/k8s-stackstate-grafana-datasource

---

**Frank van Lankvelt** (2025-06-04 12:36):
though this is just the metric data that is collected - you seem to be looking for something else.  Don't think this is a scenario we'll put any energy into supporting

---

**Nico Lamberti** (2025-06-04 12:59):
Thank you Frank - Maybe to put the question more simply - where can I find the API documentation - where data can be export/retrieve  from the observability area and in which format. this should be enough for them to evaluate.

---

**Louis Lotter** (2025-06-04 13:35):
@Bram Schuur would it not be best for you or @Alejandro Acevedo Osorio to collaborate with Marc a bit here ?

---

**Louis Lotter** (2025-06-04 13:35):
maybe pull in @Alessio Biancalana, @Fedor Zhdanov or @Deon Taljaard as well so they can learn more about this stuff

---

**Bram Schuur** (2025-06-04 14:37):
Maybe, although it will take quite some time to explain this with the right context. Also: I'd rather have NN tell us what stability scenarios they are interested in and we can turn that into a profile. Maybe in the short term they are happy tinkering with the platform, but in the long run, we're going to have to give additional support there and most likely less rather than a more stable system.

---

**Bram Schuur** (2025-06-04 14:37):
We can also discuss this on discord some moment

---

**Alejandro Acevedo Osorio** (2025-06-04 16:07):
Agreed, it will be easier to discuss that explain all those flags on slack, and agreed that I'd like to understand the motivation to deviate/customise the profile

---

**Marc Rua Herrera** (2025-06-04 16:29):
Thanks all. I understand your points, and I agree it makes sense to align live rather than try to go through everything over Slack.
What I proposed to NN was to start from one of the default profiles and help adjust it if needed.
That said, they’re quite advanced and have a good level of knowledge. Yoland specifically mentioned he’d prefer to understand the details so they’re not dependent on us if things change on their end (e.g. new clusters, additional data sources, etc.).
On top of that, I’m also working with Bosch, who are already using the largest profile (4000-ha), and they’re running into issues with the sync pods. One of their main questions is how to scale the config to avoid resource constraints going forward.
So getting a deeper understanding of this would help me support both these cases — and likely others in the future.
Happy to jump on a call or Discord to go through it together.

---

**Bram Schuur** (2025-06-04 16:31):
Coolio, i booked a meeting for tomorrow, we have enough to chat about including the bosch question

---

**Marc Rua Herrera** (2025-06-04 16:39):
Thank you Bram!

---

**Deon Taljaard** (2025-06-04 16:42):
Could you invite me to that meeting, please?

---

**Deon Taljaard** (2025-06-04 16:46):
Thanks. I see I probably won't be able to make it (need to attend to a private matter during that time tomorrow). Could you record the session?

---

**Bram Schuur** (2025-06-04 16:46):
Will do:+1:

---

**Garrick Tam** (2025-06-04 18:24):
Is the only way to rename a Kubernetes StackPacks Instance (cluster) is to uninstall and reinstall with updated Kubernetes Cluster Name?

---

**Bram Schuur** (2025-06-04 19:28):
Yes, this is the only way

---

**Garrick Tam** (2025-06-04 19:30):
Thank you for the quick confirmation.

---

**Frank van Lankvelt** (2025-06-04 19:48):
Most of our api is documented in an OpenAPI spec - https://github.com/StackVista/stackstate-openapi (https://github.com/StackVista/stackstate-openapi) .  Note that it is not something we actively try to keep backwards compatible, but extend and modify as the product evolves.  A lot of APIs rarely change though.
Probably the best way to get real examples of the usage is to look at the requests the frontend sends - it uses this same OpenAPI spec.

---

**IHAC** (2025-06-05 01:04):
@Garrick Tam has a question.

:customer:  Fortinet

:facts-2: *Problem (symptom):*  
Current authentication mechanisms does not include SAML.  (https://docs.stackstate.com/self-hosted-setup/security/authentication/authentication_options)

Is SAML planned for future support?

---

**Remco Beckers** (2025-06-05 08:48):
At the moment there are no plans to support SAML.

---

**Remco Beckers** (2025-06-05 08:50):
We are working on authentication (and authorization) integration with Rancher (i.e. Rancher as authentication provider for SUSE Observability). And I believe Rancher does support SAML. So when that's released they should be able to use that mechanism to authenticate via SAML

---

**Daniel Barra** (2025-06-05 15:17):
*We are pleased to announce the release of 2.3.4, featuring bug fixes and enhancements. For details, please review the release notes (https://docs.stackstate.com/self-hosted-setup/release-notes/v2.3.4).*

---

**Ala Eddin Eltai** (2025-06-05 16:03):
Is there a JIRA for the integration of rancher authentication in suse obs ?

---

**Remco Beckers** (2025-06-05 16:27):
There is not a single JIRA ticket. In our own Jira we have an epic to implement Rancher authentication + authorization (we plan to release this together) and in Rancher there are several tickets for implementing an OIDC Provider in Rancher. This is our epic ticket https://stackstate.atlassian.net/browse/STAC-21788, but it depends on the OIDC provider in Rancher being released. That is planned for the 2.12 release. This is the EPIC issue on Rancher: https://github.com/rancher/rancher/issues/49571

---

**Nico Lamberti** (2025-06-06 14:22):
Thank you Frank :green_heart:

---

**Gabriel Lins** (2025-06-06 16:00):
Hey @Frank van Lankvelt! I have defined an prometheus exporter to opencost. Now, i'm trying to get this metrics in observability.
Do you know how to do that? Is there any documentation regarding that?

---

**Frank van Lankvelt** (2025-06-06 16:01):
the way to do that would be to use the "remote write" endpoint - fully prometheus compatible: https://docs.stackstate.com/metrics/advanced-metrics/k8s-prometheus-remote-write

---

**Graham Hares** (2025-06-06 16:25):
Just following up from above, I created a test single node instance observability deployment and deployed my otlp ingress after the suse-observability chart deployment, created a test namespace for the exporters and got it working using the otlp-http with post 80 and the host based ingress.  Main issue I had in the end was that I hadn't opened up port 80 on the aws load balancer.  Appreciate the help :slightly_smiling_face: :thankyou:

---

**Graham Hares** (2025-06-06 17:22):
On an all-in-one suse-observability test noticed the agent-logs-agent pod failing with:
```gmini [aws-suse-observability]$ k -n suse-observability logs pod/suse-observability-agent-logs-agent-kzspk
level=info ts=2025-06-06T15:17:05.587855504Z caller=promtail.go:133 msg="Reloading configuration file" md5sum=897697f2543df939b96bc47ec2cdb91c
level=error ts=2025-06-06T15:17:05.588096571Z caller=main.go:170 msg="error creating promtail" error="failed to make file target manager: too many open files"```
trying to up fs.inotify.max_user_instances from 128 to 1024 but wondered if there was other preferred tuning? ty

---

**Graham Hares** (2025-06-06 17:24):
Seems stable now :thumbs-up:
Added this to my host config:
```# Tuning
# Environment: promtail 2.9.8 on amd64 EC2
echo "fs.inotify.max_user_instances = 1024" | tee -a /etc/sysctl.conf
sysctl -p
sysctl fs.inotify```

---

**Gabriel Lins** (2025-06-06 21:17):
Nice!! I'm almost there, but for some reason i can't visualize the metrics through observability. At this moment I could verify that:
1. My opencost sending metrics to a prometheus 
2. Prometheus sending metrics to 'stackstate'  via remote_write with no errors
3. But can't figure out where to get my metrics via observability UI
The screnshoots below shows that
1-promql to remote_storage defined as observability URL getting hits
2-promql from opencost received
3-no errors in sending samples do observability

---

**Zia Rehman** (2025-06-09 11:20):
Hi, @Mark Bakker  @Louis Lotter is there any solution for the above query?

---

**Davide Rutigliano** (2025-06-10 10:55):
Hello Team, as I don't have access to stackstate jira and I can't see the status of STAC-22771 (https://stackstate.atlassian.net/browse/STAC-22771) can I kindly ask anyone for an update on the ticket (access to jira would be even better)?

---

**Louis Lotter** (2025-06-10 11:10):
@Zia Rehman Can I schedule a call with you ?. I'm sure we can handle this together.

---

**Louis Lotter** (2025-06-10 11:17):
This has not been picked up yet Davide. I'll check with the team if this is hard to fix and when we could take a look.

---

**Davide Rutigliano** (2025-06-10 11:22):
Thanks for the update @Louis Lotter!

---

**Zia Rehman** (2025-06-10 11:36):
Hi @Louis Lotter yup sure. You can schedule at your prefered time.

---

**Ala Eddin Eltai** (2025-06-10 11:36):
GM Team,
IHAC who has setup microsoft entra id (oidc) as authentication and is running into problems:
• There are users of the admin group which are able to login
• BUT there a users who cant login which are part of the same ad-group
Did someone observe something similar so far with the stackstate authentication ?

---

**Dominic Giebert** (2025-06-10 12:02):
A customer of ours want to use Observability in partially connected scenario, since I am not an expert on StackState yet is there a way to buffer until the agent is able to send the data?

---

**Marc Rua Herrera** (2025-06-10 12:11):
Bosch have like 150 cluster like this :sweat_smile:

---

**Alessio Biancalana** (2025-06-10 12:13):
what do you mean as buffer? What kind of partial connectivity do they have?

---

**Vladimir Iliakov** (2025-06-10 12:17):
The groups are returned in the access token, as far as I know it is not possible to check a token at Microsoft Entra ID's side.
@Remco Beckers does API log anything that can be useful to troubleshoot it?

@Ala Eddin Eltai Can the User check the logs of the API for any clues?
Microsoft Entra ID is a complex thing and configurations may vary, maybe the User can find the relevant differences between those who can log in and who can't.

---

**Alejandro Acevedo Osorio** (2025-06-10 12:18):
The ones from the image are the ones already onboarded into SUSE Observability?

---

**Bram Schuur** (2025-06-10 12:18):
Right now SUSE Observability is a (near) realtime platform, designed to continuously observe data and troubleshoot issues as they arise. We have gotten some gentle nudges to look at (tiny) edge usecases where data is coming at less regular intervals or only when something is wrong, but this is for now nt on an immediate roadmap

---

**Bram Schuur** (2025-06-10 12:19):
@Mark Bakker @Remco Beckers feel free to chime in

---

**Louis Lotter** (2025-06-10 12:23):
Hi Davide. This issue will take some time to be prioritised as it's significant effort and you are the first to encounter it. We do want it fixed of course but we are juggling many priorities atm.

---

**Marc Rua Herrera** (2025-06-10 12:29):
This is just an example of the cluster sizing they have

---

**Marc Rua Herrera** (2025-06-10 12:29):
But this are real clusters:

---

**Dominic Giebert** (2025-06-10 12:30):
@Giuseppe Cozzolino this would also mean our friends can’t use it.

---

**Marc Rua Herrera** (2025-06-10 12:31):
The platform is not working any longer. Health States missing, sync pod crashing, and also some errors in the Zookeeper. These are 30 cluster and they have 150 in production env + they want to add open telemetry

---

**Mark Bakker** (2025-06-10 12:45):
This is correct, we don't have anything planned for this kind of setup. It will also not fit our near term roadmap. So not something we expect anytime soon.

---

**Dominic Giebert** (2025-06-10 12:46):
Good to know :+1:

---

**Giuseppe Cozzolino** (2025-06-10 13:01):
Hi @Dominic Giebert, I remember we involved someone from StackState, why no one shared this with us before?

---

**Alejandro Acevedo Osorio** (2025-06-10 13:09):
Those `30` clusters they have now, to how many `default nodes` (4 vCPUs and 16GB of memory) are they equivalent? ... Just from the `13` shown in the screenshot I already get to `1167` default nodes.
It sounds quite something those `150` production clusters. For sure the best is what Bram suggested with the strong/close collaboration with them

---

**Ala Eddin Eltai** (2025-06-10 13:09):
@Vladimir Iliakov I'll see the customer this week will try to get to the logs

---

**Remco Beckers** (2025-06-10 13:13):
If they want to see what groups are seen by SUSE Observability there is documentation to enable debug logging for authentication here: https://docs.stackstate.com/self-hosted-setup/security/authentication/troubleshooting. Just be aware that this will dump the entire requests included the (secret) tokens that are part of the oidc flow. So you want to disable it as soon as you're done debugging.

---

**Mark Bakker** (2025-06-10 13:57):
To be clear, at the moment the agent buffers, but this is only to solve temporary issues with connectivity, it will also mean that the topology will not be updated during or after that period, it will be updated at the moment data will flow in. Metrics, traces and logs should just backfill as long as the agent buffer is not filled.
This still means that this is only meant for small connectivity issues, not as a feature to send only sometimes. @Bram Schuur did I explain this correct?

---

**Marc Rua Herrera** (2025-06-10 14:04):
Exaclty, and this image only shows 13 out of the 29 clusters they already have installed

---

**Dinesh Chandra** (2025-06-10 15:13):
Hi Team, One of my customer has couple of questions need help with
1. Rancher service latency is mostly 20m and cluster status for Rancher cluster is not clear because of the monitor (HTTP - response time - is above 3 seconds). I also noticed same in my lab as well as other customers. I guess this could be due to different charts etc getting refreshed. Is there a way to identify what might be causing this latency?
2. Is there any way to exclude Rancher service from this Monitor or creating new Monitor which would exclude specific Rancher service?

---

**Gabriel Lins** (2025-06-10 15:44):
Hey! Could someone here help me with `remote_write` to observability? I'm almost getting there, but maybe I'm forgetting something.

---

**Remco Beckers** (2025-06-10 15:48):
We don't really a preferred tuning. This is also dependent on what is running on the node next to the logs agent. The only way to fix it is to indeed increase the ulimits.

---

**Niel Bornstein** (2025-06-10 15:49):
For a demo/poc of SObservability for SVirtualization, can I install SO on the SV bare metal RKE2 cluster or does it need to be in a separate cluster?

---

**Javier Lagos** (2025-06-10 16:00):
I am currently managing one customer case with the same alert happening on just one of all the monitored cluster. We have seen that rancher is working fine without issues even when the latency is high and on this cluster there is nothing than just rancher deployed on it.

One important thing I saw during a call with them is that Rancher latency can be seen only on the local rancher that is managing multiple downstream clusters but not on the downstream clusters. Is what I have just said the same on your side @Dinesh Chandra?  Maybe this latency is something that can be expected for upstream rancher clusters? What are your thoughts about it @Remco Beckers?

On the other side, It is possible to exclude rancher system of being analyzed by adding an annotation to the rancher service on cattle-system namespace https://docs.stackstate.com/monitors-and-alerts/customize/k8s-override-monitor-arguments

In my case I have executed the following command to exclude rancher from the http monitor in my local cluster.

``` kubectl annotate service -n cattle-system rancher \
  monitor.kubernetes-v2.stackstate.io/http-response-time='{ (http://monitor.kubernetes-v2.stackstate.io/http-response-time='{)
    "threshold": 0.0,
    "failureState": "CRITICAL",
    "enabled": false
  }'```

---

**Graham Hares** (2025-06-10 16:02):
Thanks @Remco Beckers a single test node is a crazy thing tbf :slightly_smiling_face:

---

**Remco Beckers** (2025-06-10 16:02):
Let me have a look in our test setup. This is a work around that will work indeed but it is unexpected that it is needed at all

---

**Graham Hares** (2025-06-10 16:13):
Question on license codes please, are SCC generated subscription codes linked with SUSE Observability now?, remember a few months back that was in the pipe
If they are, can an SA generate an NFR subscription on a partner's account for a PoC (partner to evaluate, not end user) and what's the process for that, is the subscription key value simply compatible to add to the helm template license field? ty

---

**Remco Beckers** (2025-06-10 16:14):
I see the same behavior on our test setup, the monitor just doesn't go red because we don't have enough requests hitting the 20s mark (or &gt;3s).

---

**Javier Lagos** (2025-06-10 16:19):
Thanks for checking @Remco Beckers!

Does that mean then that this rancher latency is an expected behavior? Can we consider this as known behavior of rancher so we can safely disable http monitor on rancher pods?

At least on the case I'm currently managing the customer is receiving more than 30 alerts per day about the same HTTP request on rancher pods which is creating a lot of noise and, for that reason, the customer has decided to disable the monitor but it would be great if we can confirm the situation and next steps to be taken by the product. Maybe we can monitor rancher pods in a different way by default.

---

**Remco Beckers** (2025-06-10 16:22):
I'm still checking, I find the latency quite excessive and I'm wondering if we're not looking at a bug where the websockets used by Rancher get reported as slow responses (and getting cut-off at 20 seconds). But that's just a hunch for now.

---

**Remco Beckers** (2025-06-10 16:23):
With the annotation in place they should be able to keep the monitor enabled

---

**tiernan.ohalmhain** (2025-06-10 16:24):
Still in the pipeline afaik. Eval codes are not currently supported for Cloud Native products, and all PoCs need to be done via $0 quote - this is also being worked on as far as I know.

---

**Bram Schuur** (2025-06-10 16:25):
Could you describe the problem you are facing? What status codes are you seeing?

---

**Javier Lagos** (2025-06-10 16:25):
Shouldn't we have an internal ticket for this research? I can create it if needed with all the info so we can comment to our customers in case they do have the same alert on rancher pods that this is being analyzed internally as we have been able to reproduce it on our lab. In the meantime we can recommend to disable monitor http request on rancher.

---

**Graham Hares** (2025-06-10 16:27):
Thank you @tiernan.ohalmhain would the key obtained via the $0 quote be a time limited one, not sure how the internal logic works, thinking 3 months would be a good length of time for a partner to mobilise

---

**Bram Schuur** (2025-06-10 16:27):
@Ravan Naidoo maybe you can give guidance here? The SUSE Observability team is not actively working on Harvester integration, but maybe the harvester team is? Or is there a demo being worked on?

---

**Niel Bornstein** (2025-06-10 16:27):
I am looking at https://www.suse.com/c/monitoring-suse-virtualization-environment/

---

**tiernan.ohalmhain** (2025-06-10 16:28):
Depends on what's stuck on the quote I imagine, I'm not sure how that's handled - that's done by the SPR team. I know evals have a max of 120 days, so that's probably the most that can be done on $0 quotes as well? Either way, the SCC team will still need to manually replace the key with the proper one.

---

**Ravan Naidoo** (2025-06-10 16:38):
Hi Niel.  The article you referring to was just to show basic Open Telemetry integration.  In the mean time, I’ve written a more complete integration with VM topology.  See https://github.com/ravan/so-virt/blob/main/setup/README.MD

I’ve sent you an email with creds to a demo environment where you can see it all working.

For your demo setup, I guess you could install SUSE Observability on your SUSE Virtualization cluster if the specs meet the trial requirements: https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#requirements

---

**Niel Bornstein** (2025-06-10 16:42):
Thanks! To let you know the use case, I am working with HPE managed services on a demo for Home Depot and they want to use OpsRamp but there is no integration with kubevirt/Harvester (only RKE2 or Prometheus), so I'd like them to see what we can bring to the party.

---

**Gabriel Lins** (2025-06-10 16:49):
I'm trying to visualize OpenCost metrics, exported by Prometheus, in SUSE Observability, but I'm unable to see them in the UI.
I have already verified that:
1. OpenCost is correctly sending metrics to Prometheus.
2. Prometheus is forwarding metrics to the SUSE Observability `remote_write` endpoint without errors.
However, I can't seem to find the metrics anywhere in the SUSE Observability UI. The attached screenshots confirm that the `remote_write` is active and that samples are being sent successfully.

Could you help me understand what might be missing or where to look for these metrics?

---

**Bram Schuur** (2025-06-10 16:52):
Your best bet is the metrics explorer to find your metric, it has autocomplete: &lt;your_instance&gt;/#/metrics

---

**Bram Schuur** (2025-06-10 16:53):
I am wondering about the `https://observability.app.stackstate.io`, is this your saas instance? Or a local dns record?

---

**Gabriel Lins** (2025-06-10 16:58):
Hmm, it's supposed to be a different URL. I'll investigate, as that is probably the problem. Thanks

---

**Remco Beckers** (2025-06-10 16:59):
That seems ok to me. Where would you create the ticket though? We're using our own Jira https://stackstate.atlassian.net/jira and are creating a ticket to look into this in more detail (first investigation shows websockets used by Rancher could accidentally be included in the latency calculation and they are usually long-lived). But that ticket won't be readily accessible for everyone

---

**Gabriel Lins** (2025-06-10 17:35):
@Bram Schuur I have changed to observability.demolab.latam (my local DNS for observability) and prometheus is showing that is connected, but not yet getting the metrics via "Explore metrics" in UI

---

**Gabriel Lins** (2025-06-10 17:37):
Changed the remote_write url to the correct one

---

**Gabriel Lins** (2025-06-10 17:38):
Trying to catch the "node_cpu_hourly_cost" opencost's metric in Observability but returning nothing

---

**Bram Schuur** (2025-06-10 17:42):
What do you mean with catch?

Yourlast example shows a 401, authentication not provided, are you putting the api key for authentication?

---

**Gabriel Lins** (2025-06-10 18:17):
With "catch" I mean "query" . Sorry!
 The terminal example is a `curl -k -v -X POST -H "Content-Type: application/x-protobuf" -H "X-Prometheus-Remote-Write-Version: 0.1.0" --data-binary "" "https://observability.demolab.latam/receiver/prometheus/api/v1/write"`  just to represent the metrics being sent. I'm just testing if the endpoint receives the POST correctly and don't effectly trying to send it.

---

**Gabriel Lins** (2025-06-10 19:27):
I did it! From my side it was a problem regarding the URL provided. As I don't have a valid ingress tls certificate, using https was a problem. Changed to http and internal domain request and worked. Thanks @Bram Schuur

---

**Bram Schuur** (2025-06-10 19:44):
:+1: Good job

---

**Javier Lagos** (2025-06-10 20:53):
I think that creating an internal Stackstate case will be enough for most of the situations. I have already created a Bug jira case with as many details as possible on your jira board.

Can you @Remco Beckers please take a look at it and let me know if you need anything else? https://stackstate.atlassian.net/browse/STAC-22887

I really appreciate your help! Thanks!

---

**Dinesh Chandra** (2025-06-10 22:59):
Thanks @Javier Lagos and @Remco Beckers for help. For now annotation helps and good enough for customer.

---

**Surya Boorlu** (2025-06-11 06:46):
@Bram Schuur I got a query regarding GPU monitoring from customer NowCom Corporation.

---

**Louis Lotter** (2025-06-11 08:32):
@Remco Beckers @Mark Bakker @Andreas Prins https://www.honeycomb.io/blog/its-the-end-of-observability-as-we-know-it-and-i-feel-fine

---

**Remco Beckers** (2025-06-11 08:43):
That's definitely Claude indeed. I get a very similar result with using only our Metrics API from Claude on our Sock-shop demo scenario:

&gt; :mag: *Investigation Summary - FIRST POTENTIAL CAUSE IDENTIFIED*
&gt; *Root Cause: Severe CPU Throttling in Catalogue Service*
&gt; *Key Findings:*
&gt; 1. *catalogue* deployment had *2 container restarts* in the past 30 minutes
&gt; 2. *Massive CPU throttling* occurring:
&gt;     ◦ catalogue containers: ~*2,000,000+ throttles/second*
&gt;     ◦ catalogue-db: ~*5,300,000 throttles/second*
&gt; 3. *Very restrictive CPU limits*:
&gt;     ◦ catalogue: Only *0.1 CPU cores* limit
&gt;     ◦ catalogue-db: 1.0 CPU cores limit
&gt; 4. Evidence of deployment activity (two different catalogue replicasets running)
&gt; *Impact:* The catalogue service is the core component for product listings in a sock-shop application. When it's CPU-starved and throttled, it will cause:
&gt; • Slow response times for product catalog requests
&gt; • Cascading delays throughout the application
&gt; • Poor user experience with slow page loads
&gt; *Recommended Actions:*
&gt; 1. *Immediate*: Increase CPU limits for catalogue containers (from 0.1 to at least 0.5-1.0 cores)
&gt; 2. *Monitor*: Check if catalogue-db also needs higher limits despite having 1.0 core
&gt; 3. *Investigate*: The deployment activity and container restarts around the incident time
That's where I stopped it, but it would continue (and run out of context and/or tokens)

---

**Remco Beckers** (2025-06-11 08:44):
The title is a bit click-bait though, there'll still be a place for the existing UIs. Even if it is just for showing the LLM results to the users

---

**Andreas Prins** (2025-06-11 08:58):
lol, he still thinks you need to be nice to LLMs, starting with please :smile:

---

**Andreas Prins** (2025-06-11 08:59):
sorry for picking this small detail, I think context will be king. but hey, we still need to invest in it

---

**Mark Bakker** (2025-06-11 09:08):
Thanks for sharing

---

**Bram Schuur** (2025-06-11 09:10):
Thanks for reporting and filing the ticket  @Dinesh Chandra @Javier Lagos. I pulled it into our sprint immediately to be worked on

---

**David Noland** (2025-06-12 03:39):
Sorry for the late response on this, but seeing similar behavior on our hosted rancher setup. Not only rancher service, but other services showing 20s HTTP latency and in "Critical" health.

---

**Daniel Murga** (2025-06-12 07:49):
Hi @Davide Rutigliano @Louis Lotter I will provide updates to the SCC case! Thanks! https://scc.suse.com/support/cases/01583525

---

**Remco Beckers** (2025-06-12 09:15):
We've found the cause and a fix is being made

---

**Dinesh Chandra** (2025-06-12 09:19):
Thanks @Remco Beckers world is waiting for the fix :)

---

**Javier Lagos** (2025-06-12 09:19):
Just for curiosity @Remco Beckers, May I know what was the root cause? I have a meeting with the customer today and it would be great if I can give him those details.

---

**Remco Beckers** (2025-06-12 09:21):
It's what I mentioned in a previous message: websocket connections (that keep a connection open for a long time) were included in the latency of HTTP responses (a websocket requests starts as a normal HTTP requests to get upgraded later to a websocket).

---

**Cyril Cuvier** (2025-06-12 10:56):
Hi team, for a customer willing to install Observability on a dedicated cluster on premise, should they purchase additional Rancher Prime subscription for this cluster or is it covered like the RMS cluster ?

---

**Amol Kharche** (2025-06-12 10:57):
Can you please share customer name ? I can quickly check

---

**Cyril Cuvier** (2025-06-12 10:58):
DOXALIA but I have this question from various Rancher Prime customer

---

**Amol Kharche** (2025-06-12 11:01):
They have SUSE Observability subscription and license key on SCC portal.

---

**Amol Kharche** (2025-06-12 11:03):
I believe it comes with the Rancher Prime subscription, but I'm not entirely sure. @Louis Lotter could you please confirm if it's included in the Rancher Prime subscription?

---

**Cyril Cuvier** (2025-06-12 11:05):
Coming with Prime is a fact but from a purchasing perspective do they have to pay for the nodes that will host it when deployed on premise or is it free of extra Rancher Prime subscription for this cluster ?

---

**Amol Kharche** (2025-06-12 11:28):
I am not sure.

---

**Amol Kharche** (2025-06-12 11:30):
Can you please post your question in <#C02AYV7UJSD|> channel.

---

**Amol Kharche** (2025-06-12 12:00):
https://suse.slack.com/archives/C02AYV7UJSD/p1749722177694809?thread_ts=1749722128.130639&amp;cid=C02AYV7UJSD
@Louis Lotter can you please help here or tag someone. I am unsure about per node subscription

---

**Mark Bakker** (2025-06-12 12:17):
Rancher prime included the management servers without license costs for those. Observability is part of the management servers.

---

**Cyril Cuvier** (2025-06-12 12:19):
thanks Mark, does that means Observability backend must be deployed on the same cluster as the RMS or another dedicated cluster ? (purely from a subscription compliance perspective )

---

**Mark Bakker** (2025-06-12 12:19):
No it should be deployed on a seperate cluster it just means you dont need extra licenses for those nodes

---

**Cyril Cuvier** (2025-06-12 12:20):
perfectly clear

---

**Gabriel Lins** (2025-06-12 15:01):
@Mark Bakker, this raises a follow-up question: If a customer runs other applications on the same nodes as the observability stack, how should that be factored into our resource planning? Should we recommend tainting these nodes to dedicate them to observability workloads, similar to how infra-nodes are used in OCP?

---

**Gustavo Varela** (2025-06-12 15:39):
are we planning virtualization support ? for when ? will we have correlation betwen vm, container and the rest of the data ?

---

**Mark Bakker** (2025-06-12 15:55):
In that case those nodes are just billable

---

**Mark Bakker** (2025-06-12 15:56):
Or indeed tainting them

---

**Gabriel Lins** (2025-06-12 15:56):
Clear, ok!

---

**Dinesh Chandra** (2025-06-13 00:04):
One of my customer wants to send notification from specific cluster and specific namespace. If customer select tags `cluster:lab, namespace:test` in the notification it works as OR function and any match is sent as notification to destination.
Customer is looking of AND function so only specific namespace from selected cluster selected as notification source. What is best way to achieve this?

---

**Bram Schuur** (2025-06-13 07:40):
This is a known bug, that will be picked up hopefully next, but otherwise the sprint after: https://stackstate.atlassian.net/browse/STAC-22716 (https://stackstate.atlassian.net/browse/STAC-22716)

---

**Dinesh Chandra** (2025-06-13 07:57):
Thanks @Bram Schuur

---

**Martin Weiss** (2025-06-13 09:41):
It would be great to get a bit more details on how much data we can buffer / when we start to loose data.. basically this is more or less the same challenge we have / had with fluentd :wink:

---

**Mark Bakker** (2025-06-13 10:00):
@Bram Schuur I think you can answer this one, as I remember it's configurable but I am not so sure.

---

**Bram Schuur** (2025-06-13 10:11):
From the (process) agent side there is a queue size, defaults to 20, which gives it a 10 mniute buffer. However, the platform does correlation (based on timeouts, ~1.5 minutes), so when the upstream process agent is queuing, there will already be data loss due to late arriving events missing their windows.

There are actually more agents (cluster agent, logs, otel collector, traces) separately with separate behavior i do not know off the top of my head.

I will repeat my earlier statement: The platform is now tailored to real-time monitoring, with slight tolerations for network partitions (e.g. 30seconds), after that various forms of degradation will occur, this is not something easily changed through configuration.

---

**Martin Weiss** (2025-06-13 10:16):
Basically Rancher-Logging / Rancher-Monitoring or any tracing have similar problems - so do we have an answer from a SUSE ECM side of things on "disconnected" / "weak connected" / "sometimes connected" monitoring/logging/tracing? Or don´t offer anything? In this case - what 3rd party solutions could we recommend?

---

**Mark Bakker** (2025-06-13 10:28):
@Martin Weiss from ECM side we indeed don't offer anything for the disconnected cases, I guess the Edge team has better intel on what we can recommend, I don't know solutions which focus on this very well since it's not our main target area.

---

**Martin Weiss** (2025-06-13 10:29):
Seems we are really missing the SUSE internal interoperability between the BUs / silos.. but ok - will ask, there..

---

**Brynn Harrison** (2025-06-13 17:38):
Is it supported yet to use a certificate signed by a private CA for the stackstate baseURL?

---

**Hugo de Vries** (2025-06-13 18:13):
do we already have an MCP server on our roadmap?

---

**Brian Six** (2025-06-13 20:57):
Question from a customer asking if Observability will ever support Oauth creds instead of API keys/Service Tokens?

---

**Mark Bakker** (2025-06-13 23:01):
Not in the really short term, but at the end of the year beginning of the new year AI is a real important part of our roadmap incl. MCP.

---

**Brian Six** (2025-06-14 00:56):
Ran across this and thought that in addition to our Remediation steps we outline, being able to have an AI component to Observability would be a great addition.
https://k8sgpt.ai/

---

**Eric Lajoie** (2025-06-15 01:25):
@Mark Bakker do you know who can give me a one year or more permanent license key for observability as the one shared in this chat back in August last year is no longer active.

---

**Eric Lajoie** (2025-06-15 01:26):
As a side note, how can a SUSE AI users get their license as I dont see any way in SCC to get it unless I am missing a tab or link.

---

**Eric Lajoie** (2025-06-15 03:56):
Do we have a self-serve model for internal licenses? I see this as a must for SAs and DSAs.

---

**Louis Lotter** (2025-06-16 08:42):
We have pinned a new key

---

**Louis Lotter** (2025-06-16 08:43):
What do you mean with a self-serve model ? Do you want access to generating these licenses yourself ?

---

**Mark Bakker** (2025-06-16 09:15):
In the <#C07U0P4CE76|> SAs and DSAs can find a pinned key they can use.

---

**Mark Bakker** (2025-06-16 09:15):
@Eric Lajoie

---

**Eric Lajoie** (2025-06-16 09:56):
Thank you @Mark Bakker and @Louis Lotter

---

**Marc Rua Herrera** (2025-06-16 10:03):
Good morning, I do have a sync pod in red state after an upgrade on AKS. Logs show a blocked service for a componentWorker 1 and 2. What does this error mean?

---

**Alejandro Acevedo Osorio** (2025-06-16 10:05):
it means it's not making any progress ... and most probably `nnnnn`seconds ago you might find the Exception that produced the blockage

---

**Bram Schuur** (2025-06-16 10:26):
@Mark Bakker question here: this is something the virtualization team will work on right? or is it somehting for the observability team?

---

**Bram Schuur** (2025-06-16 10:39):
we support skipping ssl validation, but not actually validating the certificate:
https://docs.stackstate.com/get-started/k8s-suse-rancher-prime/k8s-suse-rancher-prime-agent-air-gapped#installing-suse-observability-agent

A ticket was filed to improve support there, because we get more questions around this:
https://stackstate.atlassian.net/browse/STAC-22901

---

**Bram Schuur** (2025-06-16 10:40):
This is not on our roadmap right now, could you lay out for me what in what scenario the user would benefit form this?
• Is this in a saas or on-prem scenario?
• What user flow would improve with oauth credentials?

---

**Marc Rua Herrera** (2025-06-16 10:41):
Hey Alex, thanks for the quick response. It starts with few warnings, and then the errors start:

---

**Marc Rua Herrera** (2025-06-16 10:42):
And then, there is few errors like these, and the blocked components start.

---

**Marc Rua Herrera** (2025-06-16 10:44):
This happened right after a AKS upgrade.

---

**Alejandro Acevedo Osorio** (2025-06-16 10:45):
the `NoSuchElementException` over there look like a StackGraph data corruption

---

**Alejandro Acevedo Osorio** (2025-06-16 10:45):
Have you restarted the sync pod? Does it get stuck as well?

---

**Marc Rua Herrera** (2025-06-16 10:45):
Yes, it gets stuck again

---

**Alejandro Acevedo Osorio** (2025-06-16 10:47):
And I guess the Exception where it gets stuck is something similar to `NoSuchElementException` or vertex does not exist

---

**Alejandro Acevedo Osorio** (2025-06-16 10:52):
I guess something went wrong during the upgrade, and here there are a lot of things that play a part,
• ha setup or not
• how was the app cordoned, tear down before the upgrade
• what kind of storage they are using
@Bram Schuur FYI :point_up:

---

**Bram Schuur** (2025-06-16 10:52):
ay, what customer is this?

---

**Marc Rua Herrera** (2025-06-16 10:54):
This is Rabobank. I believe they had the same issue 3 weeks ago and Vladimir was having a look at it.

---

**Bram Schuur** (2025-06-16 11:00):
based on that issue we're now landing work to improve anti-affinity between pods for better stability.

---

**Mark Bakker** (2025-06-16 11:19):
@Gustavo Varela this is something the virtualization team will work on, it's outside of the scope for the Observability team. They provide the platform and extensibility (the later will be changed to make it easier form te virt team to do this in the coming months).

---

**Brian Six** (2025-06-16 17:52):
Customer’s response:

---

**Brian Six** (2025-06-16 17:52):
As an application, when I publish trace/metrics/log data I want to use the oauth credential (like Microsoft Entra Enterprise Application) so that my application and its data can be accurately identified and the data lineage is clear.

 

As the Suse Observability Platform, when I receive data from applications I need to authorization the application sending the data is in fact permitted to send the data and I want to be able to track data lineage [identify the source of the data].  I (Suse Observability) do not want to manage API keys as it is an additional operational support item when every application in my ecosystem will be identified by an Oauth credential.

 

I believe these are both applicable to onprem and saas.

---

**Shaun Gardiner** (2025-06-16 18:50):
odd question: https://www.stackstate.com/ is there any timeline for moving this site to the overall SUSE Branding etc?  Seems odd that in having acquired the company over 1+ year ago there is barely a message or blurb about StackState being a part of SUSE

---

**Emine Uygun** (2025-06-16 19:40):
Hi all, could you please help @Marc Rua Herrera with this? The customer escalated this to me as well. Could we please prioritize this? @Mark Bakker FYI as well :)

---

**John Pugh** (2025-06-16 20:12):
Sore subject it seems. I "think" it's happening, but it's a slow boat.

---

**Bram Schuur** (2025-06-16 20:22):
@Marc Rua Herrera to get them back up and running I'd suggest restoring the backup like they did 3 weeks ago, there is not much else when data is corrupted. We will start a release this sprint to get anti affinity settings released.

---

**Genevieve Cross** (2025-06-16 22:50):
@Shaun Gardiner - Yes! We have plans to decommission the www.stackstate.com (http://www.stackstate.com) site. Before doing so, the Playgound needs to move over to a SUSE domain. These discussions are in process.

---

**Shaun Gardiner** (2025-06-16 22:51):
good news, it just seemed quite odd to me after so long of being a part of the SUSE family that the website shows so little information about SUSE, I would have expected some banner on the front page or something about being acquired etc

---

**Marc Rua Herrera** (2025-06-17 09:40):
Hey Bram, I already suggested restoring the backup, but the team is insisting on understanding the root cause before doing so — they’re concerned that restoring without knowing what caused the issue could just lead to it happening again next week.
Do we know exactly why this happened? From reading the ticket, it’s still not clear to me (or to them) what the underlying issue was.

---

**Rajesh Kumar** (2025-06-17 11:10):
@Gabriel Lins @Frank van Lankvelt I am here as well. I can see the metrics from prometheus in observability metrics section using promql but is it possible to make charts, graphs etc out of it, like we do in grafana?

---

**Frank van Lankvelt** (2025-06-17 11:19):
with the current release you'll need to create `MetricBinding`s - see https://docs.stackstate.com/metrics/custom-charts/k8s-add-charts.  There's a big effort underway to make this a lot easier and to be able to create dashboards.

---

**Rajesh Kumar** (2025-06-17 11:20):
Yeah. I am looking into it.

---

**Rajesh Kumar** (2025-06-17 11:20):
Thank you!

---

**Rajesh Kumar** (2025-06-17 12:44):
These are specifically for kubernetes only I think. I was trying to scrape a simple linux machine.

---

**Aslam Raffee** (2025-06-17 13:02):
do we have anything to offer customer who would like to right size their  downstream cluster environment. Observe the clusters for 30 days and where developers have over commited resources , Vcpu and memory rectify any over commitments ?

---

**Alejandro Acevedo Osorio** (2025-06-17 13:05):
~We have this guide depending on the landscape they want to observe to try to help them choose the sizing for the SUSE Observability instance https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/install-stackstate/requirements.html~

Ooops totally misunderstood the question

---

**Frank van Lankvelt** (2025-06-17 13:43):
the examples on that page are indeed geared towards kubernetes - but MetricBindings work for any kind of component.  Just make sure the topology query matches it

---

**Frank van Lankvelt** (2025-06-17 13:48):
maybe the "Clusters" overview in SUSE Observability is what you're looking for?  It shows the usage of cpu &amp; memory

---

**Jeroen van Erp** (2025-06-17 13:51):
And I think the pod overview to highlight which pods are over-consuming. We don’t have any “auto-correct”, SUSE Observability is read-only and will not auto-change your environment

---

**Rajesh Kumar** (2025-06-17 15:12):
hmm I am lost.. I added metricsbinding. Can you help a bit more. When I go to views I see a blank page with no options to add views or anything. I know I can save views when I am exploring te components like deploy, services etc. But right now I am not scraping any kubernetes resource, its just a linux node. Where to see, how to find and add the view

---

**Frank van Lankvelt** (2025-06-17 15:45):
if you save one of the predefined views as a new view, you can then change the STQL query by going to Filters.

---

**Frank van Lankvelt** (2025-06-17 15:46):
but if this is you're just starting with SUSE Observability, I would recommend going with a Kubernetes cluster first.  Get your bearings and only then start customizing

---

**Rajesh Kumar** (2025-06-17 15:47):
Not the first time, but yeah first time customising things. I have it running in kubernetes and stackpacks in 2 clusters but I was trying to see if we can have non-kubernetes things there as well.

---

**Bram Schuur** (2025-06-17 17:20):
@Marc Rua Herrera if you want to short-circuit the affinity, you can follow the docs here (https://github.com/rancher/stackstate-product-docs/pull/32/files) and use the latest 'internal' version of `suse-observability-values` chart to generate the affinity.yaml and ship that to rabo

---

**Marc Rua Herrera** (2025-06-17 17:22):
Thanks Bram

---

**Bram Schuur** (2025-06-18 09:03):
Np, keep us posted, team borg will start the release to get this fix out officially

---

**Aslam Raffee** (2025-06-18 09:45):
we are competing against https://github.com/robusta-dev/krr

---

**Aslam Raffee** (2025-06-18 09:49):
My customer only deploys open source software, any date or progress I can share with my customer on releasing the code for this solution?

---

**Jeroen van Erp** (2025-06-18 09:52):
This should be relatively simple to do using monitors… Maybe someone in the DSA team could help out writing one of those.

---

**Louis Lotter** (2025-06-18 09:59):
Hi @Aslam Raffee. This is still being discussed and we are hoping we can work on this before year's end.
It's competing with some Epics like RBAC etc. that everyone is asking for though.

---

**Dinesh Chandra** (2025-06-18 10:23):
Is there any configuration required forPV usage or not support?

---

**Jain Joseph** (2025-06-18 11:36):
Hey team, just a quick question around observability, are we able to configure alerts as code ?

---

**Frank van Lankvelt** (2025-06-18 11:40):
quick answer: yes

---

**Jain Joseph** (2025-06-18 11:53):
awesome, thank you @Frank van Lankvelt, just another one aswell if you know, do we have visibility into CRDS?:smiley:

---

**Timothy Choi** (2025-06-18 12:20):
Hello Team.
In the SUSE observability, is there a function like generate pdf file for specific metric information?(such as cluster node's cpu status or memory status)

---

**Frank van Lankvelt** (2025-06-18 12:44):
I don't know if we collect those - we certainly don't map them into views

---

**dieter.reuter** (2025-06-18 13:30):
where do I get a valid internal license key for SUSE AI Observability?
In the docs it states I should use my "Registration Code" for the product "SUSE AI" from SCC. This has the form "INTERNAL-USE-ONLY-efb2-3dab" but is not valid in SUSE Observability, error shown is "The license key is not valid!"
Is this the correct way for the customer/partner as well? I'm just trying to follow our official docs and getting stuck here.

---

**Frank van Lankvelt** (2025-06-18 13:39):
no - we do offer industry-standard APIs to query metric data, so if you can find a tool that generates a pdf from a metric it can very likely be made to work

---

**Remco Beckers** (2025-06-18 13:42):
You'll need a SUSE Observability internal license key. There is one pinned to this channel. We were not involved in the SUSE AI Observability work so I can't tell you how the "Registration code" is supposed to work.

---

**dieter.reuter** (2025-06-18 13:48):
Thanks, the pinned internal license key is working now!

---

**Mark Bakker** (2025-06-18 13:58):
Not yet this is on the roadmap

---

**Timothy Choi** (2025-06-18 14:01):
Thank you. I will try.

---

**Remco Beckers** (2025-06-18 14:04):
I just checked and it is correct that customers should be able to use the Registration code from SCC. Only for internal users that doesn't work

---

**Timothy Choi** (2025-06-18 15:04):
@Frank van Lankvelt with observability, do we have a way to provide predictable resource consumption? Like prometheus predict_linear.

---

**Frank van Lankvelt** (2025-06-18 15:07):
sure you can use predict_linear.  Like all other prometheus functions

---

**Brynn Harrison** (2025-06-18 15:59):
Thanks Bram, I can confirm this works, except if I enable the RBAC feature, there doesn't seem to be a box to skip tls for this component.

---

**Kelly Hair  (1.646.247.3899)** (2025-06-18 19:58):
A buddy sent me via LinkedIn:

https://www.linkedin.com/posts/balkansky_announcing-our-seed-and-series-a-from-sequoia-act/ (https://www.linkedin.com/posts/balkansky_announcing-our-seed-and-series-a-from-sequoia-act/)

---

**Louis Lotter** (2025-06-19 08:57):
the link does not work for me

---

**Deon Taljaard** (2025-06-19 09:31):
Me neither, found this in the meantime: https://www.traversal.com/post/%20launch-announcement

---

**Marc Rua Herrera** (2025-06-19 10:54):
Hi Team, quick question regarding restoring backups. Does the restore of Stackgraph also includes the restore of the configuration? If I want to restore both, which one should I restore first? Does it really matter?

---

**Bram Schuur** (2025-06-19 11:02):
The restore of stackgraph includes the configuration. You do not need to do a separate config backup after, even more strong: i think if you do a config restore it wipes all data (@Remco Beckers can deny/confirm this)

---

**Remco Beckers** (2025-06-19 12:04):
That's correct

---

**Marc Rua Herrera** (2025-06-19 13:50):
I just followed all the steps to do a restore and nothing is restored. Is there any way to troubleshoot that? Any logging I can check?

---

**Remco Beckers** (2025-06-19 14:21):
It is still busy restoring

---

**Remco Beckers** (2025-06-19 14:21):
A stackgraph restore can take a LONG time

---

**Bram Schuur** (2025-06-19 14:21):
that log should include at least some message: 'Done!'. It seems the restore process was terminated early? OOMKilled maybe?

---

**Kelly Hair  (1.646.247.3899)** (2025-06-19 16:09):
Apologies,  I tried to strip out all the tracking bits.

Full URL: https://www.linkedin.com/posts/balkansky_partnering-with-traversal-because-every-activity-7341114420292481024-fKvt?utm_source=share&amp;utm_medium=member_android&amp;rcm=ACoAAABF7wsBEEVApKvzyxgDudwFcQkOmfdsBwo (https://www.linkedin.com/posts/balkansky_partnering-with-traversal-because-every-activity-7341114420292481024-fKvt?utm_source=share&amp;utm_medium=member_android&amp;rcm=ACoAAABF7wsBEEVApKvzyxgDudwFcQkOmfdsBwo)

---

**gaetan.trellu** (2025-06-19 17:42):
Hello o/ I just refreshed my SUSE Observability chart but now I don't  have the CLI/StackPack tabs in the left menu. Any ideas?

---

**Yash Tripathi** (2025-06-19 17:59):
You need to click on the arrow at the bottom, above the Hint: Stackpacks...

---

**Yash Tripathi** (2025-06-19 18:01):
I also find it a little counterintuitive

---

**gaetan.trellu** (2025-06-19 18:02):
Pouaaaaaa xD... Shame on me...

---

**Brian Six** (2025-06-20 05:59):
@Bram Schuur any thoughts on the customers response?

---

**Bram Schuur** (2025-06-20 09:30):
Dear Brian, sorry this slipped my attention. Thanks for gathering the use case, makes sense. 

I made a story now that will put this request on our backlog. We have a meeting Thursday to prioritize, but I am afraid we will not get to this anytime soon due to workload on the team and this being a single customer requesting for this.

 https://stackstate.atlassian.net/browse/STAC-22943 (https://stackstate.atlassian.net/browse/STAC-22943)

---

**Marc Rua Herrera** (2025-06-20 13:15):
We finally succeed with the back up restore. As you pointed, the back up process was interrupted and did not finish, although we don't know why that happened.

---

**Marc Rua Herrera** (2025-06-20 13:16):
Also, as a feedback, for the scale up script that needs to be run after the victoria metrics restore, it scales up the deployments, but not the statefulset. Thus, the victoria metric pods do not spin up unless you do it manually

---

**Hugo de Vries** (2025-06-20 13:16):
Last weekend Rabobank hit a data corruption issue on their new instance. On monday morning they created a ticket (Mitesh Patel), which for them has high priority, ticket# 1489. *They have yet to get their first response.* This customer pays over 800k per year. This is absolutely unacceptable and the process needs to be improved ASAP. Of course this led to another escalation. This is not just related to a payment issue of zendesk. @Sanne Vloon

---

**Owen Lewis** (2025-06-20 13:18):
@Mark Bakker please can you review/advise - thanks

---

**Sanne Vloon** (2025-06-20 13:39):
These customers have the highest priority in The Netherlands in terms of strategic positioning and potential. By not giving them top class support on the current ‘limited’ products, how will we ever position ourselves to become their crucial infrastructure providers? Can we please get a solution? 1 person manually checking tickets besides his day job responsibilities is not enterprise support and definitely not for 800k euros a year. 
Can we provide them with a single Rancher Prime license so they can log tickets in SCC? Are the contracts bound to only receiving support from NL?

---

**Owen Lewis** (2025-06-20 13:49):
Hi Sanne - I agree, it's a poor experience for Rabobank.  Before we look into the Rancher Prime license idea (as the current set up is in place for more than just Rabobank, we are supporting other legacy StackState customer in the same way), @Mark Bakker is there something we can do to make the process more robust, e.g. can we assign other people people to check the queue (e.g. some of the legacy Engineering team in NL), so we don't have a single point of failure?

---

**Mark Bakker** (2025-06-20 14:13):
Before stating things as unacceptable, please ask if we acted on it.
This requests is via Slack actively being supported, see:
https://suse.slack.com/archives/C079ANFDS2C/p1750060990910589
I should indeed also have responded to the ticket. But the support is given. The fact that they had the issue is somethings else, that was a bad user experience

---

**Mark Bakker** (2025-06-20 14:14):
Ps. I would love if we can get support engineers looking into the queue multiple times a day, it does not really fit my work. But I look each day. This ticket I already did see the thread in slack and expected that to resolve the issue. I should have answered, which I will do now.

---

**Louis Lotter** (2025-06-20 14:17):
@Marc Rua Herrera Are you not looking into the Rabobank issue already ?

---

**Hugo de Vries** (2025-06-20 14:18):
From the customers perspective they did not get a reply, that's why they followed up on it today and escalated it. The support process is not hoping that their paid consultant is maybe or maybe not doing some requests on the side via slack. They expect a response and proper follow-up on their support request.

---

**Louis Lotter** (2025-06-20 14:22):
@Hugo de Vries Ok I'll make this my focus and come up with a solution even if I have to take care of it for a bit.

---

**Mark Bakker** (2025-06-20 14:22):
Can you join me and Hugo:
https://meet.google.com/iko-mhce-rqy

---

**Brian Six** (2025-06-20 16:06):
No worries.   Appreciate the consideration.  Perhaps others will trickle in and this would be the first of many.

---

**Benoît Loriot** (2025-06-20 16:40):
Hi, a customer asked this in a RFP
&gt; Our group's Observability solution is powered by Dynatrace. Given that it's a global tool, your Observability solution should provide fine-grained, Kubernetes-specific functionalities.
&gt; However, it must integrate complementarily with our group's offering, both from a functional and architectural perspective (connections and data push to Dynatrace).
Do we have Dynatrace integrations in SUSE Observability, or can we push data to Dynatrace?
I see a doc page (https://docs.stackstate.com/5.1/stackpacks/integrations/dynatrace) about dynatrace stackpack but cannot access the website.

---

**Mark Bakker** (2025-06-20 16:49):
We don't support Dynatrace as an endpoint for our data. We do support webhooks to external tools.

---

**Mark Bakker** (2025-06-20 16:49):
The Dynatrace stackpack is better not to be used, it's only for a few old customers.

---

**Benoît Loriot** (2025-06-20 16:50):
Thanks Mark, can you elaborate on what we can do with webhooks?

---

**Benoît Loriot** (2025-06-20 16:54):
I found the doc page working : https://documentation.suse.com/cloudnative/suse-observability/next/en/use/alerting/notifications/channels/webhook.html
fyi https://docs.stackstate.com/ is not working anymore on my side.

So basically events can trigger webhooks (HTTP POST). So we could imagine sending notifications of some sort to dynatrace for specific events occurences.

---

**Mark Bakker** (2025-06-20 16:54):
Yes indeed

---

**Lasith Haturusinha** (2025-06-20 19:07):
Hi Team,
Quick question relating to the license key for SUSE Observability: Yesterday I installed SUSE Observability and used my SCC Registration key but failed.
It only worked when used the internal registration key? Is this still the case for customers as well? Can they use their SCC Registration Code during deployment?

---

**Lasith Haturusinha** (2025-06-20 19:11):
My 2nd question is:
play.stackstate.com (http://play.stackstate.com) showed three different clusters (with GKE and RKE2) and now it shows only a single cluster. Have we changed from multi-cluster to a single cluster or am I seeing something completely different?
Thanks : )

---

**Mark Bakker** (2025-06-20 19:23):
Customers can use the key in scc

---

**gaetan.trellu** (2025-06-21 04:20):
So... `eBPF` was not enable on Calico...

---

**Lasith Haturusinha** (2025-06-21 04:48):
Thank you Sir!!!

---

**Amol Kharche** (2025-06-23 06:06):
The license key from SCC should be in `ABCDE-ABCDE-ABCDE` format.
For internal we have pinned the key in this channel here. (https://suse.slack.com/archives/C079ANFDS2C/p1742982913401109)

---

**Lasith Haturusinha** (2025-06-23 06:54):
Thank you @Amol Kharche. Appreciate it very much.

---

**Lasith Haturusinha** (2025-06-23 07:14):
Hi team,
I'm having trouble deploying SUSE Observability on Rancher 2.10.6. Anyone having issues?

---

**Lasith Haturusinha** (2025-06-23 07:18):
I manage to deploy on Rancher 2.9.7 without any issues. But the deployment doesn't get completed after the upgrade to 2.10.6. Anyone can help or shed some light about this?
Thanks in advance.

---

**Amol Kharche** (2025-06-23 07:43):
I see most of the pods in `Init` phase. which storage provisioner you are using?
`kubectl get events -n suse-observability`
`kubectl get sc`

---

**Lasith Haturusinha** (2025-06-23 07:45):
Uses longhorn

---

**Amol Kharche** (2025-06-23 07:51):
please help to get the output of events command as well

---

**Amol Kharche** (2025-06-23 07:55):
Also what is the lognhorn version?

---

**Lasith Haturusinha** (2025-06-23 07:57):
Do you want me to reply here this thread or separately?
Longhorn version 1.8.1

---

**Amol Kharche** (2025-06-23 07:58):
Yes, Here only

---

**Lasith Haturusinha** (2025-06-23 08:03):
@Amol Kharche hope you can see the snippet above

---

**Amol Kharche** (2025-06-23 08:04):
Yes, I can see it.

---

**Lasith Haturusinha** (2025-06-23 08:05):
Okay :eyes:

---

**Lasith Haturusinha** (2025-06-23 08:06):
What can I do to fix this? Is it related to Longhorn?
Sorry for the ignorance...

---

**Lasith Haturusinha** (2025-06-23 08:07):
I did not have this issue when I was using Rancher 2.9.7. I simply deploy Longhorn and then run through the SUSE Observability steps

---

**Lasith Haturusinha** (2025-06-23 08:10):
sure...give me 2 minutes and I'll call you directly

---

**Bram Schuur** (2025-06-23 08:41):
:+1:i filed the following ticket @Remco Beckers: https://stackstate.atlassian.net/browse/STAC-22945

---

**Bram Schuur** (2025-06-23 08:48):
Skpping SSL is a global setting and should apply to the RBAC agent aswell. The RBAC agent is in 'coming soon' state now so is incomplete and unusable as of yet. I am still interested: what issues do you see when enabling it?

---

**Ben Craft** (2025-06-23 12:19):
is there a public swagger ui for observability?

---

**Louis Lotter** (2025-06-23 12:23):
Hi Lasith we will need a bit more information. Was the previous post for the same issue ?. Has @Amol Kharche been able to help you ?

---

**Amol Kharche** (2025-06-23 12:27):
yes, this is for previous post for the same issue, I had a call with Lasith and found the storage is insufficient and due to that SUSE Observability components failing. I asked to assign more storage and ping back.

---

**Bram Schuur** (2025-06-23 12:59):
there is not, right now the api is also not considered public/stable

---

**Lasith Haturusinha** (2025-06-23 13:15):
Hi @Louis Lotter , Yes Amol helped me over this issue. As he suggested, it is the longhorn version that was failing the deployment. For anyone's reference, I used Longhorn 1.7.2 for the deployment of SUSE Observability and then it worked.
Thanks @Amol Kharche for your suggestions and for the prompt support on this.

---

**Ben Craft** (2025-06-23 13:21):
No problem, thanks!

---

**Louis Lotter** (2025-06-23 14:01):
Thanks for helping out Amol

---

**Ben Craft** (2025-06-23 14:04):
just a small query then - is it possible to get all the pods that match the below request for the below request without specifying the UID? i.e replicas at play

````https://ben-craft.app.stackstate.io/api/k8s/logs?cluster=buddy&amp;containerNames=rancher-audit-log&amp;direction=OLDEST&amp;from=1750670603482&amp;page=1&amp;pageSize=50&amp;podUID=a2e26e2d-60c1-42ca-9a91-c37536f38ba1&amp;to=1750674203482```

---

**Gustavo Varela** (2025-06-25 08:37):
how is the SUSE Observability Optimization deliver ?

---

**Louis Lotter** (2025-06-25 08:46):
Hi Gustavo. I'm not sure I understand your question. Could you clarify a bit ?

---

**Mark Bakker** (2025-06-25 10:15):
At this moment this only entails an extra StackPack for old customers

---

**Gustavo Varela** (2025-06-25 11:01):
so, nothing for new SUSE Rancher Suite customers ?

---

**Mark Bakker** (2025-06-25 11:11):
No clear differentiation yet. But upcoming.

---

**Gustavo Varela** (2025-06-25 11:12):
oki, can you provide a line one what are you guys working on, just in case a customer ask ?

---

**Mark Bakker** (2025-06-25 11:15):
Yes automated troubleshooting is one of them

---

**Flavien Rugiano** (2025-06-25 11:49):
Good morning team, I'm working with a customer on designing a Rancher Prime platform and we have some questions regarding the log in SUSE Observability:
• Are the K8s logs saved in Elastic Search or is it a Standard output?
• For legal purpose they will need to store logs for a long period ( at least a year). Is that a wise thing to do ? 
• If we can't store logs for long term is there a way to externalize them elsewhere ? Something like Splunk for example.

---

**Rodolfo de Almeida** (2025-06-25 13:14):
Hello @Mark Bakker
It looks like the SUSE Observability documentation is not updated. There are some outdated information regarding the Kubernetes version supported.

In this link it shows Kubernetes: 1.21 to 1.30
https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/install-stackstate/requirements.html

In the quickstart it shows that k8s 1.32 is supported.
https://documentation.suse.com/cloudnative/suse-observability/next/en/k8s-quick-start-guide.html#_kubernetes

Can we update this information in the docs? I have a customer complaining about it.

---

**Bram Schuur** (2025-06-25 13:55):
@Akash Raj could you pick this up?

---

**Mark Bakker** (2025-06-25 16:09):
Logs are stored in Elastic
We do not support long term storage for logs at the moment
We have an epic defined to revisit our log capabilities somewhere next year. We will take this requirement in consideration.

---

**Flavien Rugiano** (2025-06-25 16:11):
So then It wouldn't be a problem to have the current Rancher logging stack alongside SUSE observability to export them somewhere ?

---

**Mark Bakker** (2025-06-25 16:11):
No that is indeed the current solution

---

**Lionel Meoni** (2025-06-25 17:41):
Hi, we installed for a customer suse ai demo suse observability, we configured 20 nonHA with a lic generated by SSC team, we have only 6nodes and we have this message...any idea? bug?

---

**Alejandro Acevedo Osorio** (2025-06-25 18:15):
I think it might be related to the concept we have of a ‘default node’ where the 6 nodes list might be equivalent to more of our default nodes.

---

**Alejandro Acevedo Osorio** (2025-06-25 18:16):
An observed node is taken to be 4 vCPUs and 16GB of memory, our default node size.
If nodes in your observed cluster are bigger, they can count for multiple default nodes, so a node of 12vCPU and 48GB counts as 3 default nodes

---

**Lionel Meoni** (2025-06-25 18:27):
ok thank you

---

**Lionel Meoni** (2025-06-25 18:28):
i removed the harvester01 at this stage

---

**Lionel Meoni** (2025-06-25 18:30):
the 2 remaining nodes have 4 vcpu and 16gb ram

---

**Jeroen van Erp** (2025-06-26 08:01):
@Alejandro Acevedo Osorio it might be good to expose the cpu and memory size of nodes in the overview page.

---

**Lionel Meoni** (2025-06-26 08:43):
could be great please...thank you :)

---

**Alejandro Acevedo Osorio** (2025-06-26 09:10):
Sounds like a good improvement. I’ll make a story for it

---

**Jeroen van Erp** (2025-06-26 09:32):
Also, it would be good to have a specific “license overview” page, where you would see which node attributes to which usage part of your license, and you see how close you are to your limit

---

**Bram Schuur** (2025-06-26 10:21):
@Alejandro Acevedo Osorio could you put the ticket into the 'incoming' sprint for us to look at?

---

**Alejandro Acevedo Osorio** (2025-06-26 10:23):
@Jeroen van Erp @Lionel Meoni @Bram Schuur Seems our node overview page already has `Mem` and `Cpu`  allocatable over there, it's just that in the screenshot were hidden by the notification. I think we already have the info over there

---

**Alejandro Acevedo Osorio** (2025-06-26 10:24):
Regarding @Jeroen van Erp idea of a "license overview" then it's more like a complete new feature I guess ...

---

**Bram Schuur** (2025-06-26 10:26):
How about we show the 'default nodes' on that page?

---

**Jeroen van Erp** (2025-06-26 10:27):
That would be a new feature indeed

---

**Alejandro Acevedo Osorio** (2025-06-26 10:27):
I like the `default nodes` column on the nodes overview page

---

**Jeroen van Erp** (2025-06-26 10:27):
I think allocatable is not what we base the license measure on... Allocatable is typically lower than the amount in the node

---

**Bram Schuur** (2025-06-26 10:29):
Do you have a link to the license 'rules' @Jeroen van Erp? I'll see whether we bring them both inthere, or consolidate our default node size to the license sizing

---

**Jeroen van Erp** (2025-06-26 10:32):
I don't have it no... I would refrain from adding default nodes to the k8s nodes overview. That requires too much explanation

---

**Jan Bruder** (2025-06-26 12:32):
Hi, what ports and protocols need to be opened when there is a firewall between SUSE Observability server and downstream cluster? I couldn’t find any such information in the docs.

---

**Louis Parkin** (2025-06-26 12:43):
Comms from the agent to the platform only flows one way, using https, AFAIK.  Docs (https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/k8s-network-configuration-saas.html) confirm.

---

**Amol Kharche** (2025-06-26 12:50):
@Louis Parkin Is the listed port in v5.1 documentation still valid?
https://docs.stackstate.com/5.1/setup/install-stackstate/requirements#port-list-per-process

---

**Louis Parkin** (2025-06-26 12:51):
That should not be relevant for comms through a firewall, unless I am misunderstanding the context?

---

**Jan Bruder** (2025-06-26 12:56):
Why does the documentation assume that the customer is using SUSE Cloud Observability?
&gt;  You need to allow egress traffic to the internet.
This is not correct for SUSE Observability self-hosted

---

**Louis Parkin** (2025-06-26 12:57):
I just selected an example from that docs that deal with Network configuration.

---

**Jan Bruder** (2025-06-26 12:58):
Also very confusing:

---

**Louis Parkin** (2025-06-26 12:58):
If you don't use SUSE Cloud Observability, then that can be skipped.

---

**Jan Bruder** (2025-06-26 12:58):
“SUSE Observability” is _not_ a SaaS offering hosted in the cloud.

---

**Jan Bruder** (2025-06-26 12:58):
“SUSE Cloud Observability” is the SaaS

---

**Louis Parkin** (2025-06-26 12:59):
@Jan Bruder I am not here to nit-pick documentation accuracy.  Did I answer your original question RE firewall ports?

---

**Louis Parkin** (2025-06-26 12:59):
@Louis Lotter / @Mark Bakker it seems our docs can use some love.

---

**Jan Bruder** (2025-06-26 13:00):
Technically yes, but the customer is expecting the docs relevant for the self-hosted version. The link you shared is specifically for the networking configuration as it relates to the SaaS product.

---

**Louis Parkin** (2025-06-26 13:01):
That's fine. We can allocate someone to review the docs.

---

**Jan Bruder** (2025-06-26 13:02):
That would be great, thanks. In the meantime i will point out to the customer that the documentation applies to self-hosted minus the internet access and the `.app.stackstate.io (http://app.stackstate.io)` URL hostname suffix

---

**Louis Lotter** (2025-06-26 13:03):
@John Krug @Remco Beckers What would be the best way to capture feedback like this ?

---

**Bram Schuur** (2025-06-26 13:16):
@Dinesh Chandra a new verison of the platform and agent has been released which solves the issue for latency reporting on websockets

---

**John Krug** (2025-06-26 13:20):
Open an issue in GitHub.com/rancher/stackstate-product-docs (http://GitHub.com/rancher/stackstate-product-docs) is probably best. What do you think Remco?

---

**Eric Lajoie** (2025-06-26 13:20):
Jira doc ticket?

---

**Eric Lajoie** (2025-06-26 13:21):
I would assume we have Jira for engineering internal doc process

---

**Eric Lajoie** (2025-06-26 13:22):
And when a new release it GAed then engineering updates the docs as part of the process and release criteria

---

**Remco Beckers** (2025-06-26 13:28):
We, the engineering team, don't really look at Github issues (maybe we should?), but use our  Jira (which is another one than the SUSE internal Jira to complicate things).

---

**Remco Beckers** (2025-06-26 13:29):
Since we only just moved our docs to the SUSE docs site I think we still need to figure out how to best do this. If it is a ticket that doesn't need engineering input it could be handled fine by just the docs team. But I think the docs team doesn't use the same Jira.

---

**Eric Lajoie** (2025-06-26 13:32):
It would be awesome if we have a company wide way of doing doc update requests and feature requests across all products =)

---

**Eric Lajoie** (2025-06-26 13:32):
We have something on the SUSE AI side

---

**Eric Lajoie** (2025-06-26 13:33):
plus corresponding private slack channels for docs to make sure the doc team gets reviews from specialists and such

---

**Dinesh Chandra** (2025-06-26 14:23):
Thanks @Bram Schuur

---

**Jan Bruder** (2025-06-26 15:29):
Hi, another question from a prospect: Does the self-hosted Observability server support multi-tenancy, in the sense that each tenant/account can observe their own clusters, completely segregated from other tenant’s clusters.

---

**Bram Schuur** (2025-06-26 15:47):
We are current working on 'kubernetes rbac' which allows cluster/project/namespace level access control for all telemetry data. This will in the first version only work on rancher prime, and can be used self-hosted.

This feature will be released with the next rancher release.

---

**Bram Schuur** (2025-06-26 16:34):
Just to confirm: this indeed landed lower on our feature request log (so lower prio for now).

---

**Gabriel Lins** (2025-06-26 18:09):
Hey, what's the updates about the new Platform Optimizarion that was on roadmap. Do we have news regarding functionalities like platform cost, sustainability and right-sizing?

---

**Brian Six** (2025-06-26 18:49):
I’ll continue to ask customers and see if there is a bigger need as time goes by.

---

**Thiago Bertoldi** (2025-06-27 14:29):
https://instrumentation-score.com

---

**Mark Bakker** (2025-06-27 16:46):
Thanks for sharing

---

**Adam Toy** (2025-06-27 19:55):
:wave: just want to ensure we're looking ahead.. are there any known future plans to move away from the existing air-gap methodology to aggregate the images via the bash scripts (https://docs.stackstate.com/get-started/k8s-suse-rancher-prime/k8s-suse-rancher-prime-air-gapped)? other projects provide a list of images as part of the artifacts of a release (check the artifacts list (https://github.com/rancher/rke2/releases/tag/v1.33.1%2Brke2r1) here), but wasn't sure if there were plans for observability to do the same.

---

**Remco Beckers** (2025-06-30 08:47):
We don't have that on the planning at the moment. When we last updated our air-gapped support we loosely based ourselves on the approach that is used for Rancher (https://documentation.suse.com/cloudnative/rancher-manager/latest/en/installation-and-upgrade/other-installation-methods/air-gapped/publish-images.html#_1_find_the_required_assets_for_your_rancher_version), also because that was similar to what we already were doing before.

If this is something that people are requesting we can of course change it, but I think one of the differences is that  for SUSE Observability you'd need to download a dozen or so images. With the scripts that is all automated, which makes it less work than having to download from the releases page

---

**Jan Bruder** (2025-06-30 09:49):
Okay, i understand from this that there is no multi-tenancy support in Observabiity.
Question regarding the RBAC: Will there be scopes automatically created and mapped to users, so that a user who has access to Cluster Foo and Bar in Rancher, will automatically have a scope in Observability to only see the data for those two clusters?

---

**Vladimir Iliakov** (2025-06-30 11:27):
@Marc Rua Herrera `Also, as a feedback, for the scale up script that needs to be run after the victoria metrics restore` 

To scale up VM instance you are supposed to run a `kubectl` command:

---

**Marc Rua Herrera** (2025-06-30 11:29):
Was it there all the time :sweat_smile:?

---

**Vladimir Iliakov** (2025-06-30 11:53):
Most likely. I guess it was added by Lukasz who is very scrupulous about such things, and I also don't remember doung extra steps during the restore...

---

**Remco Beckers** (2025-06-30 11:57):
No recent changes that I know of indeed

---

**Bram Schuur** (2025-06-30 12:00):
Gotcha, so it was in the docs there. I do think rabobank really has a point there that there are many steps that are super uncomfrotable to go through when doing a restore in the heat of the moment. I think this 'read the docs' moment also shows that. What do you think @Louis Lotter @Marc Rua Herrera?

---

**Remco Beckers** (2025-06-30 12:05):
Tbh the elasticsearch restore steps are much much worse

---

**Remco Beckers** (2025-06-30 12:05):
while StackGraph and Clickhouse are a bit more convenient :shrug:

---

**Vladimir Iliakov** (2025-06-30 12:26):
'read the docs' is inevitable when dealing with the backup/restore and moreover SRE assumes you do it regularly, so you are prepared when time comes. The other questions whether the docs are clear enough/easy to read and the scripts work as expected, but for that we need a feedback from the users to improve...

---

**Marc Rua Herrera** (2025-06-30 12:28):
I did the restore with them. There were three of us, and none of us spotted this in the documentation (Shame on us :cry:). But what I would expect is that if there’s a script to scale up, it should scale up everything, not just the deployments. Although it was apparently documented, it was quite unintuitive.

Apart from that, overall the backup is a bit of a rambling experience:
1. There is a backup for Configuration.
2. There is a backup for VictoriaMetrics.
3. There is a backup for Elasticsearch.
4. There is a backup for StackGraph, but this backup also includes the Configuration, which is confusing.
Each backup has its own separate procedure, which adds to the complexity.

It did work in the end, resolving the data corruption issue, but it took a while to figure everything out. The ~backup~ *restore* itself took several hours to complete and failed twice, interrupting the process without any error message.

---

**Bram Schuur** (2025-06-30 12:42):
@Marc Rua Herrera with 'backup' you mean 'restore' in that last sentence right?

---

**Vladimir Iliakov** (2025-06-30 12:53):
We can come up with the single program/script to manage backup/restore, but will take time if we want to do it "right".

---

**Jacob Perkins** (2025-06-30 14:19):
Is there a way to have the Observability Rancher UI extension / plugin skip TLS verification?

---

**Remco Beckers** (2025-06-30 14:26):
At the moment there is no way to skip that. But you can configure Rancher to trust the certificate. https://ranchermanager.docs.rancher.com/getting-started/installation-and-upgrade/resources/custom-ca-root-certificates

---

**Adam Toy** (2025-06-30 15:14):
got it.. there's a little confusion on our side in terms of what constitutes a "release" of observability.. aka, there isn't a version mapping between the `suse-observability-values` helm chart and the `suse-observability` helm chart.. so for a user, if i'm air-gap "upgrading" through versions of observability in the future, there's no way to know currently if a version of the values chart is compatible with the version of observability that i'm trying to use.

is it possible in a future release to match/map versions of the `suse-observability-values` chart with the `suse-observability` chart? just don't want to get into a situation where a customer is trying to upgrade, they grab the "latest" values chart, and that chart is for some reason not compatible with the target version of observability, since there's a chance that might not be latest.

---

**Akash Raj** (2025-07-01 06:57):
@Rodolfo de Almeida @Bram Schuur  I was on vacation until yesterday and checked the requests just now.

I'll the update the docs shortly :+1::skin-tone-2:  So, 1.32 would be the latest version, correct?

---

**Bram Schuur** (2025-07-01 08:50):
yes! thanks for picking this up @Akash Raj

---

**Bram Schuur** (2025-07-01 08:53):
Indeed, currently no multitenancy. The next rancher release will include it.

We will be shipping role and cluster role templates that can be bound to users/groups in rancher to configure who has access to what project/cluster. Binding the role/cluster templates is all that is required for configuration.

---

**Benoît Loriot** (2025-07-01 11:00):
Hi, a customer is asking in a RFP if we can monitor electric consumption of a cluster and by namespace? Is it something we can do with SO? I suppose not by default but maybe with a custom development?

---

**Louis Lotter** (2025-07-01 11:07):
we have discussed integrating with something like https://github.com/kubecost

---

**Louis Lotter** (2025-07-01 11:07):
many times but it's hard to get priority for it.

---

**Remco Beckers** (2025-07-01 11:08):
@Louis Lotter that's about cost, not electric consumption.

I think a tool like Kepler, https://github.com/sustainable-computing-io/kepler, can get the metrics for this that can be then integrated into SUSE Observability.

---

**Louis Lotter** (2025-07-01 11:09):
interesting. I guess we would try to gather multiple types of data together though

---

**Remco Beckers** (2025-07-01 11:09):
So definitely not something we support out-of-the-box indeed, similar to cost

---

**Jeroen van Erp** (2025-07-01 11:14):
I think maybe @Ravan Naidoo did something with Kepler already…

---

**Ravan Naidoo** (2025-07-01 11:23):
Kepler exposes a metric endpoint so we can configure our open telemetry collector to scape it and send it to SUSE Observability.

``` receivers:
              prometheus:
                config:
                  scrape_configs:
                  - job_name: 'kepler-metrics'
                    scrape_interval: 3s
                    scheme: http
                    relabel_configs:
                        - action: replace
                          regex: (.*)
                          replacement: $1
                          source_labels:
                          - __meta_kubernetes_pod_node_name
                          target_label: instance
                    kubernetes_sd_configs:
                      - role: service
                        namespaces:
                          own_namespace: true
                        selectors:
                          - role: service
                            label: "app.kubernetes.io/name=kepler (http://app.kubernetes.io/name=kepler)"```
Kepler has a predefined dashboard for use in grafana: https://raw.githubusercontent.com/sustainable-computing-io/kepler-operator/v1alpha1/hack/dashboard/assets/kepler/dashboard.json
So we have an example on how to use the Kepler metrics and can create a similar dashboard in SUSE Observability.

---

**Jeroen van Erp** (2025-07-01 11:31):
:heart-eyes:

---

**Jan Bruder** (2025-07-01 12:58):
Hi Bram, does that mean that Observability will have a notion of Rancher projects and accordingly show/hide the data pertaining to workloads in a shared cluster depending on user’s project membership?

---

**Bram Schuur** (2025-07-01 13:05):
yes. exactly that, users can be authorized to see data in a project or not. (technically the platform will not understand projects but namespaces, but that is a technical/implementation detail, the functionality is as you describe)

---

**Jan Bruder** (2025-07-01 13:09):
thats great :thumbs-up: its worth noting that when the Virtual Cluster feature in Rancher becomes GA, there will be similar requests from customers to map virtual cluster ownership to Observability. As far as i understand, virtual cluster “shared mode” uses namespaces to isolate the workloads pertaining to different virtual clusters, similarily as what Projects do.

---

**Bram Schuur** (2025-07-01 13:10):
gotcha, thanks for sharing that. We were not aware that that was developed, so i'll make a note to investigate how virtual clusters will interact with rbac.

---

**Rodolfo de Almeida** (2025-07-01 14:00):
Thank you!

---

**Benoît Loriot** (2025-07-01 14:22):
Very nice, thanks a lot for the inputs

---

**Benoît Loriot** (2025-07-01 14:41):
Hi again, in the same RFP the customer is asking if we can generate reports based on historic datas to reflect usage but also forecast (capacity planning).
I would say SO is more focused on short term analysis and troubleshooting, but less on storing datas in the long term for capacity planning. Am I right?
Do we have a way to generate reports (pdf, csv...) based on the metrics gathered?

---

**Louis Lotter** (2025-07-01 15:01):
How long term ? We don't store data  for more than a few months. We have some requests and vague plans about longer term data storage but it's not likely to be priortized soon.

---

**Benoît Loriot** (2025-07-01 15:03):
That's what I thought. I suppose they would need at least a year for efficient capacity planning.

---

**Benoît Loriot** (2025-07-01 15:10):
I would be nice to have a feature to export a PDF from the metric explorer view (for reporting)

---

**Louis Lotter** (2025-07-01 15:29):
our metrics are stored in a prometheus/grafana comptible  database calle victoriametric. so I'm pretty sure there must be an open source solution for this in the interim.

---

**Louis Lotter** (2025-07-01 15:30):
@Anton Ovechkin once we are done with dasboarding we may take a look at something like https://github.com/IzakMarais/reporter and see how hard it would be to generate pdf's maybe

---

**Anton Ovechkin** (2025-07-01 15:33):
added to backlog https://stackstate.atlassian.net/browse/STAC-22993

---

**Benoît Loriot** (2025-07-01 15:34):
Thanks for the answers, I'll mention this could be a RFE if formally requested by the customer.

---

**Maxime Vielle** (2025-07-01 17:37):
Hello, does SUSE Observability connect to AWS Session Manager ? https://docs.aws.amazon.com/es_es/systems-manager/latest/userguide/session-manager.html

---

**Remco Beckers** (2025-07-01 17:42):
No we don't. Why would that be useful?

---

**Maxime Vielle** (2025-07-01 18:03):
An AWS customer is using it alongside Rancher Community version. They would find it useful to observe apparently

---

**Remco Beckers** (2025-07-01 18:04):
To observe you mean. I thought it was about some kind of authentication or remote access.  Maybe there is some way to do that using an exporter or by scraping cloudwatch metrics with open telemetry, but we don't have it built-in.

---

**Maxime Vielle** (2025-07-01 19:09):
Ok thanks!

---

**Jan Bruder** (2025-07-02 09:53):
Here is a site on the intranet with more information: https://sites.google.com/suse.com/virtualclusters/home

---

**Davide Rutigliano** (2025-07-04 15:21):
Hi, question about STAC-22940 (https://stackstate.atlassian.net/browse/STAC-22940). Is there any plan to also include descheduler metrics (https://github.com/kubernetes-sigs/descheduler/blob/master/metrics/metrics.go)?

---

**Tapas Nandi** (2025-07-08 07:18):
Hello Team,
I am trying to deploy a observability server using custom CA certs.
I followed the steps as mentioned in docs and my server is setup using the tls as in my certs .
I have also added the certs in /var/lib/rancher/rke2/server and agents tls directories as we as OS cert store and executed update CA in both the observability server as well as in downstream clusters.
But even after that when i try to onboard my cluster in observability using stackpacks it fails giving cert error.
I exec into one of the pods and checked the cert and couldn't see my cert in there.
Is there any thing i am missing. Please guide.

---

**Louis Lotter** (2025-07-08 08:30):
@Fedor Zhdanov @Remco Beckers can you guys help answer here ?

---

**Remco Beckers** (2025-07-08 08:35):
We are still considering if we can bring this forward now or that we want to wait until we have some problems related to collecting the data resolved.

Having said that, the descheduler is not part of the autoscaler. So is anyway not included.

Are you interested in the autoscaler monitoring too or just in the descheduler?

---

**Bram Schuur** (2025-07-08 10:50):
currently we do not support self-signed certificates for the agent. it is possible to skip ssl validation for the agent, doc for that is a bit hidden now, which is something we'll tackle soon: https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/agent/k8s-network-configuration-proxy.html#_via_values_yaml_file

---

**Tapas Nandi** (2025-07-08 11:32):
Oh Ok, i thought it would be available now. So even for custom CA  its a no and the possible approach is to skip tls verification all together. I will try this and get back

---

**Tapas Nandi** (2025-07-08 11:33):
Thanks @Bram Schuur for the update

---

**Tapas Nandi** (2025-07-08 11:36):
so all i need to do is add :
```--set global.skipSslValidation=true```
During agent installation and it should work correct

---

**Tapas Nandi** (2025-07-08 11:42):
Thanks @Bram Schuur

---

**Gustavo Varela** (2025-07-08 12:24):
Hello, the one subcription that appeared for every Rancher client in SCC allows them to cover all the machines or this needs adjusted after the expiration ? to the exact quantity of covered clusters/nodes ?

---

**Mark Bakker** (2025-07-08 13:01):
We currently do no check the amount of nodes with the license. We expect the customers to be in compliance for that.

---

**Gustavo Varela** (2025-07-08 14:09):
they should have one license per worker node ?

---

**Ben Craft** (2025-07-08 14:31):
Hi - is it possible to get all the pods that match the container name like in the below request without specifying the UID? i.e replicas at play

`https://ben-craft.app.stackstate.io/api/k8s/logs?cluster=buddy&amp;containerNames=rancher-audit-log&amp;direction=OLDEST&amp;from=1750670603482&amp;page=1&amp;pageSize=50&amp;podUID=a2e26e2d-60c1-42ca-9a91-c37536f38ba1&amp;to=1750674203482`

---

**Bram Schuur** (2025-07-08 15:11):
currently this is not supported. currently logging is per-pod, we have 'generalized logging/querying' on the medium-term roadmap

---

**Ben Craft** (2025-07-08 15:12):
ok np, thanks

---

**Mark Bakker** (2025-07-08 15:50):
Yes, normal prime licensing. It's part of prime

---

**Brynn Harrison** (2025-07-08 16:35):
When using the Mini.io (http://Mini.io) as a gateway for backup, is it possible to use another S3 target (eg Scality) at the target instead of AWS S3 or Azure or PVC?

---

**Vladimir Iliakov** (2025-07-08 16:44):
Officially AWS S3, Azure Blob storage, and PVC are supported as Minio backends https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/data-management/backup_restore/kubernetes_backup.html#_enable_backups.

---

**Vladimir Iliakov** (2025-07-08 16:47):
&gt; is it possible to use another S3 target (eg Scality)
We have never tried it, so there is no way to say for sure.

---

**Brynn Harrison** (2025-07-08 16:48):
OK - I guessed that was the case as there is no way to configure teh Scality S3 endpoint

---

**Vladimir Iliakov** (2025-07-08 16:53):
It is possible to configure an S3 endpoint with Helm value: `minio.s3gateway.serviceEndpoint`

```minio:
  accessKey: YOUR_ACCESS_KEY
  secretKey: YOUR_SECRET_KEY
  s3gateway:
    enabled: true
    accessKey: AWS_ACCESS_KEY
    secretKey: AWS_SECRET_KEY
    serviceEndpoint: .....```
I also see that aws cli can be used to interact with Scality https://downloads.scality.com/artesca-ova/doc/reference/configuring_and_using_aws_cli.html
So there is a chance that will work.

---

**Brian Six** (2025-07-10 06:46):
Do we have an estimate as to when the User/Authentication management will be fully integrated into Rancher?  I have customers looking for IDP options for logging into Observability.

---

**Mark Bakker** (2025-07-10 08:08):
Shortly after 2.12

---

**Frank van Lankvelt** (2025-07-10 08:08):
That will be part of the 2.12 release, scheduled for the end of the month.

---

**Jarek Sliwinski** (2025-07-10 09:16):
Hi All. Can somebody help me to understand how to configure open-telemetry exporter? I’m just setting up SUSE AI demo box, based on Harvester. The last element I’m missing is to setup exporter. Have configured 2 clusters - one dedicated for observability server, second dedicated to ai workloads. On observability cluster I exposed opentelemetry-collector, as explained in Observability docs in section “Configure Ingress Rule for Open Telemetry” with the following:
```opentelemetry-collector:
  ingress:
    enabled: true
    ingressClassName: nginx
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size: "50m"
      nginx.ingress.kubernetes.io/backend-protocol: GRPC
    hosts:
      - host: otlp-stackstate.observability.suseai.demo
        paths:
          - path: /
            pathType: Prefix
            port: 4317
    additionalIngresses:
      - name: otlp-http
        annotations:
          nginx.ingress.kubernetes.io/proxy-body-size: "50m"
        hosts:
          - host: otlp-http-stackstate.observability.suseai.demo        
            paths:
              - path: /
                pathType: Prefix
                port: 4318    ```
But I’m struggling with connect to it with the exporter on the ai cluster. AI docs assume within cluster setup: http://suse-observability-otel-collector.suse-observability.svc.cluster.local:4317, but in my case, whatever i try it either tries to point locally within cluster:
```Err: connection error: desc = "transport: Error while dialing: dial tcp: lookup otlp-stackstate.observability.suseai.demo on 10.43.0.10:53: no such host"	{"resource": {"service.instance.id": "4d4f818c-545c-4860-a7a5-a97e3d15d176", "service.name": "otelcol-k8s", "service.version": "0.128.0"}, "grpc_log": true} ```
or fails with deploying if I omit port number…

---

**Remco Beckers** (2025-07-10 09:23):
You need to configure the `bearertokenauth` and otlp exporter like this on the collector in your observed cluster:
```# Set the API key from the secret as an env var:
extraEnvsFrom:
  - secretRef:
      name: open-telemetry-collector
config:
  extensions:
    # Use the API key from the env for authentication
    bearertokenauth:
      scheme: SUSEObservability
      token: "${env:API_KEY}"
  exporters:
    nop: {}
    otlphttp/suse-observability:
      auth:
        authenticator: bearertokenauth
      # Put in your own otlp endpoint, for example suse-observability.my.company.com:443 (http://suse-observability.my.company.com:443)
      endpoint: otlp-http-stackstate.observability.suseai.demo:80
      compression: snappy
  service:
    extensions: [ bearertokenauth ]```
And make sure to include the `otlphttp/suse-observability` in the exporter section of the pipelines

For creating the secret and more details please see our docs (https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/otel/getting-started/getting-started-k8s.html).

---

**Marc Rua Herrera** (2025-07-10 15:20):
I am trying to include a monitor in a custom Stackpack for a customer. I am using exactly the same YAML file as the one used for the monitor itself, but I keep receiving these errors. I also get the same error when I upload it using the CLI. However, if I edit it, it succeeds in uploading a new version. Additionally, the monitor does not upload correctly to Master.
What does the error in this picture mean? The query itself works fine.

---

**Remco Beckers** (2025-07-10 15:21):
The error means that you cannot use `withNeighboursOf` or `withCauseOf` in the monitor topology query

---

**Marc Rua Herrera** (2025-07-10 15:22):
Is this new from the latest version?

---

**Marc Rua Herrera** (2025-07-10 15:22):
This monitor have been there for months

---

**Remco Beckers** (2025-07-10 15:22):
Depends on the monitor function, but I don't think we made any changes there

---

**Alejandro Acevedo Osorio** (2025-07-10 15:24):
I think we added a validation for the queries to be simplified STQL after the usage of NN on  the aggregated health monitor functions where it can drag the performance down

---

**Remco Beckers** (2025-07-10 15:25):
Aha, that was when you added the `Derived State` Monitor function

---

**Alejandro Acevedo Osorio** (2025-07-10 15:26):
Indeed we think that if you really need to derive state based on the graph then you should use the derived state monitor https://documentation.suse.com/cloudnative/suse-observability/next/en/use/alerting/k8s-derived-state-monitors.html#_overview

---

**Alejandro Acevedo Osorio** (2025-07-10 15:26):
and then the aggregated health state (https://documentation.suse.com/cloudnative/suse-observability/next/en/use/alerting/kubernetes-monitors.html#_aggregated_health_state_of_a_cluster) should only accept basic stql queries

---

**Erico Mendonca** (2025-07-10 17:08):
The tephra pod is running... nothing was changed. I remember there was an issue with a livenessProbe somewhere that caused this?

---

**Alejandro Acevedo Osorio** (2025-07-10 17:09):
It seems that the `tephra` pod might need a restart anywho if the `server` is not able to establish connection

---

**Erico Mendonca** (2025-07-10 17:10):
This cluster is somewhat strapped for CPU, maybe some operation is not completing on time?

---

**Alejandro Acevedo Osorio** (2025-07-10 17:11):
Could be that the initialization of `tephra` was not completed properly due to the CPU scarcity. We have a bug being worked on with such conditions.

---

**Alejandro Acevedo Osorio** (2025-07-10 17:21):
has tephra suffered any restarts?

---

**Alejandro Acevedo Osorio** (2025-07-10 17:23):
and the `tephra` restarts are related to `livenessProbe` failures?

---

**Erico Mendonca** (2025-07-10 17:26):
it appears they all failed with the same timeout:
```Caused by: java.lang.Exception: Thrift error for co.cask.tephra.distributed.TransactionServiceClient$13@4e307b53: Unable to discover transaction service within timeout```

---

**Alejandro Acevedo Osorio** (2025-07-10 17:27):
well that's the error on the `server` ... I was asking about any restarts on the `tephra` pod

---

**Erico Mendonca** (2025-07-10 17:31):
Someone asked it to shut down?

---

**Alejandro Acevedo Osorio** (2025-07-10 17:32):
We would need to whole logs. But given that it has restarted then the hypothesis is that due to a bug we have the last restart did not completely succeed to initialize tephra (the bug is that we leave it running) and due to this failed init is rejecting the connection attempts of the server pod. So I would restart tephra once more to see if that helps

---

**Erico Mendonca** (2025-07-10 17:37):
after a few more restarts, it appears to be holding

---

**Jarek Sliwinski** (2025-07-11 08:58):
Hi @Remco Beckers thank you this put me I believe on the right track. Looks like communication is possible now, but have a message that the user does not have rights to retrieve resources:
```E0711 06:55:16.538497       1 reflector.go:166] "Unhandled Error" err="k8s.io/client-go@v0.32.3/tools/cache/reflector.go:251 (http://k8s.io/client-go@v0.32.3/tools/cache/reflector.go:251): Failed to watch *v1.Service: failed to list *v1.Service: services is forbidden: User \"system:serviceaccount:observability:opentelemetry-collector\" cannot list resource \"services\" in API group \"\" in the namespace \"gpu-operator\"" logger="UnhandledError"```
I have added role binding rules as here:
```apiVersion: rbac.authorization.k8s.io/v1 (http://rbac.authorization.k8s.io/v1)
kind: Role
metadata:
  name: suse-observability-otel-scraper
rules:
  - apiGroups:
      - ""
    resources:
      - services
      - endpoints
    verbs:
      - list
      - watch
 
---
apiVersion: rbac.authorization.k8s.io/v1 (http://rbac.authorization.k8s.io/v1)
kind: RoleBinding
metadata:
  name: suse-observability-otel-scraper
roleRef:
  apiGroup: rbac.authorization.k8s.io (http://rbac.authorization.k8s.io)
  kind: Role
  name: suse-observability-otel-scraper
subjects:
  - kind: ServiceAccount
    name: opentelemetry-collector
    namespace: observability```
but something is still missing…

---

**Remco Beckers** (2025-07-11 09:15):
This is the collector running the ai workloads cluster I think? Which receivers do you have configured that can cause this error?  I would expect that the AI Observability setup has documentation on the permissions that are needed, we haven't been part of that setup so I can only guess.

---

**Jarek Sliwinski** (2025-07-11 10:29):
Hi. Yes, Indeed I’m setting up SUSE AI instance. As per receivers open telemetry collector is configured and on. Observability server is installed on separate cluster with open telemetry exposed with ingress rule. From stack-packs: kubernetes and open-telemetry are up.
Your suggestions helped me to fix the end point and I also added :bearertokenauth” section to collector values, which enabled communication. The only thing added in AI docs is to set up rbac rules as described above.  By the way “bearertokenauth” is not mentioned…

---

**Remco Beckers** (2025-07-11 11:09):
I'm referring to the receivers that are part of the OTel collector configuration. The OTel collector receivers do the scraping so I expect one of them is running into the permission errors. But maybe you can better ask the SUSE AI team that created this setup, they probably know more about how and what is scraped

---

**Jarek Sliwinski** (2025-07-11 11:10):
ok, thanks will do

---

**Luca Barzè** (2025-07-11 12:38):
Hello is it possible to use different SUSE observability clusters for k8s clusters related to the same rancher environment? Thank you

---

**Jeroen van Erp** (2025-07-11 12:41):
Hi Luca, yes and no, for Suse observability itself this is not a problem. However the Ui extension that integrates the data into rancher assumes a 1-1 relation

---

**Luca Barzè** (2025-07-11 13:35):
thank you! do we plan to integrate “a lot more” the observability ui within rancher or dismiss the SUSE observability frontend?

---

**Jeroen van Erp** (2025-07-11 13:44):
Rancher and observability will integrate more from what I’ve heard, but the UI of SUSE Obs will also stay and be your main entrypoint for troubleshooting. Rancher’s Logging and metrics will be sourced from SUSE Obs from what I understood, but @Mark Bakker can tell you more as the PM

---

**Luca Barzè** (2025-07-11 13:45):
Thank you!

---

**Mark Bakker** (2025-07-11 14:01):
The above is indeed correct

---

**IHAC** (2025-07-11 20:00):
@Garrick Tam has a question.

:customer:  Child Rescue Coalition

:facts-2: *Problem (symptom):*  
Customer deploys 150HA into 3 large nodes but many pods stuck in init or crashlooping.  Checking all the failing pods, there is one common dependency pod "suse-observability-hbase-hdfs-nn-0".  I can only see a warning in the pod log but it is restarting.
``` 2025-07-10 23:09:08,090 WARN server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets. Reason: Could not read signature secret file: /nonexistent/hadoop-http-auth-signature-secret```
Can I get some help to understand this deployment is not progressing to healthy and how to fix?

Attached is the support logs.

---

**Garrick Tam** (2025-07-12 06:49):
Looks like the Readiness probe (/rs-scripts/check-status.sh) is not passing.
```% k -n suse-observability describe pod  suse-observability-hbase-hdfs-nn-0 
Name:             suse-observability-hbase-hdfs-nn-0 
Namespace:        suse-observability 
Priority:         0 
Service Account:  suse-observability-hbase-hdfs 
Node:             observe03/10.203.100.33 
Start Time:       Wed, 09 Jul 2025 15:59:11 -0400 
Labels:           app.kubernetes.io/component=hdfs-nn (http://app.kubernetes.io/component=hdfs-nn) 
                  app.kubernetes.io/instance=suse-observability (http://app.kubernetes.io/instance=suse-observability) 
                  app.kubernetes.io/name=hbase (http://app.kubernetes.io/name=hbase) 
                  app.kubernetes.io/part-of=suse-observability (http://app.kubernetes.io/part-of=suse-observability) 
                  apps.kubernetes.io/pod-index=0 (http://apps.kubernetes.io/pod-index=0) 
                  controller-revision-hash=suse-observability-hbase-hdfs-nn-777bf59468 
                  statefulset.kubernetes.io/pod-name=suse-observability-hbase-hdfs-nn-0 (http://statefulset.kubernetes.io/pod-name=suse-observability-hbase-hdfs-nn-0) 
Annotations:      ad.stackstate.com/namenode.check_names (http://ad.stackstate.com/namenode.check_names): ["openmetrics"] 
                  ad.stackstate.com/namenode.init_configs (http://ad.stackstate.com/namenode.init_configs): [{}] 
                  ad.stackstate.com/namenode.instances (http://ad.stackstate.com/namenode.instances): [ { "prometheus_url": "http://%%host%%:9404/metrics", "namespace": "stackstate", "metrics": ["*"] } ] 
                  cni.projectcalico.org/containerID (http://cni.projectcalico.org/containerID): c1352d6341975c77cd7d597c7e6af44696a8b1b3e7c2ba5af3256c45aa820c9e 
                  cni.projectcalico.org/podIP (http://cni.projectcalico.org/podIP): 10.42.58.59/32 
                  cni.projectcalico.org/podIPs (http://cni.projectcalico.org/podIPs): 10.42.58.59/32 
Status:           Running 
IP:               10.42.58.59 
IPs: 
  IP:           10.42.58.59 
Controlled By:  StatefulSet/suse-observability-hbase-hdfs-nn 
Init Containers: 
  namenode-init: 
    Container ID:  <containerd://17d8b18da1d6173d7a99b77582ab6e0e0b5aabc2f270893e155673b2253a5f7>0 
    Image:         registry.rancher.com/suse-observability/wait:1.0.11-04b49abf (http://registry.rancher.com/suse-observability/wait:1.0.11-04b49abf) 
    Image ID:      registry.rancher.com/suse-observability/wait@sha256:73d3ce2ecdcec8e8db82c3d3bd3c289a0ed57364e71ef912eb3fefbb12c594c3 (http://registry.rancher.com/suse-observability/wait@sha256:73d3ce2ecdcec8e8db82c3d3bd3c289a0ed57364e71ef912eb3fefbb12c594c3) 
    Port:          &lt;none&gt; 
    Host Port:     &lt;none&gt; 
    Command: 
      bash 
      -c 
      mkdir -p /hadoop-data/data 
      # migrate old data directory location 
      if [ -e /hadoop-data/current ]; then 
        GLOBIGNORE=data:lost+found 
        mv /hadoop-data/* /hadoop-data/data/ 
      fi 
      
    State:          Terminated 
      Reason:       Completed 
      Exit Code:    0 
      Started:      Wed, 09 Jul 2025 16:01:33 -0400 
      Finished:     Wed, 09 Jul 2025 16:01:33 -0400 
    Ready:          True 
    Restart Count:  0 
    Environment:    &lt;none&gt; 
    Mounts: 
      /hadoop-data from data (rw) 
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-cbllv (ro) 
Containers: 
  namenode: 
    Container ID:  <containerd://092b89370afd08c0ca76b3bf2a0588aa72362aa66cf1ee66b1de9db5a175105>b 
    Image:         registry.rancher.com/suse-observability/hadoop:3.4.1-java11-8-90a9d727 (http://registry.rancher.com/suse-observability/hadoop:3.4.1-java11-8-90a9d727) 
    Image ID:      registry.rancher.com/suse-observability/hadoop@sha256:ef80281a0c09a8ff499795a5db200a0bbc6c106aaff9dacd0d3fb7d0f835142d (http://registry.rancher.com/suse-observability/hadoop@sha256:ef80281a0c09a8ff499795a5db200a0bbc6c106aaff9dacd0d3fb7d0f835142d) 
    Ports:         9000/TCP, 50070/TCP, 9404/TCP 
    Host Ports:    0/TCP, 0/TCP, 0/TCP 
    Args: 
      /entrypoint.sh 
      /run.sh 
      namenode 
    State:          Waiting 
      Reason:       CrashLoopBackOff 
    Last State:     Terminated 
      Reason:       Error 
      Exit Code:    143 
      Started:      Fri, 11 Jul 2025 18:05:40 -0400 
      Finished:     Fri, 11 Jul 2025 18:06:38 -0400 
    Ready:          False 
    Restart Count:  856 
    Limits: 
      cpu:                400m 
      ephemeral-storage:  70Mi 
      memory:             1Gi 
    Requests: 
      cpu:                200m 
      ephemeral-storage:  1Mi 
      memory:             1Gi 
    Liveness:             http-get http://:nninfo/ delay=0s timeout=1s period=10s #success=1 #failure=3 
    Readiness:            http-get http://:nninfo/ delay=0s timeout=1s period=10s #success=1 #failure=3 
    Environment: 
      CORE_CONF_fs_defaultFS:                                                     <hdfs://suse-observability-hbase-hdfs-nn-headful:9000/> 
      HDFS_CONF_dfs_client_retry_policy_enabled:                                  true 
      HDFS_CONF_dfs_client_retry_policy_spec:                                     1000,6,2000,10 
      HDFS_CONF_dfs_datanode_data_dir:                                            /hadoop-data/data 
      HDFS_CONF_dfs_namenode_checkpoint_dir:                                      /hadoop-data/data 
      HDFS_CONF_dfs_namenode_name_dir:                                            /hadoop-data/data 
      HDFS_CONF_dfs_namenode_safemode_threshold___pct:                            0.9f 
      HDFS_CONF_dfs_namenode_http___address:                                      0.0.0.0:50070 
      HDFS_CONF_dfs_namenode_fs___limits_max___component___length:                0 
      HDFS_CONF_dfs_datanode_http_address:                                        0.0.0.0:50075 
      HDFS_CONF_dfs_datanode_address:                                             0.0.0.0:50010 
      HDFS_CONF_dfs_replication:                                                  2 
      HDFS_CONF_dfs_namenode_replication_min:                                     2 
      HDFS_CONF_dfs_client_block_write_replace___datanode___on___failure_enable:  true 
      HDFS_CONF_dfs_client_block_write_replace___datanode___on___failure_policy:  ALWAYS 
      HADOOP_USER_NAME:                                                           nobody 
    Mounts: 
      /hadoop-data from data (rw) 
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-cbllv (ro) 
Conditions: 
  Type                        Status 
  PodReadyToStartContainers   True 
  Initialized                 True 
  Ready                       False 
  ContainersReady             False 
  PodScheduled                True 
Volumes: 
  data: 
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace) 
    ClaimName:  data-suse-observability-hbase-hdfs-nn-0 
    ReadOnly:   false 
  kube-api-access-cbllv: 
    Type:                    Projected (a volume that contains injected data from multiple sources) 
    TokenExpirationSeconds:  3607 
    ConfigMapName:           kube-root-ca.crt 
    Optional:                false 
    DownwardAPI:             true 
QoS Class:                   Burstable 
Node-Selectors:              &lt;none&gt; 
Tolerations:                 node.kubernetes.io/not-ready:NoExecute (http://node.kubernetes.io/not-ready:NoExecute) op=Exists for 300s 
                             node.kubernetes.io/unreachable:NoExecute (http://node.kubernetes.io/unreachable:NoExecute) op=Exists for 300s 
Events: 
  Type     Reason     Age                       From     Message 
  ----     ------     ----                      ----     ------- 
  Warning  Unhealthy  49m (x1114 over 2d1h)     kubelet  (combined from similar events): Readiness probe failed: Get "http://10.42.58.59:50070/": read tcp 10.203.100.33:55686-&gt;10.42.58.59:50070: read: connection reset by peer 
  Warning  Unhealthy  14m (x6826 over 2d2h)     kubelet  Readiness probe failed: Get "http://10.42.58.59:50070/": dial tcp 10.42.58.59:50070: connect: connection refused 
  Warning  BackOff    4m54s (x10777 over 2d1h)  kubelet  Back-off restarting failed container namenode in pod suse-observability-hbase-hdfs-nn-0_suse-observability(3ecfb7b2-cad9-47b7-93c6-e10883ed628c) ```

---

**Marc Rua Herrera** (2025-07-14 09:54):
Good morning,
Is it possible to use a custom Elasticsearch instance for SUSE OBS? This is about a customer who has all their data in a large, central Elasticsearch cluster, and they want to centralize SUSE OBS data there as well. So instead of the Elastic we deployed, use their existing one.

---

**Frank van Lankvelt** (2025-07-14 09:58):
we really don't want to go down that route, storing and retrieving data in storage beyond our control.

---

**Frank van Lankvelt** (2025-07-14 10:01):
while it technically might be possible, it's a support nightmare waiting to happen

---

**Marc Rua Herrera** (2025-07-14 10:01):
Okay! Thanks for the response Frank

---

**Paul Gonin** (2025-07-14 10:06):
Let’s not call Observability OBS

---

**Louis Lotter** (2025-07-14 10:39):
@Bram Schuur or @Alejandro Acevedo Osorio can you guys help out here ?

---

**Davide Rutigliano** (2025-07-14 10:44):
Hi @Remco Beckers, I am asking because in OpenPlatform use them together and we had 2 dedicated otel collectors to fetch metrics in SUSE Observability. With CA metrics integration we can remove autoscaling otel collector so I was wondering if you plan to do something similar with other kube-sig projects like descheduler

---

**Davide Rutigliano** (2025-07-14 10:45):
so it's more of a feature request to be evaluated / addressed as a separate task

---

**Remco Beckers** (2025-07-14 10:55):
We've put this ticket on hold while we're defining and implementing a preferred way of setting up the metrics collection for SUSE Observability for these use-cases. We want to provide an out-of-the-box solution (that can be disabled when not needed or vice-versa) to make it easy to setup metric collection from Open Metrics/Prometheus exporter endpoints via the OTel collector.

---

**Remco Beckers** (2025-07-14 10:55):
But why do you have 2 separate OTel collectors for scraping 2 applications? You could just install and configure 1 OTel collector to gather metrics for both.

---

**Alejandro Acevedo Osorio** (2025-07-14 10:59):
@Garrick Tam My hypothesis is that there's some throttling going on on he namenode and that slows down it's startup sequence.
You could try relaxing the probes (showing the current one)
```    Liveness:             http-get http://:nninfo/ delay=0s timeout=1s period=10s #success=1 #failure=3 
    Readiness:            http-get http://:nninfo/ delay=0s timeout=1s period=10s #success=1 #failure=3 ```
or probably give it more CPU (currently)
```    Limits: 
      cpu:                400m
    Requests: 
      cpu:                200m```

---

**Alejandro Acevedo Osorio** (2025-07-14 11:03):
You can see in the logs that the init sequence starts `2025-07-10 23:08:21,594` and the last log message `2025-07-10 23:09:08,090 WARN server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets. Reason: Could not read signature secret file: /nonexistent/hadoop-http-auth-signature-secret` matches with the liveness probe settings.
BTW that last log line is benign and it's just part of the regular startup

---

**Jeroen van Erp** (2025-07-14 11:23):
Reason is, OBS = Open Build System

---

**Davide Rutigliano** (2025-07-14 12:24):
I meant 2 scraping jobs (we have single collector actually)

---

**Remco Beckers** (2025-07-14 13:29):
Aha ok. Thanks. That clarifies a lot.

---

**Stephen Mogg** (2025-07-14 14:06):
Hi - Quick question about our hosted SaaS offering on AWS.....

Encryption - Assume we use HTTPS for connectivity, but do we encrypt customer logs / Disks? on the back end?

Customer is wondering if we can Observe Fargate nodes and does it fall under the vCPU / RAM metics for billing?

---

**Stephen Mogg** (2025-07-14 14:07):
Appreciate any guidance.

---

**Vladimir Iliakov** (2025-07-14 14:23):
Hi Stephen, the data storing services use AWS EBS volumes and we do use standard AWS KMS service to encrypt them.

---

**Vladimir Iliakov** (2025-07-14 14:23):
The same for the backups stored in AWS S3

---

**Vladimir Iliakov** (2025-07-14 14:28):
&gt; Customer is wondering if we can Observe Fargate nodes and does it fall under the vCPU / RAM metics for billing?
This is for the Observability agent, right? I don't think the agent can be installed to Fargate nodes due to security limitations, <!subteam^S08HEN1JX50> correct me, if I am wrong.

---

**Bram Schuur** (2025-07-14 14:32):
I don't think we are officially supporting fargate right now

---

**Louis Parkin** (2025-07-14 14:33):
@Vladimir Iliakov Fargate is mentioned in the agent code in many places, whether it is to recover from error (because it is fargate), or to collect, process, and transmit metrics is impossible to say without reading the code, or running an agent on a Fargate node.

---

**Frank van Lankvelt** (2025-07-14 14:38):
AFAIK you would have to run the agent as a sidecar container, but doubt it would then even have all the access it needs.
I don't think the "number of hosts" pattern applies on a serverless platform - probably best to collect observability data with OpenTelemetry anyway

---

**Erico Mendonca** (2025-07-14 15:04):
Hi all, getting some timeout errors on Observability on the suse-observability-server pod... What is the corresponding timeout in the yaml?

---

**Erico Mendonca** (2025-07-14 15:05):
Also:
```2025-07-14 12:57:00,347 WARN  akka.kafka.internal.KafkaConsumerActor - [539d9] Partition assignment handler `onRevoke` took longer than `partition-handler-warning`: 15003 ms```

---

**Stephen Mogg** (2025-07-14 15:07):
OK - Thanks for the detail.  Much apprecaited.

---

**Erico Mendonca** (2025-07-14 15:24):
it looks like there is one node in this cluster that's way slower and causes this from time to time...

---

**Mark Bakker** (2025-07-14 17:27):
We will even remove Elasticsearch in the comming 6-18 months most likely

---

**Lisa Guerineau** (2025-07-14 17:40):
Hi Team!  I am looking to share some customer feedback on Observability. This customer is a huge promoter of SUSE and wanted to provide feedback for future consideration, noting they're enthusiastically supportive but are awaiting further maturity of the solution before fully adopting it.

Is this the correct place to post the feedback, or should I email it directly?  If so, who should it be addressed to?  Thank you!

---

**Manuel Recena** (2025-07-14 17:42):
I'm sure @Mark Bakker is eager to hear it.

---

**Mark Bakker** (2025-07-14 17:47):
Yes please, any feedback is always welcome

---

**Lisa Guerineau** (2025-07-14 17:54):
Perfect!  Thank you.

Here is some feedback from Fortinet.

Let me know if you have any questions or require further info. Happy to help!

• *Authentication:*
    ◦ Lack of 2FA support (SAML or Rancher authentication integration).
    ◦ Enabling LDAP authentication locks out local accounts, leading to complete lockout if the connection to the LDAP server is lost.
    ◦ Case #: 01583053 - RFE
    ◦ Case #: 01582891
• *Certificates:*
    ◦ Problems with SUSE Observability trusting certificates issued by the corporate CA. The software expects public certificates instead of corporate-signed certificates.
    ◦ Case #: 01580613
• *Stability:*
    ◦ Frequent crashes of the Observability tool.
    ◦ Case #: 01584807
• *Ops Genie Integration:*
    ◦ The integration is broken; the URL for sending alerts is incorrectly coded and cannot be changed, requiring a developer fix.
    ◦ Case #: 01583584
• *Future Adoption:*
    ◦ The team will hold back on adopting SUSE Observability due to instability and missing enterprise features, planning to revisit it in several months or a year. The team currently uses the standard Prometheus Grafana stack, which is a bit more mature and meets their needs.

---

**Garrick Tam** (2025-07-14 18:01):
I cannot figure out where the default resource values are coming from.

https://github.com/StackVista/helm-charts/blob/master/stable/hbase/templates/hdfs-nn-statefulset.yaml#L65 indicates resource from .Values.hdfs.namenaode.resources; but https://github.com/StackVista/helm-charts/blob/master/stable/hbase/values.yaml#L281 indicates the following:
```    resources:
      limits:
        memory: "1Gi"
      requests:
        memory: "1Gi"
        cpu: "50m"```

---

**Alejandro Acevedo Osorio** (2025-07-14 18:02):
They come from the generated `sizing_values` that correspond to the chosen profile

---

**Garrick Tam** (2025-07-14 18:06):
So I should find Values.hdfs.namenode.resources exists under the sizing_values, got it.  I'll check with customer.
Also, liveness probe changes wouldn't survive a redeploy, right?  Or is there a way to make it survive without changing the chart?

---

**Alejandro Acevedo Osorio** (2025-07-14 18:08):
Liveness probe changes won't survive a redeploy as we don't have a spot for them on the helm chart `values`

---

**Alejandro Acevedo Osorio** (2025-07-14 18:11):
@Bram Schuur We might need to introduce a `startupProbe` here, we use this on tephra as was getting throttled on smaller profiles. https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#define-startup-probes Although the namenode is not usually such a slow starter but apparently in this setup it is

---

**IHAC** (2025-07-15 00:12):
@Garrick Tam has a question.

:customer:  NowCom Corporation

:facts-2: *Problem (symptom):*  
Customer sees the message "Something went wrong" in the UI when idle.  But after refreshing the page the UI loads fine.  Then after a while the same message appears.

I haven't try to correlate to pod errors yet.  Still waiting for support log bundle.

Anyone witnessed similar issues or have suggestions on possible cause?

TIA

---

**Garrick Tam** (2025-07-15 02:18):
Can I get some help to understand what is happening with the api pod?

---

**Mark Bakker** (2025-07-15 09:00):
@Lisa Guerineau do you also have the salesforce links to the support cases?

---

**Remco Beckers** (2025-07-15 09:47):
The errors in the screenshot are very unlikley to be related to the errors in the log (the latter would simply result in some empty charts).

---

**Remco Beckers** (2025-07-15 09:48):
It would help to click the `something went wrong` link in the UI to see what error the UI reports there. It apparently is an error that doesn't get logged in the server.

---

**Remco Beckers** (2025-07-15 09:55):
The typical case when this screen appears is when the connection to the server is interrupted and the HTTP calls to update the overview page fail

---

**Remco Beckers** (2025-07-15 09:55):
If that's the case it should automatically recover when the connectivity is restored

---

**Bram Schuur** (2025-07-15 10:58):
@Erico Mendonca does the timeout persist or does it stabilize over time? We typically do not offer these timeouts for tweaking, because if we hit them consistently something is off (we keep tuning the the real-time concerns of the platform a product concern).

Could you ship the logs surrounding these errors (maybe the entire log)? or run our support package? https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/install-stackstate/support-package-logs.html

Last question: which customer is this for?

---

**Erico Mendonca** (2025-07-15 14:46):
Thanks! Here are the logs. I started fiddling with the timeouts I found in the yaml but it didn't do any good. I also started scaling up each of the deployments to see if things would sort themselves out. So far, only the suse-observability-e2es benefited from that. The suse-observability-server still restarts continuosly.

---

**Lisa Guerineau** (2025-07-15 20:43):
@Mark Bakker Here you go!  Let me know if you need anything else.  Happy to help!

Case #: 01583053 (https://suse.lightning.force.com/lightning/r/Case/500Tr00000bRq3gIAC/view) - RFE
Case #: 01582891 (https://suse.lightning.force.com/lightning/r/Case/500Tr00000bKcwpIAC/view)
Case #: 01580613 (https://suse.lightning.force.com/lightning/r/Case/500Tr00000ZlPA6IAN/view)
Case #: 01584807 (https://suse.lightning.force.com/lightning/r/Case/500Tr00000cfAlYIAU/view)
Case #: 01583584 (https://suse.lightning.force.com/lightning/r/Case/500Tr00000bqaenIAA/view)

---

**Garrick Tam** (2025-07-15 23:06):
Customer get 503 errors with the attached detail logs.

---

**Garrick Tam** (2025-07-15 23:38):
Can this be cause by short session timeout on their proxy/gateway?

---

**IHAC** (2025-07-16 02:55):
@Garrick Tam has a question.

:customer:  Disney Cruise Line Technology

:facts-2: *Problem (symptom):*  
This is the second customer reporting periodic UI throwing "Something went wrong".  A reload will successfully load the UI.  This customer exposes the UI behind NGINX ingress that sits behind an F5.

Customer try to click on the error message but only get a sidebar that says "Unknown error" "Load failed".

Can I please get more understand what cause the browser to throw this error?  Is there a persistence web socket connection established between browser and router? pod service or one of the observability service?

---

**David Noland** (2025-07-16 03:34):
Would getting a HAR file from the customer help diagnose the issue?

---

**Remco Beckers** (2025-07-16 10:14):
There is definitely a websocket. But as I mentioned here websocket  (https://suse.slack.com/archives/C079ANFDS2C/p1752653540385399?thread_ts=1752531133.834499&amp;cid=C079ANFDS2C)connectivity issues would show differently. The only way this specific error happens, that I know of, is when the browser is unable to connect to the server at all. Either because you're offline or because there are other network / proxy issues.

---

**Remco Beckers** (2025-07-16 10:16):
If this happens on, for example, an overview page I would expect the UI to recover when it tries to fetch the data again (after 30 seconds it will retry). A reload will indeed have the same effect.

Here also a HAR file with the network traffic would help to confirm this is the problem or troubleshoot further.

---

**Mark Bakker** (2025-07-16 14:59):
Hi Lisa some extra information around their feedback:

• *Authentication:*
    ◦ Lack of 2FA support (SAML or Rancher authentication integration).
        ▪︎ *Rancher SSO support will be released soon after Rancher 2.12*
    ◦ Enabling LDAP authentication locks out local accounts, leading to complete lockout if the connection to the LDAP server is lost.
    ◦ Case #: 01583053 - RFE, *currently we do not support this for safety reasons I can see the reason for the request. We will add this request and track it to see if we get more customers with this ask.*
    ◦ Case #: 01582891 - *I see this is resolved*
• *Certificates:*
    ◦ Problems with SUSE Observability trusting certificates issued by the corporate CA. The software expects public certificates instead of corporate-signed certificates.
    ◦ Case #: 01580613 - *we are working on support for this*
• *Stability:*
    ◦ Frequent crashes of the Observability tool.
    ◦ Case #: 01584807 - *the case is closed, it's not clear if there still is a problem?*
• *Ops Genie Integration:*
    ◦ The integration is broken; the URL for sending alerts is incorrectly coded and cannot be changed, requiring a developer fix.
    ◦ Case #: 01583584 - *the case is closed, it's not clear if there still is a problem?*
• *Future Adoption:*
    ◦ The team will hold back on adopting SUSE Observability due to instability and missing enterprise features, planning to revisit it in several months or a year. The team currently uses the standard Prometheus Grafana stack, which is a bit more mature and meets their needs.

---

**Tanuj Kohli** (2025-07-16 15:32):
Hi Team, Does StackState still has a limit of 500 Nodes of 16Gb/4vCPU or has it increased?

---

**Jeroen van Erp** (2025-07-16 15:36):
https://documentation.suse.com/cloudnative/suse-observability/next/en/k8s-suse-rancher-prime.html

---

**Jeroen van Erp** (2025-07-16 15:36):
Goes up to 4000 nodes in an HA setup now

---

**Mark Bakker** (2025-07-16 16:21):
No it's 4K at the moment

---

**Bram Schuur** (2025-07-16 16:31):
I took a brief look, i have not much time unfortunately:
• I see you scaled out the the stackstate-server, which is not a scalable pod, its supposed to run singleton.
•  I also see in those logs some data corruption. It is unclear to me how that happened (`java.lang.IllegalStateException: Cannot un-exist verified existing stackelement: v[76277401205890],{}, loaded=VERIFIED, existing=true,`), might be you tried to scale the stackgraph pod
I would recommend reinstalling and staying with the sizing guides we provide: https://documentation.suse.com/cloudnative/suse-observability/next/en/k8s-suse-rancher-prime.html#_requirements

---

**Erico Mendonca** (2025-07-16 16:44):
That's what's mysterious about this issue: it happened before, even without messing with scaling. *Something* gets corrupted after a while and it looks like it never can finish recovering due to fixed timeouts. The last clean install lasted for a little over a month (49 days) before it started crashing. I'll do another clean install, do you think I should try another profile? This one was installed as the "nonha-10" profile.

---

**Bram Schuur** (2025-07-16 16:47):
I am not sure how many nodes you are observing, you should calculate the required nodes based on the formula on the installation instructions, you can keep an eye on the system notification whether you are not overloading the system.

---

**Erico Mendonca** (2025-07-16 16:49):
It's just 3 nodes, but with quite a few workloads (including the entire SUSE AI stack + other internal partner's projects related to AI).

---

**Bram Schuur** (2025-07-16 16:57):
Gotcha, it could be that ai has an unexpected impact, what is the size of those nodes? Cpu/memory?

---

**Erico Mendonca** (2025-07-16 17:02):
2x 8vCPU 32GiB and 1x 16x vCPU 78GiB + L4 GPU

---

**Bram Schuur** (2025-07-16 17:07):
Gotcha, that would be 9 default nodes, you could go for 20-nonha to be a bit safer

---

**Garrick Tam** (2025-07-16 17:21):
I will work with customers to obtain a HAR for review.  Let's see how long this will take given the occurrence is random.

---

**Garrick Tam** (2025-07-16 17:23):
This is only a recent report from two customers.  These customers have been using Observability over several releases already and only recently report this issue.  Have there been any recent changes/upgrades to the websocket code base?

---

**Remco Beckers** (2025-07-16 17:48):
I would need to check that. Not that I'm aware of though. I've also checked with our frontend developers and the websocket connection is not the thing that would trigger these errors. I've also tried to reproduce it, but I only managed to get similar behavior by disconnecting from the internet (or by shutting down the `router` or `api`/`server` of the platform).

---

**Remco Beckers** (2025-07-16 17:59):
However if they have skipped a few version and recently upgraded to the latest version (at least NowCom was running the latest version) there may be a change in the websocket handling which was introduced in version 2.3.0 from the end of January (the latest version that NewCom is now on is 2.3.5). I've asked our frontend developers to have a closer look.

---

**Garrick Tam** (2025-07-16 18:06):
Disney is on 2.3.3.

---

**Garrick Tam** (2025-07-16 18:08):
I also check if the issue arise adjacent to upgrade of cluster hosting Observability.

---

**Brian Six** (2025-07-16 18:37):
IHAC wanting to forward logs from Splunk to Observability.  Will the Splunk stackpack help make this happen or is it all consulting?

---

**Mark Bakker** (2025-07-16 18:56):
Nope, the Splunk StackPack is mainly for some old customers and has the ability to send data to SUSE Observability based on Splunk queries. I would not recommend using it.
The agent automatically collects all Pod logs already.
For other types of log we have an epic to support OpenTelemetry logs, this will be in 2026.
Hope this helps?

---

**Garrick Tam** (2025-07-16 19:49):
Attached is the HAR captured during the issue.  There is a 504 at Wed, 16 Jul 2025 17:22:29 GMT.

Customer also states:
```1. I didn't noticed the same issues before.
2. Observability deployed to downstream cluster  version - v1.31.9+rke2r1```

---

**Brian Six** (2025-07-16 21:21):
So at this point we would tell a customer we can’t receive logs forwarded from splunk until OpenTelemetry Logs support ships next year.

---

**Erico Mendonca** (2025-07-17 02:03):
Where does the Observability UI Extension hold the service token? I had to reinstall Observability from scratch and when I uninstall/reinstall the UI extension it just logs me out of the Rancher UI when it tries to load the main panel. I *think* it's using an old service token (hasn't asked for a new one...)

---

**Amol Kharche** (2025-07-17 05:37):
Its under configuration.
Rancher UI -&gt; More Resources  -&gt; observability.rancher.io (http://observability.rancher.io) -&gt;Configurations
```$ kubectl get Configuration -n default suse-observability -o yaml```

---

**Amol Kharche** (2025-07-17 05:38):
We have a bug  (https://jira.suse.com/browse/SOBS-3)open for this.

---

**Marc Rua Herrera** (2025-07-17 10:31):
Hi team, I see a lot of warning messages in a customer environment. This message appears in agent-node-agent. Does that mean that some processes are being dropped? Can I unlock this limitation?

---

**Bram Schuur** (2025-07-17 10:55):
@Andrea Terzolo I think this message is benign, could you verify? And maybe also change it to info or drop it if it makes no sense

---

**Andrea Terzolo** (2025-07-17 10:58):
sure let me take a look!

---

**Andrea Terzolo** (2025-07-17 11:15):
I agree this shouldn't be a warning, i will open a MR
&gt; Does that mean that some processes are being dropped?
From a first quick look i would say no, it just means the agent will send more messages to the platform because it cannot fit all the processes in just one message

---

**Marc Rua Herrera** (2025-07-17 11:57):
I don't know if it is related, but we also saw a lot of OOM killed in the pods where these message appear. We have increase the memory for now. And we will be monitoring it.

Thanks for the response!

---

**Andrea Terzolo** (2025-07-17 12:20):
uhm that log means that for sure the node is doing more than usual so probably yes, the agent is under stress, not super easy to correlate that log with a OOM though

---

**Andrea Terzolo** (2025-07-17 12:28):
BTW this is the MR with the fix https://github.com/StackVista/stackstate-process-agent/pull/201

---

**Ala Eddin Eltai** (2025-07-17 14:43):
Hi @Mark Bakker
Do we have some timeline for that ? IHAC who keeps asking me on that one.
From what I see from SUSE Obs side we are almost done: https://stackstate.atlassian.net/browse/STAC-21788, and from Rancher side we have https://github.com/rancher/rancher/issues/49571 with the target version 2.12
So I assume that if Rancher 2.12 delivers the Rancher OIDC Feature we will have the SUSE Obs RBAC available for them ?
I cant find more stuff/tickets on that so Im wondering if 2.12 is really the version this will come.

---

**Mark Bakker** (2025-07-17 14:57):
We indeed we create a release of Observability shortly after Rancher 2.12 implementing this.

---

**Ala Eddin Eltai** (2025-07-17 14:59):
Alright ty!
besides the tickets i mentioned is there some infopage on confluence regarding that?

---

**Erico Mendonca** (2025-07-17 15:12):
Alright, there are no Configuration objects, even after installing the UI extension. No observability.rancher.io (http://observability.rancher.io) CRD either. This Observability has been recently uninstalled, all PVCs removed, then installed again. Shouldn't this CRD be installed with the extension helm chart?

---

**Amol Kharche** (2025-07-17 15:36):
What did you see when you click over Rancher UI-&gt; Extensions ? Did you see observability extension? What rancher version using ?

---

**Erico Mendonca** (2025-07-17 15:38):
Yes, I see the Observability extension version 2.1.4. I can install it, it asks me to reload and appears as installed. But when I click on the cluster link, it goes back to the authentication screen.

---

**Erico Mendonca** (2025-07-17 15:38):
No matter how many times I authenticate, it'll loop until I remove the extension.

---

**Erico Mendonca** (2025-07-17 15:38):
Running on Rancher 2.10.2.

---

**Amol Kharche** (2025-07-17 15:41):
This issue occurs when
1. Expired Token – When the access token has passed its expiration time and is no longer valid.
2. Missing Token – When the token is removed from stackstate.
3. Invalid Token – When an incorrect, malformed, or tampered token is used.

---

**Erico Mendonca** (2025-07-17 15:42):
The thing is, I uninstalled Observability completely yesterday and reinstalled it. I created a new service token, but it didn't present me with a way to enter it.

---

**Amol Kharche** (2025-07-17 15:45):
From my lab setup it looks like I have to reconfigure observability extension URL and token or edit configuration settings `kubectl get Configuration`

---

**Erico Mendonca** (2025-07-17 15:46):
since I uninstalled both the extension and Observability itself, shouldn't it present me with a link to enter the token again, like in the initial installation?

---

**Amol Kharche** (2025-07-17 15:55):
Well for me, It is taking old setting(Previously setup) and when I clicked edit configuration then I can able to put new values like URL and token.

---

**Erico Mendonca** (2025-07-17 15:57):
I don't have that resource...
```[root@rancher03 ~]# kubectl get Configuration -n default suse-observability -o yaml
error: the server doesn't have a resource type "Configuration"
[root@rancher03 ~]# kubectl get crd | grep -i observability
[root@rancher03 ~]# ```

---

**Remco Beckers** (2025-07-17 16:01):
We're trying to reproduce the behavior but haven't had much success yet. The reason for the 503 error is unclear but could be related to a very temporary problem of a reverse proxy or loadbalancer to connect to the upstream server (that's also the exact error message). For example a limit of maximum # of allowed TCP connections is reached.

We're looking into how this error resulted in the error page specifically, since it shouldn't (for the API call that we see failing here).

We didn't have any changes directly related to the error handling or the request processing (not in our backend nor in the frontend). There have been quite a lot of other changes though, they may indirectly contribute to small changes in behavior. I've logged a ticket for further investigation https://stackstate.atlassian.net/browse/STAC-23087.

---

**Remco Beckers** (2025-07-17 16:03):
I have one more question though: Does the UI automatically recover after  30 seconds (which is when the next update would happen)? Or do they have to reload the page? From the HAR file it looks like it indeed recovered.

---

**Bram Schuur** (2025-07-17 16:12):
approved @Andrea Terzolo

---

**Erico Mendonca** (2025-07-17 16:21):
So, it turns out the configuration resource is located in the local cluster. I was looking in the observed cluster. Maybe add a documentation note for that?
Also, the configuration should have been removed when the extension is uninstalled.

---

**Remco Beckers** (2025-07-17 16:53):
We've managed to get to the same result, at least in some cases: we end up on the "Something went wrong" error page even when just 1 request fails to produce a proper result.

I'll update the ticket and we'll start looking into a solution. I'm still not sure how this only appeared now though.

---

**Garrick Tam** (2025-07-17 18:19):
&gt; I have one more question though: Does the UI automatically recover after 30 seconds (which is when the next update would happen)? Or do they have to reload the page?
From Disney's description, it does sound like the page will automatically reload successfully.
```If I leave the observability window open, it will frequently present me with the attached "Something went wrong" screen. If I leave it alone, it will eventually reload the page that was being displayed before that appeared.```

---

**Remco Beckers** (2025-07-17 18:33):
Ok thanks.

---

**Garrick Tam** (2025-07-17 18:34):
I asked NowCom to confirm if waiting will reload successfully but customer is OOO so probably not going to get quick response.

---

**Garrick Tam** (2025-07-17 18:34):
Let me know if further information is needed from either customers' environment.

---

**Remco Beckers** (2025-07-17 18:53):
We still don't understand where these 503 errors are coming from. It would be helpful if they could check in their logs if they can see the 503 request. I don't see it in the SUSE Observability logs, but it turns out our router doesn't log these.

I noticed for Disney you mentioned:
&gt; This customer exposes the UI behind NGINX ingress that sits behind an F5.
So in that case they could check the NGINX logs for the requests that have a 503 response.

---

**Remco Beckers** (2025-07-17 18:53):
But I can understand if they don't have the time to search those logs.

---

**Garrick Tam** (2025-07-17 18:56):
I believe both customer are using Rancher and NowCom is likely exposing Observability UI with NGINX ingress as well.  Let me ask if they can search through their NGINX logs and see any 503 for Observability ingress.

---

**Garrick Tam** (2025-07-18 01:57):
Team, Here's an update.  The deployment still isn't up.  After fixing the hbase-hdfs-nn pod with more CPU, now api, checks, health-sync, notification, slicing, state, sync are crashlooping.  I see a common error except for initializer.  The common error is:
```2025-07-17 17:23:24,149 ERROR com.stackstate.servicemanager.StackStateServiceManagerImpl - Failed to start stackState
com.stackstate.services.ServiceException: Tenant Initialization: Retrying stopped, starting service failed.```
What else could be the problem here?  Attached is fresh support log bundle.

---

**Amol Kharche** (2025-07-18 06:20):
It should be in local cluster where you are configuring extension.

---

**Amol Kharche** (2025-07-18 06:21):
&gt; the configuration should have been removed when the extension is uninstalled.
@Bram Schuur Shall I raised ticket for this ? I saw that the configuration is still intact.

---

**Bram Schuur** (2025-07-18 07:33):
@Amol Kharche yes, thanks! Could you put it into the 'incoming' sprint? And link to this slack thread

---

**Amol Kharche** (2025-07-18 07:39):
By the way I just found the one which is raised by you https://stackstate.atlassian.net/browse/STAC-22825.

---

**Amol Kharche** (2025-07-18 07:57):
Raised new one :- https://stackstate.atlassian.net/browse/STAC-23090

---

**Remco Beckers** (2025-07-18 08:38):
If it keeps happening (seems like it), they can also enable access logs on the router that is part of SUSE Observability which should log 503 errors too when it is "generating" them. This can be done by adding an extra configuration to the helm installation:
```--set 'stackstate.components.router.accesslog.enabled=true'```
This will result in full access logs, so it's quite a lot of logging (which is why it is disabled by default) but will show us more clearly where the 503 is coming from.

---

**Alejandro Acevedo Osorio** (2025-07-18 09:16):
So you need to work out the license key issue

---

**Garrick Tam** (2025-07-18 16:22):
Thank you.  I should have caught that.

---

**Alejandro Acevedo Osorio** (2025-07-18 16:24):
No problem

---

**Garrick Tam** (2025-07-18 18:19):
I will try and see if it is reproducible in a lab.  If yes, then I can enable accesslog in the lab.

---

**Garrick Tam** (2025-07-18 18:19):
Also, NowCom also confirm that when the error page is left alone for 30s, it will automatically refresh and load successfully.

---

**Lisa Guerineau** (2025-07-18 19:05):
Thank you for this added feedback. I will share some of these updates with the team.
Regarding the cases that have been closed, yes, I believe it's still an issue (stability, ops genie), but I think they have just decided to stop using the observability tool for now and closed the conversations.
We will continue to communicate improvements and encourage them to continue testing it out.

---

**Garrick Tam** (2025-07-18 23:54):
I didn't see the error in the UI but I caught an HTTP 503 in the router.  Not sure if this is expected or the same as reported.
```&gt; k logs -f suse-observability-router-55d79c7598-9b8zf | grep 'HTTP/1.1" 503'
[2025-07-18T21:51:41.343Z] "GET /api/components/94971083769560/bindmetric?metricBindingIdentifier=urn%3Astackpack%3Akubernetes-v2%3Ashared%3Ametric-binding%3Aservice-http-response-status-percentage-summary HTTP/1.1" 503 UC 0 95 154 - "10.124.0.37" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" "7d0c57491d37b32a9932a6a0742d50f2" "observability.146.190.1.213.sslip.io (http://observability.146.190.1.213.sslip.io)" "10.42.1.20:7070"```

---

**Marc Rua Herrera** (2025-07-21 11:29):
Good morning,
I'm seeing some strange behaviour in one of our customer environments. They encountered the known Tephra error. After restarting the Tephra pods, the environment turned green again. However, the components are not being updated.
There are no monitors in the pods that were just restarted, and no health checks are being performed on them (since no monitors are present).
What should I look into here? Which pod is responsible for assigning monitors to the components?
The logs I've reviewed so far look fine. We did see some errors in the sync pods earlier, but after a restart, those errors disappeared.

---

**Bram Schuur** (2025-07-21 11:38):
The 'checks' pod runs the monitors, the 'health-sync' pod puts those into stackgraph. The 'state' pod is responsible for creating a state on the component

---

**Bram Schuur** (2025-07-21 11:40):
We've written up a reference on that here: https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/install-stackstate/advanced-troubleshooting.html#_processing_and_serving

---

**Amol Kharche** (2025-07-21 12:03):
@Saurabh Sadhale *01587955* :point_up_2:

---

**Marc Rua Herrera** (2025-07-21 12:04):
Thanks Bram. Still no clue why is not updating the health. The only thing I see in the health-sync pod is that it cannot find the server-0 pod, which I understand is our classic api pod. Which is up and running:

---

**Amol Kharche** (2025-07-21 12:05):
@Marc Rua Herrera Is this Rabobank customer? We have received high severity case.

---

**Marc Rua Herrera** (2025-07-21 12:05):
Indeed. This is their prod environment

---

**Remco Beckers** (2025-07-21 13:05):
Thanks. I've managed to get a few reproductions as well (not as many as you have) in the router log. Seems like it occassionally gets triggered. I'll be reporting a bug  report for this specifically. Looks like it will take some time to figure this out though.

---

**Bram Schuur** (2025-07-21 14:12):
Okey, gotcha, thanks for that writeup:+1:. So no more crashloops but the states are missing. In what way can i help you further?

---

**Saurabh Sadhale** (2025-07-21 14:27):
How to get the health status to “CLEAR” ?

The customer is looking for an RCA as well. They will share their pre-restart logs from checks,notifications, state and tephra pods for analysis.

I will also take a look but I will need your help here.

---

**Bram Schuur** (2025-07-21 15:01):
Based on the chat with @Saurabh Sadhale we formulated the following things to check to make progress:
• Requets current status after the system has settled
• Investigate whether not only the component have no state but also there are no monitors
• See whether other pods have state and what state is on there
• Look at the monitors overview page and see whether the monitors have been disabled
• Look at the monitors overview page and see what components the pod related monitors do end up on ('Pod Waiting State' etc), maybe there are errors?

---

**Bram Schuur** (2025-07-21 15:02):
I also added a wild hypothesis: Wild Hypothesis: they bring in splunk data merging with the pod, which causes the labels to be replaced and the monitors to fail. This would (maybe? partially?) explain the messages in the checks pod.

---

**Saurabh Sadhale** (2025-07-21 16:13):
@Bram Schuur the customer returned back with the latest update.

• The pods which were earlier in Unknown state now are back to “CLEAR” health state. However, the customer is concerned that they deleted a pod “dynatrace” and the health state is not returning to “CLEAR” even after 8 mins. 
The question here is how much time does it take ? or is there a vector which we can take a look ?

About the monitors,
• They have a few monitors in disabled state but not the ones that give the pod health state. They have noticed that a of the monitors are in Error state. I am attaching screenshots for review.

---

**Remco Beckers** (2025-07-21 16:23):
https://stackstate.atlassian.net/browse/STAC-23097

---

**Bram Schuur** (2025-07-22 09:55):
1. For dynatrace i can't say, if it is using expiry-based removal removal can take quite a while. If it is snapshot based it should be a matter of minutes, depending on how often the python check runs.
2. To investigate why the monitors are in error, you can run `sts monitor status` command (with the monitor id) to figure out what the error is. We used to have a troubleshooting guide on this but i can't seem to find it now

---

**Saurabh Sadhale** (2025-07-22 10:32):
Thanks for updating @Marc Rua Herrera at this point I am on another customer call.

---

**Chris Riley** (2025-07-22 13:48):
@Bram Schuur @Marc Rua Herrera Just FYI that the customer escalated this case today.

I asked them about the impact of this issue, and below is their response (FYI for you both):

_The primary impact in our suseobs-pa environment is that there are no health updates visible on components._

_As mentioned yesterday, for pod restarts it may take tens of minutes to get any health state._
_And this morning I changed one of the signals flowing into the environment to be critical. Something that was updated promptly in other environments, but not in this one for at least 2 hours (by which time I ended the test)._
_Forced topology updates do seem to be reflected in suseobs-pa fairly quickly._

_We had a user acceptance test running to validate this suseobs-pa environment against our existing stackstate environment. After the test the suseobs environments were supposed to replace the stackstate ones._

_But the suseobs-pa environment is now broken (as in, running but not usable) and we don't know why._

---

**Marc Rua Herrera** (2025-07-22 14:50):
Hello, quick question. It's product-related:
Can we extract data from SUSE Observability? Also, is the OpenAPI specification available here: https://gitlab.com/stackvista/platform/stackstate-openapi/-/blob/master/spec/openapi.yaml ready to be consumed by our customers?

---

**Saurabh Sadhale** (2025-07-22 14:51):
@Bram Schuur thank you for your update. I am responding to your previous updates now.

1. For dynatrace i can’t say, if it is using expiry-based removal removal can take quite a while. If it is snapshot based it should be a matter of minutes, depending on how often the python check runs.
>>  Can you please help me understand how to find if this is expiry-based or snapshot based from the logs or any commands ?
>> 
The customer actually came back and mentions that the dynatrace pods that they used for example it took about 45 mins to go from Unknown to Clear status.

I had a look at the monitors in error state. The monitors that are in error state are complainnig about stale data and  no new monitor health states received in the configured ‘intervalSeconds’.

Looking at the health-sync pod, it has a high processing latency warning with a latency of 8 minutes.

And individual health streams:

```% sts health status -u urn:health:stackstate-process-agent:process_check
Stream consistency model: REPEAT_SNAPSHOTS

Aggregate metrics for the stream and all substreams:
METRIC        | 300S AGO    | 300-600S AGO | 600-900S AGO
latency seconds   | 480      | 480      | 480    
messages per seconds | 0.413333333333 | 0.823333333333 | 0.713333333333
creates per seconds | -       | -       | -
updates per seconds | -       | -       | -
deletes per seconds | -       | -       | -```
Errors for non-existing substreams:
```MESSAGE                                            | COUNT
substream with id `urn:host:/aks-suseobs2-12265403-vmss000004-suseobs-aks-pa-cluster` expired | 3
substream with id `urn:host:/aks-suseobs2-12265403-vmss000000-suseobs-aks-pa-cluster` expired | 9
substream with id `urn:host:/aks-system-11509349-vmss000002-suseobs-aks-pa-cluster` expired | 8
substream with id `urn:host:/aks-suseobs2-12265403-vmss000003-suseobs-aks-pa-cluster` expired | 9
substream with id `urn:host:/aks-suseobs1-83642241-vmss000003-suseobs-aks-pa-cluster` expired | 3```
Other health streams also have 480s latency. Bit strange that they all have a latency of exactly 8 minutes.

This doesn’t explain the slow appearance of a status on restarted pods (like dynatrace).

Customer has also tested with the splunk health searches where they forced a bunch of component to critical state and there the results are better.

We need your help for further troubleshooting.

---

**Bram Schuur** (2025-07-22 15:57):
That api is subject to change and not for public consumption, right now we do not offer a stable data api

---

**Bram Schuur** (2025-07-22 17:41):
i have time tomorrow to hop into a call, maybe 10:00?

in the meanwhile you can look how healthy the health-sync pod is, and kafka aswell. Whether they are maxing out their cpu/memory/disk. Might be good to check the receiver pod aswell

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-07-23 04:50):
Hi Team. I have a prospect that wants Observability solution that scales. They have 5,000 stores each with a single 3 node cluster.  
I understand we are working on way to scale for Edge. 
What is our largest deployment to date? 
Any ETA for a large scale solution?
(Sorry for the cross post. Was not sure which channel I’d best for my Q).

---

**Louis Lotter** (2025-07-23 08:01):
@Bram Schuur may be able to give more accurate information.

---

**Louis Lotter** (2025-07-23 08:02):
It's about 4000 nodes atm.

---

**Louis Lotter** (2025-07-23 08:03):
We don't have any ETA's but we are currently looking at a customer with a bigger setup than this. If things go well in our efforts there the number may go up.

---

**Bram Schuur** (2025-07-23 08:05):
Indeed, you are right on the scaling @Louis Lotter. 

the edge use case itself is pretty far on the road map though, e.g. Supporting intermittent connectivity, and other edge specific uses

---

**Saurabh Sadhale** (2025-07-23 08:49):
@Bram Schuur should I schedule a call for 10:00 your time ? Would you be available to check with the customer ?

---

**Bram Schuur** (2025-07-23 08:54):
yes, i will be there

---

**Bram Schuur** (2025-07-23 08:54):
10:00 my time

---

**Saurabh Sadhale** (2025-07-23 08:55):
I am scheduling a call and you should soon see an invite.

---

**Dinesh Chandra** (2025-07-23 09:08):
Just noticed `rancher:` under authentication in observability values. Didnt find any documentation for same. Any details related to Rancher for Auth?

```  authentication:
    adminPassword: $2a$10$qokt6Nl2GE9tYSRsBe6rA.nWzkw/DaTfDD9HDhof7yw6gNrRmSPTu
    file: {}
    fromExternalSecret: null
    keycloak: {}
    ldap: {}
    oidc: {}
    rancher: {}```

---

**Bram Schuur** (2025-07-23 09:13):
@Alejandro Acevedo Osorio do you know more about that one?

---

**Amol Kharche** (2025-07-23 09:18):
On almost every nodes I can see CPU Limits crossed 180% to 248%.

---

**Marc Rua Herrera** (2025-07-23 09:19):
Thanks Bram. This includes the Analytics API we had before?

---

**Marc Rua Herrera** (2025-07-23 09:20):
I am free at 10. Add me in this call if you think I can be of any value there

---

**Saurabh Sadhale** (2025-07-23 09:25):
@Bram Schuur in the latest logs we can also see  OOM kills for one of the NODES.

```name: aks-suseobs1-83642241-vmss000002

Allocated resources:
  (Total limits may be over 100 percent, i.e., overcommitted.)
  Resource           Requests       Limits
  --------           --------       ------
  cpu                7475m (95%)    23215m (296%)
  memory             27746Mi (44%)  40966Mi (65%)
  ephemeral-storage  7Mi (0%)       3962Mi (2%)
  hugepages-1Gi      0 (0%)         0 (0%)
  hugepages-2Mi      0 (0%)         0 (0%)
Events:
  Type     Reason      Age   From            Message
  ----     ------      ----  ----            -------
  Warning  OOMKilling  26m   kernel-monitor  Memory cgroup out of memory: Killed process 1728678 (process-agent) total-vm:3414668kB, anon-rss:339876kB, file-rss:81008kB, shmem-rss:0kB, UID:0 pgtables:1152kB oom_score_adj:999
  Warning  OOMKilling  26m   kernel-monitor  Memory cgroup out of memory: Killed process 1728648 (init-process.sh) total-vm:4420kB, anon-rss:420kB, file-rss:2832kB, shmem-rss:0kB, UID:0 pgtables:44kB oom_score_adj:999
  Warning  OOMKilling  26m   kernel-monitor  Memory cgroup out of memory: Killed process 1728687 (process-agent) total-vm:3414668kB, anon-rss:342112kB, file-rss:81228kB, shmem-rss:0kB, UID:0 pgtables:1152kB oom_score_adj:999```

---

**Alejandro Acevedo Osorio** (2025-07-23 09:27):
That's a placeholder for the upcoming feature. Using `Rancher` as an OICD provider, still in `Coming soon` state

---

**Chris Riley** (2025-07-23 09:28):
Thanks all ... please let me know how the call goes today.

---

**Alejandro Acevedo Osorio** (2025-07-23 09:29):
I think the Rancher team will release the feature on the upcoming release, and we prepared for Observability for that

---

**Sanne Vloon** (2025-07-23 12:23):
@David Stauffer @David Noland @Louis Lotter This is one of the biggest customers in The Netherlands and our only FSI client. We're trying to position SUSE on a broader scale in this account, but with all the Stackstate issues over the last period, we're burning our relationship with them. They're paying $800k per year for the product. Can we please give this the highest priority.
The customer has escalated this officially with the local Account Team.

@Ton Musters @Kees van Bekkum for visibility.

---

**Louis Lotter** (2025-07-23 12:32):
@Sanne Vloon My team is quite aware about the importance of this customer. We were part of the effort in landing them in the first place. They have our focus. We have been meeting with them regularly and have made fixes for the issues as they come up. Some of the problems are not trivial to fix though.

---

**Sanne Vloon** (2025-07-23 12:34):
Thank you for the swift reply and happy to read you’re all on it.

---

**Chris Riley** (2025-07-23 12:39):
@Sanne Vloon I'm monitoring this from a support perspective as the customer escalated this (via support channels) yesterday. The support team, and product teams, are actively engaged on working through the current issue.

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-07-23 13:08):
Thank you both!

---

**Bram Schuur** (2025-07-23 15:15):
indeed. analytics is being deprecated (we cannot support groovy due to the security risks). Our medium term goal is to offer a stable data api, but that is not available right now

---

**Bram Schuur** (2025-07-23 15:43):
The customer environment is functioning again. We did a write-up. Where can i find the customer case to put the report? (cc @Marc Rua Herrera do you know?)

---

**Chris Riley** (2025-07-23 15:45):
@Bram Schuur - that's great to hear. So it's fixed or workaround provided?

Case is here (https://suse.lightning.force.com/lightning/r/Case/500Tr00000eddP4IAI/view?ws=%2Flightning%2Fr%2FEscalation__c%2Fa3LTr00000XgIXgMAN%2Fview). If you cannot access, send everything to me and I will add it as an internal post.

---

**Marc Rua Herrera** (2025-07-23 15:55):
I think the case is opened in the new support platform. @Saurabh Sadhale do you know which case is it?

---

**Bram Schuur** (2025-07-23 16:00):
it seems i don't have access there, could one of you place the answer we put in this google doc there? https://docs.google.com/document/d/1Keltkd_As6PzKQtjMWmh9tbJ9nDi6QqiR4s5VYKok8A

---

**Bram Schuur** (2025-07-23 16:03):
@John Krug @Akash Raj somehow our docs are offline. This is not showing: https://documentation.suse.com/cloudnative/suse-observability/next/en/classic.html

this is for me:
https://documentation.suse.com/cloudnative/suse-observability/

---

**Bram Schuur** (2025-07-23 16:28):
cc @Louis Lotter not sure who to escalate to, it is not great having our docs offline

---

**Chris Riley** (2025-07-23 16:38):
@Bram Schuur Just want to clarify - are you asking us to send this doc to the customer? Or just add to the case for internal reference?

---

**Bram Schuur** (2025-07-23 16:39):
To send the doc to the customer. They requested us writing up the session. I thought best to attach it as a reply to the customer ticket they may have made in some system

---

**Bram Schuur** (2025-07-23 16:39):
(but i am not sure how this came in and through what system)

---

**Chris Riley** (2025-07-23 16:42):
OK, assume you want me to remove the comments first though?
The customer now has SUSE Support entitlement (started 1st July) so case came through the 'normal' channels - customer logs via the SCC portal, case comes into Salesforce for support to start working it.

---

**Bram Schuur** (2025-07-23 16:48):
Yeah please send without the comments

---

**Louis Lotter** (2025-07-23 16:50):
@Padraig Dillon  ?

---

**Louis Lotter** (2025-07-23 16:52):
He is in a meeting though it seems.

---

**Chris Riley** (2025-07-23 16:55):
Sent :white_check_mark:

---

**Padraig Dillon** (2025-07-23 17:01):
Hi Louis. I am in a meeting but let me take this up. John is off today and Akash's day is complete.

---

**Padraig Dillon** (2025-07-23 17:02):
This was working earlier as I was discussion this with Akash on the version.

---

**Brian Six** (2025-07-23 17:12):
Is there a certain number of concurrent connections that Observability is capable of?   Is there a setting for this or is it directly related to system resources?   Can expanding resources or changing a setting allow for more connections?

---

**Padraig Dillon** (2025-07-23 17:18):
Working with the build team on this and we have identified the issue. Working to get it resolved.

---

**Brian Six** (2025-07-23 17:19):
Will the Observability agent on the downstream cluster nodes store long, metrics, traces, etc… in the event of a disconnect with the Observability cluster or will this data get lost during a disconnect?

---

**Louis Lotter** (2025-07-23 17:19):
Thank you !

---

**Padraig Dillon** (2025-07-23 17:25):
Should be back online now.

---

**Alejandro Acevedo Osorio** (2025-07-23 17:25):
https://suse.slack.com/archives/C079ANFDS2C/p1749802270831199?thread_ts=1749549740.834669&amp;cid=C079ANFDS2C

---

**Bram Schuur** (2025-07-23 17:33):
:+1: Thanks!

---

**Brian Six** (2025-07-23 19:06):
Thanks Alejandro.   I couldn’t figure out the right search prompt to get that info.

---

**Brian Six** (2025-07-23 19:59):
Is there any reason you can’t install the Observability agents on the Observability cluster itself for self-monitoring?

---

**Bram Schuur** (2025-07-23 20:41):
It is most definitely possible to do self monitoring. We have the suse observability stackpack to give additional info on your installation.

---

**Bram Schuur** (2025-07-23 20:43):
Sizing an instance is done through amount of nodes observed. The sizes, calculation and resources required can be found here: https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_requirements (https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_requirements)

---

**Brian Six** (2025-07-23 20:49):
I like that answer :-)

---

**andrew.gracey** (2025-07-24 02:07):
Hey! Do we have any scalability and/or bandwidth numbers published somewhere? Some edge customers have been asking so we are wondering where the constraints are.

(Cross posting from the general channel)

---

**Bram Schuur** (2025-07-24 09:23):
We do not have any number on badnwidth, the short of it is: we have not developed for edge yet. It is on our backlog but not super high (years rather than months. Related questions:
https://suse.slack.com/archives/C079ANFDS2C/p1753283565367869
https://suse.slack.com/archives/C079ANFDS2C/p1753283961850319

---

**Saurabh Sadhale** (2025-07-24 12:29):
@Bram Schuur @Alejandro Acevedo Osorio

Thanks a lot for yesterday’s troubleshooting session. It was a great learning for us.

New update: the suseobs-pa environment is running and had remained stable and running over night...so no surprises this morning :slightly_smiling_face:

1. Mitesh is doing QA on upgrading our environments to the latest 2.3.6 to mitigate the tephra issues. 
2. Test cluster is upgraded to 2.3.6 :white_check_mark: 
3. It seems we have a similar issue as 2.3.5, where the pods do not finish the boot strap of the upgrade....a number of pods, the usual ones do not spin. I noticed tephra 1 restart on its own after which a few minutes later the pods turned green and running. Application is up and running on 2.3.6 - This did however take over 15 mins to complete which timed-out the terraform code.
4. I have also updated the UAT environment and this one upgraded within normal time, and all pods came up gracefully. so it seems the intermittency of tephra issue may still exist, although as I say, I did see one of the tephra pods restart on its own on the test environment, after which the other pods spun up...so in that case I did not have to do any manual restarts of tephra - probably that is the fix ? not sure as I don’t see the release notes of 2.3.6 on to docs site.
I’ll monitor these environments for a few days before I upgrade PA/PRD.

---

**Daniel Barra** (2025-07-24 14:49):
*We are pleased to announce the release of 2.3.6, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.3.6.html).*

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-07-24 16:39):
@Bram Schuur Is there a jira to track this issue? I would like to watch it for progress.

---

**Jorn Knuttila** (2025-07-24 18:49):
:woohoo: aarch64

---

**Jacob Perkins** (2025-07-24 20:14):
I got my Rancher 2.11.3 UI in a weird spot. I'm testing StackState, and the credentials are old in the UI Plugin setup. When I went to go setup the new creds, when I hit save, a HTTP BASIC login box pops up asking for a username and password. When I hit cancel, it logs me out of Rancher :rolling_on_the_floor_laughing: I'll log back into Rancher, try to explore a cluster, and I get another HTTP BASIC login prompt. No username/password works and it logs me out of Rancher.

If I uninstall the UI plugin for Observability, things go back to normal and I can explore my clusters properly.

I'm looking for a way to 'clear out' the old Observability UI Plugin credentials. Are those secrets somewhere? Could someone point me to the right place to find those?

---

**Jeroen van Erp** (2025-07-24 20:17):
They're stored in a configuration crd called suse-observability in the rancher management server.

---

**Jacob Perkins** (2025-07-24 20:18):
Perfect, there it is. Thank you!!

---

**Jacob Perkins** (2025-07-24 20:27):
Yep, removing that configuration and then reinstalling the UI Plugin fixed it. Thanks again!

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-07-24 22:33):
Never mind. I think I found one.

---

**Jeroen van Erp** (2025-07-24 23:46):
You’re welcome

---

**Sam Chen** (2025-07-25 15:15):
Hi there, can we create a monitor for app log? like grep some error message and create an alert for notification?

---

**Bram Schuur** (2025-07-25 15:29):
Currently this is not supported, we have a first epic to implement generalized logging to be started somewhere 2026. I will have to check with @Mark Bakker or @Remco Beckers whether this includes monitors, i will get back to you on that.

---

**Sam Chen** (2025-07-25 15:40):
Got it, Thanks Bram. :+1:

---

**Daniel Murga** (2025-07-26 15:36):
Hey observability guys! Customer is facing issues while upgrading to 2.6.3... I can see the following errors:
```Not all edges were removed for type: class com.stackstate.domain.environment.Environment```
in  `suse-observability-initializer`

---

**Louis Lotter** (2025-07-26 17:37):
@Marc Rua Herrera we have a small data migration bug on 2.6.3  that will affect customers with custom integrations.  We have helped Rabobank to manually fix this in their environment but Please don't encourage anyone else to upgrade yet. We will create a fix and a new release. If someone does go ahead and upgrade it's not that hard to help them fix it though.

---

**Bram Schuur** (2025-07-26 17:50):
Small nit: the version is 2.3.6

---

**Daniel Murga** (2025-07-28 09:32):
After fixing the upgrade issues during weekend customer shared some feedback about a broken custom view, you can read details here:  https://stackstate.atlassian.net/browse/STAC-23121
TIA!

---

**Bram Schuur** (2025-07-28 09:33):
i am taking a look there, trying to get into a call with mitesh

---

**Daniel Murga** (2025-07-28 09:36):
I've just sent him a google meet appointment...

---

**Daniel Murga** (2025-07-28 10:54):
No answer... nobody joined... I'll keep you updated if there's any movement

---

**Emine Uygun** (2025-07-28 16:04):
Many thanks to everyone who supported us with Rabobank last weekend. We’ve finally received a positive message from the customer!

---

**Chris Riley** (2025-07-28 16:09):
@Emine Uygun any chance you could translate into English?

I believe that @Daniel Murga, @Bram Schuur and @Louis Lotter were the ones that helped resolve this one.

---

**Edward Wooster** (2025-07-28 16:10):
I was thinking the same! haha

---

**Emine Uygun** (2025-07-28 16:13):
Uuhh yes indeed.. English would be great :rolling_on_the_floor_laughing:

*Hi Emine,*
*The increased support came in handy.* Last Saturday, our Suse-PA environment went down. Because we didn't see any problems on the test environment, we then decided to also upgrade our production environment to the latest hotfix version, and unfortunately, that also broke.

*Today, Mitesh spent the whole day troubleshooting again with your support (Bram), and the cause and solution have been found.*
 Basically, it comes down to the fact that these Pa/Prod environments run more components than a 'small size' test environment. *Some of those components were incorrectly not updated because they were not part of an upgrade script supplied by you.*Additionally, there was a minor issue with our 'Stackpack' that we made with Marc.

 *The good news is that Suse support really helped us well, and we will only switch over later this week.*
 At the same time, I also think again that there is *room within Suse R&amp;D to sharpen the testing methods.*

Sincerely,

Ivo

---

**Daniel Murga** (2025-07-28 16:29):
Nice to read that! I would like to give special thanks to @Louis Lotter and @Bram Schuur for getting involved so quickly over the weekend to resolve the incident! I really appreciate guys!

---

**Chris Menendez** (2025-07-28 17:01):
Hi all, it seems we have not resolved the issue where Reg Codes for Rancher Suite in SCC aren't working for stackstate... what is the current process to generate a valid reg code? cc @David Bigelow @Mick Thomas

---

**Louis Lotter** (2025-07-28 20:09):
@Chris Menendez Hi. Rancher codes would never work for Suse Observability. We have our own license keys. I can generate keys but I'm pretty sure there is supposed to be a process handled by the scc where they distribute and keep track of keys we generated for them

---

**Louis Lotter** (2025-07-28 20:10):
@Mark Bakker organised this but he is on leave atm. @Amol Kharche may know more about this process.

---

**Louis Lotter** (2025-07-28 20:10):
If it's a burning issue with a specific customer I can generate a key for you with a specific expiry date though. But it's not something I should be doing ad hoc in general

---

**David Bigelow** (2025-07-28 20:12):
The customer has been trying to actively set it up since last Friday

---

**Garrick Tam** (2025-07-28 20:24):
We've been posting account name/number into <#C02AYV7UJSD|> listing the product where the code is invalid to request proper regeneration.

---

**Louis Lotter** (2025-07-28 21:18):
Is it a rancher prime customer ? When does their contract expire ? I need an end date.

---

**David Bigelow** (2025-07-28 21:19):
Yea, Rancher Prime customer account: Solera - A189355

---

**Ron Terry** (2025-07-29 01:18):
Where do we get Observability license keys for internal use, the one I have been using to develop the SUSE AI technical training course has expired. Is SCC generating usable keys yet or do they need to come from somewhere else?

---

**Amol Kharche** (2025-07-29 04:25):
https://suse.slack.com/archives/C079ANFDS2C/p1742982913401109?thread_ts=1742982913.401109&amp;cid=C079ANFDS2C (https://suse.slack.com/archives/C079ANFDS2C/p1742982913401109?thread_ts=1742982913.401109&amp;cid=C079ANFDS2C)

---

**Amol Kharche** (2025-07-29 05:26):
Please raise SD ticket with SCC team and post the account name/number in <#C02AYV7UJSD|>
https://sd.suse.com/servicedesk/customer/portal/1

---

**Chris Riley** (2025-07-29 10:46):
@Bram Schuur Rabobank is asking for another 'report' following the fix you provided over the weekend. Is this possible?

---

**Bram Schuur** (2025-07-29 11:11):
I will write one, i am a bit busy atm, but i'll write it up.

---

**Bram Schuur** (2025-07-29 11:34):
I did a writeup here: https://docs.google.com/document/d/1GTKmA2tXu2OJ4TMcn018iYVaKR9-d2_zaepCQgyle2k/edit?tab=t.0 @Alejandro Acevedo Osorio could you review before we send this out?

---

**Marc Rua Herrera** (2025-07-29 11:37):
Hi team,
I'm running into an issue when trying to pull the image `registry.rancher.com/suse-observability/stackstate-k8s-cluster-agent:bad4a862 (http://registry.rancher.com/suse-observability/stackstate-k8s-cluster-agent:bad4a862)`. The pod fails with the following error:
```failed to authorize: failed to fetch oauth token: unexpected status from 
https://scc.suse.com/api/registry/authorize?scope=... : 401 Unauthorized```
This suggests the registry requires authentication, but I assumed this repository was public.
 Can someone clarify:

Why does this image require a username and password if the repo wasn’t meant to be private? If credentials are indeed needed, where can I get the correct ones ?

---

**Bram Schuur** (2025-07-29 11:39):
:+1:thanks for checking

---

**Alejandro Acevedo Osorio** (2025-07-29 11:43):
looks super complete

---

**Bram Schuur** (2025-07-29 11:44):
@Chris Riley feel free to forward to customer

---

**Remco Beckers** (2025-07-29 11:45):
It doesn't require authentication, I can pull that image without any auth

---

**Remco Beckers** (2025-07-29 11:46):
But if you provided some kind of credentials when installing the agent it might be using those and that triggers the unauthorized message

---

**Remco Beckers** (2025-07-29 11:46):
Do you get the same issue with the other agent images?

---

**Remco Beckers** (2025-07-29 11:46):
That would suggest the problem I mentioned

---

**Marc Rua Herrera** (2025-07-29 11:54):
Clean installation worked. We were doing an upgrade from rancher UI which was failing. And there was some default credentials in the helm charm. But I have no idea why these credentials were there.

---

**Marc Rua Herrera** (2025-07-29 11:55):
By removing completely the agent and deploying the new one, it didn't return the error

---

**Chris Riley** (2025-07-29 11:58):
Thanks, Bram.
@Daniel Murga can you save as pdf and then send over to the customer please?

---

**Daniel Murga** (2025-07-29 14:47):
Sorry I missed that thread, reviewing and sending to customer

---

**Alejandro Acevedo Osorio** (2025-07-29 18:18):
Were there any issues with the Hbase / Hadoop components lately? Disk space issues? I see a lot of messages on the namenode logs implying that could not fin suitable datanodes where to write data
```2025-07-24 23:29:41,619 INFO blockmanagement.BlockPlacementPolicy: Not enough replicas was chosen. Reason: {NO_REQUIRED_STORAGE_TYPE=1}```

---

**Alejandro Acevedo Osorio** (2025-07-29 18:30):
BTW the message on the sync pod
``` Root cause: Cannot un-exist verified existing stackelement: v[244389677896085]```
is suggesting data loss.

---

**Kelly Hair  (1.646.247.3899)** (2025-07-29 23:56):
What the other guys are doing - https://www.redhat.com/en/blog/unlocking-deeper-insights-new-observability-features

OpenTelemetry traces w/ RBAC

---

**Thomas Muntaner** (2025-07-30 09:44):
for data loss, is there any way to clear the data and recover?

---

**Alejandro Acevedo Osorio** (2025-07-30 09:46):
One way would be to restore a backup.
Another would be to scale down and manually delete some pvc (but of course, that's quite involved)
The other is just a new installation

---

**Alejandro Acevedo Osorio** (2025-07-30 09:47):
@Remco Beckers... restoring a settings backup would effectively clear stackgraph, right?

---

**Thomas Muntaner** (2025-07-30 09:48):
I don't necessarily know if we have a settings backup

---

**Alejandro Acevedo Osorio** (2025-07-30 09:48):
I think we enable that by default (so all the config you might have applied should be there), is the fastest way to get up and running https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/data-management/backup_restore/configuration_backup.html#_rest[…]ackup (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/data-management/backup_restore/configuration_backup.html#_restore_a_backup)

---

**Thomas Muntaner** (2025-07-30 09:48):
thanks, I'll look into it

---

**Remco Beckers** (2025-07-30 10:09):
Settings backup will indeed clear the database first to be able to restore it

---

**Erin Quill** (2025-07-30 19:03):
I'm running into an issue when I have SUSE Observability on the same cluster that is running the NVIDIA dcgm service (for SUSE AI Observability) When I install SUSE AI, before I install the GPU operator, or SUSE AI Observability, I install the Nvidia dcgm. It uses port 5555 by default. When you install Observability, the daemon for the agent also defaults to 5555. You need to go in and update it after you install the Agent on a different port. I always use 5556 for the health agent. Note, the option to change the healthport is not available in the valules.yaml. Now, when I went to update the Observability AI plugin, the update failed because it said there were duplicate healthports...I went to the daemon, changed it back to 5555 (breaking the agent). Then I was to update the chart, and re-edited the daemon back to 5556

---

**Tom McGonagle** (2025-07-30 23:08):
I have a question from a customer. Do we support SUSE Observability as a SAS offering on AWS?

---

**James Radtke (1.651.442.6967)** (2025-07-30 23:20):
Are they asking if they can get it via Marketplace?
https://aws.amazon.com/marketplace/pp/prodview-w36cds3q4i2hc

Otherwise, it was my undestanding that Stackstate was firstly built cloud-native (as SaaS) and then adopted to run local (some please correct me)

---

**Tom McGonagle** (2025-07-30 23:22):
The question was more about a hosted solution in AWS. Where does the SaaS offering run?

---

**Bram Schuur** (2025-07-31 09:00):
For our AWS marketplace listing there is the option to host in europe or US (@Remco Beckers @Vladimir Iliakov correct me if i am wrong). There is no hosted solution

---

**Bram Schuur** (2025-07-31 09:04):
thanks for reporting! i filed a ticket, i gave it high priority, it should be done somewhere in the upcoming months: https://stackstate.atlassian.net/browse/STAC-23153

---

**Vladimir Iliakov** (2025-07-31 09:06):
Right, to be exact US is us-east-1 (Virginia) and EU is eu-central-1 (Frankfurt)

---

**Marc Rua Herrera** (2025-07-31 10:27):
Hi team, is there anything we can do to order the main menus in the left pane. For example, having the Kubernetes first, then the Open Telemetry, and lastly the custom one "Rabobank..."

---

**Thomas Muntaner** (2025-07-31 10:42):
Thanks, that worked

---

**Alejandro Acevedo Osorio** (2025-07-31 10:45):
Great news!!!

---

**Gabriel Ferraz Stein** (2025-07-31 11:20):
Hi team! How to I get a Key for a Rancher Suite customer?

---

**Louis Lotter** (2025-07-31 11:57):
Hi please reach out to the SCC. They manage that.

---

**Alejandro Acevedo Osorio** (2025-07-31 12:06):
That's unexpected. Is it in a `CrashLoop` due to this one?

---

**Thomas Muntaner** (2025-07-31 12:07):
I would expect so :)

Actually, this is another cluster, so I actually have not run the restore on this one yet

---

**Thomas Muntaner** (2025-07-31 12:07):
yeah, it is

---

**Alejandro Acevedo Osorio** (2025-07-31 12:08):
can you share the `health-sync` reason for CrashLoop (the one you shared was the `state`)

---

**Alejandro Acevedo Osorio** (2025-07-31 12:18):
Mmmm can you try scaling down `state` and see if that helps `health-sync` and `notification` coming up?

---

**Thomas Muntaner** (2025-07-31 12:20):
In notifications, I can still see the error: 2025-07-31 10:20:02,363 INFO  com.stackstate.servicemanager.StackStateServiceManagerImpl - Service SystemNotificationsService changed state to Running IsRunning from Some(Stopped).
2025-07-31 10:20:07,377 ERROR com.stackstate.servicemanager.StackStateServiceManagerImpl - StackState changed running state from IsRunning to a failing state: NotificationService: Failed to initialize: Multiple edges can not be placed on a optional property 'ObjectProperty{class com.stackstate.domain.stackelement.Component.healthStateIndex&lt;Optional[class com.stackstate.domain.state.StackElementHealthStateIndex]&gt;} For class: com.stackstate.domain.stackelement.Component
2025-07-31 10:20:07,378 INFO  com.stackstate.servicemanager.StackStateServiceManagerImpl - Service NotificationService changed state to Running Failing(Failed to initialize: Multiple edges can not be placed on a optional property 'ObjectProperty{class com.stackstate.domain.stackelement.Component.healthStateIndex&lt;Optional[class com.stackstate.domain.state.StackElementHealthStateIndex]&gt;} For class: com.stackstate.domain.stackelement.Component) from Some(Running IsRunning).

let see if it works

---

**Alejandro Acevedo Osorio** (2025-07-31 12:20):
Although I think it won't help ....

---

**Thomas Muntaner** (2025-07-31 12:21):
```2025-07-31 10:20:33,390 ERROR com.stackstate.servicemanager.StackStateServiceManagerImpl - StackState changed running state from IsRunning to a failing state: HealthSyncService: Failed to initialize: Multiple edges can not be placed on a optional property 'ObjectProperty{class com.stackstate.domain.stackelement.Component.healthStateIndex&lt;Optional[class com.stackstate.domain.state.StackElementHealthStateIndex]&gt;} For class: com.stackstate.domain.stackelement.Component
2025-07-31 10:20:33,391 INFO  com.stackstate.servicemanager.StackStateServiceManagerImpl - Service HealthSyncService changed state to Running Failing(Failed to initialize: Multiple edges can not be placed on a optional property 'ObjectProperty{class com.stackstate.domain.stackelement.Component.healthStateIndex&lt;Optional[class com.stackstate.domain.state.StackElementHealthStateIndex]&gt;} For class: com.stackstate.domain.stackelement.Component) from Some(Running IsRunning).```
health sync

---

**Thomas Muntaner** (2025-07-31 12:21):
not failed yet though

---

**Thomas Muntaner** (2025-07-31 12:21):
notification just restarted, I expect health sync will be next

---

**Thomas Muntaner** (2025-07-31 12:22):
yeah, it just happened

---

**Thomas Muntaner** (2025-07-31 12:23):
okay, I may head off for lunch now, so this can wait, or if you have any ideas, I can try them when I get back

---

**Alejandro Acevedo Osorio** (2025-07-31 12:29):
@Bram Schuur Seems this upgrade from `2.3.4` to `2.3.7` had some issues

---

**Alejandro Acevedo Osorio** (2025-07-31 14:00):
TBH I think the easiest again to recover the instance would be the backup restore procedure.

---

**Thomas Muntaner** (2025-07-31 14:00):
that works for me. I'll try after my next block of meetings

---

**Alejandro Acevedo Osorio** (2025-07-31 14:01):
Still I will share this logs internally to see what else can we find

---

**IHAC** (2025-07-31 20:34):
@Garrick Tam has a question.

:customer:  Child Rescue Coalition

:facts-2: *Problem (symptom):*  
Is there any IOPS requirements for the PV? This customer deploys 250HA profile.  They are using PV provided by Longhorn using spinning disk hard drives (HDD).  Some pods requires 15-20 restarts to finally able to get pass the health and liveness probes.  The slicing probe stuck for 24 hours until we extended the liveness and health probe by doubling the failed retries.  Additionally, when they added monitored clusters strange behaviors started to show.  Sometime there are error showing in some of the pod that will automatically recover while a second monitor cluster get added but no data is show for it.  Appreciate your input.

---

**Jivaji Ihare** (2025-08-01 07:07):
Hi Team, Do SUSE observability installation steps documentation removed from SUSE site?  like end user if we go through google search, its very difficult to find installation steps on SUSE site, I think its directly proportional to product adoption. now I got one GitHub link but not on SUSE site

---

**Amol Kharche** (2025-08-01 07:31):
Thanks for reporting it @Jivaji Ihare
I can see the same results, some of the links are working but not all.
@John Krug @Akash Raj, Those links are Ponting to "`next`" generation links however working link contain "`latest`" link. Do we need to correct those links or does google will automatically point to latest link later ?
e.g. NOT WORKING:- https://documentation.suse.com/cloudnative/suse-observability/next/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html
WORKING:- https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html
cc:@Louis Lotter

---

**Akash Raj** (2025-08-01 07:33):
@Amol Kharche @Jivaji Ihare  Hi. I’m the primary writer for Observability.  Let me take a look. Thanks.

---

**Alejandro Acevedo Osorio** (2025-08-01 09:40):
I agree with you that the user seems to have the role `fpsudo` ... so what seems to not be working is the mapping to the default role. Can you check that
```      roles: 
        guest: [] 
        powerUser: ["fairplay"] 
        admin: ["fpsudo"] ```
is correctly indented as that's the part that controls the mapping
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/ldap.html#_configure_suse_[…]vability_for_ldap (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/ldap.html#_configure_suse_observability_for_ldap)

---

**Amol Kharche** (2025-08-02 05:45):
@Garrick Tam Which Observability version are they using ?
Customer need a newer version of StackState( 2.3.6 or later)  where the query is no longer mandatory .

---

**Alejandro Acevedo Osorio** (2025-08-02 11:34):
A workaround @Garrick Tam would be to define the `grafana` subject via the config file instead of the cli https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_roles.html#_custom_roles_with[…]_configuration_file (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_roles.html#_custom_roles_with_custom_scopes_and_permissions_via_the_configuration_file)

---

**Garrick Tam** (2025-08-03 04:50):
@Alejandro Acevedo Osorio Is there a known issue with sts CLI?  The customer is using version 2.3.6 and prefer to follows the documentation to configure this.

---

**Garrick Tam** (2025-08-03 04:56):
Also, my lab is on v2.3.6 and I have no problem executing the commands from the docs.

---

**Alejandro Acevedo Osorio** (2025-08-03 17:27):
No, I don't know of any issues on the cli. But perhaps try to align your version of the cli with the client (basically just ask him to reinstall it)
```sts version                                                      
VERSION | BUILD DATE           | COMMIT                                  
3.1.1   | 2025-07-23T10:22:43Z | 630548483ca0d65495bdf1d397c13d7d60981703```
I tested with the latest and the command seems to work fine
```sts rbac create-subject --subject grafana --scope "name = '*'"```

---

**Alejandro Acevedo Osorio** (2025-08-03 17:49):
@Garrick Tam I found the issue in the cli, can you please advise the customer to install the cli version `3.0.5`
You can do this by adding an extra var to the command offered in the Suse Obs UI `STS_CLI_VERSION=3.0.5`
So the command looks like
```curl -o- https://dl.stackstate.com/stackstate-cli/install.sh | STS_CLI_VERSION=3.0.5  STS_URL="*********" STS_API_TOKEN="*******" bash```

---

**Bram Schuur** (2025-08-04 08:53):
We don't have any official IOPs numbers, but i recall us requiring SSD-type storage (this is what we test and run on). I cannot find it in the docs though so I'll update that.

---

**Bram Schuur** (2025-08-04 08:59):
@Remco Beckers made a proposal mr, can you check whether you agree with the content? https://github.com/rancher/stackstate-product-docs/pull/65

---

**Bram Schuur** (2025-08-04 09:01):
Currently we cannot, there is already an open ticket for this, which i'll resubmit for prioritization: https://stackstate.atlassian.net/browse/STAC-21415

---

**Marc Rua Herrera** (2025-08-04 09:01):
Thanks Bram

---

**Erin Quill** (2025-08-04 15:01):
It appears that this is no longer an issue. The Kubernetes GPU Operator starts dcgm, and the port is no longer an issue.

---

**Garrick Tam** (2025-08-04 17:33):
@Alejandro Acevedo Osorio Thank you.  The below change fixed the issue.
```edit the authentication.yaml so the roles section is aligned with ldap indentation?  Roles should be 4 spaces and lines under that should be 6 spaces.  Also, try having empty double quotes inside guest.```

---

**Garrick Tam** (2025-08-04 20:35):
Thank you.

---

**Garrick Tam** (2025-08-04 20:37):
@Alejandro Acevedo Osorio Is there a Jira bug number I can tied the customer case to for the bug you found?

---

**Akash Raj** (2025-08-05 08:03):
@Amol Kharche @Jivaji Ihare I have looked into the issue and consulted with my team.

We would need to create redirects from "next" -&gt; "latest" on the webserver (which is being done at the moment).
But, in addition to this, Google will eventually catch up at some point to the "latest" version. Apparently, there were similar cases in the past for some docs.

So, I guess it will be a waiting game :+1::skin-tone-2:

---

**Zia Rehman** (2025-08-05 08:13):
Hi folks,
Currently, all SUSE internal employees can obtain the license key from this Slack channel. Do we have an estimated timeline for when these licenses will also be available through SCC?

---

**Remco Beckers** (2025-08-05 08:19):
Not that I'm aware of. @Mark Bakker might have more information on this topic but is on vacation until the end of this week.

---

**Zia Rehman** (2025-08-05 08:23):
Thanks @Remco Beckers for the update, I'll wait for Mark's reply as I need to put this information the the elearning document as some of the internal employees are not aware of getting the license from here currently.

---

**Alejandro Acevedo Osorio** (2025-08-05 09:00):
This is the jira bug number https://stackstate.atlassian.net/browse/STAC-23181 (FYI @Bram Schuur)

---

**Bram Schuur** (2025-08-05 10:11):
thanks for picking this up @Alejandro Acevedo Osorio

---

**Akash Raj** (2025-08-05 11:38):
@Amol Kharche @Jivaji Ihare  I checked a moment earlier and looks like the links are redirecting fine now :+1::skin-tone-2:

---

**Jivaji Ihare** (2025-08-05 11:41):
yes, I can see correct link in google now, thanks @Akash Raj for the update

---

**Amol Kharche** (2025-08-05 11:41):
Cool, Thanks

---

**Joel Sequeira** (2025-08-05 20:07):
Partner (A235909) has a valid SUSE AI NFR however, there is no Observability NFR issued in the account. Appreciate if someone can guide what needs to be done?

---

**John Pugh** (2025-08-05 21:50):
probably best in <#C02AYV7UJSD|>??

---

**David Noland** (2025-08-06 00:58):
Might want to check on <#C02AYV7UJSD|>

---

**Joel Sequeira** (2025-08-06 05:26):
Thank you John

---

**Bram Schuur** (2025-08-06 09:18):
Could you write a release note on this ticket? I would try but might actually just get it wrong

---

**Jan Bruder** (2025-08-06 14:21):
Hi team, BASF has a requirement to use Observability for central storage/analytics of Linux logs. As part of their distributed edge platform (based on SUSE Edge) they want to have a single solution to deliver observability for the entire software stack running on their edge device, from the operating system to the application containers.
Is it possible to ingest Linux logs into Observability, e.g. by using Syslog ?

---

**Alejandro Acevedo Osorio** (2025-08-06 14:29):
@Garrick Tam there's a new version of the cli with a fix applied, so the customer doesn't need to stick to version `3.0.5` but just install the latest (`3.1.2` )

---

**Bram Schuur** (2025-08-06 14:31):
As of this moment this is not possible. SUSE Observability supports only pod logs right now. On our medium term roadmap (timeframe of months/half year) we have working on 'generalized logging' which should support this use-case

---

**Jan Bruder** (2025-08-06 15:14):
Thanks Bram, i assume the main deliverable here is the server-side processing and UI integration of general logs. The log shipping should be possible by running an OTEL collector on the Linux system.

---

**Hernan Schmidt** (2025-08-06 15:23):
They should request a separate NFR for Observability.
It'll still be wrong, but then we (SCC) can fix it on our end.
Just let us know (via SD ticket) when they have an NFR for Observability please.

---

**Joel Sequeira** (2025-08-06 15:24):
Already raised a Jira ticket. Appreciate it if you can fix this

---

**Hernan Schmidt** (2025-08-06 15:29):
They don't have an Observability NFR sub, only SUSE AI Suite (and SUMA)

---

**Joel Sequeira** (2025-08-06 15:31):
Right. They are not issued one. Ideally with SUSE AI they should get one as Observability is part of SUSE AI isn't it

---

**Joel Sequeira** (2025-08-06 15:32):
So can this be fixed at SCC end as Partner is waiting for the key or partner has to raise NFR request

---

**Hernan Schmidt** (2025-08-06 15:32):
it doesn't happen automatically, because Obs requires a separate key

---

**Joel Sequeira** (2025-08-06 15:36):
I will have the NFR request submitted and then notify the same in the above mentioned Jira ticket

---

**Hernan Schmidt** (2025-08-06 15:41):
FYI: In SCC, we just did a bulk fix of SUSE Observability license keys, fixing more than 500 missing/wrong keys.
It seems we might still have some cases where the key might be missing (in particular in the case of NFR or MSP subscriptions), but today's fix should take care of the majority of problems.

---

**Jacob Perkins** (2025-08-06 15:50):
Were there notifications sent out to those accounts where the Observability RegCode changed?

I noticed one of our 'masked' accounts got updated and I'll need to notify our customers

---

**Hernan Schmidt** (2025-08-06 15:54):
No, notifications were sent...

---

**Bram Schuur** (2025-08-06 16:23):
Yes exactly, that is the idea:thumbs-up:

---

**Garrick Tam** (2025-08-06 17:29):
Thank you very much!

---

**Vladimir Iliakov** (2025-08-07 08:45):
Hi @Ben Craft , I am going to decommission the tenant today. Let me know if you have any objections and we have to keep it for a bit longer...

---

**Ben Craft** (2025-08-07 11:15):
Thats fine you can remove it - thanks

---

**Bram Schuur** (2025-08-07 14:39):
@Alejandro Acevedo Osorio i bumped the memory for the slicer based on the above analysis (And what we saw at bosch): https://gitlab.com/stackvista/devops/helm-charts/-/merge_requests/1579

---

**Alejandro Acevedo Osorio** (2025-08-07 14:43):
Gotcha, sounds good to do the bump

---

**Bram Schuur** (2025-08-07 14:44):
yeah, i don't want to be 'cheap' on this one on the 4000-ha instance

---

**Bram Schuur** (2025-08-07 14:45):
I would not recommend changing that setting, it fixes timeout for readonly, not write transactions. I am taking a look at the logs, i would not advise for changing timeouts, it typically leads to something breaking somewhere else. I'll see whether i can find something in the logs.

---

**Bram Schuur** (2025-08-07 14:45):
I see that there are some restarts and timeouts. I think the root cause is the slicing service restarting with OOM, this can cause hbase to become inefficent and other services time out. You can set
```stackstate.components.slicing.resources.requests.memory="4Gi"
stackstate.components.slicing.resources.limits.memory="4Gi"```
to overcome this. It will take some time for the system to speed up (hours, it needs to do some garbage collection runs), but should speed up over time.
I see you are using the 4000-ha profile. I will also make this change on the profile, which should be released with a next release.

---

**Thomas Muntaner** (2025-08-07 15:11):
Hi Bram,

I'm not sure if slicing is reaching OOM, it seems to be within the limits of 2.5GB

---

**Bram Schuur** (2025-08-08 10:06):
Heyhey, i am sure about the OOM (it is in java heap, not pod memory, screenshot below): The stream error error might be unrelated or a reaction to the pod killing itself, i have not seen `error: stream error: stream ID 7; INTERNAL_ERROR; received from peer` before

---

**Thomas Muntaner** (2025-08-08 10:29):
I edited the deployment and will see if it improves anything. I'll let you know what happens and if it becomes stable

---

**Jacob Perkins** (2025-08-08 20:44):
If we're still seeing RegCodes that are deployed in SCC being the wrong format, should those still go to an SD ticket?

---

**Jacob Perkins** (2025-08-08 20:44):
I'm seeing one just deployed in A239252 that's the wrong format

---

**Zia Rehman** (2025-08-11 13:12):
Hi @Mark Bakker can you please share the estimated timeline? Need to put the information in the e-learning course.

---

**Ben Craft** (2025-08-11 16:12):
How does Observability behaving behind a proxy path? I.e instead of accessing it at the domain root it is accessed at domain.com/observability (http://domain.com/observability)

---

**Ben Craft** (2025-08-11 16:12):
With and or without rewrites on the path

---

**Ben Craft** (2025-08-11 16:12):
I can test it out just curious if its been tried before

---

**Remco Beckers** (2025-08-11 16:14):
At the moment the UI will rewrite paths in the wrong way. At least that's what happened when I tried it proxied through Rancher

---

**Remco Beckers** (2025-08-11 16:14):
The UI will replace the entire path with `/#` for the index page for example

---

**James Radtke (1.651.442.6967)** (2025-08-11 16:14):
(and what about the certificates?)

---

**James Radtke (1.651.442.6967)** (2025-08-11 16:15):
(sincere question - I am curious)

---

**Ben Craft** (2025-08-11 16:15):
I'm looking at doing it at the ingress layer

---

**Ben Craft** (2025-08-11 16:15):
So the certificates will be the same

---

**Remco Beckers** (2025-08-11 16:15):
Certificates should be handled by the proxy then

---

**James Radtke (1.651.442.6967)** (2025-08-11 16:15):
(I misunderstood what you were proposing at first - now I get it :wink:

---

**Ben Craft** (2025-08-11 16:16):
The UI will replace the entire path with `/#` for the index page for example

the rancher ui or the Observability ui?

---

**Remco Beckers** (2025-08-11 16:16):
Would you still expose the data receiving endpoints as the normal URL? Or also behind the proxy?

---

**Ben Craft** (2025-08-11 16:16):
Rancher is the use case I'm looking at

---

**Remco Beckers** (2025-08-11 16:16):
The Observability UI

---

**Ben Craft** (2025-08-11 16:17):
Ahh okay, knew how to fix that on the rancher side if it was that one lol

---

**Ben Craft** (2025-08-11 16:17):
I'm not opinionated on if the data receiving endpoints are the same as the ui or not

---

**Ben Craft** (2025-08-11 16:18):
Plenty of services I've used have separate ingest endpoints so splitting them out is fine if it solves a problem

---

**Remco Beckers** (2025-08-11 16:19):
There's a lot of data coming in and some of it, OTLP, uses GRPC so it is wants to be at the root path

---

**Ben Craft** (2025-08-11 16:19):
I may just give it all a try tomorrow and feed back lol

---

**Remco Beckers** (2025-08-11 16:20):
Note that we don't document and support how to proxy SUSE Observability through Rancher due to this issue, but also because we are worried about the impact it has, given the amount of request and amount of data our UI sometimes pulls in.

---

**Remco Beckers** (2025-08-11 16:20):
We don't want to put too much load on Rancher (mostly in the form of network traffic)

---

**Ben Craft** (2025-08-11 16:21):
I wouldn't be proxying through rancher. Just sharing the domain root and updating ranchers ui router to respect /Observability as a backend url

---

**Ben Craft** (2025-08-11 16:21):
The ingress layer would split it out and rewrite as needed

---

**Remco Beckers** (2025-08-11 16:21):
Aha ok. That's a big difference indeed

---

**Ben Craft** (2025-08-11 16:22):
I'll just try it out tomorrow. Should be reasonably easy to find out if / where the failure point is. Just an idea atm

---

**Remco Beckers** (2025-08-11 16:22):
That should work, minus the UI issue. I'm not sure if that's easy to fix on our side or that it requires a whole migration to a (newer version of) the React router.

---

**Ben Craft** (2025-08-11 16:23):
Not sure. Will have to see :)

---

**Ben Craft** (2025-08-11 16:23):
I'll let you know

---

**Hernan Schmidt** (2025-08-12 09:44):
&gt; If we're still seeing RegCodes that are deployed in SCC being the wrong format, should those still go to an SD ticket?
Yes please.

---

**Hernan Schmidt** (2025-08-12 09:45):
&gt; I'm seeing one just deployed in A239252 that's the wrong format
Looks like that has been fixed

---

**IHAC** (2025-08-13 02:33):
@Garrick Tam has a question.

:customer:  NowCom

:facts-2: *Problem (symptom):*  
NowCom is using fleet to deploy agents to 99 downstream clusters.  They wanted to know what should be the order of steps for deploying agents and configuring the stackpack instances.  Should they configured the stackpacks for each downstream cluster before deploying the agents or can they deployed the agents then create the stackpack instances after?

The reason for the question is to understand if the agent will cache datapoints that may flood the process once their corresponding stackpack instance are created.  Additionally, the agents without stackpack instances are spamming the ingestion components resulting in many 500 internal errors.  Can this inundate the ingestion components?

---

**Jorn Knuttila** (2025-08-13 03:44):
`[subscribed]`

---

**Remco Beckers** (2025-08-13 08:26):
That behavior is not helm-specific but it is the deafult behavior for statefulsets in Kubernetes. So this should work the same when installing as a Rancher app

---

**Remco Beckers** (2025-08-13 08:26):
Unless Rancher has some automatic cleanup ability that I don't know about (I only know the basics for Rancher)

---

**Louis Lotter** (2025-08-13 10:09):
@Alessio Biancalana @Louis Parkin can one of you help out here ?

---

**Louis Parkin** (2025-08-13 10:12):
The agent won't cache data because of a missing stackpack.  The agent communication flows only one way - it doesn't know the stackpack isn't there.

@Bram Schuur might know if data that arrived will be stored and post-processed if the agent installation precedes the stackpack installation, my knowledge of the platform inner-workings doesn't run that deep.

---

**Louis Parkin** (2025-08-13 10:13):
There is no harm in installing the stackpacks first if they are worried about dropped data.

---

**Garrick Tam** (2025-08-13 17:33):
Thank you for everyone's input.

---

**Garrick Tam** (2025-08-13 20:50):
Once I figure out how to get the observability app to show up in my Rancher lab, I can test it but so far no idea why it is not showing in my Rancher Prime installation.

---

**Amol Kharche** (2025-08-14 06:54):
@Bram Schuur One of the customer Solidigm (https://suse.lightning.force.com/lightning/r/Account/0011i00001Q8nVRAAZ/view) would like know if other stacks will be supported later, like VMs, Linux hosts, Some others databases?
what is out product roadmap like? can we have this info?

---

**Remco Beckers** (2025-08-14 08:18):
You probably have to manually add the Helm repository for SUSE Observability to Rancher

---

**Bram Schuur** (2025-08-14 10:02):
@Mark Bakker can you answer the above question?

---

**Mark Bakker** (2025-08-14 10:27):
Hi Amal, at the moment we are working on a simplified integration of ANY OpenTelemetry based data processing (except logs) to support other Stacks like the once's you mention. This support is supposed to be released in the coming months.
As Bram mentioned above also the Logs are planned for the near future.

---

**Jain Joseph** (2025-08-14 11:04):
Hey Team , anyone aware of any solutions that provides power monitoring within kubernetes clusters and if so what’s the likelihood of viewing that via SUSE observability

---

**Remco Beckers** (2025-08-14 11:20):
The short answer is that we don't support that out-of-the-box. But there are tools that can provide the information as metrics which can be shipped to SUSE Observability and viewed there (although you'll have to set that up yourself).

Here is an earlier discussion where Kepler is mentioned as a tool to gather the data: https://suse.slack.com/archives/C079ANFDS2C/p1751360432889899

---

**Jain Joseph** (2025-08-14 11:25):
Amazing thank you @Remco Beckers

---

**Hugo de Vries** (2025-08-14 11:27):
Kepler uses Intel RAPL sensors so only works on x86–64 CPU nodes. https://sustainable-computing.io/kepler/usage/power-attribution/
For GPU power consumption we already use the power consumption metric exposed by the Nvidia GPU Operator.

---

**Garrick Tam** (2025-08-14 20:30):
Hi, noticed the recent changes to generate service token for agent install stackstate.apiKey parameter.  Is it recommended to generate a new service token for each agent instance or can customer use the same service token for all agent instance deployments?

---

**Shaun Gardiner** (2025-08-15 14:11):
good morning Observability folks.
We are seeing a somewhat troubling issue with the Rancher UI and the SUSE observability tool. @Garrick Tam has now fielded 2 cases where customers are seeing 400 and 500 errors with the Observability UI Extension. `" What's strange is that the Observability side also reports an HTTP 401 which makes me believe it is an authentication issue but how does this authentication between rancher (proxy) to Observability works?"`
Is this something yall have seen before?
cc: @Mark Bakker

---

**Mark Bakker** (2025-08-15 15:17):
cc @Remco Beckers @Anton Ovechkin

---

**Remco Beckers** (2025-08-15 15:22):
The authentication works via a SUSE Observability service token. You configure that in Rancher on the SUSE Observability extension configuration page.

---

**Garrick Tam** (2025-08-15 15:30):
How can we troubleshoot this?  https://suse.slack.com/archives/C07CF9770R3/p1755207661835019 (https://suse.slack.com/archives/C07CF9770R3/p1755207661835019)

---

**Remco Beckers** (2025-08-15 15:53):
I've replied in that thread

---

**Shaun Gardiner** (2025-08-15 15:57):
&lt;thats a private thread/conversation that everyone wont have access to&gt;

---

**Remco Beckers** (2025-08-15 15:58):
I'll copy it here as well. But part of it is specific to the customer question

---

**Remco Beckers** (2025-08-15 15:58):
In the logs I see only that a bootstrap token has accessed the API a few times.
Then also a failed attempt with a service token being used as Personal Token.

But then that's all. I would expect either a Successful or unsucessful authentication in the logs of the server pod for the service token and I don't even see that.

Can you try using the service token that you entered in the extension configuration from the cli to test that it works at all by creating a test context?

``` sts context save --url https://&lt;your-instance&gt; --service-token &lt;the-token&gt; --name test-token```

---

**Remco Beckers** (2025-08-15 15:59):
Some other potential causes that we can check if the token turns out to be working ok:
• The URL that is provided in the extension configuration includes `https` or `http` , it should not. Instead it should only be the hostname
• SUSE Observability is installed with a custom root certificate. The proxy in Rancher doesn't, by default, know about the custom Root certificate. So it will refuse to  connect to SUSE Observability (though I'm not sure what the status code would be). We have a bit of documentation on our doc site (https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/security/self-signed-certificates.html#_rancher_ui_extension_for_suse_observability) that refers to the Rancher docs to add the custom CA.

---

**Remco Beckers** (2025-08-15 16:05):
It  works fine to use the same service token for all agent instances.

Only in combination with the new RBAC support that is going to be released soon, it is required (or at least strongly recommended) to use a service token per cluster. These service tokens should then also be scoped to the cluster. But this will all be part of the documentation.

---

**Shaun Gardiner** (2025-08-15 20:16):
@James Nguyen is working the case along side Garrick and has created https://jira.suse.com/browse/SURE-10605

---

**Remco Beckers** (2025-08-18 08:25):
I've just read the ticket and noticed that, from the proxied request, it looks like they have configured `txobsvr.nrgenergy.com/receiver/stsAgent (http://txobsvr.nrgenergy.com/receiver/stsAgent)` as the URL for SUSE Observability in the extension. However the URL should be configued without a path (the included path is the path used by the agents to ship telemetry data. Based on this information, the provided URL should be `txobsvr.nrgenergy.com (http://txobsvr.nrgenergy.com)`  (simply the hostname that's also used when accessing SUSE Observability via the browser).

I'm not sure this will fix the 502 though. I would expect the wrong path would cause a 404.

---

**Amol Kharche** (2025-08-19 05:28):
@Mark Bakker Customer requesting our long-term roadmap, for long term what kind of stacks will be supported ? Do we have long-term-roadmap like this?
They asked this, because currently they not only have rancher, but also many other components. Just wonder if this is the one-stop solution. And this means something to customer ?

---

**Dustin Groh** (2025-08-19 15:49):
Hi, cross posting my question here too
https://suse.slack.com/archives/C02CN3TT61M/p1755611321672259

---

**Jacob Perkins** (2025-08-19 17:09):
When a Rancher Suite is sold, and an observability RegCode is created... which 'level' is this regcode for? enterprise edition vs app edition, infra edition, etc?

---

**Frank van Lankvelt** (2025-08-19 17:11):
don't know what a RegCode is.  SUSE Observability does need a license key.  If you have one, you'll get the Prime Edition.

---

**Jacob Perkins** (2025-08-19 17:11):
Registration code

---

**Jacob Perkins** (2025-08-19 17:12):
https://www.stackstate.com/pricing/
We're trying to figure out what 'level' the RegCode provides

---

**Frank van Lankvelt** (2025-08-19 17:16):
that seems to be an old page that only apply to SaaS.  Rancher Prime customers only get the Prime Edition - i.e. full control / Enterprise.

---

**Jacob Perkins** (2025-08-19 17:19):
Cool, thanks!

---

**Hugo de Vries** (2025-08-20 11:41):
Question from Nationale Nederlanden on 2.3.7 release. RBAC is changed, but no mention in our release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.3.7.html) what so ever:
"Is it correct that the permissions were recently changed? According to the docs, they’re still the old ones, but when I run sts rbac list-permissions, I get a completely different list.
No more access-* or manage-*, and not even view-specific permissions (everything is system).

The new permissions seem a lot more logical to me (create-_, delete-_, get-_, update-_), but they don’t appear to be explained in the docs."

---

**Frank van Lankvelt** (2025-08-20 11:52):
yeah, the RBAC code is already in there for quite a while now.  But we're still testing / validating that it works with Rancher 2.12.

---

**Hugo de Vries** (2025-08-20 11:52):
Do we have a draft of the docs available?

---

**Frank van Lankvelt** (2025-08-20 11:52):
https://github.com/rancher/stackstate-product-docs/tree/staging-2.12/docs/next/modules/en/pages/setup/security/rbac

---

**Frank van Lankvelt** (2025-08-20 11:53):
not sure if it's hosted anywhere as a site

---

**Frank van Lankvelt** (2025-08-20 11:53):
https://deploy-preview-41--suse-obs.netlify.app/suse-observability/next/en/setup/security/rbac/readme

---

**Hugo de Vries** (2025-08-20 11:55):
Thanks Frank, that helps

---

**Frank van Lankvelt** (2025-08-20 11:56):
not everything is "system" by the way, there's a bunch of "scoped permissions" that allow fine-grained control over which data can be accessed.  See e.g. https://deploy-preview-41--suse-obs.netlify.app/suse-observability/next/en/use/metrics/k8s-stackstate-grafana-datasource.html#_create_a[…]in_grafana (https://deploy-preview-41--suse-obs.netlify.app/suse-observability/next/en/use/metrics/k8s-stackstate-grafana-datasource.html#_create_a_new_suse_observability_datasource_in_grafana)

---

**Frank van Lankvelt** (2025-08-20 11:57):
with the Rancher UI extension, it's possible to provision roles in managed clusters based on Role Templates.  The RBAC agent then ships them to Observability.

---

**Jeroen van Erp** (2025-08-20 13:44):
There’s a question on the community slack pertaining to Observability: https://rancher-users.slack.com/archives/C07HH46ALBD/p1755600882515809

---

**Mark Bakker** (2025-08-20 14:11):
We do have a long term roadmap. Long term we aim to support all ECM products and broader SUSE products.
Outside of Cloud Native we support anything OpenTelemetry, but it's up to the community to make integrations for most of those.
Hope this answers your question @Amol Kharche

---

**Mark Bakker** (2025-08-20 14:12):
I am happy to provide a roadmap update to BASF, feel free to schedule a 30-45min call

---

**Jan Bruder** (2025-08-20 14:20):
Hi team, do we have any guidelines for customers regarding:
• How much network bandwidth is consumed for shipping the telemetry data from the agent to the observability server (per node or cluster)
• How much CPU/memory is consumed by the agents

---

**Amol Kharche** (2025-08-20 14:54):
Thanks a lot @Mark Bakker, This request is from Solidigm (https://suse.lightning.force.com/lightning/r/Account/0011i00001Q8nVRAAZ/view) customer. If they ask any further question I will schedule a call.

---

**Brian Six** (2025-08-20 19:37):
Any progress towards automatically supporting CRDs in K8s?   As in show them on the hamburger menu and in the topology map where relevant.

---

**James Radtke (1.651.442.6967)** (2025-08-20 19:47):
do we have an Issue/PR created for this?

---

**James Radtke (1.651.442.6967)** (2025-08-20 19:47):
(I would review it, if there was)

---

**Amol Kharche** (2025-08-21 05:45):
• How much CPU/memory is consumed by the agents
This thread will help here : https://suse.slack.com/archives/C079ANFDS2C/p1746768526187439?thread_ts=1746717353.002429&amp;cid=C079ANFDS2C

---

**Remco Beckers** (2025-08-21 08:16):
We don't have any progress nor a ticket. This is a feature that is on the roadmap but not for the short term (in 2026 iirc)

---

**Remco Beckers** (2025-08-21 08:17):
Unless priorities change of course

---

**Remco Beckers** (2025-08-21 08:25):
@Mark Bakker Do you have more up-to-date information on this?

---

**Mark Bakker** (2025-08-21 08:34):
@Brian Six can you be more precise in what you mean with supporting CRD's in K8S we have 2 epics on our roadmap related to this, I like to understand which one you are asking for and in which context.

---

**Remco Beckers** (2025-08-21 09:07):
The bandwidth depends a lot on the number of workloads  on the cluster and their size, the size of the logs they produce (this affects the log shipper data volume a lot) etc. Also, the size of the nodes affects the number of node-agents that get deployed etc. Having said all of that I did take a look at the throughput metrics of all our agents combined in some of our own prod and test clusters and they seem to all end up in a similar range. This is what I did:

1. Take the total throughput of sent data on all of our agents per cluster: cluster agent, node agent, checks agent and logs agent
2. Calculate the number of standard nodes (4 vCPU, 16 GiB of memory) in those clusters
3. Normalize the throughput to a standard node by dividing the total throughput per cluster by the number of standard nodes
This gives me a range of roughly 5KiB/s to 20 KiB/s per standard node in our own clusters. You can see it for yourself on our playground (https://play.stackstate.com/#/metrics?alias=%24%7Bcluster_name%7D&promql=sum%28rate%28pod_sent_bytes_count%7Blocal_pod_name%3D~%22suse-observability-.%2A%22%2C%20intra_pod%21%3D%27true%27%2C%20local_pod_ns%3D%27monitoring%27%7D%5B%24%7B__rate_interval%7D%5D%29%29%20by%20%28cluster_name%29%20%2F%20%28sum%28kubernetes_state_node_memory_capacity_total%29%20by%20%28cluster_name%29%20%2F%20%2816%20%2A%201000%20%2A%201000%20%2A%201000%29%29&unit=binBps) (this also shows the metric query I used). But you should treat this as an estimation, not a hard number to rely on.

For example, the demo setup (which is also what you see on the playground) is actually an outlier at the top-end. I suspect this is because it runs a lot of small pods. Given this, the 5 to 20 KiB/s range might be a bit on the low end because we tend to run some bigger workloads and you may also experience more than 20KiB/s.

---

**Remco Beckers** (2025-08-21 09:15):
It is pretty stable over time though, see for example this 7 day overview for 3 of our test/dev clusters (some of these scale significantly in size over time, but the per node bandwidth remains stable as long as the workloads themselves are similar enough):

---

**Jan Bruder** (2025-08-21 09:23):
@Amol Kharche Do we know how the allocated memory (via `spec.resources.requests.memory` ) of 1432 MiB per node  relates to the actual consumed memory on an idle worker node? Spending 1.5 GB of memory just for the agents constitutes no small overhead…

---

**Jan Bruder** (2025-08-21 09:25):
@Remco Beckers Your observations regarding the network bandwidth are exactly what the customer has been looking for. I will share it with them, thx!

---

**Remco Beckers** (2025-08-21 09:25):
The 1432 MiB is not per node. The sum in that table doesn't make much sense. Only the logs and node agent run per node. There normally is only 1 cluster and 1 checks agent (which are each 500MiB)

---

**Jan Bruder** (2025-08-21 09:26):
Only the node and logs agent are running on each node, correct?

---

**Remco Beckers** (2025-08-21 09:26):
Yeah. They are daemonsets, the cluster agent and checks agent are deployments

---

**Jan Bruder** (2025-08-21 09:42):
I just had a look at the observability logs agent metrics in our demo env. Looks like there might be a memory leak issue? Or is there another explanation for this pattern of steadily increasing memory consumption over the past 7 days (actually since pod start)?

---

**Jan Bruder** (2025-08-21 09:45):
Or maybe there is a in-memory cache of logs thats being filled here very slowly over time?

---

**Remco Beckers** (2025-08-21 13:49):
I really don't know. I do see similar behavior on our installations, but it never seems to become problematic

---

**Remco Beckers** (2025-08-21 13:50):
At least I don't see it hitting the limits. So it could be it is just Golang garbage collection that is taking it easy because there is still memory available

---

**Brian Six** (2025-08-21 21:56):
Let's say you install certmanagert and it has an associated CRD.  It would be great for Observ to see the CRD, create an entry on the hamburger menu, and show you all the objects of that CRD type.  You wouldn't automatically have monitors since these are made up objects, but once I go create a Monitor for that object type I would expect it to show up.  I'd also like to see on the topology map who is communicating with that resource and such.

---

**James Radtke (1.651.442.6967)** (2025-08-21 22:02):
Are you thinking (also) that CRDs would end up in this view (under configuration)?

---

**Brian Six** (2025-08-21 22:04):
Perhaps.  They are just another Kubernetes resource so some type of representation would be very supportive.

---

**Brian Six** (2025-08-21 22:05):
In Rancher we have all the forms and wizards for the known resources like creating a service or secret.  But we also have the Other at the bottom.

---

**Brian Six** (2025-08-21 22:07):
I bring up certmanager as a customer was asking about it and managing certificate expirations and being able to for example have a user created monitor that tracks the age of all certificates and based on the config of the monitor show you deviating or critical based on number of days out to expiration.

---

**Brian Six** (2025-08-21 22:08):
It's nice that Rancher has the Rotate Certificates button, but Observ could play a distinct role in tracking everything.

---

**James Radtke (1.651.442.6967)** (2025-08-21 22:30):
I am not proud of the following ... :wink: but...

---

**James Radtke (1.651.442.6967)** (2025-08-21 22:30):
I stumbled upon this view recently

---

**James Radtke (1.651.442.6967)** (2025-08-21 22:30):
Observability keeps showcasing how poor my homelab hygiene is :wink:

---

**Mark Bakker** (2025-08-22 12:56):
Thanks for the clarification, this is indeed part of our Epic to monitor and visualize CRD's in general and provide de ability to define views for specific types.

---

**Louis Lotter** (2025-08-24 17:47):
@Dustin Groh Hi. did you get an answer or solution to this question ?

---

**Dustin Groh** (2025-08-24 17:51):
@Louis Lotter 
This customer ended up just installing the Suse Observability agent on the Harvester K8s cluster. I thought they already had this installed, but once they did it they got what they wanted.

---

**Louis Lotter** (2025-08-24 18:01):
Awesome, great to hear.

---

**Daniel Barra** (2025-08-26 12:13):
*We are pleased to announce the release of 2.4.0, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.4.0.html).*

---

**Louis Lotter** (2025-08-26 13:40):
Our release process is so much better now. Kudos @Daniel Barra and everyone else involved. The release notes looks great.

---

**gaetan.trellu** (2025-08-26 15:57):
Hello o/ I upgraded SO from 2.3.7 to 2.4.0, everything works fine except the Rancher extension which now shows the clusters as `unobserved` even if they show properly in SO UI. Does the extension doesn't work with SO 2.4.0 anymore? I'm running Rancher Prime 2.11.4 with SO extension 2.1.4.

---

**Frank van Lankvelt** (2025-08-26 16:06):
it should work just like before.  There's no (certificate) errors in the rancher logs?

---

**gaetan.trellu** (2025-08-26 16:07):
SO certificate is valid, I will check the logs in Rancher.

---

**gaetan.trellu** (2025-08-26 16:12):
I don't see any error related to certificates in the Rancher logs.

---

**gaetan.trellu** (2025-08-26 16:13):
I tried to create a new service token as well and re-authenticate via the UI form, it succeed but still says `unobserved` on the clusters.

---

**gaetan.trellu** (2025-08-26 16:14):
Seeing this:
```rancher-9d4c8bf86-8nxq6 rancher-audit-log {"auditID":"f9eb97fc-bcaa-4d3a-9dcb-13147ec31927","requestURI":"/api/v1/namespaces/fleet-default/secrets?allowWatchBookmarks=true\u0026fieldSelector=metadata.name%3Dsuse-observability-aio-hhk6x-45gcr-machine-plan\u0026resourceVersion=40316586\u0026timeout=7m54s\u0026timeoutSeconds=474\u0026watch=true","user":{"name":"system:cattle:error","group":["system:unauthenticated","system:cattle:error"]},"method":"GET","remoteAddr":"10.42.8.178:40450","requestTimestamp":"2025-08-26T14:05:52Z","responseTimestamp":"2025-08-26T14:13:46Z","responseCode":200,"requestHeader":{"Accept":["application/json, */*"],"Accept-Encoding":["gzip"],"User-Agent":["rancher-system-agent/v0.0.0 (linux/amd64) kubernetes/$Format"],"X-Forwarded-For":["10.17.0.2"],"X-Forwarded-Host":["rancher.uoi.io (http://rancher.uoi.io)"],"X-Forwarded-Port":["443"],"X-Forwarded-Proto":["https"],"X-Forwarded-Scheme":["https"],"X-Forwarded-Server":["traefik-867bd5fd44-9b57w"],"X-Original-Forwarded-For":["10.17.2.175"],"X-Real-Ip":["10.17.0.2"],"X-Request-Id":["b8393814da05d7d5a846546f8f388dc6"],"X-Scheme":["https"]},"responseHeader":{"Audit-Id":["d2162778-1219-4ef6-9b56-958c76218ab3"],"Cache-Control":["no-cache, no-store, must-revalidate","no-cache, private"],"Content-Type":["application/json"],"Date":["Tue, 26 Aug 2025 14:05:52 GMT"],"X-Api-Cattle-Auth":["false"],"X-Content-Type-Options":["nosniff"],"X-Kubernetes-Pf-Flowschema-Uid":["ff517cce-4330-4b46-a77e-80d908335825"],"X-Kubernetes-Pf-Prioritylevel-Uid":["605c9954-c442-409d-a6f8-41d3ff0f40f1"]}}```

---

**gaetan.trellu** (2025-08-26 16:23):
Killing Rancher pod changes nothing (tested just in case :smile:)

---

**gaetan.trellu** (2025-08-26 16:25):
`curl` to the HTTPS endpoint from the Rancher host works fine and returns a `200`
```HTTP/2 200 
accept-ranges: bytes
content-type: text/html
date: Tue, 26 Aug 2025 14:24:39 GMT
etag: "68a5df1d-754"
last-modified: Wed, 20 Aug 2025 14:43:41 GMT
server: envoy
x-envoy-upstream-service-time: 0
x-frame-options: DENY
content-length: 1876```

---

**Frank van Lankvelt** (2025-08-26 16:26):
and the requests from the UI - any errors in the network tab (under F12)?

---

**gaetan.trellu** (2025-08-26 16:30):
Getting a `403` from the `snapshot`

---

**gaetan.trellu** (2025-08-26 16:30):
The `Response` is `Allowed `Origin` header values: https://observability.rancher.xx.xx`

---

**Frank van Lankvelt** (2025-08-26 16:58):
oh that's very much a bug.  We're working on moving from using the Rancher proxy to setting CORS headers and that seems to be messing with the response.

---

**Frank van Lankvelt** (2025-08-26 17:00):
you should be able to work around this by setting:
```stackstate:
  allowedOrigins:
    - https://your-rancher-url.xx.xx```
in the values when deploying SUSE Observability

---

**gaetan.trellu** (2025-08-26 17:12):
Which SO's pod is managing the HTTP requests, `server` , `router`?

---

**gaetan.trellu** (2025-08-26 17:15):
Fixed with the `CORS` your recommended. Thanks @Frank van Lankvelt

---

**Jan Bruder** (2025-08-26 17:22):
Hi team, what are the steps to update the license key in the SUSE Observability server?

---

**Jan Bruder** (2025-08-26 17:36):
Is it enough to do a  `helm upgrade (…)  --set license=&lt;NEWKEY&gt;` ?

---

**gaetan.trellu** (2025-08-26 21:19):
It should or via the UI once it expires (starting to pop-up 7 days before the expiration date)

---

**Wilco van der Stek** (2025-08-26 21:29):
Hi,

Maybe already asked, but the pinned license is about to expire in a week. Is there a new one available or should we already use scc to generate one?

---

**Caleb Warren** (2025-08-26 23:24):
Hello, I'm curious if there's any testing done on hosted clusters like GKE, AKS, and/or EKS with stackstate? And if not, is this something that would be interesting to test? I'm on the PIT crew and was asked to look into use cases around hosted infrastructure. Thanks!

---

**Louis Lotter** (2025-08-27 08:43):
@Wilco van der Stek Thanks for the heads up. I'll generate a new one.

---

**Louis Lotter** (2025-08-27 08:44):
@Louis Parkin @Daniel Barra @Rajukumar Macha :point_up:

---

**Louis Lotter** (2025-08-27 08:45):
<!here> New license for INTERNAL use only
```V2ZN0-FF8S0-M97SA```
Please do not share this outside Suse. This key will expire 1 June 2026

---

**Louis Parkin** (2025-08-27 08:45):
We test the agent on EKS, but our other clusters are kops clusters if I’m not mistaken.

---

**Wilco van der Stek** (2025-08-27 08:46):
@Louis Lotter, thanks

---

**Alejandro Acevedo Osorio** (2025-08-27 09:38):
I saw it pop in another upgrade. It's related to tge `baseUrl` (in your example `suse-observability.k8s-observability.vrz.verkehrszentrale.nrw`) that requires the protocol as well.

---

**Alejandro Acevedo Osorio** (2025-08-27 09:39):
From the docs `The baseUrl must be the URL via which SUSE Observability will be accessible to Rancher, users, and the SUSE Observability agent. The URL must include the scheme, for example https://observability.internal.mycompany.com. See also accessing SUSE Observability.` https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html although I'm not sure if just in `2.4.0` started to get validated

---

**Alejandro Acevedo Osorio** (2025-08-27 09:39):
The `baseUrl` is located on your generated `$VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml`

---

**Martin Weiss** (2025-08-27 09:56):
Interesting - Here have have this: `baseUrl: "suse-observability.k8s-observability.vrz.verkehrszentrale.nrw"` which has been working well since a long time.. so it seems there has been an additional check added in 2.4.0?

And it seems this is not clear enough in the helm template example: https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_[…]ml (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_generate_baseconfig_values_yaml_and_sizing_values_yaml)

---

**Martin Weiss** (2025-08-27 09:58):
However - added https:// - keep fingers crossed..

---

**Alejandro Acevedo Osorio** (2025-08-27 10:00):
I see the note only on this example https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_installation but not on the one you shared. We need to add it there as well ... Thanks for the feedback

---

**Masashi Homma** (2025-08-27 10:06):
Hello I am trying to install SUSE observability with document [1].
I installed helm chart and Rancher Extension.
Now Rancher Extension requires service token.
To get service token, the document says "Log into the SUSE Observability instance".
What is the meaning of "SUSE Observability instance" ? I login to EC2 instance which run Rancher but there is no `sts` command in it.
[1] https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html

---

**Frank van Lankvelt** (2025-08-27 10:14):
you need to login to SUSE Observability (server).  Which should be accessible at the `baseUrl` you provided when deploying.

---

**Masashi Homma** (2025-08-27 10:24):
@Frank van Lankvelt Thank you for comment. I installed SUSE Observability on Rancher local cluster. The Rancher cluster is single docker cluster. So I specified "https://ec2-18-181-189-252.ap-northeast-1.compute.amazonaws.com" to the `baseUrl`. So it shows Rancher UI. Should I install SUSE Observability into downstream cluster?

---

**Vladimir Iliakov** (2025-08-27 10:24):
I think we should validate baseUrl in both suse-observability-values and suse-observability Helm charts and fail the deployment if it doesnt have   a scheme://.

---

**Martin Weiss** (2025-08-27 10:40):
Do we really need the scheme? So far it has been working well without...

---

**Vladimir Iliakov** (2025-08-27 10:44):
To be honest, I am surprised to here it worked without scheme. We had this problem before and we always instructed the users to fix .baseUrl to add a scheme.

---

**Martin Weiss** (2025-08-27 10:46):
Hm - no worries - if you can "enhance" the helm template with the additional check and maybe add https://<fqdn> in the helm template example I guess it would make users life easier...

---

**Vladimir Iliakov** (2025-08-27 10:50):
I created ticket to improve that https://stackstate.atlassian.net/browse/STAC-23276.
Maybe it would even be possible to auto-correct baseUrl by adding prefix by Helm, we will see.

---

**Luis Carrascal** (2025-08-27 11:35):
Now that you share this license... I'm a trainer and will have to deliver an OBSV201 (https://www.suse.com/training/course/obsv201v1/) class in October. It will be my first time doing it. I guess we should not use this license for that, and get a more limited license just the class. Should I request a license for each class I have to deliver? If so, how should I proceed? Request it here? Jira? Any other procedure?

---

**Daniel Barra** (2025-08-27 13:56):
Hello @Caleb Warren, for amazon we have automated something, for azure and google, we start coding using downstream cluster using rancher as manager, but the code still ongoing

---

**Martin Weiss** (2025-08-27 14:36):
One more thing - the whole URL handling does not seem to be very consistent :wink: - in the Rancher Extension you get the following - so you must not specify https:// :

---

**Vladimir Iliakov** (2025-08-27 14:54):
:man-shrugging: and the name of the field is confusing as well. It should `fqdn` `host` , but not `URL`.

---

**Vladimir Iliakov** (2025-08-27 14:56):
I added it into the ticket as well.

---

**Martin Weiss** (2025-08-27 15:55):
Another problem with 2.4.0 - any idea what I might be doing wrong, here? (just created a new cluster..):

---

**Alejandro Acevedo Osorio** (2025-08-27 15:59):
I think we need  an upgrade of the K8s stackpack to solve that one. We deprecated those monitors that the error is pointing out as they are really heavy performance wise and we created an impreved version of them.

---

**Martin Weiss** (2025-08-27 16:02):
yeah - there was a "update" button but did not expect that I have to click that before adding a new cluster.. after clicking the update button in the UI this error went away..

---

**Martin Weiss** (2025-08-27 16:03):
Any idea why I have to click that "update" manually? can this be automated?

---

**Alejandro Acevedo Osorio** (2025-08-27 16:06):
The current behaviour is that the end user upgrades the stackpacks although for the ones shipped by Suse Obs there are conversations to make them auto upgradable. But not sure how far is that idea yet

---

**Martin Weiss** (2025-08-27 16:08):
Ok - room for further improvements

---

**Alejandro Acevedo Osorio** (2025-08-27 16:09):
Yup, already diagnosed as a pain point when there are changes in the platform that are tightly coupled with the stackpacks

---

**Caleb Warren** (2025-08-27 20:08):
do you guys have a link to what you have so far in a github repo or anything that I could see for reference?

---

**Daniel Barra** (2025-08-27 20:38):
the project is on gitlab: https://gitlab.com/stackvista/integrations/beest

---

**Daniel Barra** (2025-08-27 20:39):
maybe we can schedule a call to talk about it,

---

**Alejandro Acevedo Osorio** (2025-08-28 10:29):
I think your analysis nailed it. I see the first issues popping on the `slicing` poda little before
```./suse-observability-slicing-5849744ff6-hfvxc_logs.txt:8304:java.net.SocketTimeoutException: callTimeout=60000, callDuration=81569: org.apache.hadoop.hbase.NotServingRegionException: sg__default__vertices,\x00\x00?\xB3\x8F\xE5\x0F_,1754163531818.ec9521f64176830ca126def6b138ca5a. is not online on suse-observability-hbase-hbase-rs-2.suse-observability-hbase-hbase-rs.suse-observability.svc.cluster.local,16020,1756122321167```

---

**Alejandro Acevedo Osorio** (2025-08-28 10:30):
I think for the end user is quite hard to remediate this one, I mean restarting the `hbase-rs-2` would be sufficient but it's hard to notice it.

---

**Alejandro Acevedo Osorio** (2025-08-28 10:30):
I think the best solution would be that the region server would crash (and force a restart) is a region is not being served but I'm not sure how feasible that is

---

**Alejandro Acevedo Osorio** (2025-08-28 10:33):
I'm creating this ticket for further investigation https://stackstate.atlassian.net/browse/STAC-23279

---

**Daniel Murga** (2025-08-28 11:17):
Thanks a lot @Alejandro Acevedo Osorio ! As this is a big account/customer and I know there's been a lot of conversations with them... @Chris Riley <!subteam^S08HHSW67FE> <!subteam^S08HEN1JX50> do you want to communicate to customer or should I do it? Thanks!

---

**Chris Riley** (2025-08-28 11:34):
@Daniel Murga Please go ahead and communicate this to the customer. I'll follow the case and jump in if I feel it's required.

---

**Emine Uygun** (2025-08-28 12:03):
Thanks team!! I am the AE of Rabo - if you need my help, please let me know. @Hugo de Vries FYI

---

**Emine Uygun** (2025-08-28 12:04):
I will reach out to them as well

---

**Jivaji Ihare** (2025-08-29 10:21):
Hello, I have connected Observability url via Rancher prime extension, even after successful connection  prompt I can see the below UI, inside extension window I  just see  a redirection link, and after redirection it asked me for login. is it standard screen or only i am seeing this. and if its standard then what is the use of rancher extension for observability?

---

**Frank van Lankvelt** (2025-08-29 10:40):
the extension offers health state information on clusters and nodes, for instance.  In an upcoming release of SUSE Observability, with Rancher 2.12, it is possible to configure Rancher as the OIDC provider - then a separate login will no longer be necessary.

---

**Jivaji Ihare** (2025-08-29 11:30):
thanks for the information

---

**Alejandro Acevedo Osorio** (2025-08-29 12:07):
The `Automatically upgrade out-of-the-box Stackpacks` got a lot of traction an is actively worked on https://stackstate.atlassian.net/browse/STAC-23236

---

**Jaroslaw Biniek** (2025-08-29 12:22):
Hi team, I am thinking of doing a workshop around security and compliance - short enough that it doesn't compete with our training programmes, more of a handful of practical "tips from the experts" - just enough to offer value and attract potential leads. Initially I was focusing on SUSE Security and SMLM but now I'm wondering if I should maybe include a section about Observability as well? Do you guys have any "nuggets" of knowledge that might be suitable? Any little thing that comes to mind will be great :slightly_smiling_face:

---

**Louis Lotter** (2025-08-29 12:28):
@Mark Bakker what do you think about this one :sweat_smile:.

---

**Louis Lotter** (2025-08-29 12:28):
@Jaroslaw Biniek are you looking for technical stuff or more product feature type things

---

**Jaroslaw Biniek** (2025-08-29 13:12):
Definitely technical stuff :slightly_smiling_face: I cover the sales-y side in my webinars, so for this in-person workshop I hope to attract the more tech savvy people. And build rapport with them so as to turn them into our champions, ideally

---

**Louis Lotter** (2025-08-29 13:15):
cool I'll ask the team.

---

**Mark Bakker** (2025-08-29 13:28):
@Jaroslaw Biniek feel free to book 30 minutes to think this trough, happy to help out

---

**Jaroslaw Biniek** (2025-08-29 13:32):
That would be a huge help, thank you! I've just sent an invite

---

**Frank van Lankvelt** (2025-08-29 13:49):
The recent release, 2.4.0, now has support for CORS headers.  For those running the Rancher UI Extension for SUSE Observability, this means that the Rancher origin must be supplied to make requests possible.

If you use the `suse-observability-values` chart to generate appropriate value files for the main `suse-observability` chart, this is supported with the `1.2.2` release.  A new option `--set rancherUrl='&lt;rancher-prime-base-url&gt;'` will help you out.  Otherwise, you can add the Rancher URL to the values files manually, under `stackstate.allowedOrigins`:
```stackstate:
  allowedOrigins:
   - https://your-rancher-url```
While we're not aware of any other web apps making cross-origin calls - if you do have one then add its URL in the same way.

---

**Martin Weiss** (2025-08-29 14:36):
Thanks!! So this what we need to do to solve this problem? (after update 2.3.5 to 2.4.0)

---

**Frank van Lankvelt** (2025-08-29 14:49):
that's very likely.  You could check the browser devtools (F12) to see if there are any requests completed with a `403` error and and an allow-origin header with the SUSE Observability URL (i.e. not the Rancher URL)

---

**Martin Weiss** (2025-08-29 14:53):
Would be great if that message in the extension would have a hint to that :wink: ... however - after setting the allowedOrigins I see this, now (even though the agent is installed) - rancher extension is 2.1.4.. and rancher is 2.11.4..

---

**Frank van Lankvelt** (2025-08-29 15:00):
has the cluster been configured for the Kubernetes Stackpack in SUSE Observability?

---

**Martin Weiss** (2025-08-29 15:06):
yes - and all was fine before the upgrade from 2.3.5 to (http://2.3.to) 2.4.0

---

**Frank van Lankvelt** (2025-08-29 15:21):
could you share more details - response that's received in Rancher UI, logs from the SUSE Observability API pod?

---

**Martin Weiss** (2025-08-29 15:23):
need to check next week..

---

**Bram Schuur** (2025-09-01 08:09):
This was discussed and i recall monitors on logs not being part of the generalized logging epic (am i correct here @Mark Bakker?). @Mark Bakker should we file monitors on logs as a separate feature request?

---

**Thiago Bertoldi** (2025-09-01 19:34):
Hey guys, just revisiting this subject. I saw that we now have the agent for arm, is the server still a wip?

---

**Louis Lotter** (2025-09-02 08:42):
@Thiago Bertoldi yeah it's on the backlog. not quite sure when it will make it to the top but we do feel it's important.

---

**Erico Mendonca** (2025-09-02 13:59):
Hi all, got a weird problem creating the ingress for Observability with Let's Encrypt. I'm using the yaml as always, but this time I'm getting: "admission webhook "validate.nginx.ingress.kubernetes.io (http://validate.nginx.ingress.kubernetes.io)" denied the request: ingress contains invalid paths: path /.well-known/acme-challenge/MeoX-BaQBY6-OtwUZgQ9gSO2z5msW63yJUCIi6tTu70 cannot be used with pathType Exact"

However, my Ingress is using Prefix (/)... I've re-checked it quite a few times now. Any ideas?

---

**Jeroen van Erp** (2025-09-02 14:01):
Which ingress-nginx and cert-manager version are you using?

---

**Jeroen van Erp** (2025-09-02 14:02):
https://cert-manager.io/docs/releases/release-notes/release-notes-1.18#acme-http01-challenge-paths-now-use-pathtype-exact-in-ingress-routes

---

**Erico Mendonca** (2025-09-02 14:07):
I'm using cert-manager:1.18.2 from Application Collection and the default nginx ingress.

Here's the YAML:
```apiVersion: networking.k8s.io/v1 (http://networking.k8s.io/v1)
kind: Ingress
metadata:
 annotations:
   cert-manager.io/issuer (http://cert-manager.io/issuer): letsencrypt-prod
   nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): 50m
 name: observability-ui
 namespace: suse-observability
spec:
 ingressClassName: nginx
 rules:
   - host: observability-zadara.conteudoquestionavel.org (http://observability-zadara.conteudoquestionavel.org)
     http:
       paths:
         - backend:
             service:
               name: suse-observability-router
               port:
                 number: 8080
           path: /
           pathType: Prefix
 tls:
   - hosts:
       - observability-zadara.conteudoquestionavel.org (http://observability-zadara.conteudoquestionavel.org)
     secretName: observability-tls-secret```

---

**Jeroen van Erp** (2025-09-02 14:08):
See the link I posted, 1.18 cert-manager is by default incompatible with ingress-nginx versions

---

**Erico Mendonca** (2025-09-02 14:08):
and my Issuer:
```apiVersion: cert-manager.io/v1 (http://cert-manager.io/v1)
kind: Issuer
metadata:
 name: letsencrypt-prod
spec:
 acme:
   # The ACME server URL
   server: https://acme-v02.api.letsencrypt.org/directory
   # Email address used for ACME registration
   email: <mailto:erico.mendonca@suse.com|erico.mendonca@suse.com>
   # Name of a secret used to store the ACME account private key
   privateKeySecretRef:
     name: letsencrypt-prod
   # Enable the HTTP-01 challenge provider
   solvers:
     - http01:
         ingress:
           ingressClassName: nginx```

---

**Jeroen van Erp** (2025-09-02 14:08):
There’s a few workarounds in the release notes

---

**Erico Mendonca** (2025-09-02 14:08):
oh, thanks!

---

**Erico Mendonca** (2025-09-02 14:09):
Sorry, still asleep it seems :sleepingparrot:

---

**Jeroen van Erp** (2025-09-02 14:09):
Doesn’t matter, I could’ve made the link comment clearer :wink:

---

**Benoît Loriot** (2025-09-02 15:36):
Hi @Anton Ovechkin, another customer is looking to generate pdf reports.
Do you have any update on STAC-22993? I don't have access to this ticket management system.

---

**Marc Rua Herrera** (2025-09-02 16:02):
A customer is willing to enable audit logs in Rancher. After that, they want to extract these logs collected from Suse Observability and store them in S3 for 12 months. As far as I know, the logs are standard output and are not stored in Suse Observability. Is there any plan to change this in the long term, for example by storing them in Elasticsearch?

---

**Josh Meranda** (2025-09-02 16:11):
Rancher audit logs are a bit more than just "stdout". The current implementation's default behavior is to collect logs to a file, and display those logs in a sidecar container. You can use any log collection service to collect the logs displayed in that sidecar container

---

**Anton Ovechkin** (2025-09-02 16:18):
Hi @Benoît Loriot
We are still full capacity on dashboarding, so no progress on the pdf generation

---

**Frank van Lankvelt** (2025-09-02 16:25):
I don't think SUSE Observability should get in the way here.  Just let another agent do the collecting and consolidation on S3.  Elasticsearch is a bad choice for the auditing scenario, IMHO, as it consumes a lot of resources for something which is only sporadically (ideally: never) used.

---

**Marc Rua Herrera** (2025-09-02 16:27):
Thanks for your answers!

---

**Benoît Loriot** (2025-09-02 16:37):
Thanks, custom dashboard is also a strong requirement.
Any ETA on this?

---

**Bram Schuur** (2025-09-02 17:03):
Agreed @Frank van Lankvelt, although i think for our generalized logging epic we aim to at least help the user with the forwarding of logs (amirite @Mark Bakker?)

---

**Shaun Gardiner** (2025-09-02 21:59):
Good afternoon team,
I am not sure if this is for yall or <#C02AYV7UJSD|> but I figured I would start here:
Nationwide Mutual Insurance Company (https://suse.lightning.force.com/lightning/r/Account/0011i00000vMSSVAA4/view) has active entitlements through September 30, 2025 However they are trying to install Observability and it is telling them their license is expired. Any whats happening here?

cc: @Joel Endel and @byron.viets

---

**Garrick Tam** (2025-09-02 22:01):
I opened SD case for NMIC already for 01595069 (https://suse.lightning.force.com/lightning/r/500Tr00000hrNnOIAU/view).

---

**Garrick Tam** (2025-09-02 22:02):
There's this discussion on previous similar case here --&gt; https://suse.slack.com/archives/C07CF9770R3/p1756792370269369

---

**Garrick Tam** (2025-09-02 22:03):
Here's my post in <#C02AYV7UJSD|> forr National Mutual Insurance Company --&gt; https://suse.slack.com/archives/C02AYV7UJSD/p1756832591232909

---

**Christian Scherm** (2025-09-02 22:32):
Hello folks, in todays Rancher Rodeo I was asked about a comparison SUSE Observability vs. IBM Instana - do we have something in that regard?

---

**Amol Kharche** (2025-09-03 06:00):
@Bram Schuur @Remco Beckers we still see services showing 20s HTTP latency and in "Critical" health. Can you help here.

---

**Louis Lotter** (2025-09-03 08:28):
@Mark Bakker @Jeroen van Erp?

---

**Anton Ovechkin** (2025-09-03 08:51):
I’ve heard the MVP version is within 2 months period from now, so stay tuned :wink:
@Louis Lotter we have the demo recordings, don’t we?

---

**Jeroen van Erp** (2025-09-03 09:16):
Mark would be your best guess

---

**Louis Lotter** (2025-09-03 09:22):
https://drive.google.com/file/d/1gmL1e9xe_yvvtXVoTAyM4_1uZ388AGit/view?usp=sharing

---

**Benoît Loriot** (2025-09-03 09:54):
Good stuff :heart_eyes:

---

**Bram Schuur** (2025-09-03 13:32):
@Andrea Terzolo could you take a look at this one? We did the websocket improvements earlier, seems that did not fix the issue in this customer case.

---

**Andrea Terzolo** (2025-09-03 13:59):
sure! let me think how can we debug this in an effective way :thinking_face:

---

**Andrea Terzolo** (2025-09-03 14:47):
@Amol Kharche do we have access to this cluster? i probably need to capture some traffic here to understand what is going on...

---

**Amol Kharche** (2025-09-03 14:47):
Sure, Let me know which logs needed

---

**Andrea Terzolo** (2025-09-03 14:51):
if you can identify one of the pods that is suffering of this high latency, you should check the node where it is deployed and you should get the logs of the suse-observability-node-agent running on that node. Please note that the node-agent has 2 containers inside. We need the logs from the container named `process-agent` . So you should use a command like this
```kubectl logs -n monitoring suse-observabilty-dev-agent-node-agent-... -c process-agent```

---

**Andrea Terzolo** (2025-09-03 14:53):
if this is one of our dev cluster you can also share the access with me and i can get all the necessary information. In this case probably logs won't be enough, we should probably capture some network traffic directly on the node.

---

**Amol Kharche** (2025-09-03 14:53):
This is our rancher hosted cluster https://rancher-hosted.app.stackstate.io/#/components/urn:kubernetes:%2Fcentene-west:suse-observability:pod%2Fsuse-observability-agent-node-agent-rfr9q

---

**Amol Kharche** (2025-09-03 14:54):
I think you should have access to it , If not let me know

---

**Andrea Terzolo** (2025-09-03 14:56):
sorry it's the first time that i try to get access to this cluster so i'm not sure which credentials i should use from bitwarden :smiling_face_with_tear: Do you have any clue?

---

**Amol Kharche** (2025-09-03 14:57):
I think @Vladimir Iliakov can give you an access to it.

---

**Andrea Terzolo** (2025-09-03 14:58):
oh great, let's see if he can help me :crossed_fingers:

---

**Andrea Terzolo** (2025-09-03 14:59):
as expected logs don't help here :disappointed:

---

**Amol Kharche** (2025-09-03 15:00):
I have access to cluster, I will share my screen and we can grab logs whichever you want.

---

**Andrea Terzolo** (2025-09-03 15:05):
unfortunately we need to inject something else on the node to extract some network data so i need to craft something first :confused: if then i still don't have access we can do for sure do it together

---

**Andrea Terzolo** (2025-09-03 15:21):
Just to double check it before crafting something, do you have access also to the observed cluster? or better, can you deploy a custom pod on the affected node?

---

**Amol Kharche** (2025-09-03 15:37):
I have access to observed cluster and can also deploy custom pod on affected cluster node.

---

**Andrea Terzolo** (2025-09-03 15:57):
BTW I see that it is 7:27 PM your time so i don't want to bother you!

---

**Mark Bakker** (2025-09-04 13:43):
Based on the following two document which I maintain:
• SUSE Observability: Features overview page (https://docs.google.com/document/d/1x58uzZ52EE7FeXvpp5Hv4Y_pcb_5gEbs6vWFv1Ey_GY/edit?tab=t.0#heading=h.t85e7gonogfj)
• SUSE Observability: Use-Case Solutions (https://docs.google.com/document/d/13gDt8xDbjXAy40WHwwRTRhAE6nXpEzAMSanGkq4OXLk/edit?tab=t.0#heading=h.t85e7gonogfj)
I generated a comparison and validated our part of the equation.
See:
• SUSE Observability vs Instana (https://docs.google.com/document/d/1PFQLK8sKlGLpKlaiUTWmi39ylNEhJww3_iWq53kPM84/edit?tab=t.0#heading=h.nbwuwivc7g9d)
Hope this helps @Christian Scherm

---

**Christian Scherm** (2025-09-04 14:05):
Can you provide me access, please?

---

**Christian Scherm** (2025-09-04 14:44):
Looks nice! Thanks for your help, I will send it out and waiting for feedback

---

**Maxime Vielle** (2025-09-05 11:25):
Hello, do we have a comparison with other observability tools such as Datadog, Dynatrace, NewRelic, CloudWatch? Would be great to get battlecards

---

**Ben Craft** (2025-09-05 13:12):
Not sure how easy an ask this is - but please could I have access to chart containing the rbac release? appreciate its not formally out yet but wondering if theres a pre-release i could use or something

---

**Louis Lotter** (2025-09-05 13:13):
It's very close now

---

**Louis Lotter** (2025-09-05 13:13):
can you wait a few more days ?

---

**Ben Craft** (2025-09-05 13:13):
ah yeah thats fine

---

**Ben Craft** (2025-09-05 13:13):
no worries then

---

**Louis Lotter** (2025-09-05 13:14):
@Mark Bakker @Andreas Prins

---

**Erico Mendonca** (2025-09-05 23:05):
Question: I'm doing a PoC, and even though Observability is working and receiving events from 2 clusters using the Observability Agent... why does the UI Extension still says that it's unobserved in Rancher?

---

**Frank van Lankvelt** (2025-09-05 23:14):
What versions are you running of the extension and SUSE Observability?  We had a recent issue with cors headers - there is a fix in the documentation.  The rancher url needs to be provided to SUSE Observability.

---

**Erico Mendonca** (2025-09-05 23:15):
The extension is 2.2.2, Observability is 2.4.0

---

**Erico Mendonca** (2025-09-05 23:28):
you mean, provide the Rancher URL instead of the Observability URL in the extension config?

---

**Wilco van der Stek** (2025-09-06 07:38):
He references to this, I think: https://suse.slack.com/archives/C079ANFDS2C/p1756468185277829 (https://suse.slack.com/archives/C079ANFDS2C/p1756468185277829)

---

**Frank van Lankvelt** (2025-09-06 10:04):
Indeed - that ought to do it

---

**Wilco van der Stek** (2025-09-06 21:36):
Hi,

I have installed the Rancher UI plugin 2.2.2 on Rancher 2.11.4, see att 1, but when I click on Observability Icon, I do het a schema error, see att 2. Any idea what I am missing?

---

**Erico Mendonca** (2025-09-06 22:27):
I hit F12 and saw the CORS error you mention... I added the rancherUrl parameter to the values and did a helm upgrade, indeed the CORS error seems to be gone, but the welcome panel for the cluster still shows "unobserved". The "SUSE Observability" tab in deployments works fine though,

---

**Wilco van der Stek** (2025-09-07 08:09):
Also tested with 2.12.1, same error, complete fresh install

---

**Wilco van der Stek** (2025-09-07 09:51):
Plugin 2.1.4. does install, so it looks like something is missing for 2.2.2

---

**Wilco van der Stek** (2025-09-07 18:26):
When I install 2.1.4, as stated above, it is working. When upgrading from 2.1.4 to 2.2.2, it keeps working.

When installing 2.2.2 directly, it is failing.

In my cluster, when installing 2.2.2 directly, it is missing the CRD configurations.observability.rancher.io (http://configurations.observability.rancher.io)

---

**Frank van Lankvelt** (2025-09-08 09:05):
thanks for the error report and the workaround.  I'm looking into it

---

**Wilco van der Stek** (2025-09-08 09:43):
@Frank van Lankvelt, thanks, please keep me posted. When I export the crd from 2.1.4 and import it for 2.2.2, the error is gone and working fine

---

**Frank van Lankvelt** (2025-09-08 14:00):
hi @Wilco van der Stek - we just released a new version of the plugin (`2.2.3`) that fixes the issue.
Again thanks for reporting - we're doing a big release today (RBAC going live) so having the extension working will prevent a lot of questions.

---

**Frank van Lankvelt** (2025-09-08 14:06):
that's weird.  There are no failing requests in the developer tools?

---

**Wilco van der Stek** (2025-09-08 14:26):
Thanks, look like 2.2.3 solves it, however..... The gui shows an upgrade from 2.2.3 to 2.2.2

---

**Martin Weiss** (2025-09-08 14:43):
I have exactly the same problem - but did not find the time to debug..

---

**Frank van Lankvelt** (2025-09-08 16:21):
that's weird behavior on the Rancher part AFAICS - wouldn't know how the extension could trigger this behavior.

---

**Louis Lotter** (2025-09-09 11:45):
:tada: *Shipped: SUSE Observability SSO with Rancher + Integrated RBAC (v2.5.0)*

After months of hard work, we’ve released *SUSE Observability v2.5.0* with our new *Rancher-integrated RBAC* — the #1 request from Rancher Prime customers. This brings true, least-privilege, Rancher-aligned access to *metrics, logs, traces, topology, views, events, and APIs* — all with a single sign-on flow via Rancher.

*What’s new (highlights)*

• *Seamless SSO via Rancher OIDC* → one login across Rancher and SUSE Observability.
• *Role translation &amp; sync* → we translate *Kubernetes Roles/RoleBindings* into SUSE Observability subjects with the right *permissions* and *scopes*; you can also provision via Rancher *Role Templates*.
• *Fine-grained, Kubernetes-aware scoping* → grant access per *cluster*, *project/namespace*, or specific *views*; the UI automatically hides features/data you don’t have rights to.
• *Predefined roles + CLI management* → list/apply permissions and scoped permissions via the CLI.
*Who benefits*

• *Platform/SRE* teams running multiple clusters/projects (multi-tenant isolation).
• *Security/compliance* who need clear access boundaries and auditability.
• *App teams* who should only see data for their own namespaces.
Docs:  https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.5.0.html

*Kudos*
• Huge shout-out to the *SUSE Observability team, Engineers,* *QA and Docs*. This was a truly cross-functional push — thank you all! :green_heart:
• Another massive shout-out to the Rancher team that worked on OIDC and collaborated with us as one of the first users of it. :dancing_dog:

---

**Gabriel Ferraz Stein** (2025-09-09 14:53):
Hi team, a question regarding SUSE Observability - as NeuVector was 'open-sourced' in the past, would something similar happen with Observability/Stackstate?

---

**Mark Bakker** (2025-09-09 15:01):
Yes, plans are in the make.

---

**Bram Schuur** (2025-09-10 09:14):
thanks for reporting. i will file a ticket for this

---

**Alessio Biancalana** (2025-09-10 09:30):
@Wilco van der Stek thanks for reaching out! Could we have the complete error log?

---

**Wilco van der Stek** (2025-09-10 09:33):
Sorry, already reinstalled the complete server. I use Ansible for deploying it, this is what it gave:

```TASK [helm : Install suse-observability-agent helm chart] ************************************************************************
fatal: [192.168.250.61]: FAILED! =&gt; {"changed": false, "command": "/usr/local/bin/helm --version=1.0.65 upgrade -i --reset-values --wait --timeout 15m0s --create-namespace -f=/tmp/tmpmflhtopd.yml suse-observability-agent 'suse-observability/suse-observability-agent'", "msg": "Failure when executing Helm command. Exited 1.\nstdout: Release \"suse-observability-agent\" does not exist. Installing it now.\n\nstderr: Error: Unable to continue with install: ClusterRole \"suse-observability-rbac-agent\" in namespace \"\" exists and cannot be imported into the current release: invalid ownership metadata; annotation validation error: key \"meta.helm.sh/release-name\ (http://meta.helm.sh/release-name\)" must equal \"suse-observability-agent\": current value is \"insight\"\n", "stderr": "Error: Unable to continue with install: ClusterRole \"suse-observability-rbac-agent\" in namespace \"\" exists and cannot be imported into the current release: invalid ownership metadata; annotation validation error: key \"meta.helm.sh/release-name\ (http://meta.helm.sh/release-name\)" must equal \"suse-observability-agent\": current value is \"insight\"\n", "stderr_lines": ["Error: Unable to continue with install: ClusterRole \"suse-observability-rbac-agent\" in namespace \"\" exists and cannot be imported into the current release: invalid ownership metadata; annotation validation error: key \"meta.helm.sh/release-name\ (http://meta.helm.sh/release-name\)" must equal \"suse-observability-agent\": current value is \"insight\""], "stdout": "Release \"suse-observability-agent\" does not exist. Installing it now.\n", "stdout_lines": ["Release \"suse-observability-agent\" does not exist. Installing it now."]}```

---

**Chris Riley** (2025-09-10 12:36):
@Mark Bakker - We've had the following query come in from a customer, could you advise please?

_We have a subscription for 61 rancher prime node and two management cluster :_
_Rancher Prime 51-100 Nodes, per Node, with 2 Rancher Prime Management Servers, Priority Subscription, 3 Year 1 sept. 2024 31 août 2027 31 août 2027 RP-51-100-PS3 61 0 Clusters / 0 Nodes / 0 CPUs_

_I see also this line :_
_SUSE Observability 31 jan. 2025 31 août 2027 31 août 2027 --- 1 0 Physical / 0 Virtual_

_Could you clarify what this line means? Do I have a SUSE Observability license regardless of the number of nodes? Regardless of the number of management clusters?_
_Am I allowed to deploy two clusters dedicated to SUSE Observability?_

---

**Mark Bakker** (2025-09-10 13:01):
The Rancher Prime Subscription gives access to Observe the same amount as Rancher Nodes as the Rancher subscription.

---

**Chris Riley** (2025-09-10 13:05):
Thanks Mark, that's what I thought. Could you help with this part too pls:

_Am I allowed to deploy two clusters dedicated to SUSE Observability?_

---

**Mark Bakker** (2025-09-10 13:16):
The managent clusters are not counted. But take into account that you can only have Observability server per Rancher UI extension at the moment.

---

**Alejandro Bonilla** (2025-09-10 14:39):
How can I see the logs here? One detail, I am changing from one tenant to another. I disabled the Extension and re-enabled but I can't get past it. The URL is from a SUSE Cloud Observability instance (i guess) and the token was created with
`% sts service-token create --name suse-observability-extension-vaquero --roles stackstate-k8s-troubleshooter`

---

**Amol Kharche** (2025-09-10 14:41):
Logs can be seen at `rancher-xxx` pod. Also can you try removing https from url?

---

**Frank van Lankvelt** (2025-09-10 14:48):
the schema should now indeed be part of the URL - the UI directly sends requests to SUSE Observability

---

**Amol Kharche** (2025-09-10 14:57):
Looks like newly introduced. Earlier it was just to put URL without schema.

---

**Alejandro Bonilla** (2025-09-10 15:09):
The rancher pod log shows nothing

---

**Alejandro Bonilla** (2025-09-10 15:09):
nothing related

---

**Amol Kharche** (2025-09-10 15:11):
@Frank van Lankvelt When I troubleshoot earlier , I could see some indication in rancher pod, but now its not showing, Do you have any clue where we can check ?

---

**Frank van Lankvelt** (2025-09-10 15:19):
you could start with the developer tools - see what the error is coming out of SUSE Observability.

---

**Frank van Lankvelt** (2025-09-10 15:20):
if that doesn't help, check the logs from the API pod of SUSE Observability

---

**Jan Bruder** (2025-09-10 15:51):
Hi team, is it possible to define the retention period for storing logs, events, metrics etc. ? Can this setting be configured per cluster (e.g. prod cluster has longer retention period) ?

---

**Alejandro Acevedo Osorio** (2025-09-10 15:53):
Our retention settings are global for the whole Suse Observability instance https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/data-management/data_retention.html

---

**Jan Bruder** (2025-09-10 15:55):
Thanks that answers my question perfectly

---

**Alejandro Bonilla** (2025-09-10 16:18):
```Access to XMLHttpRequest at 'https://sa-experimental.app.stackstate.io/api/server/info' from origin 'https://vaquero.5glinux.com' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.Understand this error
actions.js:145  GET https://sa-experimental.app.stackstate.io/api/server/info net::ERR_FAILED
(anonymous) @ xhr.js:195
xhr @ xhr.js:15
nn @ dispatchRequest.js:51
Promise.then
_request @ Axios.js:163
request @ Axios.js:40
(anonymous) @ bind.js:5
m @ actions.js:145
request @ actions.js:95
await in request
(anonymous) @ vuex.esm-bundler.js:322
ne.dispatch @ vuex.esm-bundler.js:1055
dispatch @ vuex.esm-bundler.js:937
D @ suseObservability.ts:148
save @ ConfigurationView.vue:58
h @ runtime-core.esm-bundler.js:199
d @ runtime-core.esm-bundler.js:206
nr @ runtime-core.esm-bundler.js:6386
clicked @ AsyncButton.vue:248
onClick.e.&lt;computed&gt;.e.&lt;computed&gt; @ AsyncButton.vue:284
h @ runtime-core.esm-bundler.js:199
d @ runtime-core.esm-bundler.js:206
n @ runtime-dom.esm-bundler.js:729Understand this error```

---

**Alejandro Bonilla** (2025-09-10 16:22):
@Frank van Lankvelt it claims we need to have
`Access-Control-Allow-Origin: https://vaquero.5glinux.com` on the server-side.

---

**Alejandro Bonilla** (2025-09-10 16:24):
```Access to XMLHttpRequest at 'https://sa-experimental.app.stackstate.io/api/server/info' from origin 'https://vaquero.5glinux.com' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.```

---

**Alejandro Bonilla** (2025-09-10 16:27):
the browser also complains about
`https://sa-experimental.app.stackstate.io/api/server/info`
but I can reach it directly.

---

**Alejandro Bonilla** (2025-09-10 16:27):
from the rancher pod
```bash-4.4# curl https://sa-experimental.app.stackstate.io/api/server/info
curl: (60) SSL certificate problem: unable to get local issuer certificate
More details here: https://curl.se/docs/sslcerts.html

curl failed to verify the legitimacy of the server and therefore could not
establish a secure connection to it. To learn more about this situation and
how to fix it, please visit the web page mentioned above.```

---

**Alejandro Bonilla** (2025-09-10 16:28):
but It's ok with `-k` - should we have a way to connect here without validating the cert?

---

**Alejandro Bonilla** (2025-09-10 16:29):
this might be new, it used to work on a previous rancher version

---

**Frank van Lankvelt** (2025-09-10 18:42):
The vaquero.5glinux.com (http://vaquero.5glinux.com) is your rancher url, I imagine?  It needs to be added as an allowedOrigin to the SUSE Observability values.  If you use the `suse-observability-values` chart, specify `rancherUrl`

---

**Will Stephenson** (2025-09-10 19:25):
I've seen https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_rancher.html, but does Observability do anything else in its charts/questions.yml to automate Rancher RBAC setup?

---

**Alejandro Bonilla** (2025-09-10 19:29):
hhmm its the SaaS version @Frank van Lankvelt

---

**Josh Stringfellow** (2025-09-10 23:09):
Hello, If a customer registers SUSE Observabiltiy using the existing License key, and then their subscriptions change to the new SKUsl on October 1st, do they need to re-register/install their system with the new key?

---

**Will Stephenson** (2025-09-10 23:34):
Hi Josh, does "their subscriptions change to the new SKUs" mean the end date changes? They had a grandfathered subscription expiring Sept 30, I guess?

---

**Will Stephenson** (2025-09-10 23:35):
If the end date changes, they need to use the new key.

---

**Josh Stringfellow** (2025-09-10 23:39):
That is correct. They were on legacy node skus/pricing. They have a suse observability entitlement in scc with qty. 1. Their renewal went through with a start date of October 1 and they have an entitlement with the new start and end dates that is different

---

**Gaurav Mehta** (2025-09-11 04:07):
Is the observability agent chart available in rancher apps?

---

**Frank van Lankvelt** (2025-09-11 08:02):
Then it will indeed need to be added by us.  Can you confirm that the vaquero domain serves rancher?

---

**Frank van Lankvelt** (2025-09-11 08:04):
When deploying the SUSE Observability agent, you'll need to enable the RBAC agent.  The service token created with the configuration of the Kubernetes stackpack then allows the agent to send RBAC data.

---

**Frank van Lankvelt** (2025-09-11 08:06):
It's probably easiest to follow the instructions on the Kubernetes stackpack configuration for your cluster.  It details what helm repo to add and how to deploy the agent.

---

**Frank van Lankvelt** (2025-09-11 08:07):
Redeploying with the new license key should indeed allow the installation to continue to function.

---

**Gaurav Mehta** (2025-09-11 11:47):
i was able to follow the instructions

---

**Gaurav Mehta** (2025-09-11 11:48):
i was wondering if there were plans to make it available as a rancher app

---

**Alejandro Bonilla** (2025-09-11 13:07):
Yes - vaquero.5glinux.com (http://vaquero.5glinux.com) is my testing lab but it had been working before. But on another tenant.

---

**Frank van Lankvelt** (2025-09-11 13:57):
Not that I know of.  Am also not sure how easy that would be as SUSE Observability is quite a complex application of which the requirements can vary quite a bit, depending on your environment and requirements

---

**Frank van Lankvelt** (2025-09-11 14:01):
The latest extension uses direct calls to SUSE Observability and for that we need to set up CORS.  This should eliminate many of the certificate issues others have been running into.  But it does come with the requirement to configure SUSE Observability such that it allows rancher as an origin

---

**Alejandro Bonilla** (2025-09-11 14:04):
Ah - ok. Perhaps that should be something we can configure in the tenant vs opening a ticket for the backend.

---

**Alejandro Bonilla** (2025-09-11 14:05):
Who can add my system to it? Is everyone doing that?

---

**Will Stephenson** (2025-09-11 14:13):
is this all post-Observability-install stuff, to allow Observability to monitor the state of RBAC? Terms like 'agent' and 'stackpack' seem to be from the domain of 'getting Obs doing something useful once setup'.

At the moment I'm just trying to install my own self-hosted Obs using rancher rbac.

---

**Graham Hares** (2025-09-11 16:45):
Anyone have success accessing suse observability via a web proxy?  I've been using squid (now on opensuse leap 15.6) for years to access a remote lab but suse obs ui needs a web socket that breaks with squid.

---

**Louis Lotter** (2025-09-11 16:47):
we do want a "1 click install" from within Rancher. Not sure how we will achieve that yet though.

---

**Will Stephenson** (2025-09-11 16:57):
Hi all, a little help, please. I'm setting up a test Observability instance in my lab to figure out how to do OIDC in SUSE Private Registry as you are already doing *flattery*, but am stuck at 'LoadingStackStateErrorScreen' with the mascot tied up in string. I can see a 500 in the -server logs that seems to be to do with certificate path checking, but I've tried to set up Observability without TLS, and the ingress i've set up also has no TLS. Helm values template is as follows:
```helm template --set license='FOOBAR' --set baseUrl=http://observability.emsig.local --set rancherUrl=https://192.168.121.21.sslip.io --set sizing.profile='trial' suse-observability-values  suse-observability/suse-observability-values --output-dir $VALUES_DIR```

---

**Will Stephenson** (2025-09-11 17:00):
ingress_values.yaml:
```ingress:
  enabled: true
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size (http://nginx.ingress.kubernetes.io/proxy-body-size): "50m"
  hosts:
    - host: observability.emsig.local```

---

**Will Stephenson** (2025-09-11 17:03):
I also see
```2025-09-11 14:52:16,301 ERROR akka.actor.ActorSystemImpl - Error during processing of request: 'Cannot invoke "org.pac4j.core.redirect.RedirectionActionBuilder.getRedirectionAction(org.pac4j.core.context.WebContext, org.pac4j.core.context.session.SessionStore)" because "redirectionActionBuilder" is null'. Completing with 500 Internal Server Error response. To change default exception handling behavior, provide a custom ExceptionHandler.
java```
in the -server backtrace

---

**Will Stephenson** (2025-09-11 17:07):
Rancher (thus also its OIDC endpoint) *is* using TLS (self-signed) so could these errors on the Observability server pod be  to do with that?
oidc_values.yaml:
```oidc_values.yaml 
stackstate:
  authentication:
    rancher:
      clientId: "client-fvkstcr86p"
      secret: "xyzzy""
      baseUrl: "https://192.168.121.21.sslip.io"```

---

**Vladimir Iliakov** (2025-09-11 17:11):
That error doesn't maky any sense to me. Can you make a screenshot of `LoadingStackStateErrorScreen`

---

**Vladimir Iliakov** (2025-09-11 17:12):
Ok, and can you provide the full log of the server pod?

---

**Will Stephenson** (2025-09-11 17:16):
hang on, I got a bit further, I remembered I needed to disable TLS verification with self signed certs on the OIDC endpoint, as suggested:
```stackstate:
  components:
    server:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_misc_sslCertificateChecking: false```
• added that to oidc_values.yaml

---

**Will Stephenson** (2025-09-11 17:22):
That fixed it, there was a mismatched redirectURIs value in rancher's OIDCClient resource

---

**Vladimir Iliakov** (2025-09-11 17:22):
Ok, good to hear.

---

**Vladimir Iliakov** (2025-09-11 17:23):
```stackstate:
  components:
    server:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_misc_sslCertificateChecking: false```
Is it documented on the SUSE Observability documentation portal?

---

**Will Stephenson** (2025-09-11 17:24):
Yes, bottom of https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/oidc.html#_rancher_2

---

**Will Stephenson** (2025-09-11 17:24):
The failure mode is a bit scary though.

---

**Will Stephenson** (2025-09-11 17:25):
you see that error page if observability is checking TLS validity on the OIDC endpoint.

---

**Will Stephenson** (2025-09-11 17:25):
What's the mascot's name btw? I feel I should know.

---

**Vladimir Iliakov** (2025-09-11 17:25):
Stacky )))

---

**Will Stephenson** (2025-09-11 17:26):
Makes sense :slightly_smiling_face:

---

**Will Stephenson** (2025-09-11 17:26):
Once I had disabled TLS checking, I just got a 'redirect_uri' not registered error from Rancher, but that was easy enough to fix

---

**Will Stephenson** (2025-09-11 17:27):
I'm cutting a few corners by running everything inside one k3s cluster and no TLS certs, but it's good enough for me to  see how OIDC is set up.

---

**Will Stephenson** (2025-09-11 17:42):
looks like agent helm chart and observability's chart both want to own this clusterrole?

---

**Will Stephenson** (2025-09-11 17:43):
same goes for ClusterRoleBinding

---

**Vladimir Iliakov** (2025-09-11 17:55):
Yeah, it was already reported here  https://suse.slack.com/archives/C079ANFDS2C/p1757488316175719.

---

**Will Stephenson** (2025-09-11 17:57):
I have reproduced, in case you need more logs. I just hacked the helm.sh annotation on the clusterrole and clusterrolebinding for now.

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-09-11 20:26):
IHAC asking. Since 2.12.1 is released what is the status of Rancher RBAC integration for Observability. Is there a Jira I can monitor for this?

---

**Niel Bornstein** (2025-09-11 21:20):
SEO problem - if I google "suse observability" the first link I get to is to SUSE Cloud Observability. This has caused an issue with a customer misunderstanding that Observability is a hosted or cloud-based service, and that they need to worry about storage and network limits

---

**Frank van Lankvelt** (2025-09-11 21:21):
See https://suse.slack.com/archives/C079ANFDS2C/p1757411107106079 (https://suse.slack.com/archives/C079ANFDS2C/p1757411107106079) - the integration has been released in 2.5.0

---

**Joel Endel** (2025-09-11 21:24):
Is it fully integrated with Rancher as well starting in 2.12.1? My understanding was we were waiting on 2.12.1 before clients could use it.

---

**Frank van Lankvelt** (2025-09-11 21:26):
You'll indeed need to install Observability first.  With the release of 2.5.0, it supports RBAC ootb.  After that, you will need to install the Observability agent to monitored clusters with the RBAC agent enabled (also the new default).

---

**Ala Eddin Eltai** (2025-09-11 21:27):
AFAIK there are a few configurations necessary both from rancher side (enable feature flag, configure oidc) and then follow the suse obs doc.

---

**Frank van Lankvelt** (2025-09-11 21:33):
At the moment it is indeed static configuration, so opening a ticket is the preferred way.

---

**Frank van Lankvelt** (2025-09-11 21:35):
That is true, Rancher does need to run as the oidc provider for SUSE Observability.

---

**Joel Endel** (2025-09-11 21:44):
Thank you all!

---

**Alejandro Bonilla** (2025-09-11 22:38):
Where!? Jira SD?

---

**Will Stephenson** (2025-09-11 22:42):
Hi Frank - got it all working thanks. I was able to use what I learned getting Observability RBAC working with RM as OIDC provider to get SUSE Private Registry also working as OIDC RP today.

---

**Will Stephenson** (2025-09-11 22:44):
Getting an actual agent working on Obs was a bonus - another feature we want to have in SPR is easy monitoring of SPR with Observability, so it's helpful for me to gain some experience with Obs.

---

**Alessio Biancalana** (2025-09-11 22:44):
Thank you so much @Will Stephenson , you hacked the one for the suse observability server I guess, we’ll for sure see if a possible fix can follow along those lines

---

**Will Stephenson** (2025-09-11 22:46):
Hi, correct, I just changed the helm.sh annotation on the resources created by observability so they looked like they are owned by the agent chart

---

**Will Stephenson** (2025-09-11 22:46):
Need any more info from me?

---

**Alessio Biancalana** (2025-09-11 22:46):
I think this is more than enough, thank you!

---

**Will Stephenson** (2025-09-11 22:47):
You're welcome :slightly_smiling_face:

---

**Will Stephenson** (2025-09-11 22:48):
fyi this was what pointed me in the right direction to fix it: https://stackoverflow.com/questions/62964532/helm-not-creating-the-resources

---

**Alessio Biancalana** (2025-09-11 22:58):
Yeah I was more interested in the specifics of your hack than just the general symptom :green_heart:  thank you again!

---

**Gaurav Mehta** (2025-09-12 07:24):
i was trying to follow the document https://www.suse.com/c/monitoring-suse-virtualization-environment/ and its slightly confusing.. may be it was just me using observability for the first time and also its missing some important bits of info

---

**Gaurav Mehta** (2025-09-12 07:24):
like how to actually install the open-telemetry-collector.. and how to configure the exporter..  to eventually get the metrics into the target suse observability environment

---

**Akash Raj** (2025-09-12 07:27):
@Gaurav Mehta Hi. Thanks for the feedback.

Apart from the aforementioned missing parts, is there anything else you find important but missing in the docs?

@Bram Schuur  This qualifies as a doc update jira, doesn't it?

---

**Gaurav Mehta** (2025-09-12 07:28):
it would be really nice if i had some predefined charts available that i could import for now into observability

---

**Gaurav Mehta** (2025-09-12 07:28):
i have the metrics but i am now trying to figure out how to create visualisations for this data

---

**Gaurav Mehta** (2025-09-12 07:28):
for context.. i am looking to package the observability agent and open-telemetry-collector as  harvester addon

---

**Gaurav Mehta** (2025-09-12 07:29):
so users can just point at their observability endpoint and collect all the metrics

---

**Akash Raj** (2025-09-12 07:29):
Hi @Niel Bornstein

Considering this is a SEO issue, let me see what I can do from a documentation perspective.

Thanks.

---

**Gaurav Mehta** (2025-09-12 07:30):
would be nice to have the pre-requisites also include info on ensure opentelemetry stack pack is configured and you have configured ingress for your otel collectors, various options clearly like grpc/http and accordingly changes to exporter configuration

---

**Gaurav Mehta** (2025-09-12 07:31):
just results in a better UX if you are trying to set it this up

---

**Mark Bakker** (2025-09-12 08:55):
There is no official support to monitor Virtualization yet. The deep integrations with out of the box support are on the roadmaps of the teams.

---

**Amol Kharche** (2025-09-12 09:08):
I thought we already have app when we add repo`https://charts.rancher.com/server-charts/prime/suse-observability` to rancher Repositories.

---

**Amol Kharche** (2025-09-12 09:08):
Is this what you are looking @Gaurav Mehta? or may be I misunderstood here.

---

**Frank van Lankvelt** (2025-09-12 09:27):
in the Stackstate JIRA.  I've created https://stackstate.atlassian.net/browse/STAC-23366

---

**Gaurav Mehta** (2025-09-12 09:35):
yes that was what i was looking for

---

**Frank van Lankvelt** (2025-09-12 09:35):
I see that the sa and sa-experimental have also been setup with a keycloak for authentication.  Should those also be set to use this rancher as the OIDC?  (this will require some setting up of the OIDC client and such)

---

**Frank van Lankvelt** (2025-09-12 09:40):
@Erico Mendonca: is this issue still occurring for you?

---

**Gaurav Mehta** (2025-09-12 10:03):
do you have any timelines?

---

**Mark Bakker** (2025-09-12 10:20):
Not yet, best to ask in <#C02CN3TT61M|>

---

**Gaurav Mehta** (2025-09-12 10:27):
I am from that team

---

**Gaurav Mehta** (2025-09-12 10:28):
I followed the docs and got the metrics into observability

---

**Gaurav Mehta** (2025-09-12 10:28):
But there is no predefined dashboard or nice way to make the integration seamless

---

**Mark Bakker** (2025-09-12 10:28):
Hi @Gaurav Mehta best to meet to go over this. Do you have time now?

---

**Gaurav Mehta** (2025-09-12 10:28):
Which is why I ended up here trying to figure out if there was a plan to address that

---

**Marc Rua Herrera** (2025-09-12 11:29):
Good morning Louis, is there any documentation on how to configure this?

• *Seamless SSO via Rancher OIDC* → one login across Rancher and SUSE Observability.

---

**Louis Lotter** (2025-09-12 12:25):
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_rancher.html

---

**Louis Lotter** (2025-09-12 12:26):
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/oidc.html#_rancher

---

**Alejandro Bonilla** (2025-09-12 13:08):
Only experimental. And they might have multiple ranchers

---

**Frank van Lankvelt** (2025-09-12 13:12):
Okay.  We can only use one of them for authentication, that instance can then also be used to configure RBAC.  The other instances can report health status, if they're also listed as allowed origin.

---

**Bram Schuur** (2025-09-12 13:38):
Fyi this is the ticket that was filed, that can be used to track progress, it is top of our next up work list: https://stackstate.atlassian.net/browse/STAC-23349 (https://stackstate.atlassian.net/browse/STAC-23349)

---

**Erico Mendonca** (2025-09-12 13:38):
Yes, it's still occurring. I noticed there's a new version of the Observability Agent, I installed it, but no changes.

---

**Frank van Lankvelt** (2025-09-12 13:45):
can you share some details of the failing requests?

---

**Erico Mendonca** (2025-09-12 13:48):
That's the thing. After I added the rancherUrl parameter, I see no failing requests in Chrome. But I can get you access to the Rancher instance if you want to take a look.

---

**Frank van Lankvelt** (2025-09-12 14:01):
for those watching - the issue turned out to be that no deviating or critical  components were present for the cluster and that lead to the extension reporting it as unobserved.
We're tracking it under https://stackstate.atlassian.net/browse/STAC-23369

---

**Bram Schuur** (2025-09-15 08:54):
The SUSE ai extension is maintained by the/an AI team. @Louis Lotter do you know who we can tag here/redirect for support?

---

**Bram Schuur** (2025-09-15 08:58):
@Mark Bakker @Gaurav Mehta did you set up a meeting? Might be good to have me and @Remco Beckers ther aswell, given that we are actively working on improving the platform capabilities for integrations (which seems to be the topic here). cc @Louis Lotter

---

**Bram Schuur** (2025-09-15 08:59):
@Akash Raj no docs update needed yet i think

---

**Mark Bakker** (2025-09-15 09:01):
@Bram Schuur yes for today

---

**Gaurav Mehta** (2025-09-15 09:02):
i can add you as well

---

**Bram Schuur** (2025-09-15 09:08):
Gotcha, thanks for the invite. It clashes with my standup so I will skip, will you make it @Remco Beckers?

---

**Gaurav Mehta** (2025-09-15 09:08):
i can move it around i am flexible

---

**Gaurav Mehta** (2025-09-15 09:08):
i originally had something else lined up but that got cancelled so i am free earlier too

---

**Ravan Naidoo** (2025-09-15 09:11):
You can try @Thiago Bertoldi from the AI team.

---

**Bram Schuur** (2025-09-15 09:21):
I think it will depend on @Mark Bakker’s agenda, I would like to join, but no big deal if it can;t be moved.

---

**Louis Lotter** (2025-09-15 09:59):
@Thiago Bertoldi and the AI team maintains this extension. I would start with them as @Bram Schuur mentioned https://suse.slack.com/archives/C079ANFDS2C/p1757919249670509

---

**Amol Kharche** (2025-09-16 09:15):
@Alessio Biancalana @Bram Schuur I got similar question from customer. They are facing issue with installing agent on same observability instance.
What is the possible way to resolve issue ? Rollback agent to v1.0.61 or install agent in different namespace like `monitoring` ?

---

**Alessio Biancalana** (2025-09-16 09:16):
Installing the agent in a different namespace is definitely an option, otherwise they can wait for the fix, we already delivered that to `main`  and we'll release that as soon as possible

---

**Amol Kharche** (2025-09-16 09:20):
When we can expect release?

---

**Bram Schuur** (2025-09-16 11:03):
I don't have an exact date but i expect days rather than weeks, the ticket is in progress

---

**Ben Craft** (2025-09-16 14:07):
i created a bootstrap service token as below (content from secret)

```        serviceToken:
          bootstrap:
            ttl: 24h
            roles:
              - 'Administrator'```
but the sts cli seems to only want to use an api token, i have tried both using the context save commands and environment variables

```sts health list
❌ Could not connect to https://bcraft-test8-observability.staging.susecloud.cloud/api: invalid api-token                                                                             
For more information: https://l.stackstate.com/cli-invalid-api-token```

Im wondering if ive put the right role name on the token for an administrator?

For info - im also configuring rancher auth at install time - could this be interfering?

Finally - i was on the previous release using ranchers oidc provider but configuring it manually, where i defined these roles - is that still required in the new release?

```    # map the groups from OIDC provider
    # to the 4 standard roles in SUSE Observability (guest, powerUser, k8sTroubleshooter and admin)
    roles:
      guest: ["rancheruser"]
      powerUser: ["rancheruser"]
      admin: ["rancheradmin"]
      k8sTroubleshooter: ["rancheradmin"]```

---

**Ben Craft** (2025-09-16 15:17):
Additionally - what role should the service token provided to the rancher ui extension have?

---

**Frank van Lankvelt** (2025-09-16 15:20):
that should be the `stackstate-k8s-troubleshooter`, see https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_obtain_a_service_token

---

**Ben Craft** (2025-09-16 15:23):
Ah - cool thanks

---

**Ben Craft** (2025-09-16 15:23):
its not a per user configuration is it?

I.e the admin just needs to do this bit once

---

**Frank van Lankvelt** (2025-09-16 15:24):
that's correct.  There is a bug that only users that have access to the rancher local cluster can use the extension, but there is just one  configuration for everyone

---

**Ben Craft** (2025-09-16 15:25):
ok cool thats fine

---

**Ben Craft** (2025-09-16 15:25):
coming accross a cors issue :think_spin:

using latest rancher / ui version. is there a backend setting needed

---

**Frank van Lankvelt** (2025-09-16 15:27):
indeed,  the Observability instance needs to know the Rancher origin.  I you use the suse-observability-values to render the values files, you can use the `rancherUrl` variable.
Otherwise you'll need to set the `allowedOrigins` in the values file for suse-observability

---

**Ben Craft** (2025-09-16 15:28):
ahh - okay cool

---

**Ben Craft** (2025-09-16 15:28):
got round it for the moment creating the crd as a manifest anyway lol

---

**Ben Craft** (2025-09-16 15:33):
In the future will it be possible to not need the service token if rancher auth is in place?

---

**Will Stephenson** (2025-09-16 16:48):
Hiya. Is native registration to SCC on the Observability roadmap? I've just been hearing from colleagues about the Rancher on- and offline registration (https://confluence.suse.com/spaces/scc/pages/1888452694/The+offline+registration+workflow+and+its+implementation) to SCC using an SCC Operator (https://github.com/rancher/scc-operator/) and since SUSE Private Registry (my thing) is also going to have to register, I wonder whether it might be worth collaborating on generalizing the registration infra.

---

**Dan Pock** (2025-09-16 16:56):
Currently the SCC Operator (maintained by my team) only supports registering Rancher to the SCC. In the future there is potential for it to work with other ECM based products, but it is not something technically supported today.

Personally I would prefer if we could let my team mature this to more of a V1 deserving tool before expanding the scope of products supported. :simple_smile:  However once we reach that stability (and fix all these dang bugs) then it should be much easier to solve how to re-use it across products.

---

**Will Stephenson** (2025-09-16 16:57):
Oh hi Dan, good to know you're behind it.

---

**Will Stephenson** (2025-09-16 16:57):
No rush, I'm just incepting a bit here.

---

**Dan Pock** (2025-09-16 17:01):
Cool beans, I do see a lot of overlap too. And could totally see a model where the SCC Operator is made more generic and “plugged into” each product we desire to use it with.

That will require we solve some issues we’ve intentionally ignored for now - like how to best manage situations where multiple products on the same cluster have an SCC-Operator. But those should be easier to sort out later when when closer to v1.

---

**Will Stephenson** (2025-09-16 17:04):
+1, that's the kind of model I was thinking of too. I wrote the original (ruby) SUSEConnect that was on all the BCL products since SLE 12, and it seems to me that having a generic analogue for every ECM product would make it easier to add new products.

---

**Will Stephenson** (2025-09-16 17:05):
I'm getting bitten by the SCC end of Observability registration (as Frank knows) and was starting to wonder if it mightn't be easier to teach myself Scala and graunch SCC Operator into Observability.

---

**Lars Marowsky-Bree** (2025-09-16 18:15):
The Observability team has this in the 18+ months planning (to replace the existing/legacy registration key mechanism), but I don't know what their timeline is.

---

**Lars Marowsky-Bree** (2025-09-16 18:16):
Whether that would be inheriting the SCC Operator from RMS or being more closely tied to RMS's subscription in the first place (since it's part of Prime) is, I think, up for debate

---

**Will Stephenson** (2025-09-16 19:57):
Good point, if it's never an independent product, it would make sense for it to inherit its authorization from RMS

---

**Haoming Du** (2025-09-17 04:02):
Hi Team, IHAC who wants to deploy SUSE observability in ha mode (min profile 150-ha) but the env is still pretty small and they want to save on vm resources. We are thinking to reduce the cpu and memory request through helm chart customisation, and increase it gradually as the env grows, is this supported?

---

**Frank van Lankvelt** (2025-09-17 09:05):
of course they can do this, but I think you can guess what our first suggestion would be in the case of any trouble.  So I think the proper response is "no".

---

**Martin Weiss** (2025-09-17 09:18):
Are there any plans to provide a HA setup template for less than 150 nodes?

---

**Lars Marowsky-Bree** (2025-09-17 09:40):
Or at least default to it; that's something under consideration for the SLE Micro instances when deployed via RMS. We'll see if/when we can get there.

---

**Will Stephenson** (2025-09-17 10:00):
interesting problem - if you have multiple software products that each have their own authorization mechanism but that are sold as one sku, do you deliver one authorization token and change the software products to delegate authorization to some master, or do you change the business process to deliver native authorization tokens for each software product?

---

**Frank van Lankvelt** (2025-09-17 10:03):
not that I know of, AFAIK the 150 nodes profile is pretty much the minimal to get a HA setup running stable.  So I doubt it can be tuned down much TBH.
It might make more sense to think about supporting upgrades from non-ha to ha.  But I don't know how much work would be involved in this.

---

**Lars Marowsky-Bree** (2025-09-17 10:06):
@Will Stephenson Since we eventually want all the registration information in SCC, we're going with normalizing them towards that. (e.g., for SLE Micro, it can already use the same regcode as RMS, we "just" need to automatically provide it as part of the deployment/management). Really, SUSE Observability is the odd one out due to the history.
(AppCo is also already tied to SCC.)

---

**Will Stephenson** (2025-09-17 10:11):
Music to my ears. SUSE Private Registry currently has no authorization check, but the images are gated behind regcodes.

---

**Martin Weiss** (2025-09-17 10:40):
From my point of view the cost for such a setup is just too high - had to setup a system with 3 master+12 worker just to get this running for monitoring an environment of 30 nodes.. because HA is mandatory and because we can not "upgrade non-HA to HA" - or is that solved in the meantime?

---

**Bram Schuur** (2025-09-17 11:19):
FYI: a fix for https://stackstate.atlassian.net/browse/STAC-23349 has been published as part of agent 1.0.71, might take some time to get through the rancher helm cache to become available.

---

**Ben Craft** (2025-09-17 11:52):
Do you have an example of creating a bootstrap service token by any chance? in the secret declared at `fromExternalSecret: oidc-credentials` but its not being created

---

**Amol Kharche** (2025-09-17 12:26):
@Andrea Terzolo Let me know if you need any further logs.

---

**Andrea Terzolo** (2025-09-17 12:28):
i'm looking at it right now, still no clue on what is going on, i will let you know if i need further info, thanks!

---

**Will Stephenson** (2025-09-17 12:34):
Is the stackstate atlassian instance not visible to all suse employees?

---

**Bram Schuur** (2025-09-17 13:37):
@Martin Weiss out of curiosity, how many cores do those 30 nodes have? I am asking because the 150-ha supports 150 4core/16GB nodes, if the nodes get bigger, we start counting nodes double/triple etc depending on their size (see https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_requirements)

We are not able to pugrade non-ha to ha at this moment, it is not very high on the backlog.

Cost of setup (footprint) is a topic for us, but i'm not sure how high that is in terms of prioritization, do you have any info on that @Mark Bakker @Louis Lotter?

---

**Martin Weiss** (2025-09-17 14:01):
These 30 nodes do not have much / any workload at the moment - we are in very early stages of building up the cloud-native / on-premise kubernetes platform.. so most of them have 4 CPU / 8 or 16 GB RAM.. but this will change in the next months when we add workload

---

**Andrea Terzolo** (2025-09-17 16:42):
I think i've spotted something... In these 2 pcap files it seems that the server (`172.16.4.29`) puts in place long polling. Our ebpf code currently doesn't handle this use case, or better, it would compute the latency as `timestamp of the last response received - timestamp of the request` . In case of long polling this difference can be in order of seconds as you can see from the pcap files. @Bram Schuur have you ever seen something similar? is it a known issue?

---

**Bram Schuur** (2025-09-18 13:08):
It is possible to get an invite through @Louis Lotter to the stackstate atlassian

---

**Will Stephenson** (2025-09-18 13:10):
thanks, I don't think I need access badly enough right now to consume a seat, just curious.

---

**Alejandro Acevedo Osorio** (2025-09-18 16:04):
So I guess the first thing to take care is fixing the `api-key` the agents are using

---

**aki.liu** (2025-09-18 18:03):
Hello Team,

May I ask do we support host-level logs like journalctl , systemd logs and disk mount point utilization using SUSE Observability with RKE2 cluster with OpenTelemetry Collector now? since we have now released OpenTelemetry Collector in App Co?

Thank you.

---

**Daniel Murga** (2025-09-18 18:06):
Thanks @Alejandro Acevedo Osorio! It's weird... not sure where this api-key `ZUf2Nwjbi16WL5RTXXfPbNoAoqwL97ZQ` is coming from... can you help me on that?

---

**Alejandro Acevedo Osorio** (2025-09-18 18:09):
Well basically comes from some agents. An agent is configured with that `api-key` ...
`agent` -&gt; `receiver` -&gt; `server`
the `agent` sends a request to the `receiver` with such a key, the `receiver` asks the `server` is the key is valid to ingest data and then gets the 401. Not sure how many agents they have deployed but should be on one of them. And we need to replace it with the new one they put on the `secret`

---

**Daniel Murga** (2025-09-18 18:11):
Do you think this is preventing them to access UI?

---

**Alejandro Acevedo Osorio** (2025-09-18 18:15):
Well I think the error you see might be a side effect of not having data at all. that's why I'd propose to fix first the data ingestion (as I didn't see any real issue with the `server` pod on the logs you shared)

---

**Marc Rua Herrera** (2025-09-18 19:49):
Hi Team, I am willing to send metrics over HTTP to Suse Observability. I know before it was supported (https://archivedocs.stackstate.com/5.1/configure/telemetry/send_metrics#send-metrics-to-stackstate). However, I cannot find anything os Suse Observability documentation about sending metrics, although I see the payload still is prepared for that. Can I still send them using the old payload? Thanks

```{
  "collection_timestamp": 1548855554, // the epoch timestamp for the collection
  "events": {}, // used to send events data
  "internalHostname": "localdocker.test", // the host sending this data
  "metrics": [], // used to send metrics data
  "service_checks": [],
  "topologies": [], // used to send topology data
  "health": // used for sending health data
}```

---

**Niel Bornstein** (2025-09-19 00:25):
Is there any plan to implement a StackPack for any non-k8s infrastructure, for example HANA on SLES?

---

**Remco Beckers** (2025-09-19 08:13):
We don't support OTel logs yet. Only OTel metrics and traces. So sadly this doesn't work yet. We do have improvements for log support on the roadmap (including OTel log support and host-level logs). Our roadmap priorities are being updated, so I'm not sure when this will actually happen. @Mark Bakker do you have more info on this already?

Addition of the OpenTelemetry collector to the App Co is a completely unrelated event, the SUSE Observability team was not involved with that at all.

---

**Mark Bakker** (2025-09-19 08:15):
Hi @aki.liu I hope to have more clarity after next week on our roadmap/ planning. But be aware this is not something which will be ready in the upcoming months. However it is something which we see as key feature we need to deliver so it will come.

---

**Remco Beckers** (2025-09-19 08:15):
We'd prefer if you would use the OTel metrics protocol instead, either directly or via an OTel collector.

Why are you willing to send metrics directly like this? It seems "not ideal".

---

**Mark Bakker** (2025-09-19 08:23):
Hi Neil, we are currently working on an huge improvement to make it much easier for customers and ourself to make those StackPacks, especially when using OpenTelemetry.
We expect this to  be ready this year. In BCL there are plans to do a POC with this.

---

**Marc Rua Herrera** (2025-09-19 09:00):
I build a script that looks for noise in StackState. It queries Stackstate and look for long critical or warning states + look for flipping components. Then this data is send to StS back again to create a view

---

**Marc Rua Herrera** (2025-09-19 09:01):
What I want to do is get these metrics (time a component has not change its critical state, number of times it has flipped in the last 24h) and bind them

---

**Andrea Terzolo** (2025-09-19 11:12):
@Amol Kharche
After analyzing the traffic, we believe the high latency you’re seeing is caused by the long polling strategy used by the rancher server. Here’s what we observed:
• A fleet agent sends a request to the ingress controller `GET /api/v1/namespaces/fleet-default/secrets?allowWatchBookmarks=true&amp;fieldSelector=metadata.name%3Dcustom-f03dc46732c0-machine-plan&amp;resourceVersion=352839538&amp;timeout=7m38s&amp;timeoutSeconds=458&amp;watch=true HTTP/1.1`
• The ingress controller forwards this request to the Rancher pods. Based on the Wireshark capture, we can see that the Rancher server responds using a long polling strategy:
    ◦ The HTTP response header (200 OK) is sent almost immediately (~0.03s).
    ◦ The response body, however, arrives much later (around 60 seconds after).
• Since HTTP latency is calculated as “last byte of response received – first byte of request sent”, this results in a latency of ~60s. In the UI, this value is truncated and displayed as 20s.
Next steps:
We recommend confirming with the owner of these services whether this long polling strategy is expected. If so, the service should be annotated to disable monitors on it. You can find instructions on how to annotate a service here (https://github.com/rancher/stackstate-product-docs/pull/86, this documentation will be merged soon)

---

**Matthieu Fatrez** (2025-09-19 11:13):
Hi, can NewRelic be integrated with SUSE Observability or the other way around

---

**Will Stephenson** (2025-09-19 11:36):
Hi all, I've a question on adding Observability monitoring of SUSE Private Registry instances. where does one start when it comes to adding application specific metric support to Observability? Generic tracing via OTel, or would something richer like suse-ai-observability-extension on Observability be needed. I'm thinking of tracing application specific things like # and bandwidth of image pulls from the private registry, pulls from upstream registries, denied pulls due to images breaking security policy - as well as the health of the private registry itself.

---

**Daniel Murga** (2025-09-19 12:21):
@Alejandro Acevedo Osorio that's what I told to customer:

_"During our analysis, we've identified the root cause of the rejected API requests you've been experiencing. It appears an *external StackState agent* is using an incorrect API key, leading to all its requests being rejected with "401 Unauthorized" errors._
_We've confirmed that the correct API key is properly configured within your Kubernetes environment. However, logs show that an external agent, specifically one running on the IP address *84.240.132.44*, is sending requests with an invalid key: `ZUf2Nwjbi16WL5RTXXfPbNoAoqwL97ZQ`._
_This incorrect key is not configured anywhere in your Kubernetes manifests; it only shows up in the logs for requests originating from that specific external IP. The agent using this key appears to be a Datadog or Promtail collector, as indicated by the user-agent strings in the logs._
_To resolve this issue, you need to locate the external StackState agent/collector on the system at IP address *84.240.132.44* and update its configuration. Please replace the incorrect API key with the correct one: `jcbe8ZeGmgz1U1Ytnf5h6cY7IrXPBBDz`._
_Once you've made this change, the agent's requests should be accepted, and your data should flow as expected."_

---

**Alejandro Acevedo Osorio** (2025-09-19 12:24):
Sounds perfect, let's get that part straight and then we see if the UI is still an issue. One detail over there is the userAgent showing `DataDog` is our cluster agent and the Promtail one is our logs agent,

---

**Daniel Murga** (2025-09-19 12:26):
Thanks @Alejandro Acevedo Osorio that's why I said "appears to be"... to be honest... i can't 100% track who is _*84.240.132.44*_

---

**Remco Beckers** (2025-09-19 12:30):
The node driver was only needed for the SUSE Observability extension indeed. If that is not used it can be removed.

@Frank van Lankvelt wasn't that even removed with the latest version of the extension?  AFAIK it was only needed for doing the proxying that is now not necessary anymore.

---

**Mihaela Andronic** (2025-09-19 12:34):
Do you have any bugs by any chance I could reference for the case?

---

**Daniel Murga** (2025-09-19 12:34):
84.240.132.44 → 35.190.90.179 → 10.0.179.130:7077
     ↓                               ↓                                      ↓
External IP              GCP Load Balancer     Internal Pod

---

**Daniel Murga** (2025-09-19 12:35):
let's see what they reply

---

**James Radtke (1.651.442.6967)** (2025-09-19 12:45):
I had the same issue on my own system (home lab) if someone wants an example to explore.

---

**James Radtke (1.651.442.6967)** (2025-09-19 12:46):
From what I can tell it also was impacting Rancher availability (according to Observability dashboard) fairly frequently

---

**Remco Beckers** (2025-09-19 13:00):
We don't have an issue yet. Afaik this is the first report we get about this.

---

**Mihaela Andronic** (2025-09-19 13:01):
I found a discussion here as well:
https://suse.slack.com/archives/C02CX064EBX/p1744147921316799?thread_ts=1744147913.087119&amp;cid=C02CX064EBX

---

**Mihaela Andronic** (2025-09-19 13:03):
And I think this should be somewhat related, tho I guess the focus would be more on the UI, not the error as in my specific case:
https://suse.slack.com/archives/C07DUPSJUPM/p1728574671370509

---

**Mihaela Andronic** (2025-09-19 13:05):
But I did not find a bug report either;

---

**Mihaela Andronic** (2025-09-19 13:06):
Our user is okay with removing the driver, and they didn't mention chasing this further.

---

**Frank van Lankvelt** (2025-09-19 13:06):
The node driver was indeed only used for proxying and is not needed with new versions of the extension

---

**Mihaela Andronic** (2025-09-19 13:08):
Thank you for your help, and the extra context information :cheers:

---

**Remco Beckers** (2025-09-19 13:08):
The StackState node driver that is there in older version doesn't need to download anything. I guess that's why it has `local://` for the url, similar to many other node-drivers.

---

**James Radtke (1.651.442.6967)** (2025-09-19 13:30):
The problem, that I experience, is that Observability will report that the imperative-api-extension service will have a response time over 3 seconds and the `local://` reference appears in the logs

---

**Remco Beckers** (2025-09-19 13:51):
I've created a ticket to look into why it is stuck in downloading and how to get rid of it: https://stackstate.atlassian.net/browse/STAC-23423.

---

**Remco Beckers** (2025-09-19 13:52):
@James Radtke (1.651.442.6967) Is that a Rancher log file I assume? I don't know enough of Rancher to know if it could be the cause for the 3 seconds response times

---

**James Radtke (1.651.442.6967)** (2025-09-19 13:56):
Yes - it is the log for the svc which is on my Rancher server
```geeko:.kube jradtke$ k logs svc/imperative-api-extension```

---

**James Radtke (1.651.442.6967)** (2025-09-19 13:56):
(and fair enough - it took me quite a while after seeing the alert in O11y to work it back to it potentially be this issue)

---

**Niel Bornstein** (2025-09-19 13:57):
Who should I speak with on the BCL team to get more details?

---

**James Radtke (1.651.442.6967)** (2025-09-19 13:58):
for clarity:
I deployed rancher manager
built a bunch of other stuff and added to manager
deployed O11y
added the Stackpack to Rancher Manager via helm
(I don't recall, but I don't think I did anything from the RM UI, itself)


a few days ago I removed uninstalled suse-observability helm and the issue went away

---

**James Radtke (1.651.442.6967)** (2025-09-19 13:58):
but.. since I really love O11y, I re-added via helm, and the problem returned

---

**James Radtke (1.651.442.6967)** (2025-09-19 14:01):
You can see when I had removed it

---

**Remco Beckers** (2025-09-19 14:16):
The node driver is created when installingt the SUSE Observability extension in Rancher Manager (the extension creates the yaml afaik). But it seems to not uninstall it.

---

**James Radtke (1.651.442.6967)** (2025-09-19 14:19):
If you want access to my environment, I have external SSH and VPN available (SSH is as easy as me adding a user/ssh-key to my bastion, VPN is a little bit more involved

---

**Mark Bakker** (2025-09-19 14:53):
I would connect with Witold Bedyk or Bernd Schubert

---

**Niel Bornstein** (2025-09-19 14:53):
Thank you!

---

**Mark Bakker** (2025-09-19 15:13):
This is not possible.
We can send webhooks if an alert is happening to any external system.

---

**Mark Bakker** (2025-09-19 15:18):
Hi Will we support OpenTelemetry Traces and Metrics to support this.
You can either send metrics or traces.
You can create metric bindings to bind them to any component, OpenTelemetry data-bases and services are currently automatically mapped to components.
Be aware that we are currently building:
1. An easy wat to convert open telemetry semantic conventions (and basically any tag) to components including the extraction of meta data from those tags.
2. With this you can easy create any type of component based on the data you send
Next to this we are working on an epic StackPack 2.0
1. This will allow to package the above in an really easy way. Including easy to define configuration and scaffolding.
This late point are expected to be delivered in a few months,

---

**Deepak Patel** (2025-09-21 18:28):
@Louis Lotter , What would be the internal use key for SUSE Observability. I install the system &amp; it seeks for keys.

---

**Daniel Murga** (2025-09-22 08:16):
Morning! @Alejandro Acevedo Osorio and team, customer removed the wrong agent and the issue is still there. I requested again logs and manifests so we can analyze. I'll keep you informed

---

**Alejandro Acevedo Osorio** (2025-09-22 09:02):
Ok. Sounds good, let’s check the new logs. Perhaps even a screenshot of on what page they get the “something went wrong”

---

**Amol Kharche** (2025-09-22 09:27):
Thanks @Andrea Terzolo, let me review it.

---

**Louis Lotter** (2025-09-22 09:57):
you can use the key pinned here.

---

**Daniel Murga** (2025-09-22 10:08):
logs + recording of the issue

---

**Alejandro Acevedo Osorio** (2025-09-22 10:23):
Mmmm in that list of requests I'm missing a websocket one ... that might be failing, is there any errors on the `Console`
```index-tComUgkq.js:2 WebSocket connection to '<ws://127.0.0.1:8080/api/stream>' failed: ```

---

**Alejandro Acevedo Osorio** (2025-09-22 10:24):
@Remco Beckers when doing a port forward for the router do we need some extra setup for the WebSocket communication?

---

**Daniel Murga** (2025-09-22 10:29):
Just to keep in mind that using port-forward is just a workaround solution: _"Ingress settings is not important right now, I have the same problem with port-forward (so I can by-pass any ingress related mis-configuration)"_

---

**Alejandro Acevedo Osorio** (2025-09-22 10:36):
And I was able to reproduce it locally

---

**Ben Craft** (2025-09-22 10:49):
Regarding not being able to upgrade from non-ha to ha - is that due to the databases, server split or both?

---

**Alejandro Acevedo Osorio** (2025-09-22 10:50):
I will create a bug ticket for it, but I guess then the customer needs to setup the ingress

---

**Marc Rua Herrera** (2025-09-22 10:55):
Hi Remco,
Just to confirm: instead of using the old payload format, can I send metrics directly over HTTP in the OTLP format? From what I understand, the metrics should be sent as an `ExportMetricsServiceRequest` (OTLP/JSON or Protobuf) to the `SuseObservability` endpoint, usually exposed on port *4318*.

---

**Daniel Murga** (2025-09-22 10:58):
but they told us the issue is the same using ingress...

---

**Louis Lotter** (2025-09-22 11:04):
It's the databases.

---

**Remco Beckers** (2025-09-22 11:04):
With a port-forward you don't need any extra actions for the websocket

---

**Louis Lotter** (2025-09-22 11:05):
they do not all support it. It's something we could fix if it's high enough priority but it would be a lot of work.

---

**Alejandro Acevedo Osorio** (2025-09-22 11:05):
@Remco Beckers I created this bug ticket https://stackstate.atlassian.net/browse/STAC-23425 for the port forward issues that is reproducible on branch deploys

---

**Remco Beckers** (2025-09-22 11:05):
Isn't that 403 caused by a missing permission? For example the get-topology permission?

---

**Alejandro Acevedo Osorio** (2025-09-22 11:06):
I don't think is permission related (I think is even before permissions) as I can reproduce it on a branch deploy

---

**Remco Beckers** (2025-09-22 11:07):
Oh wow. I see. I've never seen that before. This used to work

---

**Daniel Murga** (2025-09-22 11:08):
This is a new installation, they just deployed and faced the issue.

---

**Alejandro Acevedo Osorio** (2025-09-22 11:11):
I think our best chance is to get the customer to setup their ingress again and we troubleshoot that. As the `port-forward` setup requires a more involved fix. What do you think @Remco Beckers?

---

**Remco Beckers** (2025-09-22 11:13):
Yeah indeed. I would recommend to just use one of the many otel SDKs to send the metrics though. You don't have to write this stuff yourself, instead you can simply use a more friendly api. For example here is a python example https://opentelemetry.io/docs/languages/python/getting-started/#metrics

---

**Remco Beckers** (2025-09-22 11:14):
The OTel protobuf endpoint is at 4317 and the OTel http endpoint is at port 4318 indeed. See also https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/otel/otlp-apis.html

---

**Marc Rua Herrera** (2025-09-22 11:14):
Okay. Will do that. Thanks for your help

---

**Remco Beckers** (2025-09-22 11:19):
Yeah seems like it. I am entirely surprised why the port-forward fails though. That might need some deeper troubleshooting.

---

**Alejandro Acevedo Osorio** (2025-09-22 11:36):
@Frank van Lankvelt do you think this might be due to the `CSRF` changes?

---

**Daniel Murga** (2025-09-22 11:49):
Should I ask the customer to setup ingress?

---

**Alejandro Acevedo Osorio** (2025-09-22 11:50):
@Remco Beckers @Frank van Lankvelt confirmed is related to the `Origin` check. Updated the ticket with a test using `curl` https://stackstate.atlassian.net/browse/STAC-23425

---

**Frank van Lankvelt** (2025-09-22 12:08):
I guess it would be safe to just always add `https://localhost` as an allowed origin (any port).  CORS is just a contract with "nice" browsers

---

**Alejandro Acevedo Osorio** (2025-09-22 12:13):
or rather `http://localhost:8080` ?

---

**Frank van Lankvelt** (2025-09-22 12:15):
if we're going for port-forward support any port should be allowed, right?

---

**Alejandro Acevedo Osorio** (2025-09-22 12:16):
well it didn't work for me when just adding `http;//localhost` ... can you give it a try?

---

**Frank van Lankvelt** (2025-09-22 12:20):
the port is indeed part of the origin, so needs to be there for now

---

**Frank van Lankvelt** (2025-09-22 12:20):
for generic ports we need to touch the code

---

**Alejandro Acevedo Osorio** (2025-09-22 12:23):
@Daniel Murga then the solution for the customer is to redeploy with an `allowedOrigin`  setup in their `values.yaml`
```stackstate:
  allowedOrigins: ["http://localhost:8080"]```

---

**Daniel Murga** (2025-09-22 12:25):
You mean a solution for port-forward?

---

**Mark Bakker** (2025-09-22 12:34):
Hi @Lisa Guerineau I got a mention of these is issues and thought best to provide an update in this thread:
• *Authentication:*
• 
    ◦ Lack of 2FA support (SAML or Rancher authentication integration).
        ▪︎ *Rancher SSO support will is released in 2.5*
    ◦ Enabling LDAP authentication locks out local accounts, leading to complete lockout if the connection to the LDAP server is lost.
    ◦ Case #: 01583053 - RFE, *currently we do not support this for safety reasons I can see the reason for the request. We will add this request and track it to see if we get more customers with this ask.*
    ◦ Case #: 01582891 - *I see this is resolved*
• *Certificates:*
    ◦ Problems with SUSE Observability trusting certificates issued by the corporate CA. The software expects public certificates instead of corporate-signed certificates.
    ◦ Case #: 01580613 - *This is now supported, see these docs (https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/security/self-signed-certificates.html)*
• *Stability:*
    ◦ Frequent crashes of the Observability tool.
    ◦ Case #: 01584807 - *many improvements have been made in the last months.*
• *Ops Genie Integration:*
    ◦ The integration is broken; the URL for sending alerts is incorrectly coded and cannot be changed, requiring a developer fix.
    ◦ Case #: 01583584 - *the case is closed, it's not clear if there still is a problem?  The last case on Opsgenie on our Jira is from august this year and is resolved.*

---

**Alejandro Acevedo Osorio** (2025-09-22 12:36):
Yes a solution for their current setup with port-forward

---

**Daniel Murga** (2025-09-22 12:39):
port-forward is the workaround solution they tried... ok... anyway I'm asking them to try...

---

**Daniel Murga** (2025-09-22 13:02):
Sent instructions to customer... I'll keep you posted

---

**Alejandro Acevedo Osorio** (2025-09-22 13:25):
https://suse.slack.com/archives/C079ANFDS2C/p1758537585983689?thread_ts=1758203298.576399&amp;cid=C079ANFDS2C for the ingress case the problem could be related to the same CORS check. They need to be sure that the ingress they configure is matching the `stackstate.baseUrl` in the `baseConfig_values.yaml`

---

**Louis Lotter** (2025-09-22 17:43):
@Vijay Mecheri @David Stauffer This is the pinned key you can use internally

---

**Amol Kharche** (2025-09-23 08:59):
@Andrea Terzolo Just have questions on this, The other services from different cluster looks fine but only few of them having these issue. Do we need to compare this before raising concerned with rancher team?

---

**Andrea Terzolo** (2025-09-23 09:48):
that's a good point, i noticed it as well but if you look at the HTTP latency of some "healthy services" in other clusters https://rancher-hosted.app.stackstate.io/#/components/urn:service:%2Fops-prod:cattle-system:rancher you will see that also here the HTTP latency reaches 20 seconds. The only difference is that for some reason these services interleave these long polling connections with some faster connections like `/ping` and so the 0.95 HTTP latency doesn't trigger the monitor

---

**Mohamed Belgaied** (2025-09-23 14:04):
Hi team,
A customer of mine is defining their role (access rights) strategy.
They are wondering if:
• SUSE Observability has builtin role management
• roles of SUSE Observability are integrated in Rancher or are defined somewhere else.
• If Role management is independent from Rancher, if we plan to integrate both ?

---

**Alessio Biancalana** (2025-09-23 14:08):
we support RBAC policies and we support the ingration between Rancher and SUSE Observability

these docs might be helpful for the conversation you're bringing forward I think

https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/README.html

https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_rancher.html

---

**Mohamed Belgaied** (2025-09-23 14:11):
Thank you!

---

**Louis Lotter** (2025-09-23 15:11):
@Alessio Biancalana quite satisfying to have this answer now :slightly_smiling_face:

---

**Alessio Biancalana** (2025-09-23 15:17):
@Louis Lotter I must say it is :smile:

---

**Giovanni Lo Vecchio** (2025-09-23 16:03):
Heyy!!
I had a very similar problem with another customer (Nationwide Mutual Insurance Company).

They configured the values.yaml like this:
```stackstate:
  email:
    enabled: true
    additionalProperties:
      "mail.smtp.auth": "false"
      "mail.smtp.starttls.enable": "true"
    sender: "<mailto:kubernetes-infra@nationwide.com|kubernetes-infra@nationwide.com>"
    server:
      host: "mail-gw.ent.nwie.net (http://mail-gw.ent.nwie.net)"
      protocol: smtp
      port: 587```
But noticed that the _suse-observability-authorization-sync-*_ pod kept restarting and showing the following error:
```com.typesafe.config.ConfigException$UnresolvedSubstitution: application_stackstate.conf ... Could not resolve substitution to a value: ${SMTP_PASSWORD}```
I did some research in the various chart templates, to understand who inserted that SMTP_PASSWORD in the deployment, and I found this file:
```{{- define "stackstate.email.secret" -}}
metadata:
  name: {{ template "common.fullname.short" . }}-email
data:
  SMTP_USER_NAME: {{ .Values.stackstate.email.server.auth.username | b64enc | quote }}
  SMTP_PASSWORD: {{ .Values.stackstate.email.server.auth.password | b64enc | quote }}
{{- end -}}

{{- if and .Values.stackstate.email.enabled (not .Values.stackstate.email.fromExternalSecret) }}
{{- $commonSecret := fromYaml (include "common.secret" .) -}}
{{- $stackstateEmailSecret := fromYaml (include "stackstate.email.secret" .) -}}
{{- toYaml (merge $stackstateEmailSecret $commonSecret) -}}
{{- end }}```
Ref. stable/suse-observability/templates/secret-email.yaml

From what I understand, this file is created if:
1. _stackstate.email.enabled_ is set to *true*, meaning email notifications are enabled.
2. _stackstate.email.fromExternalSecret_ is not set. This value is meant for specifying an external Secret; if it is defined, the Helm chart assumes you are providing the credentials yourself and will not generate the internal Secret.

When the Secret is generated, it always includes the keys _SMTP_USER_NAME_ and _SMTP_PASSWORD_, which are populated from the values under _stackstate.email.server.auth.username_ and _.password_.

So I suggested to the client to modify the file by adding a dummy _auth_ field, as you also said in this thread.
```stackstate:
  email:
    enabled: true
    additionalProperties:
      "mail.smtp.auth": "false"
      "mail.smtp.starttls.enable": "true"
    sender: "<mailto:kubernetes-infra@nationwide.com|kubernetes-infra@nationwide.com>"
    server:
      host: "mail-gw.ent.nwie.net (http://mail-gw.ent.nwie.net)"
      protocol: smtp
      port: 587
      auth:
        username: "dummy"
        password: "dummy"```
My question, however, is this: might it be worth revising that condition for generating the secret?
You could do something like this:
`{{- if and .Values.stackstate.email.enabled (not .Values.stackstate.email.fromExternalSecret) (eq .Values.stackstate.email.additionalProperties."mail.smtp.auth" "true") }}`

PS: Maybe you’ve already worked on it and I missed the issue.

---

**Lisa Guerineau** (2025-09-23 17:19):
Hi @Mark Bakker Thank you for these updates!  I will happily share these with the customers.

---

**Ron Terry** (2025-09-23 20:59):
Hi, I'm getting this error when I try to connect to the Observability (v2.5.0) dashboard from a virtual machine. It appears to say that you can no longer access the dashboard unless your web browser has WebGL enabled? If so this is a HUGE problem. 100% of the stuff we do in training as well as the new demo environment being created for SAs to demo our products run in VMs. Is there are way around this? (FYI can can connect and log in just fine in a web browser on my desktop, just not in a VM.)

---

**Daniel Murga** (2025-09-24 08:04):
Issue fixed! Thanks guys!

---

**Remco Beckers** (2025-09-24 08:06):
The UI has always required WebGL support and this check has always been present. The WebGL support is needed on the client system (i.e. in the browser) only, it is used to render the topology view.

---

**Alejandro Acevedo Osorio** (2025-09-24 08:52):
Awesome!!1 Thank you Daniel.

---

**Giovanni Lo Vecchio** (2025-09-24 09:23):
cc @Vladimir Iliakov @Bram Schuur

---

**Daniel Murga** (2025-09-24 10:08):
Hey team! Just a quick one... Is there any reason why the "Show logs" button is not shown in the attached screenshot? Seems there's data ingested but "show logs" option is not available...

---

**Javier Lagos** (2025-09-24 10:17):
I think that if you click on "view all" or any of the logs message categories on the logs section you will see the logs of the pod.

---

**Alejandro Acevedo Osorio** (2025-09-24 10:52):
@Anton Ovechkin perhaps you know why the `Show logs` button is not visible?

---

**Anton Ovechkin** (2025-09-24 10:54):
looking at the code we never show the `SHOW LOGS` button below the `About` section :thinking_face:

---

**Alejandro Acevedo Osorio** (2025-09-24 10:55):
Gotcha, the access is just via the `View all` link

---

**Anton Ovechkin** (2025-09-24 10:57):
that’s right
we open the logs drawer from only two places:
1. The `View all` “link”-looking button
2. A remediation guide - we inject the special “links” there

---

**Daniel Murga** (2025-09-24 11:08):
thanks guys! maybe customer is confused because documentation is showing this ---&gt; https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/logs/k8sTs-explore-logs.html#_viewing_the_logs

---

**Daniel Murga** (2025-09-24 11:09):
if "show logs" is never shown below the "about" section... documentation needs to be fixed

---

**Anton Ovechkin** (2025-09-24 11:11):
that’s for sure, good catch!
I see we have hidden them a March 2024 and later removed completely
just for reference https://stackstate.atlassian.net/browse/STAC-21012

---

**Daniel Murga** (2025-09-24 11:12):
Do you needme to create a ticket or whatever to change docs?

---

**aki.liu** (2025-09-24 15:00):
Hello Team,

We've got a customer who's evaluating SUSE Observability as a replacement for the existing Rancher-Monitoring stack.
They have some important questions about its capabilities, could you please provide some details on the following points?

• Cross-Cluster Traffic Visualization: 
Does SUSE Observability support visualize cross-cluster Istio service mesh network traffic that is routed through a GTM and LB? is it possible to visualize the topology with the X-Forwarded-For HTTP header?

• Disaster Recovery Best Practices:
SUSE Observability HA architecture is built on top of Kubernetes, but in case if the entire observability cluster goes down,
what are the recommended best practices for backup, restore or cross cluster failover to prevent a log loss situation?

This is a critical question for them, especially given their large-scale environment with over 1000+ nodes and one of the Kubernetes clusters with Rancher-Monitoring used 4TB data volume to just retention 4 days of metrics history, they found existing fluentd loses logs during peak loads.

• Metrics and Alert Migration:
Does SUSE Observability support importing existing Prometheus exporters and Alerts from Rancher-Monitoring ?
so that customer can reuse those Prometheus exporters/Monitor and Alerts directly ? or if there are any migration tools available for easy migration?
or do they need to be rewrite all Monitors/Alerts with SUSE Observability?

• Log Management:
Does SUSE Observability support streaming logs to an external location (e.g., a centralized log server) in addition to its own internal database?

• System-Level Logs Collection for Nodes :
What is the roadmap and timeline for SUSE Observability to support the collection of system-level logs, such as kubelet and rke2-server journal logs?

• AI Integration:
Are there any plans to integrate AI capabilities into SUSE Observability, such as an AI agent that could help with alert remediation?

Thank you for your support!

---

**Mark Bakker** (2025-09-24 15:37):
Let me answer some of the questions:|
• Cross-Cluster Traffic Visualization @Bram Schuur can you answer this one
• Disaster Recovery Best Practices, someone of the observability to answer
• Metrics and Alert Migration: This is planned for, but not in the near term, we do not intent to deprecate rancher monitoring before we got covered
• Not yet, but we don't intent to deprecate rancher logging before we have a solution for this.
• This is on the roadmap for Q4 2026, sorry wish it could be earlier, but it is coming.
• This is on the roadmap for Q3 2026

---

**Anton Ovechkin** (2025-09-24 16:27):
@Louis Lotter what is our current process around the documentation?

---

**Louis Lotter** (2025-09-24 16:29):
We create a ticket. An engineer or @Akash Raj makes the changes. @Akash Raj reviews the change.

---

**Thomas Muntaner** (2025-09-24 16:40):
Hi SUSE Observability team,

our sync and state pods are in a crash loop. Do you mind assisting us?

I've attached our "SUSE Observability Support Package" to this thread.

Thanks

---

**Manuel Recena** (2025-09-24 16:52):
Unrelated but @Mark Bakker, we should start using Application Collection for some of those applications: Zookeeper, Kafka, etc....

---

**Ron Terry** (2025-09-24 17:05):
Hmm, so this is the first time I am seeing it. I currently have a v2.4.x cluster and v2.5.x cluster installed. I am only getting that error when trying to connect to the 2.5.x cluster.

---

**Bram Schuur** (2025-09-24 20:56):
Suse observability supports layer 7 http tracing, with limited https support, which can do cross cluster request tracing. More information on this can be found here: https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/agent/k8sTs-agent-request-tracing.html (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/agent/k8sTs-agent-request-tracing.html)

---

**Mason Ivy** (2025-09-24 23:29):
Hey all, can someone confirm for me in what version this fix was released? https://stackstate.atlassian.net/browse/STAC-22461

---

**David Noland** (2025-09-24 23:36):
For that Jira ticket, fix versions is set to suse-observability/2.4.0

---

**David Noland** (2025-09-24 23:39):
Appears to be mentioned in the 2.4.0 release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.4.0.html).

---

**Akash Raj** (2025-09-25 06:18):
@Anton Ovechkin Do let me know if I need to make the changes or review :+1::skin-tone-2:

---

**Bram Schuur** (2025-09-25 08:28):
Thanks for the thorough analysis @Giovanni Lo Vecchio i have filed the following ticket and brought it up for prioritization: https://stackstate.atlassian.net/browse/STAC-23440

---

**Remco Beckers** (2025-09-25 08:52):
Jep. That's correct

---

**Anton Ovechkin** (2025-09-25 08:52):
@Akash Raj I’d ask you to introduce the changes please :pray:

---

**Thomas Muntaner** (2025-09-25 10:28):
I would be happy to, but please after 16:00. From 15:00-16:00 we have an IT all hands

---

**Bram Schuur** (2025-09-25 17:21):
This ticket has moved to our short-list but not super high prio. A fix should take 1-2 months eta.

---

**Derek So** (2025-09-26 07:10):
Hi Team, a customer is asking if they can use SUSE Observability for correlation analysis while keeping all the k8s logs in their existing Splunk server. Is this supported? Thanks!

---

**Hugo de Vries** (2025-09-26 07:56):
Woah, so OTLP logs support pushed back more then a year on the roadmap :slightly_frowning_face:

---

**Frank van Lankvelt** (2025-09-26 08:03):
Am not sure what "correlation analysis" is, but we generally only work with data that has been ingested in our own storage.  Supporting external systems puts huge restrictions on the functionality that we can rely upon.  Hence it would also limit the capabilities we could build into SUSE Observability.

---

**Frank van Lankvelt** (2025-09-26 08:05):
It is of course perfectly possible to send logs to both splunk and SUSE Observability.

---

**Derek So** (2025-09-26 08:07):
i meant to achieve faster troubleshooting via correlation capabilities provided by SUSE Observability.

---

**Derek So** (2025-09-26 08:09):
The customer is expecting to use one log storage system, preferably their existing one. But I got your point. Thanks!

---

**Mark Bakker** (2025-09-26 10:19):
@Hugo de Vries yeah really sorry for that but indeed.

---

**Antonello Tartamo** (2025-09-26 13:28):
Hi all,
Can SUSE Observability be used with a fleet of virtual machines (VMs), or is it limited to container-based environments?
What are the key benefits of using SUSE Observability compared to other solutions like Loki and Grafana?

---

**Frank van Lankvelt** (2025-09-26 13:37):
probably best to go over some marketing material first: https://www.suse.com/products/rancher/observability/

---

**Louis Lotter** (2025-09-26 13:50):
It can definitely be used with VM's. It may take some more effort and manual work to configure though.

---

**Louis Lotter** (2025-09-26 13:51):
I'll leave it to @Mark Bakker or @Andreas Prins to give you the benefits. @Andreas Prins do we have a slide deck or something for these comparisons ?

---

**Mark Bakker** (2025-09-26 13:59):
If you want to observe VM's I would wait till the next Major release where we will make it easier to create OpenTelemetry based StackPacks (integrations) this is planned in the upcoming months. After that the Harvester team will also create a StackPack to provide out of the box support for VM's.
For use-cases, please have a look here:
https://docs.google.com/document/d/13gDt8xDbjXAy40WHwwRTRhAE6nXpEzAMSanGkq4OXLk/edit?tab=t.0#heading=h.t85e7gonogfj

---

**Mark Bakker** (2025-09-26 13:59):
Next to this here you can find a full overview with all features:
https://docs.google.com/document/d/1x58uzZ52EE7FeXvpp5Hv4Y_pcb_5gEbs6vWFv1Ey_GY/edit?tab=t.0#heading=h.t85e7gonogfj

---

**Amol Kharche** (2025-09-26 16:30):
Is it the only error you get when accessing UI? Is `redirectURIs` values correct in OIDCClient ?
Here is what I used in my configuration.
```stackstate:
  authentication:
    rancher:
      clientId: "client-"
      secret: "secret-"
      baseUrl: "https://192.168.171.200.sslip.io"
  components:
    server:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_misc_sslCertificateChecking: false```
```# kubectl get oidcclients.management.cattle.io (http://oidcclients.management.cattle.io) oidc-observability -o yaml
apiVersion: management.cattle.io/v3 (http://management.cattle.io/v3)
kind: OIDCClient
metadata:
  name: oidc-observability
spec:
  redirectURIs:
  - https://stackstate.lab/loginCallback?client_name=StsOidcClient # STS URL
  refreshTokenExpirationSeconds: 3600
  tokenExpirationSeconds: 600```

---

**Marc Rua Herrera** (2025-09-26 16:37):
I didn't add this part:

```components:
    server:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_misc_sslCertificateChecking: false```
And also, the redirectUrl:

spec:
  redirectURIs:
  - https://stackstate.lab/loginCallback


I didn't add the query parameter `?client_name=StsOidcClient` . But in the documentation says, this query parameter is only for other OIDC providers, right?

```Set the Redirect URI to the base URL of SUSE Observability suffixed with /loginCallback. For example https://stackstate.acme.com/loginCallback. For some OIDC providers, such as Google and Azure Entra ID, the Redirect URI must match exactly, including any query parameters. In that case, you should configure the URI like this https://stackstate.acme.com/loginCallback?client_name=StsOidcClient.```

---

**Amol Kharche** (2025-09-26 16:51):
As per the code here (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/oidc.html#_rancher), It said required. May be @Frank van Lankvelt can comment on this.

---

**Frank van Lankvelt** (2025-09-26 17:21):
yeah, this allows pac4j to identify the correct callback to invoke

---

**Frank van Lankvelt** (2025-09-26 17:22):
it also needs to be there for Rancher OIDC

---

**Derek So** (2025-09-29 03:29):
@Mark Bakkerwould you mind share with us why the system-level logging collection from nodes are pushed back to another 12 months later? We have a customer awaiting for this capability on observing the k8s system components of RKE2-based clusters. Thank you very much!

---

**Akash Raj** (2025-09-29 06:56):
@Anton Ovechkin  Could you please create the jira ticket and share with me? Or if there is one already?

---

**Bram Schuur** (2025-09-29 09:12):
I wrote the following story: https://stackstate.atlassian.net/browse/STAC-23460. @Amol Kharche could you maybe update the docs to reflect the necessary information that was missing here?

---

**Anton Ovechkin** (2025-09-29 09:17):
sure thing, here you go https://stackstate.atlassian.net/browse/STAC-23461

---

**Amol Kharche** (2025-09-29 09:23):
https://github.com/rancher/stackstate-product-docs/pull/93

---

**Marc Rua Herrera** (2025-09-29 09:31):
By the way, adding the query parameter solved the issue

---

**Akash Raj** (2025-09-29 09:47):
Thanks @Anton Ovechkin

---

**Mark Bakker** (2025-09-29 10:08):
@Derek So that is due too the fact that our team will help with SUSE Security to create a security hub which is seen as more important for SUSE at the moment than this.

---

**Bram Schuur** (2025-09-29 10:36):
thanks @Amol Kharche :+1: @Akash Raj could you check and merge? https://github.com/rancher/stackstate-product-docs/pull/93

---

**Andrea Terzolo** (2025-09-29 10:52):
this is the updated link in the documentation https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/kubernetes-monitors.html#_http_response_ti[…]is_above_3_seconds (https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/kubernetes-monitors.html#_http_response_time_q95_is_above_3_seconds). I created a ticket to track this issue https://stackstate.atlassian.net/browse/STAC-23378. Before closing it we will wait for the rancher team feedback, keep us updated

---

**Akash Raj** (2025-09-29 11:12):
Sure @Bram Schuur

---

**Akash Raj** (2025-09-29 11:31):
Done :+1::skin-tone-2:

---

**Ben Craft** (2025-09-29 14:43):
hey sorry for the cross post but im not sure how closely the other channel is monitored

https://suse.slack.com/archives/C07DUPSJUPM/p1759149577621349

---

**Frank van Lankvelt** (2025-09-29 14:50):
there are a number of issues that lead to the same symptom.
• has SUSE Observability been configured with the Rancher URL as one of the allowed origins?
• did you do a hard refresh (flush caches) in the browser?
• are you using http to access SUSE Observability - if so, did you update the URL on the Observability configuration page in Rancher
We're working on making the extension do a bit better error reporting, for now it would really help if you could share more details on the requests that are being made from the browser - and that fail, in particular.

---

**Ben Craft** (2025-09-29 15:53):
Hey - okay answers to the above.

Yes to the allowed origin.
Yes to the cache (got dev tools open so nothing is cached)
Everything is HTTPS

---

**Ben Craft** (2025-09-29 15:53):
I just updated to the latest extension version and picked up the new cluster role bindings.

---

**Frank van Lankvelt** (2025-09-29 15:56):
and all requests succeed?

---

**Daniel Barra** (2025-09-29 16:42):
*We are pleased to announce the release of 2.6.0, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.6.0.html).*

---

**Ben Craft** (2025-09-29 16:47):
okay its working now with admin. but not with the user who created the cluster

---

**Ben Craft** (2025-09-29 16:47):
what role do i need to assign them?

---

**Martin Weiss** (2025-09-29 16:48):
A general release question - do we get it right, that *.0 releases are NOT meant for production usage as it is best practice with such versions and customers should wait for .1?

---

**Ben Craft** (2025-09-29 16:49):
does cluster owner not give them observer by default

---

**Frank van Lankvelt** (2025-09-29 16:52):
this is a known bug that we are working on.  The extension uses some Rancher APIs that are only available to (rancher) admins.  (in particular, it lists deployments on a cluster)
A soon to be released new version will fix this and let any (standard) user see the health of a cluster and components in it.

---

**Frank van Lankvelt** (2025-09-29 16:53):
is that best practice?

---

**Martin Weiss** (2025-09-29 16:54):
Hehe - in the SUSE Virtualization and Rancher Side of things - yes..

---

**Martin Weiss** (2025-09-29 16:54):
And for SLES as well

---

**Frank van Lankvelt** (2025-09-29 16:55):
I guess if you've got a stable version running then you might want to test a new release before deploying it, certainly.  But generally it should be quite safe to go to a new version.

---

**Martin Weiss** (2025-09-29 16:55):
I am happy to declare ".0" in this case as production ready - but then we might need to write that somewhere...

---

**Frank van Lankvelt** (2025-09-29 16:56):
the reason the minor version got bumped this time was that we didn't run extensive tests on backwards compatibility - and that is something we want to guarantee on a patch release

---

**Martin Weiss** (2025-09-29 16:56):
Maybe we can add that info to the release notes so customers are aware what risk the .0 release has?

---

**Frank van Lankvelt** (2025-09-29 16:58):
if the ".0 is unstable" is already the best practice in the SUSE/rancher/sles domain then I don't think we need to scare them any further

---

**Louis Lotter** (2025-09-29 17:32):
The specific risk is called out in the release notes on this ticket.

---

**Martin Weiss** (2025-09-29 17:39):
I am not sure what you mean - in the ticket I can not read "we didn't run extensive tests on backwards compatibility" and if this .0 should be used in production or not..

---

**Luis Carrascal** (2025-09-29 23:24):
Hi all,

I’m a trainer and I have to deliver an Observability class for a customer next week but we have found some issues while trying to deploy the Observability server for the lab environment.

For each class participant we create an Azure instance used as a Virtualization platform to host the VMs used for the exercises. This is the same approach we use for all courses. The specific VMs for the Observability class are:
• 1x1-node RKE2 cluster for Rancher
• 1x1-node RKE2 cluster for the Observability Server
• 2x1-node RKE2 clusters as the downstream clusters
Even today, three of us have tried this together to make sure I wasn’t missing any step or was overlooking something. I have personally tried more than 10 times in different environments and with different Azure instances to host the lab environment. I have tried different days and dedicated lots of hours but couldn't find a solution. That’s why I wanted to ask for help here.

For today's test we used an Azure instance with 64 CPU and 256GB of RAM, and we assigned a lot of resources to the VMs just in case it was a matter of resources:
• Rancher, downstream 1 and 2: 8CPU, 32GB RAM (each VM)
• Observability: 32CPU, 64GB RAM
We have also checked disk space and it wasn't an issue either.

The deployment of the RKE2 clusters works without any problem, as well as deploying Longhorn for the Observability server. But when we install the Observability server with the `helm install` command we never get it working.

Just to make sure we’re not missing anything, these are the steps we follow for the deployment of the Observability server:
```helm repo add suse-observability https://charts.rancher.com/server-charts/prime/suse-observability
helm repo update
export VALUES_DIR=.
helm template \
 --set license='<license-key>' \
 --set baseUrl='http://observability-server.example.com' \
 --set sizing.profile='trial' suse-observability-values \
 suse-observability/suse-observability-values --output-dir $VALUES_DIR
cat << EOF | tee suse-observability-values/templates/ingress_values.yaml
ingress:
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: '3600'
    nginx.ingress.kubernetes.io/proxy-send-timeout: '3600'
  enabled: true
  path: /
  hosts:
  - host: observability-server.example.com
EOF
helm install \
 --namespace suse-observability \
 --create-namespace \
 --values suse-observability-values/templates/baseConfig_values.yaml \
 --values suse-observability-values/templates/sizing_values.yaml \
 --values suse-observability-values/templates/ingress_values.yaml \
 suse-observability suse-observability/suse-observability --version 2.3.0```
The host name `observability-server.example.com (http://observability-server.example.com)` can be resolved internally in the VMs, and obviously `<license-key>` is replaced by a valid key.

After installing and waiting long enough, one of the times like 30 minutes, some pods keep on restarting (mainly the server and the router, and at times the rbac agent) and it's impossible to even log into the platform and when we could login we couldn't do anything for more than a couple of minutes.

We have tried different things at different times, like powering off the Observability cluster after the deployment was supposedly finished and bringing it up again, or deleting all the pods after the deployment to see whether a recreation of the pods worked.

We have even tried different versions of the application and found the same behavior:
• 2.3.0
• 2.4.0
• 2.5.0
The real problem is that I have to deliver an Observability class for a customer next week and if we are not able to fix this by Thursday this week the latest, we will have to cancel the class until we find a solution.

Could you please give us a hand on this? Thanks a lot in advance.

---

**Luis Carrascal** (2025-09-29 23:56):
A guess I just thought of, could it be disk I/O contention due to running the entire, I/O-intensive observability stack and a distributed storage system (Longhorn) on a single-node RKE2 cluster?

---

**Marc Rua Herrera** (2025-09-30 00:00):
The installation steps you showed look correct to me.

Can you check the logs of the pods crashing and also describe them?
You can also extract all the logs using:
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/support-package-logs.html

---

**James Radtke (1.651.442.6967)** (2025-09-30 02:25):
(preface:  I am still barely learning how to manage installs, etc.. and faced similar challenges to you.
Initially, I had tried "10-nonha" for sizing, but had randomly found something that made me switch to "trial" - not sure if that was the key to finally getting it installed.

> install_server() {
> export O11Y_LICENSE=example
> export BASEURL=observability.kubernerdes.lab
> export RANCHERURL=rancher.kubernerdes.lab
> export SIZING_PROFILE=10-nonha #trial
> 
> export VALUES_DIR=.
> helm template \
>   --set license="$O11Y_LICENSE" \
>   --set baseUrl="$BASEURL" \
>   --set rancherUrl="$RANCHERURL" \
>   --set sizing.profile="$SIZING_PROFILE" \
>   suse-observability-values \
>   suse-observability/suse-observability-values --output-dir $VALUES_DIR
> 
> helm upgrade --install \
>     --namespace suse-observability \
>     --create-namespace \
>     --values $VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml \
>     --values $VALUES_DIR/suse-observability-values/templates/sizing_values.yaml \
>     --values $VALUES_DIR/suse-observability-values/templates/affinity_values.yaml \
>     suse-observability \
>     suse-observability/suse-observability
> }

---

**James Radtke (1.651.442.6967)** (2025-09-30 02:27):
That ^^^ is my process which installs on to a 3 x node (4 vCPU x 16GB mem x 300GB disk) which results in the following

---

**James Radtke (1.651.442.6967)** (2025-09-30 02:28):
which runs on my 2 x Node vSphere cluster (1 x Intel(R) Core(TM) i9-10850K CPU @ 3.60GHz, 128 GB memory)

---

**James Radtke (1.651.442.6967)** (2025-09-30 02:39):
also - my Virtual Machine disks are iSCSI shares from Truenas over a single 1GB NIC - so, I imagine they are not terribly performant

---

**Jeroen van Erp** (2025-09-30 07:29):
As Marc already pointed out you need the logs of the restarting pods... The machine is oversized enough to work. I typically use a (tuned) installation on an 8cpu 32g machine with k3s (rke2 needs slightly more resources) for our instruqt labs.

I'm going to rebuild those vms for 2.5.0 today. I'll send you the scripts once I have that

---

**Amol Kharche** (2025-09-30 08:31):
@Andrea Terzolo I asked rancher team here  (https://suse.slack.com/archives/C02CX064EBX/p1759204663846979)and here is the response I got.
```yes. this is how watch works in Kubernetes API. It is basically server-sent events. You should not be calculating response latency for watch requests, as there will be a long-running connection with periodic payloads as necessary.```

---

**Andrea Terzolo** (2025-09-30 09:18):
thank you for the update! yes i agree, ideally we should not compute response latency for these connections or at least exclude them from the final latency computation for the service, but this is  something not easy to implement in an automatic way. Agent side we don't have information about the pattern this connection is using, we don't know it is using a long polling mechanism, we can try to guess it looking at the latency but that expose us to false positives. For now we rely on the user to identify these scenarios and to disable the monitor by putting an annotation on the affected service https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/kubernetes-monitors.html#_http_response_ti[…]is_above_3_seconds (https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/kubernetes-monitors.html#_http_response_time_q95_is_above_3_seconds), in the future we could put in place some automatic mitigation for this, thank you for the feedback

---

**Amol Kharche** (2025-09-30 10:44):
Sorry to ask you again, This is my beyond knowledge ,So what exactly action we need here , We are managing these clusters(hosted rancher), we need to annotate services and how ?

---

**Javier Lagos** (2025-09-30 10:49):
I think that @Andrea Terzolo is referring to the possibility of disabling this monitor for Rancher service. I have done that in a previous case and If I'm not wrong the command should be like this.

``` kubectl annotate service -n cattle-system rancher \
  monitor.kubernetes-v2.stackstate.io/http-response-time='{ (http://monitor.kubernetes-v2.stackstate.io/http-response-time='{)
    "threshold": 0.0,
    "failureState": "CRITICAL",
    "enabled": false
  }'```

---

**Andrea Terzolo** (2025-09-30 10:50):
yep exactly, the documentation on how to do that should be here https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/k8s-override-monitor-arguments.html

---

**Amol Kharche** (2025-09-30 10:52):
Nice,
Thanks @Javier Lagos and @Andrea Terzolo

---

**Marc Rua Herrera** (2025-09-30 16:12):
Hey team, I have a customer (they build ships, cruises and yacht) where some vessels go offline for long periods. They want to keep collecting observability data locally and then send it to a central platform once they reconnect.
Is it possible to save the data in an “offline” StackState instance and then move it into a centralized “online” instance later? I was thinking of something similar to our backup/restore mechanism, but I’m worried about synchronization and making sure the data uploads correctly without data loss. Any suggestions?

---

**Thomas Muntaner** (2025-09-30 16:19):
```suse-ai-observability-extension-op-prg2-gpu-1-29320384-4dvvd      0/1     Completed   0                 5h13m
suse-ai-observability-extension-op-prg2-gpu-1-29320696-7glqp      0/1     Error       0                 68s
suse-ai-observability-extension-op-prg2-gpu-1-29320696-rxjnj      0/1     Error       0                 99s
suse-observability-api-58dc4ff9d-lp4rn                            1/1     Running     6 (13h ago)       4d22h
suse-observability-authorization-sync-76ff6d764-zqnsm             1/1     Running     0                 4m31s
suse-observability-checks-6594d6d67f-mslhg                        1/1     Running     3 (13h ago)       4d22h
suse-observability-clickhouse-shard0-0                            2/2     Running     2 (172m ago)      4d23h
suse-observability-clickhouse-shard0-1                            2/2     Running     0                 5h16m
suse-observability-clickhouse-shard0-2                            2/2     Running     0                 5h22m
suse-observability-correlate-59548958c7-tg8x8                     1/1     Running     0                 4m31s
suse-observability-e2es-5d5bb7f747-h6wm2                          1/1     Running     0                 4m26s
suse-observability-elasticsearch-master-0                         1/1     Running     0                 5h25m
suse-observability-elasticsearch-master-1                         1/1     Running     0                 5h17m
suse-observability-elasticsearch-master-2                         1/1     Running     0                 4d23h
suse-observability-hbase-hbase-master-0                           1/1     Running     0                 64m
suse-observability-hbase-hbase-master-1                           1/1     Running     7 (20m ago)       5h26m
suse-observability-hbase-hbase-rs-0                               1/1     Running     43 (2m14s ago)    5h17m
suse-observability-hbase-hbase-rs-1                               1/1     Running     3 (3m12s ago)     19m
suse-observability-hbase-hbase-rs-2                               1/1     Running     1 (62s ago)       4m26s
suse-observability-hbase-hdfs-dn-0                                1/1     Running     0                 5h23m
suse-observability-hbase-hdfs-dn-1                                1/1     Running     0                 5h17m
suse-observability-hbase-hdfs-dn-2                                1/1     Running     0                 4d22h
suse-observability-hbase-hdfs-nn-0                                1/1     Running     2 (13h ago)       4d23h
suse-observability-hbase-hdfs-snn-0                               1/1     Running     0                 4d23h
suse-observability-hbase-tephra-0                                 0/1     Running     1 (3m11s ago)     4h29m
suse-observability-hbase-tephra-1                                 1/1     Running     0                 4m29s
suse-observability-health-sync-5fccc98bcc-njlxk                   1/1     Running     959 (3m45s ago)   4d22h
suse-observability-initializer-6f7df44f5-qg9bc                    1/1     Running     6 (148m ago)      159m
suse-observability-kafka-0                                        2/2     Running     0                 5h25m
suse-observability-kafka-1                                        2/2     Running     0                 4d22h
suse-observability-kafka-2                                        2/2     Running     0                 5h17m
suse-observability-kafkaup-operator-kafkaup-594cd79b95-42rsn      1/1     Running     0                 4m26s
suse-observability-notification-576d6d86f7-rknw9                  1/1     Running     40 (7m43s ago)    3h9m
suse-observability-otel-collector-0                               1/1     Running     0                 3m49s
suse-observability-prometheus-elasticsearch-exporter-7fc97mffgg   1/1     Running     0                 69m
suse-observability-rbac-agent-6644785b8-55g7n                     1/1     Running     0                 4m29s
suse-observability-receiver-7795d5b9d9-dcqh7                      1/1     Running     1 (17m ago)       74m
suse-observability-router-86c6cdf444-tgdtq                        1/1     Running     0                 29m
suse-observability-slicing-7f87f98d49-9djlh                       1/1     Running     0                 4m32s
suse-observability-state-5dcc9584b5-cqxns                         1/1     Running     183 (6m59s ago)   22h
suse-observability-sync-546c9c8c85-cpk9b                          0/1     Running     166 (6m12s ago)   22h
suse-observability-ui-fccf94768-6828d                             2/2     Running     0                 4d23h
suse-observability-ui-fccf94768-mcwmn                             2/2     Running     0                 3h59m
suse-observability-victoria-metrics-0-0                           1/1     Running     0                 5h17m
suse-observability-victoria-metrics-1-0                           1/1     Running     0                 5h26m
suse-observability-vmagent-0                                      1/1     Running     0                 4d23h
suse-observability-zookeeper-0                                    1/1     Running     0                 5h17m
suse-observability-zookeeper-1                                    1/1     Running     1 (3m43s ago)     5h26m
suse-observability-zookeeper-2                                    1/1     Running     10 (3h41m ago)    4d23h```

---

**Philippe Bidault** (2025-09-30 17:50):
Hi team! I am struggling to install SUSE OBS on an RKE2 single-node cluster deployed through Rancher on a Harvester provider. Kafka and HBase are unable to use the PVC:
```  Warning  FailedAttachVolume  18s (x5 over 81s)  attachdetach-controller  AttachVolume.Attach failed for volume "pvc-689a60fe-a029-4444-8be9-fffb389f7a87" : rpc error: code = DeadlineExceeded desc = Failed to wait the volume pvc-689a60fe-a029-4444-8be9-fffb389f7a87 status to settled, err: rpc error: code = Internal desc = Failed to get VMI suseobs-pool1-wbds5-nvx88: virtualmachineinstances.kubevirt.io (http://virtualmachineinstances.kubevirt.io) "suseobs-pool1-wbds5-nvx88" not found```
I have checked, and the PV/PVC are correctly created. Does this ring a bell to anyone?

---

**Philippe Bidault** (2025-09-30 17:51):
@Federico Pinca already suggested me to use NFS instead of Harvester CSI because of some issues (https://jira.suse.com/browse/SURE-9884), however, I can't find any issue similar to mine

---

**Frank van Lankvelt** (2025-09-30 18:17):
Could you see if this also occurs with the latest release?  That has a newer hbase version that should fix some of such issues

---

**Alejandro Acevedo Osorio** (2025-09-30 19:08):
From the logs in the support package I'm not able to pinpoint the reason of so many restarts by `rs-0` ... I think I kind of miss the reason of last termination.

---

**David Noland** (2025-09-30 19:37):
I think we really need SUSE's product to work together. If we think it's too difficult for StackState to detect this, then on the Rancher side, it should be  flagged (annotated) out of the box. Do we need to convince the Rancher team to do this? Asking each end user or customer to do this is not really a feasible solution.

---

**Louis Lotter** (2025-10-01 09:13):
While it would be possible to build this, and things like this have been discussed for when we start focussing on edge computing, I don't think it's viable atm. @Mark Bakker can weigh in here maybe.

---

**Louis Lotter** (2025-10-01 09:13):
For now this is probably the type of customer we cannot go for.

---

**Mark Bakker** (2025-10-01 09:17):
@Marc Rua Herrera this is indeed a type of customer we can't support. We only support real-time data. We defined an Epic to support more Edge Computing cases but that did not make it to the next 18 months plan.

---

**Martin Weiss** (2025-10-01 09:19):
So we still need to recommend rancher-monitoring / rancher-logging with adding loki/mimir for central/long-term storage?

---

**Thomas Muntaner** (2025-10-01 09:21):
Hi @Alejandro Acevedo Osorio, would updating fix it, or will I need to couple it with a restore from backup?

Either way, the release notes for 2.6.0 look interesting, so I'll upgrade after our standup.

Thanks

---

**Mark Bakker** (2025-10-01 09:28):
@Martin Weiss unfortenally yes for rancher-logging in case customers require a central log explorer.
Rancher-monitoring should not be needed, especially not after we release our custom dashboarding support (planned for KubeCon NA)

---

**Martin Weiss** (2025-10-01 09:29):
Basically we need to use prometheus as long as SUSE Observability can not be used outside of k8s

---

**Mark Bakker** (2025-10-01 09:30):
That will be fixed also with the KubeCon NA release.

---

**Martin Weiss** (2025-10-01 09:30):
Oh - that is great! Looking forward!

---

**Martin Weiss** (2025-10-01 09:30):
Then we "just" need a good / easy way for migration...

---

**Mark Bakker** (2025-10-01 09:31):
Agreed, that's also planned for next year.

---

**Zia Rehman** (2025-10-01 14:29):
Hi all, I am testing this issue and found that when I am creating the lab environment on cloud (cleura) and installing Observability some of the pods are in CrashLoopBackOff state when I checked the logs it shows `exec /use/bin/tini: exec format error.`  Attached the screenshot.
When I searched this issue it comes when there is a "mismatch in the CPU architecture". I have developed this lab on my local system using multiple virtual machines, when I check the cpu configuration on my vm's it is "Skylake-Client-IBRS" and on the cloud it is "Haswell-no-TSX-IBRS".  Is this causing the issue?

---

**Jeroen van Erp** (2025-10-01 14:34):
Is the one using AMD and the other using ARM?

---

**Zia Rehman** (2025-10-01 14:36):
No, both are on Intel x86_64

---

**Zia Rehman** (2025-10-01 14:37):
I am not facing this issue when I deploy observability on my local system using KVM. On the cloud we are facing this issue.

---

**Jeroen van Erp** (2025-10-01 14:38):
It's indeed an architecture problem, but how/why I do not know

---

**James Radtke (1.651.442.6967)** (2025-10-01 14:38):
Is your cloud infra deploying the wrong instance type?

---

**Zia Rehman** (2025-10-01 14:42):
On the cloud (Cleura) the vm's have been configured with Haswell-noTSX-IBRS cpu while I have developed the lab locally using the Skylake-Client-IBRS. So it seems to me the issue is because of using the Haswell configuration and on the cloud Skylake configuration is not available.

---

**James Radtke (1.651.442.6967)** (2025-10-01 14:54):
Are the instances up still on the cloud?
can you `cat /proc/cpuinfo`

(it would seem odd that code would struggle between Intel procs only separated by generation)

---

**Zia Rehman** (2025-10-01 15:29):
No I have removed.

---

**Zia Rehman** (2025-10-01 15:29):
Also this issue is with version 2.3.0, when I installed 2.4.0 it worked fine.

---

**James Radtke (1.651.442.6967)** (2025-10-01 15:46):
ah - weird!

---

**Thomas Muntaner** (2025-10-02 16:32):
Hi team,

I'm trying to use the SUSE Observability AI Extension to connect to our SUSE AI deployment.

Unfortunately, I just get "No components found" in SUSE Observability. Do you have any advice?

Thanks

---

**Thiago Bertoldi** (2025-10-02 16:37):
Hey Thomas, I'll dm you. The AI extension is developed by the AI team, so <#C07UJNX5S3E|> would be the best place to post any issues

---

**Dustin Groh** (2025-10-02 18:00):
Is the pinned license key still applicable? https://suse.slack.com/archives/C079ANFDS2C/p1756277126638739
I'm getting an invalid license key error.

---

**Louis Lotter** (2025-10-03 09:07):
No reason it should not be.

---

**Louis Lotter** (2025-10-03 09:08):
This is widely used so I would expect more than one issue if it's not working anymore.

---

**Marc Rua Herrera** (2025-10-03 10:47):
Hi team,
I’m looking for the right sizing profile for a customer. They have a somewhat unusual environment with around *240 vCPU cores* but *7,500 GB of memory* in their cluster.
Based on CPU, the calculation points to the *50 non-HA profile*. However, if I calculate based on memory, it suggests the need for a *500-HA environment*.
The issue is that the 500-HA profile requires *176 vCPU cores*, which would consume about *73% of the cluster’s vCPU resources* just for observability.
Do you have any recommendations for this scenario? Can I safely choose a smaller sizing profile, or will the large amount of RAM inevitably require the bigger environment?

---

**Vladimir Iliakov** (2025-10-03 11:00):
The smaller profile might work for them. Depending on whether they want to experiment they may try it. But they should consider:
1. Upgrading from nonha to ha is not possible. They have to redeploy from scratch.
2. Upgrading between different flavours within HA or nonHA is possible, but might required manual operations (if the PVC is changed the corresponding statefulset has to be deleted)
And supporting of non-standard configurations is not what we like or can provide very efficiently. They have to be ready to tune resources for their use-case if needed themselves...

---

**Marc Rua Herrera** (2025-10-03 11:01):
Thanks Vladimir

---

**Remco Beckers** (2025-10-03 11:06):
Just to add to that. The main driver for scaling up is the number of pods and containers. The node sizes are a way to approximate that.

So if their pods are very memory-heavy (which seems likely, why would they otherwise have such a skewed setup) they should probably be fine with the smaller profile. But it could be they need to pick a middle-ground somewhere in between both.

---

**Benoît Loriot** (2025-10-03 11:12):
Hi, a customer asked if we have plans to reduce the resources required for Suse Observability (in HA or non-HA)?

---

**Mark Bakker** (2025-10-03 11:13):
Yes, but not in the short term.

---

**Benoît Loriot** (2025-10-03 11:14):
Ok, if I should give a timeline. Should I say we'll work on it in 2026 or it could be later (2027...)?

---

**Mark Bakker** (2025-10-03 11:15):
I expect H2-26

---

**Benoît Loriot** (2025-10-03 11:16):
Thanks Mark

---

**gaetan.trellu** (2025-10-03 15:10):
Hello o/ I have an inconsistency between the Rancher UI extension and the SUSE Obersvability UI. The Rancher UI extension claims that everything is fine but it is not the case. I am running Rancher 2.12.2 with the latest extension and SUSE Observability 2.6.0.

---

**Dustin Groh** (2025-10-03 15:18):
I'll assume its user error on my part and try again, thanks.

---

**Frank van Lankvelt** (2025-10-03 15:29):
can you see if there is a label `cluster-name:smartgic-ca-east-prd-1` on the deviating or critical components?

---

**Oleg Vorobiov** (2025-10-03 15:36):
Hi all, I've noticed discrepancies in our customer documentation vs values in helm chart.
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_[…]ui (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_access_the_suse_observability_ui)
In the ingress section.
2nd screenshot is what worked for the install

---

**Jeroen van Erp** (2025-10-03 15:40):
You're right Oleg!

---

**Frank van Lankvelt** (2025-10-03 15:48):
the service-token has the `stackstate-k8s-troubleshooter` subject?

---

**gaetan.trellu** (2025-10-03 15:49):
Yes, this is the command I used:
```sts service-token create --name suse-observability-extension --roles stackstate-k8s-troubleshooter```

---

**Frank van Lankvelt** (2025-10-03 15:56):
can you share the `snapshot` XHR query/response made from the extension?

---

**gaetan.trellu** (2025-10-03 16:01):
Getting a `403` from `snapshot`

---

**gaetan.trellu** (2025-10-03 16:02):
`Response` is empty

---

**Frank van Lankvelt** (2025-10-03 16:07):
has Rancher (`https://rancher.uoi.io`) been set as one of the `stackstate.allowedOrigins` for SUSE Observability?

---

**gaetan.trellu** (2025-10-03 16:08):
```helm upgrade --install \
    --namespace suse-observability \
    --create-namespace \
    --values $VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml \
    --values $VALUES_DIR/suse-observability-values/templates/sizing_values.yaml \
    --values $VALUES_DIR/suse-observability-values/templates/affinity_values.yaml \
    suse-observability \
    suse-observability/suse-observability --values $VALUES_DIR/suse-observability-values/templates/otel.yaml --set rancherUrl=https://rancher.uoi.io```

---

**gaetan.trellu** (2025-10-03 16:08):
As well:
```  allowedOrigins:
    - "https://rancher.uoi.io"
    - "https://observability.rancher.uoi.io"```

---

**Frank van Lankvelt** (2025-10-03 16:09):
could you export a HAR from the developer tools?  Send in DM please

---

**Frank van Lankvelt** (2025-10-06 09:15):
I've looked at the request log - it indeed appears the service-token and CORS is working fine; as also indicated by the health status on the service.

---

**Frank van Lankvelt** (2025-10-06 09:18):
it appears as if some components are not accessible - maybe there is something in the suse-observability-api pod logs?

---

**Bas van Kampen** (2025-10-06 10:10):
Hi, quick question (with probably a long answer). Can you get NVIDIA DCGM metrics into SUSE obs for monitoring GPU's

---

**Frank van Lankvelt** (2025-10-06 10:14):
if you can find an opentelemetry collector that extracts these then that should certainly be possible

---

**Bas van Kampen** (2025-10-06 10:15):
Thanks Frank, as I expected.

---

**gaetan.trellu** (2025-10-06 13:49):
```[2025-10-06T11:48:43.006Z] "POST /api/snapshot HTTP/1.1" 403 - 391 0 6 5 "10.17.2.237" "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" "7f8e05cf-9ec9-4839-9dde-3f1d04496122" "observability.rancher.uoi.io (http://observability.rancher.uoi.io)" "10.42.1.172:7070"```

---

**Frank van Lankvelt** (2025-10-06 14:56):
hmm, I would've expected the Observability card in the Rancher cluster overview to show something else in this case.

---

**gaetan.trellu** (2025-10-06 14:59):
FYI, SO 2.6.0 is a fresh installed (not an upgraded version from previous upgrades)

---

**gaetan.trellu** (2025-10-06 14:59):
Is the change with Rancher OIDC might be lead?

---

**Joel Endel** (2025-10-06 18:26):
Hi team,

One of our largest clients, Nationwide is having trouble with their SUSE observability key. Theirs is showing invalid. Can someone here assist me with getting this fixed? The client is actively using this in production and needs this fixed ASAP. Thank you

Acct number A185611

---

**Frank van Lankvelt** (2025-10-06 20:18):
Licenses are managed by scc.  You can best contact that team to obtain a new valid license.

---

**Frank van Lankvelt** (2025-10-06 20:19):
It will be of the form XXXXX-XXXXX-XXXXX, so including dashes.

---

**Will Stephenson** (2025-10-06 22:37):
:ninja: The key is now TLWDR-8QR49-7N7CA.

---

**Joel Endel** (2025-10-06 22:37):
Will this reflect in their SCC?

---

**Will Stephenson** (2025-10-06 23:20):
Yep, already changed there

---

**Amol Kharche** (2025-10-07 07:14):
@Andrea Terzolo Let me know what you think here. As David mentioned asking each customer to annotate service is not feasible.

---

**David Noland** (2025-10-07 07:16):
But it's probably Rancher engineering we have to convince...

---

**Matthieu Fatrez** (2025-10-07 09:47):
Hello, Is it possible to do FinOps from SUSE Observability? First example coming to me : Watch the usage and tell if upscale or downscale the pods

---

**Frank van Lankvelt** (2025-10-07 09:55):
you'ld have to code it based on the primitives we have - so create an alert when resource usage is too high/low.  That can then trigger a webhook that could make the necessary changes.

---

**Frank van Lankvelt** (2025-10-07 09:55):
I'm not aware of anyone doing this in practice though

---

**Marc Rua Herrera** (2025-10-07 11:52):
Hey Team,
I am using the script API to retrieve some component data. I’m particularly interested in the component type. When I use the API, I see that the type is returned as an Id. Is there a way to resolve this ID to get the name?
```"id":121268925307075,
                        "identifiers":[    
                        ],
                        "incomingRelations":[
                        
                        ],
                        "lastUpdateTimestamp":1758526546162,
                        "layer":0,
                        "name":"IFIP",
                        "outgoingRelations":[
                         
                        ],
                        "retrievalSource":"QUERY",
                        "state":{
                           "_type":"StackElementState",
                           "healthState":"CLEAR",
                           "id":99299030652883,
                           "lastUpdateTimestamp":1758046327246
                        },
                        "synchronized":true,
                        "tags":[
                        ],
                        "type":34783161463567
                     },```

---

**Remco Beckers** (2025-10-07 11:56):
You can use the snapshot API instead, it will include all metadata needed, including the component types:

```curl 'https://nightly-champagne.preprod.stackstate.io/api/snapshot' \
  --compressed \
  -X POST \
  --data-raw '{"_type":"ViewSnapshotRequest","metadata":{"_type":"QueryMetadata","showIndirectRelations":false,"minGroupSize":0,"autoGrouping":false,"groupingEnabled":false,"groupedByLayer":false,"groupedByDomain":false,"groupedByRelation":false,"connectedComponents":false,"neighboringComponents":false,"showFullComponent":false,"queryTime":1759830154577},"query":"(label IN (\"stackpack:kubernetes\") AND label IN (\"namespace:sock-shop\") AND type IN (\"pod\"))","queryVersion":"0.0.1"}'```

---

**Remco Beckers** (2025-10-07 11:58):
If you really want to use the script API you would need to separately fetch the component type via the normal API (or using a stackgraph query instead of STQL)

---

**Marc Rua Herrera** (2025-10-07 12:07):
Okay! Thanks Remco

---

**gaetan.trellu** (2025-10-07 12:34):
So, if I'm not connected tot SUSE Observability UI, the Rancher UI extension works... But if I login to SUSE Observability, then the Rancher extension is back to 0.

---

**Frank van Lankvelt** (2025-10-07 12:44):
oh that's a nice find - thanks!  There's probably some interference between different authentication mechanisms that are supported

---

**Frank van Lankvelt** (2025-10-07 12:47):
I've created a ticket for this - https://stackstate.atlassian.net/browse/STAC-23512

---

**gaetan.trellu** (2025-10-07 12:59):
Yeah, it was my assumption from my yesterday message.

---

**gaetan.trellu** (2025-10-07 13:00):
@Frank van Lankvelt let me know if you want me to try some fixes

---

**Aaron Southerland** (2025-10-07 16:39):
I spun up a new instance in the cloud - Here is the ouput of cat /proc/cpuinfo on the VM Host running the OBSV VM
`processor	: 47`
`vendor_id	: GenuineIntel`
`cpu family	: 6`
`model		: 106`
`model name	: Intel(R) Xeon(R) Platinum 8370C CPU @ 2.80GHz`
`stepping	: 6`
`microcode	: 0xffffffff`
`cpu MHz		: 2793.438`
`cache size	: 49152 KB`
`physical id	: 0`
`siblings	: 48`
`core id		: 23`
`cpu cores	: 24`
`apicid		: 47`
`initial apicid	: 47`
`fpu		: yes`
`fpu_exception	: yes`
`cpuid level	: 21`
`wp		: yes`
`flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 movbe popcnt aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch pti tpr_shadow ept vpid fsgsbase bmi1 hle avx2 smep bmi2 erms invpcid rtm avx512f avx512dq rdseed adx smap clflushopt avx512cd avx512bw avx512vl xsaveopt xsavec xsaves vnmi md_clear`
`vmx flags	: vnmi invvpid tsc_offset vtpr ept vpid`
`bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa itlb_multihit mmio_stale_data gds bhi its its_native_only`
`bogomips	: 5586.87`
`clflush size	: 64`
`cache_alignment	: 64`
`address sizes	: 46 bits physical, 48 bits virtual`
`power management:`

---

**Aaron Southerland** (2025-10-07 16:41):
and here is the output of cat /proc/cpuinfo on the OBSV VM
`processor	: 15`
`vendor_id	: GenuineIntel`
`cpu family	: 6`
`model		: 134`
`model name	: Intel Xeon Processor (Icelake)`
`stepping	: 0`
`microcode	: 0x1`
`cpu MHz		: 2793.438`
`cache size	: 16384 KB`
`physical id	: 15`
`siblings	: 1`
`core id		: 0`
`cpu cores	: 1`
`apicid		: 15`
`initial apicid	: 15`
`fpu		: yes`
`fpu_exception	: yes`
`cpuid level	: 13`
`wp		: yes`
`flags		: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single pti tpr_shadow vnmi ept vpid fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm avx512f avx512dq rdseed adx smap clflushopt avx512cd avx512bw avx512vl xsaveopt xsavec xsaves arat umip md_clear arch_capabilities`
`vmx flags	: vnmi preemption_timer invvpid ept_1gb tsc_offset vtpr ept vpid shadow_vmcs`
`bugs		: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs taa mmio_stale_data rfds bhi`
`bogomips	: 5586.87`
`clflush size	: 64`
`cache_alignment	: 64`
`address sizes	: 42 bits physical, 48 bits virtual`
`power management:`
I will be generating the report requested earlier in this thread next

---

**Aaron Southerland** (2025-10-07 16:48):
and here is the log bundle - any assistance would be much appreciated

---

**Aaron Southerland** (2025-10-07 16:50):
The commands used to install were the same that Luis posted earlier, but i can provide those again if needed

---

**Aaron Southerland** (2025-10-07 16:52):
On my lab machine locally, labs using 2.4.0 consistently work great.
In our instances in Azure, we are getting inconsistent results.
Sometimes the server pod will run great and the agent installation for the downstream clusters will cause issues,
sometimes we see network issues trying to configure the downstream clusters in the WEBUI,
sometimes the server pod will repeatedly crash,
sometimes the router or receiver pods will repeatedly crash causing the server pod to crash
Sometimes everything works great
I think it is the hardware in the azure environment, if you have any suggestions on where to start looking, i am open to suggestions

---

**Josh Stringfellow** (2025-10-07 17:16):
Hello, Is the UI the only component that has compatibility requirements with Rancher Prime? https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_suse_observability_ra[…]on_compatibility_matrix (https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_suse_observability_rancher_ui_extension_compatibility_matrix)

---

**Dawid van der Merwe** (2025-10-07 17:28):
Has anyone ever experienced log ingestion limits being exceeded?

---

**Aaron Southerland** (2025-10-07 20:04):
I think i found the problem, i upgraded the azure instance form gen3 CPU's to gen 5 CPU's and i have successfully deployed 3 times now

---

**Remco Beckers** (2025-10-08 07:47):
Correct. The Rancher extension is the only component with compatibility requirements with Rancher Prime.
There is a compatibility requirement with the Kubernetes version though, which is documented here: https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/requirements.html#_supported_versions

---

**Remco Beckers** (2025-10-08 08:32):
Do you mean that the log agent reports it gets the `429 Rate Limit Exceeded` status code from our API?

---

**Remco Beckers** (2025-10-08 08:32):
If so, not that I know of

---

**Remco Beckers** (2025-10-08 08:35):
With more information on their setup and the problem we may be able to help

---

**Alejandro Acevedo Osorio** (2025-10-08 09:45):
Just the upgrade should help. No need to restore a backup this time.

---

**Dawid van der Merwe** (2025-10-08 12:05):
Hi Remco, thank you. Vladimir is already assisting. Just thought I'd throw the question out there to see what insights I can get.

---

**Josh Stringfellow** (2025-10-08 15:10):
Thank you!

---

**Jorn Knuttila** (2025-10-08 22:35):
It looks like it's still in that state. Is there a place that we should report this? Can a pull request be made by mere mortals?  :slightly_smiling_face:

---

**aki.liu** (2025-10-09 08:28):
Hello Team,

May I ask is it possible to integrate SUSE Observability with the existing Rancher-logging HostTailer system-level logs for Nodes ? so that we can have a workaround while the otel-collector for system-level logs in the roadmap postponed to Q4 2026? Thanks.

here is the KB for Rancher-logging capture the system-level logs
https://support.scc.suse.com/s/kb/Collecting-file-logs-with-Host-Tailer-on-the-Logging-Operator?language=en_US

https://support.scc.suse.com/s/kb/How-to-stream-k3s-journal-logs-to-Cloudwatch-on-Rancher?language=en_US

---

**Bram Schuur** (2025-10-09 09:46):
Thanks for all this! I added a story to get this into the product somehow, @Andrea Terzolo/@Amol Kharche can you check whether what i wrote down makes sense? https://stackstate.atlassian.net/browse/STAC-23531

---

**Louis Lotter** (2025-10-09 09:48):
We are working on a set of tools that will make integrating to Suse Observability a lot simpler. I think once that is released it may be a good time to sit with you and see if you can use that tooling to help with this.

---

**Mark Bakker** (2025-10-09 10:13):
@aki.liu, cc @Louis Lotter the tools for easy integrations do not cover logs.
But the solution you propose @aki.liu might work, I would not use the logging operator for it because that does far more.
But you should be able to create a solution described here:
https://docs.google.com/document/d/1g7mval0vhlYHCtL4n8hLW0lRQfNJn1Hz9r1ZGofkSMo/edit?tab=t.0

If you try please keep us posted to see the results so we can share the knowledge.

---

**Mark Bakker** (2025-10-09 10:13):
Ps. the document shared is created by gemini but after reading it, I would say this should work.

---

**aki.liu** (2025-10-09 16:57):
Thanks Mark,

We already tested this pod base hostPath access to node system-level logs journalctl.

but customer have security concern on privileged host access and if someone execute shell into this pod and run chroot then basically you have root access to the host level and so customer rejected this idea and expecting this is a feature integrated with SUSE Observability - Nodes.

```apiVersion: v1
kind: Pod
metadata:
  name: host-logs
spec:
  hostPID: true
  volumes:
  - name: host-root
    hostPath:
      path: /
  containers:
  - name: host-logs
    image: registry.suse.com/bci/bci-busybox:15.7 (http://registry.suse.com/bci/bci-busybox:15.7)
    securityContext:
      privileged: true
    command: [ "/bin/sh", "-c", "chroot /host /bin/journalctl -f" ]
    volumeMounts:
    - name: host-root
      mountPath: /host```

---

**Marc Rua Herrera** (2025-10-10 09:43):
Good morning team,
I’d like to create new monitors. I’ve been asked several times whether we can define custom monitor functions beyond the out of the box ones in StackState.
For example, a monitor that scans logs for specific patterns and triggers when a particular keyword is found. I’ve noticed some monitors reference internal functions, e.g.:
```
function: {{ get "urn:stackpack:kubernetes-v2:shared:monitor-function:pod-ready-state" }}```
These appear to be Groovy functions defined in the StackPack. My question is simple: is it supported to create and upload our own functions, for instance, to search logs using specific regular expressions?

---

**Frank van Lankvelt** (2025-10-10 09:48):
it is possible, e.g. Dynamic Thresholds uses groovy functions for monitoring.  But at the same time, we are trying to move away from groovy.  The effort for Stackpacks 2.0 e.g. is to make everything declarative - dropping the functions there used to be for mapping.

---

**Frank van Lankvelt** (2025-10-10 09:50):
A very flexible way of running custom code is to do what the AAD does.  That only has placeholder monitor functions, but the actual checks run in separate pods and use the API for fetching data and reporting health states.

---

**Frank van Lankvelt** (2025-10-10 09:55):
This is quite some work to implement though as much of the monitor framework is by-passed.  Querying for components, scheduling, tokens for authorization.

---

**Frank van Lankvelt** (2025-10-10 09:57):
One approach I've been thinking about is to generalize the AAD into an "async scheduler" that lets custom "worker pods" connect to it and get all the context they need in one go.  But this is not part of the roadmap (yet)

---

**Marc Rua Herrera** (2025-10-10 09:57):
So, I think the question is, are we supporting this?

---

**Frank van Lankvelt** (2025-10-10 10:05):
They are part of Stackpacks 1.0, so I guess we are.  But I think it would still be better if we were to learn more about the type of monitor function they'ld like to have - instead of handing over a general purpose hammer.  If the same type of monitor is needed for a lot of different scenarios it would be much better to build them into the product

---

**Marc Rua Herrera** (2025-10-10 10:06):
And for this:

```A very flexible way of running custom code is to do what the AAD does. That only has placeholder monitor functions, but the actual checks run in separate pods and use the API for fetching data and reporting health states.```
How do you connect your monitor to the functions running in a different workload? Do they need to be groovy these function as well or I can use any other language?

---

**Frank van Lankvelt** (2025-10-10 10:12):
the monitor function in this case is a minuscule groovy script:
```return [ _type: "MonitorCompletesAsynchronously" ]```
the actual magic runs in different pods and can indeed use any language.  Python in the case of the AAD, but anything that can talk HTTP will do.

---

**Frank van Lankvelt** (2025-10-10 10:13):
you could take a look at the AAD "manager" code to see how it queries for the monitors that use this "function" and finds the components.  Also how it turns those into jobs and schedules them of course.

---

**Marc Rua Herrera** (2025-10-10 10:15):
Okay! Thanks Frank!

---

**Bram Schuur** (2025-10-10 10:25):
@Marc Rua Herrera I would very strongly advice against writing monitor functions in groovy. Maybe you can setup a call on what you  want to achieve with @Frank van Lankvelt and maybe @Mark Bakker so we can properly align?

---

**Frank van Lankvelt** (2025-10-10 10:32):
yeah, I would also much rather spend time on developing a generic infrastructure that supports running &amp; scaling custom monitors in their own containers than troubleshooting a system that is running custom groovy code.

---

**Marc Rua Herrera** (2025-10-10 10:41):
I’m strongly opposed to using Groovy too :joy:. I’ve spent many hours on it in the past and would prefer not to do so again.
That said, the solution Frank mentioned, using a different container where the functions are deployed, sounds promising. Ultimately, I want to read the logs and build a monitor based on certain regular expressions in the application output. This wouldn’t involve Groovy, would it? And since it runs in a separate workload, I should have the flexibility to use any libraries/dependencies I need.

---

**Bram Schuur** (2025-10-10 10:51):
Cool. We also have the health sync (opposed to async monitors, which are not super official yet, undocumented),  and will be doing a logs epic with possibly monitors, so I think it makes sense to have a chat to look at the options and outlook and make this land well.

---

**Mark Bakker** (2025-10-10 11:16):
Please invite me for that chat as well.

---

**Mark Bakker** (2025-10-10 11:17):
And be aware we need to support the old Groovy scripts still, I promised Rabobank we will not deprecate those the coming year. They do know we will deprecate them in the future so building it in another way not depending on them is obviously the best to do.

---

**Mark Bakker** (2025-10-10 11:18):
Not sure for which customer this is

---

**Ben Craft** (2025-10-10 11:42):
is there a way I can get the deployment to redirect from this page automatically?

---

**Ben Craft** (2025-10-10 11:43):
Everything works fine once i click the start exploring link

---

**Remco Beckers** (2025-10-10 11:43):
It does redirect automatically from that page

---

**Remco Beckers** (2025-10-10 11:43):
At least in every setup I've ever used

---

**Ben Craft** (2025-10-10 11:46):
hmm its not doing it consistently - i'll put it down to a browser thing

---

**Ben Craft** (2025-10-10 11:46):
not to worry

---

**Marc Rua Herrera** (2025-10-10 11:47):
This is for Fincantieri

---

**Frank van Lankvelt** (2025-10-10 11:47):
which browser are you using?

---

**Ben Craft** (2025-10-10 11:48):
seems to not redirect when using chrome incognito, is fine in firefox and normal chrome

---

**Mark Bakker** (2025-10-10 11:48):
Please don't use groovy functions for any other customer than the old sts customers, they are not in the docs and they basically don't excist for new customers.

---

**Ben Craft** (2025-10-10 11:48):
dont worry its too nuanced to investigate lol

---

**Marc Rua Herrera** (2025-10-10 11:48):
It would be good also to discuss other topics a part from Monitors. Specially for logs. The Stdout has a lot of limitations atm. It will be good to know if there is a plan for that. As well as open telemtry logs that can correlate with traces

Who should I invite for this?

---

**Mark Bakker** (2025-10-10 11:49):
Me, remco and bram

---

**Louis Lotter** (2025-10-10 11:55):
i only see this when I actually accidentally go the actual comptability link
https://master.dev.stackstate.io/browser_compat/check.html?v=2025-09-29%2018:02:21

---

**Louis Lotter** (2025-10-10 11:55):
this happens because your browser remembers this link in your history and when you start typing master... it sometimes chooses this url to autocomplete to

---

**Ben Craft** (2025-10-10 11:56):
Okay lets put it down to operator error! lol

---

**Ben Craft** (2025-10-10 11:56):
thanks for confirming

---

**Louis Lotter** (2025-10-10 11:57):
it's actually not that nice. @Andreas Prins can we not change this comptability check not to poison your history like this ?

---

**Louis Lotter** (2025-10-10 11:57):
@Anton Ovechkin I meant.

---

**Louis Lotter** (2025-10-10 11:58):
I'm pretty sure it affects customers

---

**Anton Ovechkin** (2025-10-10 11:59):
it is absolutely not nice and the reason we do not have the redirect for that particular case is because we used to have an infinite redirect loop in the past and all attempt to fix it failed, so we ended up with no-redirect from that particular case.

---

**Anton Ovechkin** (2025-10-10 11:59):
since then there were some changes introduced to the redirect handling so maybe that issue can be resolved

---

**Andreas Prins** (2025-10-10 12:02):
I'm very disappointed in myself

---

**Anton Ovechkin** (2025-10-10 12:03):
we can pair prog on it so I’ll assist you solving that

---

**Andreas Prins** (2025-10-10 12:12):
are you good at vibecoding?

---

**Anton Ovechkin** (2025-10-10 12:13):
everybody is :wink:

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-10-10 13:47):
IHAC with a good question: 
Must there be a SUSE Observability install per Rancher install and to take advantage of Project RBAC. I know I can ship the data from any cluster I want but I'm guessing only "admins" will see it.

---

**Frank van Lankvelt** (2025-10-10 14:32):
indeed - the user ids that are pushed as part of the RBAC configuration only make sense to the Rancher instance that manages the  cluster

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-10-10 14:44):
@Frank van Lankvelt I thought so. Thanks for confirming.

---

**Paul McKeith (m 248-761-6229 EDT)** (2025-10-10 19:56):
@Frank van Lankvelt Do you know if we have any plans to change this? I am wondering if it is even possible w/ot some sort of federated authN that would work assuming all instances are using the same IDP?

---

**Frank van Lankvelt** (2025-10-10 23:13):
This would be more a matter of how the oidc provider is implemented by Rancher.  Maybe if different rancher instances that share an external authentication provider also generate the same mapping, such a thing could be made to work.  But I don't know enough about how this works internally in Rancher.

---

**IHAC** (2025-10-13 09:23):
@Vincent Brannon has a question.

:customer:  CloudFire

:facts-2: *Problem (symptom):*  
Customer being logged out of Rancher until the authenticates to Observability and logs back in again.
Will upload little clip of the behaviour.
Note this is not the same as the issue previously where the login pop up appeared and was due to the lack of the service token..

---

**Vincent Brannon** (2025-10-13 09:24):
Customer has gone and created the token for lack of other ideas.. no luck.

---

**Will Stephenson** (2025-10-13 09:26):
Just a hunch, but if they are using a shared OIDC provider or Rancher as provider, does Observability have a setting like Harbor's "OIDC Session Logout" that will end the wider session after logging out of Observability?

https://goharbor.io/docs/2.14.0/administration/configure-authentication/oidc-auth/

---

**Frank van Lankvelt** (2025-10-13 09:33):
nope - logging out of observability does not affect the Rancher session (or that of an other OIDC provider)

---

**Frank van Lankvelt** (2025-10-13 09:37):
we did notice an interaction between an observability user session and the UI extension - I wonder if that could be related

---

**Vincent Brannon** (2025-10-13 09:38):
Will the .har file help? I think i have that..

---

**Frank van Lankvelt** (2025-10-13 09:38):
oh that would be nice to have indeed.

---

**Frank van Lankvelt** (2025-10-13 09:38):
did you log out of observability before the start of the clip?

---

**Vincent Brannon** (2025-10-13 09:39):
Yes they were not logged in..

---

**Marc Rua Herrera** (2025-10-13 11:00):
Hi again, one more questions. Does this query accepts any filterins, jsut as the scripting API. For example, only return health, componentn name, types and labels?

---

**Remco Beckers** (2025-10-13 11:06):
This api is also used by the UI, so it supports anything you can do there. The `query` field in the json payload supports full STQL

---

**Remco Beckers** (2025-10-13 11:07):
Or do you mean selecting only certain fields from the result object?

---

**Marc Rua Herrera** (2025-10-13 11:07):
Well, I mean in the response

---

**Marc Rua Herrera** (2025-10-13 11:07):
Yes, correct

---

**Remco Beckers** (2025-10-13 11:07):
Nope it doesn't support that

---

**Marc Rua Herrera** (2025-10-13 11:24):
```{
   "viewSnapshotResponse":{
      "components":[
         {
            "id":269259023084532,
            "name":"aiep-request-premium-service-verification",
            "lastUpdateTimestamp":1760340057195,
            "type":250979117095117,
            "layer":0,
            "domain":0,
            "state":{
               "id":154933012706889,
               "lastUpdateTimestamp":1760345562948,
               "healthState":"DEVIATING",
               "_type":"StackElementState"
            },```
The snapshot API also returns the type as an Id :pensive: Is there any call at all that returns it with the name resolved? or is there other call I can use to transform these Ids into real type names?

---

**Remco Beckers** (2025-10-13 11:27):
Yes it does. But it has a metadata section at the end of the response that contains all the types it refers to

---

**Remco Beckers** (2025-10-13 11:28):
It actually includes everything it refers to by id, so also layers, domains and environments

---

**Marc Rua Herrera** (2025-10-13 11:32):
aja!!! I see it! Thanks Remco

---

**Marc Rua Herrera** (2025-10-13 19:50):
Hi team,

I’m running into issues with the Rancher OIDC :left_right_arrow: StackState connection. I followed the steps and applied the YAML, configured the roles in Rancher, the connection appears established, but no data ever loads.

The UI just spins (loading indicator), and StackState server logs show nothing relevant (apart from a notification-related entry).

Any ideas on what I should check next? Possible pointers:
• Specific StackState pods/logs to tail?
• Any role mappings that commonly block data load?

---

**Frank van Lankvelt** (2025-10-13 23:15):
That typically is the case when the user does not have access to any component.  Could you verify that an (instance) admin user does get to see everything?

---

**Marc Rua Herrera** (2025-10-13 23:52):
I also tested with admin role. Do you have any rancher instance where I can see how the users are configured?

It is also not clear if I have to add the user in each cluster/project/namespace that I want to give the user access to this data

---

**Bram Schuur** (2025-10-14 09:17):
@Marc Rua Herrera i have not seen a meeting invitation yet, shall i set it up?

---

**Mark Bakker** (2025-10-14 09:22):
From today on, the Playground which users can use to explorer the product can be found on a new URL: https://observability.suse.com/

---

**Bram Schuur** (2025-10-14 09:36):
FYI: I filed a ticket for this one: https://stackstate.atlassian.net/browse/STAC-23545

---

**Jeroen van Erp** (2025-10-14 09:38):
Not sure, but wasn't the CLI and StackPacks page locked down in the playground? Both are accessible

---

**Vincent Brannon** (2025-10-14 09:40):
@Bram Schuur This is with the upstream provider, right?

---

**Vincent Brannon** (2025-10-14 09:40):
Incidentally no news from the customer regarding the version in use..

---

**Bram Schuur** (2025-10-14 09:41):
@Marc Rua Herrera have you gone through the docs here, and tried figuring out what groups/permissions your users have? https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/rbac/rbac_permissions.html

---

**Bram Schuur** (2025-10-14 09:42):
I filed a ticket for us to look at

---

**Frank van Lankvelt** (2025-10-14 09:42):
I think this is closely related to https://stackstate.atlassian.net/browse/STAC-23512

---

**Mark Bakker** (2025-10-14 09:50):
Good point, I ask the team to look into this.

---

**Vincent Brannon** (2025-10-14 09:51):
This STAC-23512 (https://stackstate.atlassian.net/browse/STAC-23512) is a ticket with the upstream provider of stackstate or a suse ticket? Its not the jira e normally use..

---

**Bram Schuur** (2025-10-14 09:55):
this is filed on the suse observability jira (which is a separate jira instance), so it resides with the suse observability team

---

**Marc Rua Herrera** (2025-10-14 10:21):
Hi Bram, yes. I tried the each of the default roles in global, cluster and project level. Also, I created my own global role with a copy of the admin permissions. But there was not a change in the behavior.

---

**Marc Rua Herrera** (2025-10-14 10:24):
Hi Bram, I have not yet. You can set it up for later this week.

---

**Bram Schuur** (2025-10-14 10:33):
sent out the invite

---

**Bram Schuur** (2025-10-14 10:43):
i cannot find a timeslot that fits all of us (mostly marc/mark are clashing), @Mark Bakker could you propose a time?

---

**Marc Rua Herrera** (2025-10-14 11:42):
For me Thursday is also mostly free. You can send an invitation at any time and it will work for me. However, I am traveling now to Spain for an emergency, and I might need to reschedule.

---

**Mark Bakker** (2025-10-14 11:46):
Thursday 13:00 works for me

---

**Daniel Barra** (2025-10-14 12:04):
*We are pleased to announce the release of 2.6.1, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.6.1.html).*

---

**Bram Schuur** (2025-10-14 12:06):
moved to thursday 13:00

---

**James Radtke (1.651.442.6967)** (2025-10-14 13:32):
QQ:  does this mean "play.stackstate.com (http://play.stackstate.com)" will be going away?  (if yes, timeline?)

---

**James Radtke (1.651.442.6967)** (2025-10-14 13:32):
NM - I just clicked on it ("play") and is is now a redirect.

---

**Mark Bakker** (2025-10-14 13:33):
It's indeed a redirect

---

**James Radtke (1.651.442.6967)** (2025-10-14 13:33):
cool - I was worried (worry is probably too strong a word for this) that I would need to update folks who I had provided the play URL to

---

**Mark Bakker** (2025-10-14 13:34):
That's indeed the reason for the redirect :slightly_smiling_face:

---

**James Radtke (1.651.442.6967)** (2025-10-14 13:35):
[narrator: it was indeed at this point when James realized he worries too much] :wink:

---

**James Radtke (1.651.442.6967)** (2025-10-14 13:35):
congrats on the migration/launch

---

**Bram Schuur** (2025-10-14 14:29):
@Vincent Brannon me and @Alejandro Acevedo Osorio have a question to you: Bradley Emmet of bosch informs us that you have (may have) tackled on issue on rancher authentication where the azure authenticator produced more than 150 groups, causing a non-standard flow from azure. Do you remember who/how solved this issue? (We are running into the same issue with suse observability).

If you do not know maybe you know someone who does?

---

**Alejandro Acevedo Osorio** (2025-10-14 15:09):
HI @Marc Rua Herrera, do you want me to take a look with you?

---

**Martin Weiss** (2025-10-14 16:20):
Any idea why I might see a Suse-observability node driver in Rancher 2.12.2? And why does it have such a strange "local://"?

---

**Marc Rua Herrera** (2025-10-14 16:38):
Hi Alex! Yes, please. I would appreciate it.

---

**Alejandro Acevedo Osorio** (2025-10-14 16:39):
do you have time now?

---

**Marc Rua Herrera** (2025-10-14 16:39):
No, I am off today.

---

**Frank van Lankvelt** (2025-10-14 16:40):
if  you're running the latest Observability UI extension, you should be able to remove it from the "configuration page"

---

**Frank van Lankvelt** (2025-10-14 16:40):
it was used in earlier versions to proxy requests to Observability through Rancher

---

**James Radtke (1.651.442.6967)** (2025-10-14 16:44):
I believe there have been some conversations around this (I'll try to find them).
I had discovered the same issue when trying to troubleshooting something else - and I was initially alarmed/concerned but learned it was a (essentially) a non-issue

---

**James Radtke (1.651.442.6967)** (2025-10-14 16:45):
https://suse.slack.com/archives/C079ANFDS2C/p1758277670142669

---

**Martin Weiss** (2025-10-14 16:49):
So basically a defect in the suse-observability extension that did not remove it as part of an upgrade?

---

**James Radtke (1.651.442.6967)** (2025-10-14 16:50):
(mine wasn't even an upgrade - for the record)

---

**Frank van Lankvelt** (2025-10-14 16:51):
yeah - well the thing is the lifecycle of extensions is very limited for upgrades

---

**Frank van Lankvelt** (2025-10-14 16:51):
there should now be a button on the configuration page for observability that triggers the cleanup

---

**Martin Weiss** (2025-10-14 17:02):
Hm - my hope was that the extension is "just" a set of yaml delivered as helm chart - so removing would be possible with an upgrade of the extension.. but maybe my understanding is completely wrong :wink:

---

**Frank van Lankvelt** (2025-10-14 17:05):
we try to do what we can with that method.  But some things require API calls

---

**Frank van Lankvelt** (2025-10-14 17:08):
we have an internal release (2.2.8) that should address this issue.  It is available in the helm repository https://stackvista.github.io/rancher-extension-stackstate
We're putting it through our own QA now, but you may want to verify that this release works for you.  If it does, we'll release it to the public.

---

**Frank van Lankvelt** (2025-10-14 17:10):
There's a new version (2.2.8) available in our pre-release helm repo: https://stackvista.github.io/rancher-extension-stackstate
Could you verify that this addresses your problem?

---

**gaetan.trellu** (2025-10-14 17:18):
Works for me!

---

**Frank van Lankvelt** (2025-10-14 17:18):
Cool!  Thanks for checking!

---

**gaetan.trellu** (2025-10-14 17:26):
Thanks for the fix!

---

**Martin Weiss** (2025-10-14 17:39):
sad - so if it is required to manually remove this - how do we tell customers?

---

**Frank van Lankvelt** (2025-10-14 17:54):
I did try to automate it as much as possible.  If the node driver is lingering, a button appears on the configuration page.  Clicking that button will remove the node driver.

---

**Martin Weiss** (2025-10-14 18:03):
Ok - any idea where this should show up? Or do I need a newer version of the extension for that?

---

**Frank van Lankvelt** (2025-10-14 18:34):
That is indeed in later versions (2.2.7)

---

**Frank van Lankvelt** (2025-10-14 18:36):
But I don't know if that is available yet for an air gapped environment

---

**Martin Weiss** (2025-10-14 20:19):
Ah - probably not as part of Rancher 2.12.2..

---

**Martin Weiss** (2025-10-15 15:56):
Is it true that we do NOT deliver suse-observability-agent-rbac-agent image (registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206)) for aarch64?

---

**Mark Bakker** (2025-10-15 16:09):
@Bram Schuur if this is true, we need to change this

---

**Bram Schuur** (2025-10-15 16:11):
i see them being built by our pipelines, do you have a problem deploying it at a customer?

---

**Javier Lagos** (2025-10-15 16:16):
```skopeo inspect <docker://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206> | grep Architecture
    "Architecture": "amd64",```

---

**Bram Schuur** (2025-10-15 16:17):
i filed the following ticket and brought it into our sprint immediately: https://stackstate.atlassian.net/browse/STAC-23577 @Louis Parkin @Alessio Biancalana could one of you take this the next moment you have time to pick this up?

---

**Bram Schuur** (2025-10-15 16:31):
@Alessio Biancalana it seems the manifest is properly uploaded to quay, but not to the rancher registry. It could be this went wrong somehow when copying the images from quay to the rancher registry

```bram@bram-XPS-15-9520:~$ docker manifest inspect registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206) 
{
	"schemaVersion": 2,
	"mediaType": "application/vnd.oci.image.manifest.v1+json",
	"config": {
		"mediaType": "application/vnd.oci.image.config.v1+json",
		"size": 1900,
		"digest": "sha256:6405466e002083a15febd7f750a1b0ba86e43ede296a132277e0e56da8813a71"
	},
	"layers": [
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 104272,
			"digest": "sha256:fd4aa3667332c2a4837e1b5f395b0555b3c4ec299e38166ae93ee84bad01befa"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 13356,
			"digest": "sha256:bfb59b82a9b65e47d485e53b3e815bca3b3e21a095bd0cb88ced9ac0b48062bf"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 544074,
			"digest": "sha256:017886f7e1764618ffad6fbd503c42a60076c63adc16355cac80f0f311cae4c9"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 31240,
			"digest": "sha256:62de241dac5fe19d5f8f4defe034289006ddaa0f2cca735db4718fe2a23e504e"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 67,
			"digest": "sha256:2780920e5dbfbe103d03a583ed75345306e572ec5a48cb10361f046767d9f29a"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 188,
			"digest": "sha256:7c12895b777bcaa8ccae0605b4de635b68fc32d60fa08f421dc3818bf55ee212"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 123,
			"digest": "sha256:3214acf345c0cc6bbdb56b698a41ccdefc624a09d6beb0d38b5de0b2303ecaf4"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 168,
			"digest": "sha256:5664b15f108bf9436ce3312090a767300800edbbfd4511aa1a6d64357024d5dd"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 93,
			"digest": "sha256:045fc1c20da893bef6d0ed64e92b243213b0cebcd478389573bdfb095e212a98"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 385,
			"digest": "sha256:4aa0ea1413d37a58615488592a0b827ea4b2e48fa5a77cf707d0e35f025e613f"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 321,
			"digest": "sha256:da7816fa955ea24533c388143c78804c28682eef99b4ee3723b548c70148bba6"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 131927,
			"digest": "sha256:ddf74a63f7d8b7d157e5db1a45675a58e304b4c1d425b05c28c835b987623395"
		},
		{
			"mediaType": "application/vnd.oci.image.layer.v1.tar+gzip",
			"size": 22632033,
			"digest": "sha256:17166a363d187b45336cac99d3bf9e27511e34ac866faabf70584cf3ff1d1fcf"
		}
	]
}
bram@bram-XPS-15-9520:~$ docker inspect manifest quay.io/stackstate/kubernetes-rbac-agent:a86c6c81@sha256:ce671962bb28d2cdf2a7a63cf35d33^C (http://quay.io/stackstate/kubernetes-rbac-agent:a86c6c81@sha256:ce671962bb28d2cdf2a7a63cf35d33^C)
bram@bram-XPS-15-9520:~$ docker manifest inspect quay.io/stackstate/kubernetes-rbac-agent:35ec5206 (http://quay.io/stackstate/kubernetes-rbac-agent:35ec5206)
{
   "schemaVersion": 2,
   "mediaType": "application/vnd.oci.image.index.v1+json",
   "manifests": [
      {
         "mediaType": "application/vnd.oci.image.manifest.v1+json",
         "size": 2266,
         "digest": "sha256:fe6046b0f0431f5f272bccdb68e940341ee1b0bb442a1db3c6d3f3b0f1ae44fc",
         "platform": {
            "architecture": "amd64",
            "os": "linux"
         }
      },
      {
         "mediaType": "application/vnd.oci.image.manifest.v1+json",
         "size": 2266,
         "digest": "sha256:b757bd7baeeaf224113afe99e09f635949e9380e112663808620a2841689cba9",
         "platform": {
            "architecture": "arm64",
            "os": "linux",
            "variant": "v8"
         }
      }
   ]
}
bram@bram-XPS-15-9520:~$ ```

---

**Alessio Biancalana** (2025-10-15 16:32):
yeah I was indeed inspecting how we upload the manifests to rancher because quay.io/stackstate/kubernetes-rbac-agent:35ec5206 (http://quay.io/stackstate/kubernetes-rbac-agent:35ec5206) is indeed arm64 capable :confused:

---

**Louis Parkin** (2025-10-15 16:42):
@Bram Schuur won't we have the same issue with the agent images?

---

**Alessio Biancalana** (2025-10-15 16:43):
I was wondering the same, let's see if we can quickfix this

---

**Louis Parkin** (2025-10-15 16:43):
They could also override their chart with quay.io/stackstate/kubernetes-rbac-agent:35ec5206-arm64 (http://quay.io/stackstate/kubernetes-rbac-agent:35ec5206-arm64) (unless we upload this image to the rancher container registry, then the path should be updated).

---

**Louis Parkin** (2025-10-15 16:44):
I don't know which job copies them across...

---

**Bram Schuur** (2025-10-15 16:50):
Alright, so the arm-enabled manifest should now be pulished, i can observe it:
```bram@bram-XPS-15-9520:~$ docker manifest inspect registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206) 
{
   "schemaVersion": 2,
   "mediaType": "application/vnd.oci.image.index.v1+json",
   "manifests": [
      {
         "mediaType": "application/vnd.oci.image.manifest.v1+json",
         "size": 2266,
         "digest": "sha256:fe6046b0f0431f5f272bccdb68e940341ee1b0bb442a1db3c6d3f3b0f1ae44fc",
         "platform": {
            "architecture": "amd64",
            "os": "linux"
         }
      },
      {
         "mediaType": "application/vnd.oci.image.manifest.v1+json",
         "size": 2266,
         "digest": "sha256:b757bd7baeeaf224113afe99e09f635949e9380e112663808620a2841689cba9",
         "platform": {
            "architecture": "arm64",
            "os": "linux",
            "variant": "v8"
         }
      }
   ]
}
bram@bram-XPS-15-9520:~$ ```

---

**Bram Schuur** (2025-10-15 16:51):
@Javier Lagos can you verify from your side and notify customer if you also see it fixed on your side?

---

**Javier Lagos** (2025-10-15 16:51):
I'm on it! thanks guys!

---

**Davide Rutigliano** (2025-10-15 17:35):
Hey SUSE Observability folks, I recently started playing around with MCP servers and implementing a (bare minimum) MCP for SUSE Observability. I thought Hackweek was a great opportunity to dedicate some time to the project and possibly get other people onboard :party_conga_parrot:

If you're interested, please jump in! https://hackweek.opensuse.org/25/projects/suse-observability-mcp-server :stackstate-intensifies:

---

**Marc Rua Herrera** (2025-10-15 23:34):
Hi guys, I am sorry but I won’t be able to join tomorrow. I had to run to Spain on Tuesday, my mom had an emergency. Things are turning to worst and I it needs all my attention.

---

**Leo Fransson** (2025-10-16 06:51):
Hi Team, does anyone have a customer using SUSE Observability and have configured tracing using Dapr? I have a customer that is working with their Observability environment who are keen to know more. Renewals ongoing so would be happy if you can share. Please DM me. Thanks.

---

**Mark Bakker** (2025-10-16 07:54):
Take care!

---

**Bram Schuur** (2025-10-16 08:43):
Ay, take care

---

**Mark Bakker** (2025-10-16 09:25):
Hi Leo, in theory this should just work:
1. Install local Otel Collector in Kubernetes
    a. Use the provided configuration (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/otel/getting-started/getting-started-k8s.html) for this collector
    b. Point this collector to the SUSE Observability server endpoint
2. Point Dapr Otel config to the local otel collector

---

**Leo Fransson** (2025-10-16 09:30):
Thank you so so much @Mark Bakker Will pass on to customer (Sandvik) today. All the best!

---

**John Meza** (2025-10-16 18:21):
Hi Team, do we documentation on recommendations for monitoring/alerting on K8s clusters using suse observability? Example alerts and best practices that we can share with a customer. Thanks!

---

**John Meza** (2025-10-16 18:54):
nvm, found it. https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/kubernetes-monitors.html

---

**Leo Fransson** (2025-10-16 19:09):
@Mark Bakker Quick feedback. Customer Sandvik got it working today. Many thanks. Leo

---

**Bram Schuur** (2025-10-17 10:54):
a great way to explore the capabilities and monitors aswell is through our playground: https://observability.suse.com/#/welcome ( a live instance that allows investigating an actual running setup)

---

**Dawid van der Merwe** (2025-10-17 11:29):
Hi Team, just to give some feedback.

The client oversubscribed the deployment, which caused a few errors to occur. Memory was an issue, log ingestion could not be maintained, causing failures in pods, and certain pods not being able to start up.

The solution proposed was to enlarge the deployment to accommodate the volume or decrease the number of agents using the platform.

The client opted to decrease for now and then to do a proper scoping for the final prod deployment.

---

**Remco Beckers** (2025-10-17 11:30):
Thanks for the update

---

**aki.liu** (2025-10-20 08:59):
Hello Team,

IHAC asking if SUSE Observability integrated with Rancher , is the Rancher Audit logs able to capture the SUSE Observability access , RBAC event log &amp; Logs all user and system actions? Thanks!

---

**Remco Beckers** (2025-10-20 09:04):
Ranchers audit log won't capture SUSE Observability access. At the moment there is no audit log for SUSE Observability

---

**aki.liu** (2025-10-20 11:14):
Hello Team,

IHAC asking if SUSE Observability can monitor the following? Thanks

Control Plane monitor
Leader Election Events
Controller Sync Duration &lt; 1s
Error Rate &lt; 1%
Scheduler Latency &lt; 100ms


API Server monitors
Request Latency &lt; 100ms
Request Rate (depends)
Error Rate &lt; 1%
Inflight Requests : config limit


ETCD monitors
Latency (read/write) &lt; 50ms
Commit Duration &lt; 100ms
Database Size
Leader Changes
Number of Keys

---

**aki.liu** (2025-10-20 11:27):
Thanks Remco for your quick reply!

---

**aki.liu** (2025-10-20 11:34):
Hello Team,

one more SUSE Observability questions from the same customer,
if data growing beyond the retention periods, for example customer would like to keep 1 year data. would it be possible to moving data to the 2nd tier storage? thanks

---

**Martin Weiss** (2025-10-20 12:34):
Do we have some overview which versions of suse-observability/suse-observability-agent/suse-observability-values belong together so that we can clearly find an upgrade order? i.e. we are on 2.4.0/1.0.61/1.2.2 - but which agent and values helm charts fit for 2.50 and 2.6.1 (assuming we need to do 2.5.0 as an intermediate step).. maybe we also need to know which Rancher Extension Versions are required?

---

**Remco Beckers** (2025-10-20 17:45):
The agent and the Rancher extension don't have any specific compatibility requirements. They should work with any of those versions (especially for the agent this is something we try to maintain and will surely put a big warning in the release notes when there is an incompatibility that requires upgrading all agents as well).

---

**Remco Beckers** (2025-10-20 17:47):
For the values chart there are some restrictions where the newest versions don't work well with the older SUSE Observability chart, but we don't have a compatibility matrix as far as I know. The one thing I do know is that the latest version of both SUSE Observability and the values chart will work. For the older version I'll need to do a more in depth lookup.

---

**Remco Beckers** (2025-10-20 17:52):
Finally: there is no requirement to do intermediate upgrade steps. It is ok to simply go from 2.4.0 to 2.6.1, but I suggest reading the release notes of all releases from 2.5.0 upward to make sure you know what changed.

---

**Remco Beckers** (2025-10-20 17:53):
I'm also creating a Jira ticket to update our documentation with this info because I can't find it there either (especially the values chart compatibility)

---

**Martin Weiss** (2025-10-20 18:05):
Thanks! Would really be great to have at least some sort of version overview to make sure we align the version combinations with what we test in our QA.. just to make sure we reduce variations :slightly_smiling_face:

---

**Remco Beckers** (2025-10-21 08:53):
Out-of-the-box the SUSE Observability agents are not configured to collect these metrics and SUSE Observability doesn't have monitors for this.

It is possible to collect the metrics and add your own monitors for this, but that's not a 5 minute job.

---

**Remco Beckers** (2025-10-21 08:56):
We don't support 2nd tier storage at the moment.

---

**aki.liu** (2025-10-21 09:14):
Thanks Remco , May I ask would it be possible to import these metrics from prometheus and then we can simply add a custom dashboard?

---

**Derek So** (2025-10-21 09:19):
Thanks @Remco Beckers. Does SUSE Observability support users to use their own existing elasticsearch instance?

---

**Remco Beckers** (2025-10-21 09:27):
You could setup prometheus remote write or an otel collector to ship the metrics from Prometheus to SUSE Observability. But, to be honest, that is a very sub-optimal solution. If you really want to collect them I would rather look into collecting them diretly from Kubernetes with the OTel collector so you don't also have to run Prometheus

---

**Remco Beckers** (2025-10-21 09:29):
We don't support using an external, existing, Elasticsearch. Elasticsearch clients and servers have a complex compatibility matrix, so we would typically get into trouble with that. Then there is the matter that we are doing some specific configuration and setup which we would have to document and people would need to do manually. This all will increase potential issues and support load.

---

**Martin Weiss** (2025-10-21 10:18):
FYI - the root cause for my problem was this:

Does not Work: `rancherUrl='https://rancher.vrz.verkehrszentrale.nrw'`

Works: `rancherUrl='"https://rancher.vrz.verkehrszentrale.nrw"'`

So it seems the value for `allowedOrigins:` needs to be a list of strings in quotes..

Does not work:

```  allowedOrigins:
    - https://rancher.vrz.verkehrszentrale.nrw```
Works:
```  allowedOrigins:
    - "https://rancher.vrz.verkehrszentrale.nrw"```

---

**aki.liu** (2025-10-21 12:17):
Thanks @Remco Beckers

Since the customer is specifically asking if SUSE Observability can monitor these default Prometheus / Grafana metrics for Control Plane / API Server / Etcd,
it would be very helpful if we could show them how to add these monitoring in SUSE Observability.

I understand it requires custom configuration. To help us demonstrate the flexibility of SUSE Observability,
would you be able to provide the steps or documentation on how to  configure the otel collector and build those monitors and dashboard?

Thank you for your support!

---

**Remco Beckers** (2025-10-21 12:19):
That's not something I can write up in 5 minutes (or half an hour), because we don't have the details for this ready. I can only create a feature request for that at the moment.

---

**Remco Beckers** (2025-10-21 12:20):
I'll also ask around if someone in our team if anyone has done this already.

---

**Remco Beckers** (2025-10-21 12:35):
A small update. If the customer runs the node agent daemonset also on their control plane nodes we generate HTTP(S) traffic metrics. Based on these metrics (the application perfomrance metrics on the api server pods) monitors can be defined with the exact settings the customer wants for this.

---

**Remco Beckers** (2025-10-21 12:36):
This is only a small subset of the question and they still have to create their own monitors for this though.

---

**Derek So** (2025-10-21 13:03):
Thanks @Remco Beckers Is there any demo video we can show to customer on monitoring k8s control plane?

---

**Remco Beckers** (2025-10-21 13:23):
Not that I know. We've always been focused on monitoring applications on Kubernetes, not monitoring the control plane.

---

**Derek So** (2025-10-22 02:39):
is there any feature request for k8s control plane monitoring capability? If not, we’d like to submit one.

---

**Remco Beckers** (2025-10-22 10:09):
I couldn't find one. I'll add it to the list. cc: @Mark Bakker

---

**Marc Rua Herrera** (2025-10-22 14:25):
Hi everyone,
During the installation of the Rancher connection with SUSE Observability, we encountered several issues. Mainly that the data was not loading properly. After investigating it with @Alejandro Acevedo Osorio, he discovered the cause.
When Rancher uses an OIDC provider (like Keycloak in our case), it adds a prefix (`keycloakoidc_group://`) to the user’s group names. However, the default RoleBindings in SUSE Observability are defined *without* this prefix, since it’s not possible to predict what Rancher will add.
As a result, the setup only works once the SUSE Observability cluster is *added to Rancher*, because Rancher then creates a `ClusterRoleBinding` with the correct prefixed subject (`keycloakoidc_<group://suse-observability-instance-admin>`).
My question is:
1. Is this behavior intentional?
2. Is it expected that this feature won’t work unless the SUSE Observability cluster is registered within Rancher?
Thanks in advance for clarifying!

---

**Alejandro Acevedo Osorio** (2025-10-22 14:37):
The setup that Marc is trying to achieve here is one where the cluster where Suse Observability is installed is not managed by Rancher, but does use Rancher as OIDC provider. And then at least some (Cluster)RoleBinding would need to be created in the Suse Observability cluster to make it work. (which is what Rancher does behind the scenes of course when manages a cluster)
Do we want to help customers get this kind of setup going?

---

**Louis Lotter** (2025-10-22 14:38):
why would they run rancher just as an oidc provider ?

---

**Marc Rua Herrera** (2025-10-22 14:39):
So they don't have to configure anything else. They leverage rancher users/roles.

---

**Marc Rua Herrera** (2025-10-22 14:40):
On top of that, if they put Stackstate outside rancher, they do not pay the rancher license for that cluster

---

**Louis Lotter** (2025-10-22 14:41):
I think this is something for @Mark Bakker

---

**Bram Schuur** (2025-10-23 09:04):
We did not cater for this situation where SUSE Observability is in a non-rancher cluster indeed, we are supporting the case where all clusters are managed by rancher.

I also think we should wait for @Mark Bakker’s judgement whether we support this,

my initial hunch is no, especially if they are trying to limit costs somehow, or we need to change our pricing structure so the observability cluster becomes 'free' or somesuch.

I'm putting this into the 'incoming sprint for discussion

---

**Bas van Kampen** (2025-10-23 15:04):
I need some guidance for deploying SUSE Observability on a RKE2 cluster running in VMs on a Harvester Cluster. For what I read 150 HA is more or less the minimal setup for a production cluster. How is storage replicated in a HA setup and what for Longhorn Storage classes should I need. Normally data is replicated 3 times in Longhorn and I think its 2 times replicated within Obs.  So 1 TB of data will cost the customer 1 x 2 x 3 = 6 TB of diskspace? What are the real risks for choosing a non HA setup? Or should I go for 2 replicas in Longhorn (or not using Longhorn at all)? Or something else. Thanks.

---

**Remco Beckers** (2025-10-23 16:14):
The difference between HA and non-HA is that data stores will run in an HA setup and can tolerate one of the db instances going down without causing immediate issues for users and data processing. So this means that there are at least 2 or 3 (depending on the store) instances running and we configure data replication to store 2 replicas of the data (1 original and a copy).

The services that do the data processing are still running only with a single instance, so if the API pod crashes you would still have a short period of downtime until the pod is restarted.

So if you switch to non-ha you give up not only data redundancy but also resilience to pod crashes  and more graceful handling (ideally) of rolling node upgrades.

---

**Remco Beckers** (2025-10-23 16:16):
Having 6 replicas of the data would not make much sense at all

---

**Remco Beckers** (2025-10-23 16:17):
Not using longhorn at all might be a good choice as well, we've seen in the past some issues with Longhorn for storage. For example this one https://suse.slack.com/archives/C079ANFDS2C/p1740740593461939

---

**Remco Beckers** (2025-10-23 16:20):
IIRC the main problem was that under high load on the nodes running Longhorn writes could get stalled and/or time out causing problems for HDFS.

---

**Bas van Kampen** (2025-10-23 16:24):
Okay thanks, are there example of architectures for these kind of deployments (on 100% SUSE infrastructure, Rancher, RKE2, Harvester, Longhorn) or are most obs cluster deployed on bare metal?

---

**Remco Beckers** (2025-10-23 16:26):
To be honest, I don't know. @Amol Kharche do you have some of these examples within the support team?

---

**Martin Weiss** (2025-10-23 16:36):
Maybe we need to use a storage class with replica 1 in case the application (stateful sets in SUSE Observability) do replication on their own?

---

**Bas van Kampen** (2025-10-23 17:27):
@Martin Weiss Yes maybe, but not a fan of it because in case of maintenance or failures you cannot move VM to other nodes. The question is should Obs or Longhorn give you the HA.

---

**Martin Weiss** (2025-10-23 18:29):
Yeah - religious question - I prefer storage "outside" of Kubernetes with CSI if I can have that.. then this question does not show up :wink:  (do not like hyper converged..)

---

**Slackbot** (2025-10-24 10:42):
This message was deleted.

---

**Wilco van der Stek** (2025-10-24 10:43):
I do see https://suse.slack.com/archives/C07DUPSJUPM/p1759149577621349

---

**Nico Lamberti** (2025-10-24 10:44):
Hi, who can I contact for supporting me in a partner meeting for: SUSE Cloud Observability (AWS SaaS)?

---

**Remco Beckers** (2025-10-24 10:51):
I think that would be @Mark Bakker (back from vacation on Monday). Or do you have other suggestions @Louis Lotter ?

---

**Louis Lotter** (2025-10-24 10:58):
@Nico Lamberti Can you expand a bit more on what a partner meeting is and what kind of support you are looking for ?

---

**Nico Lamberti** (2025-10-24 12:42):
My Partner FullStackS (strategic SPLUNK partner) knows SUSE Observability quite well and did already some integration. They ask me to have conversation around SUSE Cloud Observability and explaining the benefits and/or limitations using it as a SaaS, also sharing some success stories and use cases. Is this something you can support me with in a call? Thank you BR Nico

---

**Louis Lotter** (2025-10-24 13:08):
@Jeroen van Erp With Mark on leave  can you  help out here or suggest someone ?

---

**Jeroen van Erp** (2025-10-24 13:10):
Isn't Mark back on Monday? Or is he gone longer?

Given it's about existing success stories also, maybe Storm has some ideas?

---

**Louis Lotter** (2025-10-24 13:20):
Mark will be back next week. @Jeroen Storm Do you have any ideas ?

---

**Mark Bakker** (2025-10-27 09:23):
@Nico Lamberti feel free to invite me

---

**Mark Bakker** (2025-10-27 09:26):
@Marc Rua Herrera they don't need to pay for the cluster running observability if they just manage it with Rancher since Rancher Management Nodes (which in this case is the case) are not part of the Worker nodes for which they need to pay.

---

**Marc Rua Herrera** (2025-10-27 10:05):
Does this mean StackState should be installed in the Rancher management cluster? From what I understand, best practice is usually to deploy StackState in a separate observability cluster, is that correct?
Also, for larger StackState instances, wouldn’t running it in the Rancher management cluster put too much load on the management server?

---

**Bram Schuur** (2025-10-27 10:17):
We explicitly advise against installing into the management cluster indeed. @Mark Bakker is it possible to provision management nodes in a downstream cluster?

---

**Mark Bakker** (2025-10-27 10:25):
In the pricing management nodes which are described as nodes running either K8S Management, Security or Observability are out of scope for the total amount of nodes a client needs to pay for.

---

**Mark Bakker** (2025-10-27 10:25):
So I don't refer to K8S Management nodes or K8S management cluster but to nodes running management tasks.

---

**Derek So** (2025-10-27 10:58):
Hello, is there any further documentation on the stackpack / SUSE Observability extension about automated anomaly detection? We have a customer interested in this. Thanks!

---

**Frank van Lankvelt** (2025-10-27 11:04):
it's probably best to start with "Dynamic Threshold" monitors - https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/alerting/k8s-dynamic-threshold-monitors.html

---

**Frank van Lankvelt** (2025-10-27 11:07):
this feature does need the `anomaly-detection.enabled` flag to be `true` - that will spin up the "spotlight" manager and worker pods.  Those take care of (dynamic) recording rules to prepare historic data for the DT monitor.

---

**Derek So** (2025-10-27 11:09):
Thanks @Frank van Lankvelt! Does this feature has anything to do with the stackpack / SUSE Observability extension? Does it mean the feature flag enablement requires the AAD extension installed?

---

**Frank van Lankvelt** (2025-10-27 11:11):
The Stackpack indeed takes care of provisioning the monitors / functions.  So you'll need to do both - enable the anomaly detection in the helm values and install the stackpack

---

**Frank van Lankvelt** (2025-10-27 11:12):
when the monitor functions have been installed, the documentatoin page should help you get started on creating custom monitors

---

**Derek So** (2025-10-27 11:12):
Great! Thanks for your help!

---

**Marc Rua Herrera** (2025-10-27 11:24):
Okay, understood. But is there any way to tell Rancher that this downstream cluster, where StackState is installed, should be treated as a management cluster rather than a standard downstream cluster that counts towards the license?

---

**Marc Rua Herrera** (2025-10-27 12:43):
This is the statement I got from a customer:
```We are charged per core which is allocated to the worker nodes of the downstream cluster nodes in Rancher and we are also charged for the SLES OS licensing.
This means that if we create a Utility cluster, we will be charged for the vCPU's and OS license for that utility cluster. (Eg. If we have 3 control plane nodes and 3 worker nodes in the utility cluster, with 8 vCPU's per node, we will be charged for 6x SLES licenses and 24x (3x8) cores for the worker nodes)```
Do you know anyone that can clarify it?

---

**Mark Bakker** (2025-10-27 14:12):
Hi Mark this is what we charge:

*How do we count nodes?*
We count only worker nodes, a Kubernetes worker node runs containerized workloads.
• Rancher Management, Observability Management, and Kubernetes control plane nodes (master nodes) are included in the subscription. 
• A control plane/master node that runs a workload, must be accounted for as a worker node.
See this document (https://docs.google.com/document/d/151wF_VoTo1uSG7VbjcPmRNf9bKsGgBA6XGKEL0qn0JE/edit?pli=1&amp;tab=t.0#heading=h.rlhddxnxkvmh)

The SLES licenses I don't know for sure but assume indeed that that is true. Best to ask that question in <#C058LFK4X61|>

---

**Thiago Bertoldi** (2025-10-27 20:54):
Hey guys, need some help with the suse-observability-agent-rbac-agent. It's in a crash loopback, indicating a 401 in the logs, but the API Key I set in the agent installation seemed OK. Do you guys have any pointers?

---

**Remco Beckers** (2025-10-28 08:34):
For the RBAC agent it is required to use a cluster specific service token instead of the API key that is setup during the Helm installation. Otherwise it is possible to gain access to other clusters that you wouldn't have access to otherwise.

It is anyway recommended to start using the service tokens for all agents, instead of a single API key that we used to have. The easiest way to get a service token is on the Instance for your cluster of the Kubernetes stackpack (there is a big blue button). Alternatively, you can create one using the CLI. (https://documentation.suse.com/cloudnative/suse-observability/latest/en/use/security/k8s-service-tokens.html#_authenticate_using_service_tokens_for_data_ingestion)

---

**Marc Rua Herrera** (2025-10-28 11:17):
Hi! Opening again here the discussion. I am having again the same error with Bosch. Same configuration. The only difference I see is they are using Azure AD. Does the callback URL has to be different if they are using Azure AD as idp?

---

**Frank van Lankvelt** (2025-10-28 11:25):
in a word: no

---

**Frank van Lankvelt** (2025-10-28 11:26):
which IDP is backing Rancher and how to communicate with it is up to Rancher

---

**Amol Kharche** (2025-10-28 11:29):
What URI is configured ? `https://stackstate.acme.com/loginCallback` or `https://stackstate.acme.com/loginCallback?client_name=StsOidcClient`. ?
I saw in the past with one of the customer that they are using `loginCallback?client_name=StsOidcClient` which doesn't work , Later we changed to just `https://stackstate.acme.com/loginCallback`  and it works.

---

**Marc Rua Herrera** (2025-10-28 11:33):
we tried both

---

**Thiago Bertoldi** (2025-10-28 12:37):
Thanks for the help, I'll try it sometime today.

---

**Jeroen Storm** (2025-10-28 16:44):
@Nico Lamberti sorry for my late reply but feel free to include me!

---

**Nico Lamberti** (2025-10-28 17:02):
hi all, sure, thank you for your answers - I will now coordinate the meeting and come back to you.

---

**Marc Rua Herrera** (2025-10-29 16:50):
Hi again,

I’m reopening this discussion after talking to the account executive for this particular customer (Capricorn). His response was clear:

&gt; @Marc Rua Herrera The observability add-on should follow the same rules as Rancher Prime. Therefore, if the customer is paying for 24 cores of Rancher Prime for the worker nodes, they should also purchase 24 cores of Observability.
Given this circumstances, this customer installed Stackstate in a K3s cluster outside rancher. The main question is whether we support their setup: having SUSE Observability running _outside_ of Rancher to reduce costs.

Given that Rancher OIDC RBAC doesn’t work if StackState is not deployed inside Rancher (as it does not create the role and role bindings), what would be the recommended approach in this scenario?

Thanks,

---

**Ron Terry** (2025-10-29 16:51):
Hi all. I am having problems with Observability pods not restarting after a reboot of the cluster. It is a single node cluster running on RKE2 and the VM has 16 vCPUS and 32GB RAM running Ovservability v2.4.0. Deleting the pods that aren't starting so they get restarted does not seem to help as the return to the same state or get stuck in Init or CrashLoopBackoff. Observability was running just fine after install, this only happens after a reboot.

Any suggestions or ideas? (FYI, this is for the SKO demo environment for the SAs so priority is kind of high)

---

**Vladimir Iliakov** (2025-10-29 18:54):
Hi, can you attach the full log of the Kafka pod `kubectl logs -p &lt;kafka-pod-name&gt;` ?

---

**Vladimir Iliakov** (2025-10-29 18:55):
A server pod depends on Kafka, so first step is to check what is wrong with it...

---

**Ron Terry** (2025-10-29 19:22):
Thanks for the help. Logs are attached.

---

**Vladimir Iliakov** (2025-10-29 19:37):
I have never seen it before.
This is from GPT
Common Causes of Checkpoint File Corruption
1. *Abrupt System Shutdown*
• Unexpected power loss or force-killing Kafka processes can interrupt checkpoint file writes
• The file uses a write-temp-then-rename pattern, but interruptions can leave it in an inconsistent state
2. *Disk Space Issues*
• Running out of disk space during a checkpoint write operation
• Partial writes due to insufficient space can corrupt the file format
3. *Filesystem Corruption*
• Underlying filesystem issues or bad disk sectors
• File system errors during I/O operations

---

**Vladimir Iliakov** (2025-10-29 19:41):
What is used for the persistent volumes?

---

**Ron Terry** (2025-10-29 19:44):
Longhorn is installed on that cluster and used for PVs. It is configured for single replicas (its a single node cluster). df -h shows there is 147GB of available space on the disk. The disk is 200GB total.

---

**Vladimir Iliakov** (2025-10-29 19:46):
So it seems like a data corruption either due to disk issues or Kafka was terminated forcefully.
Maybe <!subteam^S08HHSW67FE> or <!subteam^S08HEN1JX50> can add anything.

I don't have any other suggestions but delete the kafka pvc and statefulset and then run `helm upgrade ...` command again.

---

**Vladimir Iliakov** (2025-10-29 19:48):
SUSE Observability doesnt work well on Longhorn or NFS, due to Stackgraph being disk sensitive. This is the first time I see Kafka having issues.

---

**Ron Terry** (2025-10-29 19:54):
Hmm, I was not aware of the issues with Longhorn. What would be a better solution for a storage on a single node cluster used in a demo environment running in a VM?

---

**Ron Terry** (2025-10-29 19:56):
I have deployed many instances of Observability this way in lab/demo environments and this is the first time I am seeing these type of errors as well. If I can do it in a better way going forward I am open to that.

---

**Vladimir Iliakov** (2025-10-29 20:04):
I usually use the ones that come with a K8s distribution. For RKE2 you probably can use this one https://github.com/rancher/local-path-provisioner.

---

**Vladimir Iliakov** (2025-10-29 20:05):
BTW, how the cluster was rebooted?

---

**Ron Terry** (2025-10-29 20:05):
OK. I'm redeploying the cluster now. I'll try with local-path-provisioner.

---

**Vladimir Iliakov** (2025-10-29 20:06):
The question is whether all the pods were terminated gracefully?

---

**Ron Terry** (2025-10-29 20:07):
It was shut down by just shutting down the VM with the power off command.
Is there a better way to shut down the cluster to ensure all pods terminate gracefully before shutting down the host machine?

---

**Vladimir Iliakov** (2025-10-29 20:11):
The most reliable way is to cordon K8s node and then perform VM/Host level operations.

---

**Dinesh Chandra** (2025-10-29 21:23):
is this available for new SUITE customer yet? Customer with airgap setup is asking for this feature.

---

**Remco Beckers** (2025-10-30 08:10):
I don't have any other suggestions. It does seem likely that an uncoordinated shutdown caused this. I'm not sure how Longhorn deals with cases like this, but it could even be Longhorn was stopped before Kafka and Kafka couldn't finish writing some data because of that.

---

**Remco Beckers** (2025-10-30 08:12):
I'm however not 100% sure it is enough to remove the Kafka PVC. Kafka also has state in Zookeeper that will mismatch the state on disk after removing the PVC.

---

**Remco Beckers** (2025-10-30 08:12):
That is fixable by manually removing the zookeeper keys, but it is a lot easier to do a clean install if you can.

---

**Mark Bakker** (2025-10-30 09:19):
No not yet, which customer?

---

**Dinesh Chandra** (2025-10-30 09:19):
It’s one of the Federal Government Agency in Australia

---

**Bas van Kampen** (2025-10-30 09:47):
Hi, a crosspost because I didn't know where to ask this: https://suse.slack.com/archives/C07UJNX5S3E/p1761755680698179

---

**Vladimir Iliakov** (2025-10-30 10:13):
<!subteam^S08HHSW67FE> <!subteam^S08HEN1JX50> that is strange
Some of the data from the node is available in SUSE Observability, like status (though it looks incomplete) and events. So it is not very clear to me where the problem is in the platform, or on the agent/kubelet side?

@Bas van Kampen can you collect logs as explained here https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/support-package-logs.html
from both clusters, the one with SUSE Observability and the other one with agent

---

**Bas van Kampen** (2025-10-30 10:23):
`cluster-gpu` is running the AI workload and `cluster-dell` is running SUSE Obs.

---

**Marc Rua Herrera** (2025-10-30 10:43):
Hi Bas, can you go to the metrics section here. And in the search bar write DCGM?

---

**Bas van Kampen** (2025-10-30 10:44):
I see data

---

**Marc Rua Herrera** (2025-10-30 10:48):
Can you tell a bit about the set up. I guess you have 2 clusters. 1 for observability and the other for Suse AI. has de agent been fully deployed in the Suse AI cluster?

---

**Bas van Kampen** (2025-10-30 10:55):
I don't know if it's relevant, but I see all node having a `NotReady` status

---

**Remco Beckers** (2025-10-30 10:59):
The SUSE AI specific information, that's missing in the first screenshot, needs an extra process to run that periodically pulls this info and ships it to SUSE Observability, I think. But I'm not familiar with the details of the SUSE AI setup, we were not involved with that at all.

---

**Bas van Kampen** (2025-10-30 11:04):
Okay thank. I see a job running but not sending any metrics or events:
`2025/10/30 10:04:01 INFO sending components=2 relations=1 events=0 metrics=0`

---

**Bas van Kampen** (2025-10-30 11:07):
I'm going back to the AI team

---

**Remco Beckers** (2025-10-30 11:28):
The nodes `NotReady` status is peculiar though, unless the nodes are really not ready

---

**Bas van Kampen** (2025-10-30 11:34):
They are ready
```❯ k get nodes
NAME                   STATUS   ROLES                       AGE     VERSION
cluster-gpu-cp-1       Ready    control-plane,etcd,master   2d20h   v1.33.5+rke2r1
cluster-gpu-worker-1   Ready    worker                      2d20h   v1.33.5+rke2r1
cluster-gpu-worker-2   Ready    worker                      2d20h   v1.33.5+rke2r1
cluster-gpu-worker-3   Ready    worker                      2d20h   v1.33.5+rke2r1```

---

**Marc Rua Herrera** (2025-10-30 11:35):
One thing we noticed is that I have a setup where this works, and I see a lot of metadata on the node. However, Bas doesn’t have this metadata in his node configuration.

Does this data come from the K8s agent, or is it also coming from the OpenTelemetry agent and then being merged?

It seems like the agent isn’t collecting the metadata properly.

---

**Bas van Kampen** (2025-10-30 11:36):
I also see this:
```2025-10-30 10:26:59 UTC | CORE | ERROR | (comp/forwarder/defaultforwarder/worker.go:191 in process) | Error while processing transaction: error while sending transaction, rescheduling it: Post "https://observability.lab.suse/receiver/stsAgent/intake/": read tcp 192.168.96.55:45898-&gt;192.168.96.80:443: read: connection reset by peer

2025-10-30 10:32:41 UTC | CORE | INFO | (comp/forwarder/defaultforwarder/transaction/transaction.go:392 in internalProcess) | Successfully posted payload to "https://observability.lab.suse/receiver/stsAgent/api/v1/series"```

---

**Bas van Kampen** (2025-10-30 12:22):
Reinstalling the stackpack fixed the issue, thanks @Marc Rua Herrera

---

**Jan Bruder** (2025-10-30 13:04):
Hi, what specific technical features are currently delivered with the SUSE Observability Platform Optimization add-on that is included in the Rancher Prime Suite SKU?

---

**Frank van Lankvelt** (2025-10-30 13:11):
Maybe you can ask whoever made this slide?

---

**Mark Bakker** (2025-10-30 14:18):
Hi @Marc Rua Herrera SUSE Observability is part of Rancher Prime, so it's included in the license, so I don't get this response.

---

**Mark Bakker** (2025-10-30 14:19):
Ps. we don't allow running StackState outside Rancher unless they have a seperate Observability only license.

---

**Chris Riley** (2025-10-30 14:43):
Maybe @Mark Bakker knows ..

---

**Yingluo Zhang** (2025-10-30 17:09):
`SUSE Observability Platform Optimization`  feature is still on the roadmap?

---

**Davide Rutigliano** (2025-10-30 17:25):
Hey folks, as part of the preparation for the Hack week for *SUSE Observability MCP server (https://hackweek.opensuse.org/25/projects/suse-observability-mcp-server)* idea I was looking for a test environment to evaluate the MCP server and LLM capability to find problems. Do you know if there's any SUSE Observability demo environment (e.g., with pre-configured know issues) that I can use for testing it?

---

**Davide Rutigliano** (2025-10-30 17:26):
For instance, can I get access (troubleshooter role should be fine) to https://observability.suse.com/?

---

**Mark Bakker** (2025-10-30 17:51):
Currently only the Dynatrace and Splunk integrations are delivered via this SKU, only advised to be used by old StackState customers.
On the roadmap we have automated priotization and triaging of issues which will be part of this SKU and the SUSE Security SKU.

---

**Amol Kharche** (2025-10-31 05:53):
@Frank van Lankvelt I have no idea why its failing, Can you please help here.

---

**Nick Zhao** (2025-10-31 07:31):
how about finops with opencost integration？

---

**Alessio Biancalana** (2025-10-31 08:43):
I don't know if you can enter https://nightly-champagne.preprod.stackstate.io/

---

**Alessio Biancalana** (2025-10-31 08:44):
(you have to login with okta first)

---

**Davide Rutigliano** (2025-10-31 08:46):
seems I can't (cool name BTW :dance-friday:)

---

**Frank van Lankvelt** (2025-10-31 08:57):
is this the error with or without the `client_name` query parameter?  Note that it MUST be theree.

---

**Marc Rua Herrera** (2025-10-31 08:58):
It is with it on the callback url

---

**Marc Rua Herrera** (2025-10-31 08:58):
Has it been tested with microsoft AD?

---

**Frank van Lankvelt** (2025-10-31 08:59):
I seriously doubt that

---

**Frank van Lankvelt** (2025-10-31 09:00):
maybe it's possible to record a full handshake as a browser HAR?

---

**Frank van Lankvelt** (2025-10-31 09:02):
Internally we mostly use two apps that periodically run into trouble - the "sockshop" and the "otel-demo".  Might be easiest to deploy one of those and let it send data

---

**Davide Rutigliano** (2025-10-31 09:02):
However it's not a big issue, we have SUSE Observability deployed in OpenPlatform and I can setup a dedicated project/namespace to create artificial issues to debug. Just wanted to understand if you have any "problematic" deployment that you use for demoing SUSE Observability

---

**Alessio Biancalana** (2025-10-31 09:03):
ah if you have that yeah, just set up the otel demo or the sock shop as Frank suggested

---

**Davide Rutigliano** (2025-10-31 09:03):
@Frank van Lankvelt that looks like something I'd be interested into. Where do I find sockshop and otel demo? :bulbatap:

---

**Frank van Lankvelt** (2025-10-31 09:05):
they're in https://helm-internal.stackstate.io - don't know how hard it would be to give you access to that

---

**Frank van Lankvelt** (2025-10-31 09:10):
the charts seems public - you may want to just try to  run them

---

**Davide Rutigliano** (2025-10-31 09:11):
will do and let you know, thank you both guys! :rocker:

---

**Marc Rua Herrera** (2025-10-31 09:13):
The problem is Stackstate does not even spin up

---

**Marc Rua Herrera** (2025-10-31 09:14):
So my guess is, it is doing some sort of validation before running and, as it cannot do it, the UI does not load

---

**Frank van Lankvelt** (2025-10-31 09:20):
ah - sorry didn't read properly.  I wasn't aware of any kind of "validation" of the oidc provider

---

**Marc Rua Herrera** (2025-10-31 09:21):
Well, I don’t know. Is just a guess

---

**Marc Rua Herrera** (2025-10-31 09:21):
Because the UI is not loading when we see the error

---

**Frank van Lankvelt** (2025-10-31 09:21):
and the oidcclient in rancher does have the client_name query parameter?

---

**Frank van Lankvelt** (2025-10-31 09:22):
ah, so with "spin up" you mean the UI when logging in?

---

**Frank van Lankvelt** (2025-10-31 09:22):
in that case it would be good to record the HAR - then we get to see all the redirects that are happening

---

**Marc Rua Herrera** (2025-10-31 09:22):
Not even the login page is shown

---

**Frank van Lankvelt** (2025-10-31 09:23):
is that when you're already logged into Azure AD and/or Rancher?

---

**Frank van Lankvelt** (2025-10-31 09:24):
(I'm guessing that most of the handshake then already took place)

---

**Vladimir Iliakov** (2025-10-31 09:57):
https://helm-internal.stackstate.io should be publicly available
Below are the manifests that are used to deploy sock-shop  to the cluster observed by https://observability.suse.com/
The sock-shop
```namespace:
  create: true
  name: sock-shop
helm:
  repo: https://helm-internal.stackstate.io
  chart: sock-shop
  release: sock-shop
  version: 0.2.12```
The Helm values
```
---
all:
  securityCapabilitiesDisabled: true
priority: 50
loadgen:
  enabled: true
catalogue:
  demoScenarioSimulation:
    enabled: true
  resources:
    limits:
      cpu: 200m```

---

**Vladimir Iliakov** (2025-10-31 10:00):
Otel-demo is a bit more complex
*the otel-demo chart*
```
namespace:
  create: true
  name: otel-demo
  labels:
    name: otel-demo
helm:
  repo: https://helm-internal.stackstate.io
  chart: otel-demo
  release: od
  version: 0.0.17```
the values
```opentelemetry-demo:
  default:
    # List of environment variables applied to all components
    env:
    # Javascript instrumentation (frontend and payment service), only on GCP, uses this env var
    # to set the namespace (and it will not be overriden by the k8sattributes processor in the collector
    - name: NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    - name: OTEL_SERVICE_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: "metadata.labels['app.kubernetes.io/component (http://app.kubernetes.io/component)']"
    - name: OTEL_COLLECTOR_NAME
      value: opentelemetry-collector.monitoring.svc.cluster.local
    - name: OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE
      value: cumulative
    - name: OTEL_RESOURCE_ATTRIBUTES
      value: service.name=$(OTEL_SERVICE_NAME),service.namespace=opentelemetry-demo
  components:
    # Is running standalone in a separate namespace, this gives a nicer demo
    loadgenerator:
      enabled: false
  jaeger:
    enabled: false
  prometheus:
    enabled: false
  grafana:
    enabled: false
  opensearch:
    enabled: false
  opentelemetry-collector:
    enabled: false```
*The load generator* 
Helm chart
```namespace:
  create: true
  name: otel-demo-loadgen
  labels:
    name: otel-demo-loadgen
helm:
  repo: https://helm-internal.stackstate.io
  chart: otel-demo
  release: otel-demo-loadgen
  version: 0.0.11```
values
```opentelemetry-demo:
  default:
    # List of environment variables applied to all components
    env:
    - name: OTEL_SERVICE_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: "metadata.labels['app.kubernetes.io/component (http://app.kubernetes.io/component)']"
    - name: OTEL_COLLECTOR_NAME
      value: opentelemetry-collector.monitoring.svc.cluster.local
    - name: OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE
      value: cumulative
    - name: OTEL_RESOURCE_ATTRIBUTES
      value: service.name=$(OTEL_SERVICE_NAME),service.namespace=opentelemetry-demo
  components:
    loadgenerator:
      enabled: true
      # Need to override whole env to modify one value (the LOCUST_HOST) because arrays don't merge in values.yaml files
      env:
        - name: LOCUST_WEB_PORT
          value: "8089"
        - name: LOCUST_USERS
          value: "10"
        - name: LOCUST_SPAWN_RATE
          value: "1"
        - name: LOCUST_HOST
          value: 'http://od-frontendproxy.otel-demo.svc.cluster.local:8080'
        - name: LOCUST_HEADLESS
          value: "false"
        - name: LOCUST_AUTOSTART
          value: "true"
        - name: LOCUST_BROWSER_TRAFFIC_ENABLED
          value: "true"
        - name: PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION
          value: python
        - name: OTEL_EXPORTER_OTLP_ENDPOINT
          value: http://$(OTEL_COLLECTOR_NAME):4317
    accountingService:
      enabled: false
    adService:
      enabled: false
    cartService:
      enabled: false
    checkoutService:
      enabled: false
    currencyService:
      enabled: false
    emailService:
      enabled: false
    featureflagService:
      enabled: false
    frauddetectionService:
      enabled: false
    frontend:
      enabled: false
    frontendProxy:
      enabled: false
    paymentService:
      enabled: false
    productCatalogService:
      enabled: false
    quoteService:
      enabled: false
    recommendationService:
      enabled: false
    shippingService:
      enabled: false
    ffsPostgres:
      enabled: false
    kafka:
      enabled: false
    redis:
      enabled: false
  jaeger:
    enabled: false
  prometheus:
    enabled: false
  grafana:
    enabled: false
  opensearch:
    enabled: false
  opentelemetry-collector:
    enabled: false
featureflags:
  demoScenarioSimulation:
    enabled: false```

---

**Vladimir Iliakov** (2025-10-31 10:01):
Or we can do it the other way around, you will give me the access to the cluster I and will deploy these components for you.

---

**Davide Rutigliano** (2025-10-31 10:07):
I have couple of things to finish this morning but will work on it today's afternoon. I can create a dedicated project in OpenPlatform and share it with you. I should be able to deploy both apps but a second pair of hands is always good. (OFC you can also join the project for the hackweek if you want :hw25: :headbang: )

---

**Mark Bakker** (2025-10-31 10:17):
Currently we don't have any bandtwith to look into that.

---

**Marc Rua Herrera** (2025-10-31 10:25):
Good question. I guess the session is there. As rancher is opened and with a user logged in

---

**Dinesh Chandra** (2025-10-31 11:04):
@Mikhail Nikitin @Vinod Nauriyal FYI

---

**Vladimir Iliakov** (2025-10-31 13:01):
&gt; (OFC you can also join the project for the hackweek if you wan
I am not sure if I can be useful with that :grimacing:

---

**Davide Rutigliano** (2025-10-31 15:53):
@Vladimir Iliakov couple of questions:
• what's total resources requirements for sockshop? I have 12CPU and 10GiB RAM that should be enough for deployment but I run into issues when I run the jobs (doubled now, 24CPUs and 20GB RAM  seems to be enough)
• what is the expected behavior? Do I need to run jobs (catalog-successful / catalog-failure) to make the "know issues" to happen or?

---

**Vladimir Iliakov** (2025-11-03 08:54):
Sorry I missed your message on Friday
For sock-shop: CPU requests/limits 4/4.6 . Memory requests/limits ~10.5/10.5Gb

---

**Vladimir Iliakov** (2025-11-03 08:55):
&gt; • what is the expected behavior? Do I need to run jobs (catalog-successful / catalog-failure) to make the "know issues" to happen or?
There are cronjobs coming with the Chart, that triggers healthy/unhealthy scenarios every half an hour.

---

**Amol Kharche** (2025-11-03 09:23):
@Bram Schuur Let me know the conclusion on https://stackstate.atlassian.net/browse/STAC-23531.

---

**Bram Schuur** (2025-11-03 09:25):
There is no real conclusion, we came up with an idea to tackle this problem. We prioritized this top of backlog, which in terms of delivery can actually take quite a while, because we are actively working on some pretty big work/epics. Months rather than weeks for sure.

---

**Amol Kharche** (2025-11-03 09:43):
Cool, thanks

---

**Frank van Lankvelt** (2025-11-04 16:41):
in an attempt to improve our documentation for troubleshooting the Rancher UI Extension, I've created a small document.
A preview is available here: https://deploy-preview-109--suse-obs.netlify.app/suse-observability/latest/en/setup/install-stackstate/extension-troubleshooting
Please let me know if there are common scenarios or gotchas that I missed - I'll gladly incorporate those.

---

**Daniel Barra** (2025-11-04 16:57):
*We are pleased to announce the release of 2.6.2, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.6.2.html).*

---

**Marc Rua Herrera** (2025-11-05 10:39):
Hi team, I believe I tested this a long time ago and it wasn’t possible, but I’m wondering if anything has changed. Is it now possible for a single K8s agent to send data to multiple StackState instances?

---

**Frank van Lankvelt** (2025-11-05 10:54):
no - but you can use a broadcasting solution that forwards the same data to multiple endpoints.  We use trafficmirror in development.

---

**Marc Rua Herrera** (2025-11-05 10:55):
What about installing multiples agent in the same cluster?

---

**Frank van Lankvelt** (2025-11-05 10:56):
I think that should be fine as well.  Maybe @Louis Parkin knows more about this?

---

**Louis Parkin** (2025-11-05 11:22):
Multiple agents maybe, node agents, no. We bind to a host port, and that can only be done by one process at a time.

---

**Louis Parkin** (2025-11-05 11:23):
But for checks and cluster agent in theory it is possible as they are replicasets and not a daemonset like the node agent.

---

**Louis Parkin** (2025-11-05 11:24):
How to provide separate configmaps to each replica though… that is not something I have ever tried.

---

**Frank van Lankvelt** (2025-11-05 11:33):
configmaps are in a namespace, so if the different agents are in different namespaces that should be fine

---

**Louis Parkin** (2025-11-05 11:37):
Sure, but one helm deploy with multiple replicas will go to the same namespace.

---

**Louis Parkin** (2025-11-05 11:38):
If we are talking about multiple helm deploys, you run into the multiple node-agent issue.

---

**Marc Rua Herrera** (2025-11-05 11:51):
Okay. So I think I am going to try the traffic mirror solution

---

**Marc Rua Herrera** (2025-11-05 11:53):
Which traffic mirror tool are you using in development @Frank van Lankvelt?

---

**Frank van Lankvelt** (2025-11-05 12:16):
the one we have in https://helm.stackstate.io I guess :wink:

---

**Thiago Bertoldi** (2025-11-06 15:53):
Hey, one thing I noticed with vLLM metrics: in previous versions (2.6.1 and below), any metric starting with "vllm:" was mapped to "vllm_" by default. With version 2.6.2, this substitution (':' -&gt; '_') doesn't happen anymore. While reading the changelog, I couldn't pinpoint the exact modification that caused this (perhaps the OtelCollector update?). Anyway, for my use case, I'll just add a transformation in the OtelCollector, and it's business as usual.

---

**Daniel Barra** (2025-11-06 18:53):
Yes, we did update on Otel collector, but on the ticket I see it related with logs without property EventName. @Remco Beckers could you help us with that?

---

**Thiago Bertoldi** (2025-11-06 19:06):
What ticket? I didn't open any.

---

**Daniel Barra** (2025-11-06 19:08):
the one about the OTEL upgrade: https://stackstate.atlassian.net/browse/STAC-23656. I dont know if you have access.

---

**Thiago Bertoldi** (2025-11-06 19:13):
I don't, but my message above is probably unrelated. What I'm saying is that with SUSE Observability version 2.6.1 and below I get:

---

**Thiago Bertoldi** (2025-11-06 19:13):
And with version 2.6.2 I get:

---

**Remco Beckers** (2025-11-07 08:08):
That's suprising. I can't think of anything in the release that would affect that except for an upgrade of the otel collector
How are these metrics coming in? Via the agent or via the open telemetry collector? And how are they generated?

---

**Wissam Eid** (2025-11-07 09:35):
Hi Team, I have this question coming from a customer.  I understand our agent collects application logs that are written to stdout.
If application logs are being captured and pushed to a centralized cluster, it could pose a risk to the customer since the data may not be masked.
So, if the agent is pulling application logs, is there a way to exclude them and ensure only Kubernetes-related logs are collected? @Mennatallah Shaaban @Mohamed Elnemr

---

**Frank van Lankvelt** (2025-11-07 09:50):
what are kubernetes-related logs?  Observability is about applications, not Kubernetes itself

---

**Wissam Eid** (2025-11-07 09:53):
Since in Observability, we collect metrics, traces, events, and logs- their question is about the logs only. They have sensitive data in their applications- they do not want to show it in the logs. They are okay to share error related logs.

---

**Philippe Bidault** (2025-11-07 11:14):
Hi team! Sorry if this is a dumb question, but why doesn't SUSE Observability appear on https://www.suse.com/lifecycle?

---

**Remco Beckers** (2025-11-07 11:19):
@Mark Bakker or @Louis Lotter Do you know about this page and if it is on our radar? I see it for the first time now.

---

**Mark Bakker** (2025-11-07 11:22):
Yes I know, and it's on my radar to add it.

---

**Mark Bakker** (2025-11-07 11:23):
It will reflect our policy to only support the latest version for the coming period.

---

**Thiago Bertoldi** (2025-11-07 13:27):
We use the otel collector to scrape vLLM's /metrics endpoints.
```config:
  receivers:
    prometheus:
      config:
        scrape_configs:
          - job_name: 'vllm'
            scrape_interval: 10s
            scheme: http
            kubernetes_sd_configs:
              - role: service
            relabel_configs:
              - source_labels: [__meta_kubernetes_namespace]
                action: keep
                regex: 'suse_private_ai'

              - source_labels: [__meta_kubernetes_service_name]
                action: keep
                regex: '.*vllm.*'```
We use the automation scripts available here to deploy our environment, so it's easy to reproduce. Simply changing the version of SUSE Observability (without altering the other components) produces the effect that I reported above.
For extra context, the original metric from vLLM starts with "vllm:". In the collector we have for the AI cluster, we forward the metric, leaving the name unchanged (meaning that the mapping occurs somewhere inside of SUSE Observability in version 2.6.1 and below).
If you need any additional info, just let me know and I'll send it to you.

---

**Mohamed Elnemr** (2025-11-07 14:57):
@Frank van Lankvelt their application logs to stdout. Apparently it logs sensitive data. This is a bank so it could be IBANs, or customer names. The logs are still collected through the logs agent (prom tail), right ? it’s not collected yet through otel logs collector where you could potentially mask or drop some logs?

---

**Frank van Lankvelt** (2025-11-07 15:02):
hi @Mohamed Elnemr - that is correct, we use a promtail internally to collect the logs.  It's configuration is fixed though, I don't see a hook for any filtering.

---

**Mohamed Elnemr** (2025-11-07 15:04):
do you think this could work https://grafana.com/docs/loki/latest/send-data/promtail/stages/replace/ ?

---

**Mohamed Elnemr** (2025-11-07 15:04):
btw “Promtail has been deprecated and is in Long-Term Support (LTS) through February 28, 2026.” :sweat_smile:

---

**Frank van Lankvelt** (2025-11-07 15:05):
am not sure how hard it would be to push logs with a custom promtail.  We do need the labels that are configured in the built-in logsAgent configmap

---

**Mohamed Elnemr** (2025-11-07 15:05):
i see, so we can’t change the out-of-box prom tail configs  in the configmap ?

---

**Frank van Lankvelt** (2025-11-07 15:07):
no, but you could of course set up your own promtail agent with a suitable configuration

---

**Frank van Lankvelt** (2025-11-07 15:07):
it might be worth it to check out how log collection with opentelemetry would work

---

**Mohamed Elnemr** (2025-11-07 15:07):
but that wouldn’t prevent our promtail from sending the logs with sensitive data, right ?

---

**Frank van Lankvelt** (2025-11-07 15:10):
that's true - you would have to disable the logsAgent in the suse-observability-agent chart

---

**Mohamed Elnemr** (2025-11-07 15:12):
well, given that promtail is deprecated already I think it’s a dead end. Do you guys plan to replace promtail ?

---

**Frank van Lankvelt** (2025-11-07 15:14):
the logical thing to do is to move to opentelemetry.  We don't have that yet in place, but it is certainly on the roadmap.  And can be reprioritized if necessary.

---

**Frank van Lankvelt** (2025-11-07 15:15):
I wouldn't feel bad about using promtail - it's open source, so even if Grafana doesn't support it itself we can keep using it

---

**Frank van Lankvelt** (2025-11-07 15:19):
since we use it ourselves already it's probably straightforward to make it do what you need.  And when we move away from it, likely to opentelemetry, there will likely be more control over the agent side anyway - just like we have with the current collection of metrics and traces via opentelemetry

---

**Gabriel Lins** (2025-11-07 17:51):
Hey. Are we planning to add FinOps stackpacks or in some way have FinOps into SUSE Observability?

---

**Louis Lotter** (2025-11-10 08:41):
Hi Gabriel. We have wanted to do this for a long time but It has not reached the top of the pile. It will probably be quite a while before we can look at it as we are focussing on security for the next 12 months at least.

---

**Remco Beckers** (2025-11-10 11:04):
That explains a few things at least. The `:` has always been a valid character in Prometheus names but they have the convention to only use it for metrics produced by recording rules. Apparently vLLM decided to use it anyway. The only thing I can't find is a reason why it used to show up as an `_` (meaning it as translated because it was considered an invalid character). Even in the old version of the OTel collector the `:` should have remained as-is.

---

**Remco Beckers** (2025-11-10 11:20):
I'll discuss if we want to revert this, but in my opinion keeping the `:` is the logical choice because it is a valid Prometheus v1.0 metric (in v2.0 they dropped most restrictions) so now the behavior is the same as if Prometheus would scrape the exporter.

---

**Ben Craft** (2025-11-10 14:03):
Im having troubles with a non ha instance upgraded to 2.6.2 - elasticsearch is failing as per :thread:  any idea?

---

**Remco Beckers** (2025-11-10 14:10):
It looks like you're running Elasticsearch 8.11.4 (from those logs) while 2.6.2 comes with version 8.19.4. Did you downgrade or rollback some changes?

This error can occur if the newer version ran and then a downgrade happened

---

**Remco Beckers** (2025-11-10 14:11):
If that's not it maybe share a support package with us: https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/support-package-logs.html

---

**Luis Carrascal** (2025-11-10 14:19):
Hi, I'm delivering a class on Observability and I'm using 2.5.0, in a previous class using 2.3.0 I could edit an existing monitor to create a clone and modify some settings, but for some reason I cannot do the same thing now, when I try to save the modifications to a new monitor I get this error:

```[
  {
    "message": "Vertex node (PromQLMetric) has multiple parents.",
    "errorCode": 500,
    "_type": "InternalServerError"
  }
]```
I was trying to clone the CPU Throttling monitor, but I tried others and got the same result. To add more details, I originally deployed v2.4.0 and later upgraded to v2.5.0. The Kubernetes StackPack I have is Version: 1.0.18-master-11072-a104702e-SNAPSHOT

---

**Bram Schuur** (2025-11-10 14:25):
Thanks for reporting! This sounds like a proper bug. Do you mind reporting it into the SUSE jira? https://jira.suse.com/browse/SURE-10941?jql=project%20%3D%20SURE%20AND%20component%20%3D%20%22SUSE%20Observability%22

---

**Marc Rua Herrera** (2025-11-11 10:54):
Hi Team,
I’m planning to write some metric bindings for the etcd pods. Since I only need to target etcd pods, I was looking for a query that defines this scope.
My question is, do we support queries with autocomplete/wildcard matching, such as: `name = etcd-*`

---

**Luis Carrascal** (2025-11-11 18:24):
I've never used that Jira I guess. So I tried to create an account and when I try to log in I get this message:

---

**Bram Schuur** (2025-11-12 08:51):
we support the of promql (save for some edge-cases which are not implemented in victoriametrics), including regex matches (=~ operator). https://promlabs.com/promql-cheat-sheet/

---

**Marc Rua Herrera** (2025-11-12 08:52):
But this is for the scope for binding a metric to a topoñogy component, isn’t it a STQL query?

---

**Bram Schuur** (2025-11-12 08:53):
Ah gotcha, no STQL does not support wildcards

---

**Bram Schuur** (2025-11-12 08:54):
You might be able to filter out the etcd pods through the `app.kubernetes.io/component (http://app.kubernetes.io/component)` label (that is the industry standard to demark what component a pod belongs to)

---

**Marc Rua Herrera** (2025-11-12 08:56):
I checked the labels but I did not see any etcd specific label. Maybe I can hardcode a label in the component template based in the name :thinking_face:

---

**Bram Schuur** (2025-11-12 08:57):
Gotcha, i filed it on our end: https://stackstate.atlassian.net/browse/STAC-23814. @Louis Lotter do you want me to file a SURE ticket aswell?

---

**Ben Craft** (2025-11-12 10:57):
Okay looked into this and it looks like it was accidentally downgraded to 2.6.1 - what can i do to resolve that

---

**Remco Beckers** (2025-11-12 11:06):
Upgrade it to 2.6.2 again

---

**Remco Beckers** (2025-11-12 11:07):
There may be more problems after a downgrade

---

**Ben Craft** (2025-11-12 11:08):
okay giving it a try

---

**Ben Craft** (2025-11-12 11:39):
seems to keep failing with an eventual timeout, trying again and will try to capture some logs. A bunch of the containers get stuck in the init stage

---

**Ben Craft** (2025-11-12 11:40):
e2es `nc: getaddrinfo for host "suse-observability-kafka-headless" port 9092: Name does not resolve`

---

**Remco Beckers** (2025-11-12 11:40):
That suggests kafka didn't start up correctly. Are there any errors on the Kafka pod(s)?

---

**Remco Beckers** (2025-11-12 11:42):
Also: if pods in statefulsets were not starting up correctly before doing the upgrade, Kubernetes will be "stuck" waiting for them to get into a ready state before replacing them with the new version of the pods. To get it out of this state you need to delete the pod(s) manually so they are recreated from the new statefulset spec

---

**Ben Craft** (2025-11-12 11:45):
backup-conf jobs dont form part of the upgrade do they? That seems to be stuck in container creating so wondering if thats causing the release to never reconcile as complete (im using flux hence refering to it as reconcile)

---

**Ben Craft** (2025-11-12 11:45):
atm all the pods except that one show running

---

**Ben Craft** (2025-11-12 11:58):
yeah thats the problem, the EBS volume thats looking for doesnt exist

---

**Ben Craft** (2025-11-12 11:58):
looks like this is my mess to sort out :smile:

---

**Remco Beckers** (2025-11-12 11:58):
It won't affect the rest of the system no

---

**Remco Beckers** (2025-11-12 11:59):
But I guess in both ArgoCD and Flux it will prevent the job from reconciling indeed

---

**Remco Beckers** (2025-11-12 11:59):
That job mainly exists to initialize the PVC (otherwise jobs would be stuck on the PV not being created yet) and setup backups in Elasticsearch etc.

---

**Ben Craft** (2025-11-12 11:59):
Yeah its flux not classifying it as complete

---

**Matthieu Fatrez** (2025-11-12 14:32):
Hello Team,
I have a customer asking what CPU/RAM and Storage sizing he needs.
He had a Rancher Prime cluster and a SUSE Virtualization composed by
• 3 X 3 nodes (split in 3 different DC, latency is less than 5ms)
• 3 x 5 worker nodes (also split in 3 different DC, same latency).
They will not run any downstream clusters unless they absolutely need to.
They will run preferably bare-metal containers only
How to size Observability in that specific case?

---

**Remco Beckers** (2025-11-12 14:41):
That depends mostly on the size of the nodes. We use `default nodes` for that (representing 4 vCPU and 16GB memory). The details are in our docs here. (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/requirements.html#_resource_requirements)

---

**Matthieu Fatrez** (2025-11-12 14:42):
```9 control nodes: 1x CPU AMD EPYC 9135 3.65GHz 16-core 200W, 128 GB of RAM
15 worker nodes: 2x CPU AMD EPYC 9555 3.2GHz 64-core 360W, 1024 GB of RAM
12x 12.58TB nvme disks by worker```

---

**Ben Craft** (2025-11-12 14:56):
okay ended up just doing a fresh install (volumes and all) - but on the newer version im in a constant redirect loop on the ui -

---

**Ben Craft** (2025-11-12 14:56):
using OIDC auth with the same secrets etc to before

---

**Remco Beckers** (2025-11-12 15:13):
A quick thing to test is to remove the cookies for the SUSE Observability URL. There might still be cookies for the old installation that mess up authentication now.

If that doesn't help check the log file of the api/server pod. There should be some errors I expect. If not you can enable debug logging (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/troubleshooting.html) for authorization to get more information.

A typical cause is that either the redirect from the sso server back to SUSE Observability doesn't include a `code` (you can check this on the `callback` url (or maybe you already get a warning during sign in there). Or the clientId / secret combination is incorrectly configured (I expect this to show up as an error in the api/server logs)

---

**Remco Beckers** (2025-11-12 15:14):
One more thing you can try, if you're sure the config is correct, is to logout of the sso server and try to login from scratch.

---

**Ben Craft** (2025-11-12 15:14):
I have tried with incognito and a different browser but still getting the same issue

---

**Ben Craft** (2025-11-12 15:15):
i will do the log thing mentioned

---

**Ben Craft** (2025-11-12 15:56):
got it - it was dns

---

**Remco Beckers** (2025-11-12 15:57):
Oh man, just confirming the meme again

---

**Ben Craft** (2025-11-12 15:57):
thanks for helping

---

**Matthieu Fatrez** (2025-11-12 16:06):
and with this setup :upvote: ?

---

**Mohamed Elnemr** (2025-11-12 18:10):
Hi Team, Can the SUSE observability agent run and observe Alibaba Cloud’s ACK?

---

**Bram Schuur** (2025-11-12 18:12):
@Yash Tripathi I think you investigated this right? What was the result?

---

**Mitchell Tishmack** (2025-11-12 22:51):
So I was just reinstalling and hit this same thing doing the same run as prior, trying to track down what changed its all through automation so I'm a bit confused how I'm seeing this same thing where this morning it was fine with a prior build with vm's

---

**Mitchell Tishmack** (2025-11-12 22:52):
My quick note for install that worked this morning
```zypper -n in helm
helm repo add suse-observability https://charts.rancher.com/server-charts/prime/suse-observability
helm update repo suse-observability

helm template \
  --set license='V2ZN0-FF8S0-M97SA' \
  --set baseUrl='https://misc.dev.home.arpa' \
  --set sizing.profile='10-nonha' \
  suse-observability-values \
suse-observability/suse-observability-values --output-dir .

helm upgrade \
  --install \
  --debug \
  --timeout 30m \
  --wait \
  --create-namespace \
  --namespace suse-observability \
  --values suse-observability-values/templates/baseConfig_values.yaml \
  --values suse-observability-values/templates/sizing_values.yaml \
  --values suse-observability-values/templates/affinity_values.yaml \
suse-observability \
suse-observability/suse-observability```

---

**Remco Beckers** (2025-11-13 08:27):
You calculate the number of nodes based on the memory/vCPU (I come to 312). Then you look at the table in the docs to find the next largest setup, in this case 500-ha (we only recommend/support HA setups for bigger installations). The requirements for that are also in the table.

---

**Yash Tripathi** (2025-11-13 10:45):
I tested the Self Hosted installation and Extension installation (on Rancher), everything was as expected

---

**Mohamed Elnemr** (2025-11-13 11:47):
@Yash Tripathi you mean you deployed SUSE observability + Agents on ACK, right ?

---

**Yash Tripathi** (2025-11-13 12:01):
Yes, although I haven't tested this on ACK since

---

**Matthieu Fatrez** (2025-11-13 12:12):
CPU:
9 nodes (masters) with 16 cores + 15 nodes (workers) with 64 cores = 9*16+15*64 = 1 104 cores
RAM:
9 nodes (masters) with 128GB RAM + 15 nodes (workers) with 1024GB RAM = 16 512GB RAM

What is the calculation method? I'm missing something?

---

**Ben Craft** (2025-11-13 12:28):
would it be possible to include an extra manifests file in the next releases helm chart like rancher does? https://github.com/rancher/rancher/blob/main/chart/templates/extra-manifests.yaml

---

**Alessio Biancalana** (2025-11-13 12:31):
I think we could do that but now you intrigued me with your use case, what you wanna do with that?

---

**Ben Craft** (2025-11-13 12:33):
Its useful for several reasons, but in my case with a fully automated hands off deployment pipeline its useful because i can with this do things like inject a pre install job that will wait for a condition (external to observability) before proceeding.

Cert manager and traefik also provide this aswell as rancher (probably others).

---

**Alessio Biancalana** (2025-11-13 12:37):
I didn't know that, thank you so much

---

**Alessio Biancalana** (2025-11-13 12:55):
just filed a ticket on our jira, will keep you posted :+1:

---

**Ben Craft** (2025-11-13 13:04):
sorry another request :slightly_smiling_face:

Would it be possible for the agent chart to support from secret / configmap on a few more of the values, mainly custer name and url?

---

**Ben Craft** (2025-11-13 13:04):
kind of like kubernetes-rbac-agent does

---

**Remco Beckers** (2025-11-13 13:05):
I divided by the standard node sizes to get to the number of default nodes. But somehow made a mistake for the RAM I think. So for cores I end up at `1104/4=276` standard nodes, while for ram I get `16512/16=1032`. So that's indeed quite a bit bigger. Based on this you'd already have to opt for the biggest setup we have spec'd (4000-ha).

---

**Ben Craft** (2025-11-13 13:09):
and a final question - but a bit more generic.

I can install multiple stackpack instances of the same name, how does the agent then correctly allocate data?

Internally in my app i have been using the ID returned for the installation to keep things unique but im curious how this works your side

---

**Alessio Biancalana** (2025-11-13 13:13):
for the first question I can answer, I don't know the timing for that actually because right now the rbac agent is a subchart and it's kinda independent while I don't know how much of an impact this could be on the main agent chart

about the second question I don't know the platform _that_ well and I will leave that to my comrades @Alejandro Acevedo Osorio or @Bram Schuur or @Remco Beckers :smile:

---

**Remco Beckers** (2025-11-13 13:20):
If you use the same cluster name for multiple k8s stackpack instances it won't differentiate. They will all be processing the same data and create/update the same components (though they will get merged). If the data is actually from 2 different clusters this will end up in a complete mess. The only reason we don't prevent you from doing it is that it is build in a way that makes that check very hard to implement correctly

---

**Ben Craft** (2025-11-13 13:33):
Okay cool thank you. I have been trying to enforce that check on my side (get before create) which feels a little fragile but sounds like its the best option for now

---

**Ben Craft** (2025-11-13 13:33):
thanks for clarifying - just trying to build a picture

---

**Mohamed Elnemr** (2025-11-13 13:35):
was this against latest version ?  for suse observability, we can install it on RKE2. The customer wants to observe ACK clusters though, where the agent will be deployed

---

**Yash Tripathi** (2025-11-14 12:18):
This wasn’t against the latest version, this was from our run earlier this year. We’re planning to re-validate compatibility

---

**Mohamed Elnemr** (2025-11-14 12:39):
Clear - Thanks Yash! what’s the timeline for re-validating ? and against which versions did we validate early this year?

---

**Josh Stringfellow** (2025-11-14 21:00):
I thought that I saw/read somewhere that we could authenticate to Observabilty using Rancher Authentication, but I am not seeing the documentation for how that works. Did I miss understand/ has this not been released

---

**David Noland** (2025-11-15 01:28):
Is this the documentation (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/oidc.html#_configure_the_oidc_provider) you are looking for?

---

**David Noland** (2025-11-15 01:30):
There's also a Slack post (https://suse.slack.com/archives/C079ANFDS2C/p1757411107106079) on it.

---

**Louis Lotter** (2025-11-17 08:58):
Thanks David

---

**Yash Tripathi** (2025-11-17 19:53):
we’re targeting mid-December for the revalidation.
Previous round was
Suse Observability: v2.3.1 and v2.3.2
ACK Pro: k8s 1.32

---

**Josh Stringfellow** (2025-11-18 17:01):
Thank you David, this is the slack post I was looking for

---

**Gaby Beitler** (2025-11-19 00:50):
Hi team, I noticed the Stackstate site has been migrated to SUSE, but there is vestige that did not make it over, https://dl.stackstate.com/stackstate-openapi/v5.0/openapi-v5.0.0.html

---

**Bram Schuur** (2025-11-19 09:12):
The 5.0 version is a now EOL version of stackstate which was meant as a full open platform. With 6.0 and now SUSE Observability the platform is more focussed on kubernetes, has no official open api anymore and extensibility is now brought in through OpenTelemetry.

For that reaosn we did not put the api docs in SUSE Observability docs, we do not officially support the api.

For more info you can talk to @Mark Bakker (he is actually at SKO, so you might chat to him in person).

---

**Louis Parkin** (2025-11-19 16:26):
:tada: Milestone: SUSE Observability CVE scan results now publicly available
The Observability team is announcing that CVE scan results for SUSE Observability are now available on the SUSE Rancher CVE portal: https://scans.rancher.com/
This provides:
• Customer transparency: Public visibility into critical and high-severity CVEs across Observability releases
• Security visibility: Daily automated scans using Trivy, with results updated regularly
• Consistent reporting: Aligned with other SUSE Rancher products (Rancher, RKE2, K3s, Longhorn, Harvester)
Available scans include:
• Observability v2.6.2 and v2.6 dev
• Observability agent v1.2.3 and v1.2 dev
Results include detailed CVE reports and summary statistics per image, helping customers make informed decisions about their deployments.
This milestone reflects our commitment to security transparency and customer trust. Great work, Observability team.

And an honorable mention to @Guilherme Macedo for helping us get it right :partying_face:

---

**Ben Craft** (2025-11-19 17:01):
Hey - would somebody be able to pair for an hour tomorrow?

Basically - I have set up observability instances paired to a rancher tenant for SRFA and im trying to optimise the infrastructure a bit. I have several small questions so i think this would be the most efficient

---

**Ben Craft** (2025-11-19 17:02):
Im also seeing on 2.13 the data in the UI extension is correct, but the cluster creator cant see anything in the observability UI

---

**Frank van Lankvelt** (2025-11-19 18:54):
We're just now working on the documentation around this.  Could you see if https://deploy-preview-123--suse-obs.netlify.app/suse-observability/latest/en/setup/security/rbac/rbac_rancher (https://deploy-preview-123--suse-obs.netlify.app/suse-observability/latest/en/setup/security/rbac/rbac_rancher) helps?

---

**Ben Craft** (2025-11-19 19:40):
```the SUSE Observability Agent must have the RBAC Agent enabled and must authenticate using a service token.```

---

**Ben Craft** (2025-11-19 19:40):
that explains it

---

**Ben Craft** (2025-11-20 11:51):
is it possible to create a service token with permissions on all instances? So it behaves like an api key for general use?

Not my final solution but i was simply using the api key for now pending the implementation in rancher of managing the service token for each instance

---

**Ben Craft** (2025-11-20 17:19):
sorry, polite nudge on this, is anyone available tomorrow?

---

**Bram Schuur** (2025-11-20 18:28):
Yes, indeed not the best for production, but you can configure a (bootstrap) service token with all cluster rbac permissions by adding the required permissions: https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/service_tokens.html#_overview (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/security/authentication/service_tokens.html#_overview)

---

**Louis Lotter** (2025-11-21 10:17):
@Ben Craft Hi Ben. The team is really quite busy atm. Do you mind asking the questions first and then we can look for other options if you don't get the answers you are looking for ?

---

**Ben Craft** (2025-11-24 11:17):
yeah i have ironed it out over the weekend, will send a write up for comment

---

**Ben Craft** (2025-11-24 11:18):
Any ideas? choose workspace isnt redirecting to slack

---

**Amol Kharche** (2025-11-24 11:21):
I believed its due to SUSE policy. If you want to try slack notification, I would suggest to use different workspace.

---

**Ben Craft** (2025-11-24 11:24):
do you know what policy that could be? I have the administrators supporting

---

**Ben Craft** (2025-11-24 11:24):
what format is the generic webhook body in?

---

**Amol Kharche** (2025-11-24 11:27):
I’m not entirely sure, but it’s likely due to a security policy that prevents suse.slack.com (http://suse.slack.com) from integrating with external applications without the proper permissions

---

**Amol Kharche** (2025-11-24 11:28):
Did you create app over https://api.slack.com/apps ?

---

**Ben Craft** (2025-11-24 12:10):
yeah thats all in place, the slack team internally have handled it

---

**Ben Craft** (2025-11-24 12:44):
i have a slack webhook url, can i configure the channel without going through the oauth flow?

---

**Amol Kharche** (2025-11-24 12:47):
You need to set those slack webhook url and secret in values.yaml like below and then run helm upgrade.
```stackstate:
  components:
    all:
      extraEnv:
        open:
          CONFIG_FORCE_stackstate_notifications_channels_slack_authentication_clientId: "<app client id>"
        secret:
          CONFIG_FORCE_stackstate_notifications_channels_slack_authentication_clientSecret: "<app client secret>"```

---

**Ben Craft** (2025-11-24 12:48):
ahhh a seperate page in the docs

---

**Ben Craft** (2025-11-24 14:36):
is there a way i can bypass the ui logic for creating a adding a channel?  The call to listSlackChannels is failing due to im guessing the number of channels in the suse org

```{
    "_type": "NotificationChannelError",
    "channelId": "9484405775049",
    "message": "Slack API returned an error: ratelimited"
}```

---

**Frank van Lankvelt** (2025-11-24 14:56):
seems like you hit https://stackstate.atlassian.net/browse/STAC-22771 - due to be picked up soon(ish)

---

**Ben Craft** (2025-11-24 15:18):
So basically what I have done here is, we are deploying a cluster for each customer which includes rancher and observability. We are doing this with 3 nodes and the 10 nonha profile.

What I want to be able to do is scale a deployment down to 2 nodes when it doesnt have any clusters deployed against it. This is internal only - not something we will be advising customers to do. I appreciate its not something we support.

 This does work, however its very flaky because we are using ebs volumes that are tied to an availability zone, so it really depends how the scheduler allocated things on initial deployments if a scale to 2 is successful or not.

What I have done is on deployment declare the affinities to allocate the stateful workloads between availability zones to avoid this problem. The distribution I have gone with is below. Would anyone recommend differently? i.e keeping certain things on the same / different nodes. I know it looks a bit heavy on B but this seems to be working well atm.

The other change I have made, is to use an EFS volume for the stackpacks, as this is not AZ restricted the server pod can be freely scheduled anywhere. My understanding is this is a lower IO volume than the databases so should be an okay storage type for this pod? Are there any others you could recommend for the same treatment? The other one that came to mind for me was the backup volume but being a job im less concerned about it.

```suse-observability-clickhouse-shard0: a
suse-observability-hbase-stackgraph: a
suse-observability-victoria-metrics-0: a

suse-observability-hbase-tephra-mono: b
suse-observability-elasticsearch-master: b
suse-observability-kafka: b
suse-observability-vmagent: b
suse-observability-zookeeper: b```

---

**Vladimir Iliakov** (2025-11-24 15:22):
Since it is internal and you want to scale down, I would recommend to schedule everything to a single zone. We do it in Saas for both nonha and ha profiles. For ha to we do it to avoid cross-zone traffic in AWS...

---

**Ben Craft** (2025-11-24 15:24):
I did consider that, if it was observability only in the deployment i would but i want to keep an element of service availibility for rancher

---

**Ben Craft** (2025-11-24 15:24):
is the stackpacks volume the only one suitable for efs?

---

**Ben Craft** (2025-11-24 15:25):
I say its internal, but it is for SaaS customers. I meant internal in the sense its what we do under our own control, not deployment advise for customers to do themselves

---

**Vladimir Iliakov** (2025-11-24 16:01):
Well, don't have much experience with EFS(NFS) ourselves. In the past we got some issues reported by the NFS users, we haven't been able to efficiently reproduce/troubleshoot/solve them.

---

**Remco Beckers** (2025-11-24 16:03):
I wouldn't recommend it for the databases indeed

---

**Ben Craft** (2025-11-24 16:10):
cool i'll keep the efs scope to the stackpacks

---

**Gabriel Lins** (2025-11-25 15:29):
Hey!
Adding SUSE Observability to a Rancher Prime install, should we include on quote the vCPUs allocated specifically to the components of the SUSE Observability solution itself?
In short, does the customer need to pay for SUSE Observability hardware consumption?

---

**Mark Bakker** (2025-11-25 15:41):
Hi @Gabriel Lins, no the management nodes running SUSE Observability are included in the workload nodes licenses for Prime/ Suite

---

**Philippe Bidault** (2025-11-25 16:48):
Hi team, following the installation guide (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/ingress.html), exposing SUSE Obs is working fine for me.

However, it seems that the other method described here (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_access_the_suse_observability_ui) is not working. The `suse-observability-otel-collector-0` pod is not starting for me, so I'm not sure whether I did something wrong.

---

**Philippe Bidault** (2025-11-25 16:51):
The error message I get:
```sles@suseobs-pool1-wbds5-nvx88:~&gt; k logs suse-observability-otel-collector-0 -n suse-observability
Error: failed to get config: cannot unmarshal the configuration: decoding failed due to the following error(s):

'receivers' unknown type: "zipkin" for id: "zipkin" (valid values: [otlp])
'service.telemetry.metrics' decoding failed due to the following error(s):

'' has invalid keys: address
2025/11/25 11:58:49 collector server run finished with error: failed to get config: cannot unmarshal the configuration: decoding failed due to the following error(s):

'receivers' unknown type: "zipkin" for id: "zipkin" (valid values: [otlp])
'service.telemetry.metrics' decoding failed due to the following error(s):

'' has invalid keys: address```
And indeed, if I compare the `suse-observability-otel-collector` ConfigMap, I can see a zipkin receiver configuration not present with the working first method.

Not working:
```    receivers:
      jaeger:
        protocols:
          grpc:
            endpoint: ${env:MY_POD_IP}:14250
          thrift_compact:
            endpoint: ${env:MY_POD_IP}:6831
          thrift_http:
            endpoint: ${env:MY_POD_IP}:14268
      otlp:
        protocols:
          grpc:
            auth:
              authenticator: service_token_auth
            endpoint: ${env:MY_POD_IP}:4317
          http:
            auth:
              authenticator: service_token_auth
            endpoint: ${env:MY_POD_IP}:4318
      prometheus:
        config:
          scrape_configs:
          - job_name: opentelemetry-collector
            scrape_interval: 10s
            static_configs:
            - targets:
              - ${env:MY_POD_IP}:8888
      zipkin:
        endpoint: ${env:MY_POD_IP}:9411```
Working:
```    receivers:
      otlp:
        protocols:
          grpc:
            auth:
              authenticator: service_token_auth
            endpoint: ${env:MY_POD_IP}:4317
          http:
            auth:
              authenticator: service_token_auth
            endpoint: ${env:MY_POD_IP}:4318```

---

**Bram Schuur** (2025-11-26 09:10):
Afaik we do not ship zipkin and jaeger support in our otel collector ( i also do not see that in the doc link you sent https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_[…]ui (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html#_access_the_suse_observability_ui)).

If you want suport for those i guess you could setup your own collector and forwards to SUSE obs

---

**Philippe Bidault** (2025-11-26 09:18):
Nono, I don't do anything exotic, just the default installation of SUSE Obs following the doc, I have no idea where those zipkin and jaeger are coming from :sweat_smile:

---

**Bram Schuur** (2025-11-26 09:18):
<!subteam^S08HHSW67FE> anyone has an idea on this one?

---

**Derek So** (2025-11-26 09:27):
Hi Team, we have a customer asking about the storage IOPS required by SUSE Observability. Their estimated data volume is about ~50GB data per day per observed cluster , total 6 production clusters with retention period of 1 year. Is there any suggestion on this please? Thanks!

---

**Alejandro Acevedo Osorio** (2025-11-26 09:40):
The exception on the  `initializer` is pointing to an incomplete/truncated start of Hbase (master, rs) as apparently not all tables are enabled.

---

**Alejandro Acevedo Osorio** (2025-11-26 09:42):
Probably the best is to take a look at those logs and potentially restart them
```suse-observability-hbase-hbase-master-*
suse-observability-hbase-hbase-rs-*```
*** As you mentioned Hbase I'm assuming the customer is running an `Ha` profile where you should find those pods

---

**Ettore Ciarcia** (2025-11-26 10:09):
Yes, the customer is running an HA profile

---

**Alejandro Acevedo Osorio** (2025-11-26 10:26):
Perhaps you can collect the support package and share it with us (then we can take a look with you to the logs) https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/support-package-logs.html

---

**Ettore Ciarcia** (2025-11-26 10:27):
I didn't know we had a log collector specifically for SUSE OBS!
I'll send it to the client right away! Thanks so much!

---

**Remco Beckers** (2025-11-26 10:36):
My first guess it that a recentish change to our helm chart somehow broke this. We never included zipkin, jaeger, etc, but we did clean up the helm chart to get rid of some warnings and organize configuration for the otel collector better.  In our tests (and all our internal deployments) that all worked fine.

Can you share the configuration (values.yaml) you're using (removing any secrets)?

---

**Remco Beckers** (2025-11-26 10:36):
Also: Did it start correctly before you tried to configure the ingress (both of your links go to the ingress documentation page, but I assume you first followed the installation docs to get in installed at all)?

---

**Bram Schuur** (2025-11-26 10:56):
dear Derek, currently we do not support retention of a year. We pretty much support the retention that the product comes out of the box with (30 days).

We require SSD (flash)-equivalent storage (see https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime.html#_storage). Not sure what that translates to in exacts iops (anything better than a spinning disk).

---

**Remco Beckers** (2025-11-26 10:59):
I can't reproduce it with the latest version on a test setup. So if you can share the values file(s) and the version of the Helm chart you're installing, that would be great.

---

**Philippe Bidault** (2025-11-26 11:01):
Yes, I followed the installation process.

I execute this command:
```sles@suseobs-pool1-wbds5-nvx88:~&gt; helm upgrade --install --namespace suse-observability --create-namespace --values ingress_values.yaml --values $VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml --values $VALUES_DIR/suse-observability-values/templates/sizing_values.yaml --values $VALUES_DIR/suse-observability-values/templates/affinity_values.yaml --values private-registry.yaml suse-observability suse-observability-2.6.2.tgz
Release "suse-observability" does not exist. Installing it now.
NAME: suse-observability
LAST DEPLOYED: Wed Nov 26 09:44:17 2025
NAMESPACE: suse-observability
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:

sles@suseobs-pool1-wbds5-nvx88:~&gt; ```
And everything starts correctly, including the `suse-observability-otel-collector-0` pod:
```sles@suseobs-pool1-wbds5-nvx88:~&gt; kubectl get po -n suse-observability
NAME                                                              READY   STATUS      RESTARTS        AGE
suse-observability-backup-conf-26t094417-cwcq7                    0/1     Completed   0               5m46s
suse-observability-clickhouse-shard0-0                            2/2     Running     0               5m46s
suse-observability-correlate-6cdd957b48-7782t                     1/1     Running     2 (67s ago)     5m46s
suse-observability-e2es-7f7fd4787d-rbz5v                          1/1     Running     2 (61s ago)     5m46s
suse-observability-elasticsearch-master-0                         1/1     Running     0               5m46s
suse-observability-hbase-stackgraph-0                             1/1     Running     3 (4m21s ago)   5m46s
suse-observability-hbase-tephra-mono-0                            1/1     Running     0               5m46s
suse-observability-kafka-0                                        2/2     Running     1 (4m23s ago)   5m40s
suse-observability-kafkaup-operator-kafkaup-7c49f7fdbf-qhwzv      1/1     Running     0               5m46s
suse-observability-otel-collector-0                               1/1     Running     0               5m46s
suse-observability-prometheus-elasticsearch-exporter-598dfczc54   1/1     Running     0               5m46s
suse-observability-rbac-agent-9f66b6687-n2lxc                     1/1     Running     0               5m46s
suse-observability-receiver-6659d488f9-hx99q                      1/1     Running     2 (70s ago)     5m46s
suse-observability-router-d8b655bc9-w44lr                         1/1     Running     0               5m46s
suse-observability-server-744fc649d7-d8hv2                        1/1     Running     1 (78s ago)     5m46s
suse-observability-topic-create-26t094417-795g8                   0/1     Completed   0               5m46s
suse-observability-ui-5c77ff4f48-cmnm2                            2/2     Running     0               5m46s
suse-observability-victoria-metrics-0-0                           1/1     Running     0               5m46s
suse-observability-vmagent-0                                      1/1     Running     0               5m46s
suse-observability-zookeeper-0                                    1/1     Running     0               5m46s```
I then update helm with the ingress values:
```helm upgrade --namespace suse-observability --reuse-values --values suse-observability-values/templates/ingress_values.yaml suse-observability suse-observability/suse-observability```
to expose SUSE obs, after some time, all correctly restart except `suse-observability-otel-collector-0`:
```suse-observability-otel-collector-0                               0/1     CrashLoopBackOff   5 (33s ago)   3m38s```
Here the values.yaml after the execution of the last helm command.

---

**Philippe Bidault** (2025-11-26 11:06):
Note that I am using a air-gap env, not sure if it changes something

---

**Ettore Ciarcia** (2025-11-26 11:23):
I have the logs collected with the tool you suggested!

Unfortunately, a restart for
• suse-observability-hbase-hbase-master
• suse-observability-hbase-hbase-rs
Didn't solve the issue

---

**Remco Beckers** (2025-11-26 11:26):
The ingress configuration  doesn't include anything related to the collector configuration itself. So it shouldn't break in this way.

But I notice you're using the `--reuse-values` helm option which I'm not 100% sure about what the exact effect is when using sub-charts

Can you try without that and either provide all the values files on the command line for the `helm upgrade` (like in the `helm install`) or get the current user values with `helm get values &gt; currentValues.yaml` and use that `currentValues.yaml` in the `helm upgrade`?

---

**Philippe Bidault** (2025-11-26 11:28):
I am actually using the same command as the one there:
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html

The last one of the page

---

**Philippe Bidault** (2025-11-26 11:30):
That is why I was telling before that for me there are 2 methods, this one with `--reuse-values` and the one directly including the ingress values in the main helm command installation:
```helm upgrade --install --namespace suse-observability --create-namespace --values ingress_values.yaml --values $VALUES_DIR/suse-observability-values/templates/baseConfig_values.yaml --values $VALUES_DIR/suse-observability-values/templates/sizing_values.yaml --values $VALUES_DIR/suse-observability-values/templates/affinity_values.yaml --values $VALUES_DIR/suse-observability-values/templates/ingress_values.yaml --values private-registry.yaml suse-observability suse-observability-2.6.2.tgz```

---

**Remco Beckers** (2025-11-26 11:30):
Oh ok. That's what you were referring too. That was not clear to me

---

**Philippe Bidault** (2025-11-26 11:30):
Sorry :slightly_smiling_face:

---

**Remco Beckers** (2025-11-26 11:32):
Did you have an older version installed before though? I do wonder where --reuse-values picks up this incorrect config

---

**Philippe Bidault** (2025-11-26 11:33):
Yes I had, however before reinstalling, I `helm uninstall` and remove all the pvc

---

**Remco Beckers** (2025-11-26 11:33):
Mmm, that should have gotten rid of all the helm release secrets too I hope...

---

**Philippe Bidault** (2025-11-26 11:34):
Good catch, let me remove everything, secrets included

---

**Philippe Bidault** (2025-11-26 11:35):
Hmmm, no, all the secrets are correctly removed, only my own TLS for ingress remains:
```sles@suseobs-pool1-wbds5-nvx88:~> k get secrets -n suse-observability
NAME                  TYPE                DATA   AGE
suse-private-ai-tls   kubernetes.io/tls   2      5d18h```

---

**Remco Beckers** (2025-11-26 11:36):
Yeah. I just checked that too.

---

**Remco Beckers** (2025-11-26 11:36):
Thanks for the report. We might just remove the `--reuse-values` usage in the docs if we can't find a solution. I've already found some github issues reporting it doesn't do what you'd expect...

---

**Philippe Bidault** (2025-11-26 11:37):
Ok, let me try to reproduce this without the `--reuse-values`

---

**Gustavo Varela** (2025-11-26 11:37):
can we use the otel client to view c++ applications ?

---

**Remco Beckers** (2025-11-26 11:38):
I've now tried with `--reuse-values` and I can't reproduce it (but I'm not doing an airgapped setup)

---

**Alejandro Acevedo Osorio** (2025-11-26 11:39):
I see ... well if you can share the logs package with us then we can check further

---

**Ettore Ciarcia** (2025-11-26 11:40):
What tools do you use?
When I talk to Rancher developers, I use Jira.

---

**Alejandro Acevedo Osorio** (2025-11-26 11:43):
I invited you to the channel where we handle the support tickets, we don't work directly with Jira ourselves

---

**Ettore Ciarcia** (2025-11-26 11:48):
Have you already sent the invitation? I don't see anything on Slack

---

**Remco Beckers** (2025-11-26 11:58):
Which version of the chart are you using? In version 2.6.2 we removed those warnings. So this is an older version

---

**Philippe Bidault** (2025-11-26 11:58):
It is supposed to be 2,6,2 :sweat_smile:

---

**Remco Beckers** (2025-11-26 11:59):
Maybe run a `helm repo update`? Looks like you're now using the non-airgapped installation

---

**Remco Beckers** (2025-11-26 12:02):
I'm not sure what you mean by `otel client` . But if you want to monitor C++ applications you can instrument your C++ code with the Open Telemetry SDK (https://opentelemetry.io/docs/languages/cpp/getting-started/) and follow the rest of our Open Telemetry documentation to get the data in SUSE Observability to view metrics, traces, and topology ((generated from the metrics and traces).

---

**Philippe Bidault** (2025-11-26 12:03):
Looks like there is a weird mix then, and that confuses me, let me remove the helm repo to be sure I go 100% air-gapped and try again

---

**Remco Beckers** (2025-11-26 12:04):
In the last command you used `suse-observability/suse-observability` instead of `suse-observability-2.6.2.tgz` .

---

**Remco Beckers** (2025-11-26 12:04):
I notice that's also a bug in our documentation :disappointed: . The air-gapped commands at least once refer to the helm repo itself

---

**Philippe Bidault** (2025-11-26 12:05):
:slightly_smiling_face: You got it !

---

**Remco Beckers** (2025-11-26 12:05):
Or actually in all cases they seem to do that

---

**Philippe Bidault** (2025-11-26 12:05):
The doc is wrong indeed

---

**Philippe Bidault** (2025-11-26 12:06):
For air-gapped it should be:
```helm upgrade --namespace suse-observability --reuse-values --values suse-observability-values/templates/ingress_values.yaml suse-observability suse-observability-2.6.2.tgz```

---

**Philippe Bidault** (2025-11-26 12:06):
Let me try that

---

**Remco Beckers** (2025-11-26 12:06):
Yeah. But also the original installation needs to be done like that. Which is also incorrect in the docs

---

**Remco Beckers** (2025-11-26 12:07):
In the `Get started` section it is actually correctly referring to the `*.tgz` file: https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-suse-rancher-prime-air-gapped.html

---

**Remco Beckers** (2025-11-26 12:07):
But it doesn't include the ingress part

---

**Philippe Bidault** (2025-11-26 12:09):
Ah yes I understand now why I was actually using the correct command for the installation. So the issue are with the commands in the '*Air-gapped setup'* tab in:
https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html

---

**Remco Beckers** (2025-11-26 12:09):
For the `helm upgrade --reuse-values` command there isn't even an airgapped version provided. It just shows 1 command for both cases

---

**Philippe Bidault** (2025-11-26 12:11):
Indeed. I am happy we have spotted this, as my customer will probably follow this doc soon as they are in an air-gapped env

---

**Philippe Bidault** (2025-11-26 12:12):
Do you want me to create a Jira ticket or something or do you take care?

---

**Derek So** (2025-11-26 12:13):
Thanks Bram!  To clarify, the scenario is self-hosted SUSE observability setup, from the Data Retention guide (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/data-management/data_retention.html) , the default data retention period is 30 days, which can be customised or extended during deployment using the Helm chart. Additionally, persistent volume (PV) resizing is supported when using compatible CSI drivers. Am I understand it correctly? Is there any maximum retention period constrained by the product?

---

**Remco Beckers** (2025-11-26 12:17):
I'll take care of it.

---

**Remco Beckers** (2025-11-26 12:17):
Already making the doc change

---

**Remco Beckers** (2025-11-26 12:20):
Maybe you can make a SURE Jira ticket after all? So that I can link our Jira ticket to it, it's the only way I can track how we discovered the issue

---

**Bram Schuur** (2025-11-26 12:46):
Good question! @Louis Lotter @Mark Bakker @Remco Beckers what do we recommend here? I don't think we officially support 1 year of retention (maybe we should document this?), we do offer configuring retention though, so question is what we recommend around those configuration options.

---

**Mark Bakker** (2025-11-26 12:59):
We should not officially document that we don't support a year since we officially say it's configurable. Problem however is that we don't know the effects.
Most customers demand min 12-15 months so I don't want to scare them all away.

---

**Mark Bakker** (2025-11-26 12:59):
In many cases they go with defaults.

---

**Mark Bakker** (2025-11-26 12:59):
Especially for metrics this is an important topic

---

**Mark Bakker** (2025-11-26 13:00):
For traces and logs I am ok with documenting a max of for instance a month

---

**Gustavo Varela** (2025-11-26 16:04):
this is how the app should be prepared to integrate with SUSE Observability “traces functionality” properlly ?

---

**Remco Beckers** (2025-11-26 16:27):
Correct. If you want to use tracing functionality you'll need to instrument your app with an OTel SDK. For some languages this can be done at runtime and a lot happens automatically.

For C++ it does not work like that, you'll have to modify the application. With a bit of luck, the app uses some libraries that are already instrumented themselves with OTel trace (and/or metric) support. You can find some (not sure if it is complete) of those libraries in the registry that the OTel project maintains: https://opentelemetry.io/ecosystem/registry/?language=cpp&component=instrumentation

---

**Daniel Barra** (2025-11-26 17:45):
*We are pleased to announce the release of 2.6.3, featuring bug fixes and enhancements. For details, please review the release notes (https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/release-notes/v2.6.3.html).*

---

**Derek So** (2025-11-27 02:15):
Thanks @Bram Schuur and @Mark Bakkerfor clarifying on this. Let me check with customer if they have concerns on this constraint and get back to you.

---

**Remco Beckers** (2025-11-27 08:37):
The documentation is updated now https://documentation.suse.com/cloudnative/suse-observability/latest/en/setup/install-stackstate/kubernetes_openshift/kubernetes_install.html

---

**Philippe Bidault** (2025-11-27 12:11):
Hi team, sorry if that was already asked, but SUSE Obs is not part of SUSE Rancher Suite (https://www.suse.com/products/rancher/) ?

---

**Bram Schuur** (2025-11-27 12:16):
@Mark Bakker?

---

**Manuel Recena** (2025-11-27 12:17):
<#C02ER7LFAR2|> is the right place.

SUSE Rancher Suite includes everything. This is my understanding.

---

**Philippe Bidault** (2025-11-27 12:20):
Sorry, will move my question there then

---

**Philippe Bidault** (2025-11-27 12:21):
https://suse.slack.com/archives/C02ER7LFAR2/p1764242458950669

---

**Ben Craft** (2025-11-28 11:08):
I have installed the observability stackpack for self monitoring but the host doesnt show up in clusters, I havent installed the agent yet, docs indicate I need too but im not sure if thats different to when i install a downstream? Same receiver url and create a service token?

---

**Frank van Lankvelt** (2025-11-28 11:12):
that's right.  The stackpack provides monitors and metric bindings that are specific to SUSE Observability itself.  These will have data to work with once the agent is sending data.

---

**Ben Craft** (2025-11-28 11:13):
okay cool - thanks

---

**Ben Craft** (2025-11-28 11:13):
sorry another one.

Is there an example monitor that either watches for a particular resource type (its a crd) being created, or watches for a specific event?

---

**Ben Craft** (2025-11-28 11:15):
also - if i invoke `/notifications/channels/slack/{channelId}/joinSlackChannel:` directly rather than through the ui, does the backend still invoke the logic where it tries to list all the slack channels?

Im getting an error channel not found and wondering if doing it this way isnt actually bypassing the issue

---

**Warner Chen** (2025-11-28 15:25):
Hello Team, We received feedback from the customer regarding a scenario: The domain currently used by the customer is k8s.example.com (http://k8s.example.com), and due to internal security requirements, they cannot provide a new domain. They can only add a subpath to the existing domain, such as k8s.example.com/obser (http://k8s.example.com/obser).

I tested this on version 2.6.2 and found that the `baseURL` cannot be configured with a domain that includes a subpath. I tried to configure it using the `rewrite-target` in Ingress, but ultimately, I was still unable to access SUSE Observability properly (possibly due to a misconfiguration on my part).

Could you please confirm if SUSE Observability supports this scenario? Thanks!

---

**Warner Chen** (2025-11-28 15:25):
here is my ingress configuration:
```apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: 50m
    nginx.ingress.kubernetes.io/rewrite-target: /$2
    nginx.ingress.kubernetes.io/use-regex: 'true'
  name: suse-observability
  namespace: suse-observability
spec:
  rules:
    - host: suse-observability.warnerchen.com
      http:
        paths:
          - backend:
              service:
                name: suse-observability-router
                port:
                  number: 8080
            path: /obser(/|$)(.*)
            pathType: ImplementationSpecific
  tls:
    - hosts:
        - suse-observability.warnerchen.com
      secretName: suse-o11y-tls```

---

**Warner Chen** (2025-12-01 14:28):
I would really appreciate it if someone could confirm this.

---

**Remco Beckers** (2025-12-01 14:31):
SUSE Observability does not support this scenario. It is not just that the `baseURL` doesn't support it, but the UI won't load properly in this setup either.
Given that we haven't tested this any further I can imagine there might be more problems, small or big, that we're not aware of

---

**Warner Chen** (2025-12-01 14:38):
That's also what I observed in my tests. Thank you very much!

---

**Daniel Murga** (2025-12-01 18:11):
case closed @Alejandro Acevedo Osorio, thanks for your help!

"Hi there , the corruption issue seen here has been addressed in the later versions of SUSE we are now running so this call can be closed

Regards"

---

**Ben Craft** (2025-12-01 21:15):
On a couple of my deployments the ui has been pretty bare, not blank but no content in the menus etc.

I traced this back to the rbac agent having an expired service token, pod was about 6 days old. Restarting the pod restored full functionality but I'm curious if this is something worth looking into?

I'll keep an eye of other deployments and preserver them rather than fix if it happens

---

**Bram Schuur** (2025-12-02 13:00):
Thanks for notifying. Out of curiosity: is this the rbac agent deployed with the platform (which uses a service account, or suse-observability-agent?).

---

**Ben Craft** (2025-12-02 13:01):
the instance has both charts installed so retrospectively im not sure

---

**Ben Craft** (2025-12-02 13:02):
```ben@susepad:~&gt; kubectl -n suse-observability get pod suse-observability-rbac-agent-6d7d974f5c-b26ld -o yaml
apiVersion: v1
kind: Pod
metadata:
  annotations:
    ad.stackstate.com/kubernetes-rbac-agent.check_names (http://ad.stackstate.com/kubernetes-rbac-agent.check_names): '["openmetrics"]'
    ad.stackstate.com/kubernetes-rbac-agent.init_configs (http://ad.stackstate.com/kubernetes-rbac-agent.init_configs): '[{}]'
    ad.stackstate.com/kubernetes-rbac-agent.instances (http://ad.stackstate.com/kubernetes-rbac-agent.instances): '[ { "prometheus_url": "http://%%host%%:8080/metrics",
      "namespace": "stackstate", "metrics": ["*"] } ]'
    revision: "1"
  creationTimestamp: "2025-12-01T18:59:17Z"
  generateName: suse-observability-rbac-agent-6d7d974f5c-
  generation: 1
  labels:
    app: suse-observability-rbac-agent
    app.kubernetes.io/component (http://app.kubernetes.io/component): kubernetes-rbac-agent
    app.kubernetes.io/instance (http://app.kubernetes.io/instance): suse-observability
    app.kubernetes.io/name (http://app.kubernetes.io/name): suse-observability-rbac-agent
    pod-template-hash: 6d7d974f5c
  name: suse-observability-rbac-agent-6d7d974f5c-b26ld
  namespace: suse-observability
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: suse-observability-rbac-agent-6d7d974f5c
    uid: f4957953-5524-4c53-8ee6-56a3480be9fa
  resourceVersion: "3373030"
  uid: 13d016ad-29c6-47a7-9fb6-b8d5699933aa```

---

**Ben Craft** (2025-12-02 13:02):
this is the replaced pod

---

**Bram Schuur** (2025-12-02 13:05):
gotcha, that is the one from the platform which uses a k8s serviceaccount.

we do not do anything with expiry there, so i am not exactly sure how this could arise.

---

**Ben Craft** (2025-12-02 13:05):
Just to clarify, I deploy suse-observability per client. and then on each clients cluster the agent is installed, but to send data back to a cenralised observability instance

---

**Ben Craft** (2025-12-02 13:05):
so its not installing the agent to monitor itself as such

---

**Ben Craft** (2025-12-02 13:05):
i'll just keep an eye out if it happens again

---

**Bram Schuur** (2025-12-02 13:06):
perfect:+1:

---

**Eduardo Mínguez** (2025-12-03 15:13):
howdy, is there a support matrix available for suse observability? I cannot find anything here https://documentation.suse.com/en-us/cloudnative/suse-observability/ nor https://www.suse.com/suse-rancher/support-matrix/all-supported-versions/rancher-v2-12-4/ Thanks!

---

**Chris Riley** (2025-12-03 15:39):
Not 100% sure but believe there are plans to create one ... @Mark Bakker will know.

---

**Mark Bakker** (2025-12-03 15:41):
I will indeed, the short summary is only the latest version will be supported at the moment.

---

**Mark Bakker** (2025-12-03 15:42):
And for supported versions of K8S we can Observe you can see:
https://documentation.suse.com/cloudnative/suse-observability/latest/en/k8s-quick-start-guide.html

---

**Ben Craft** (2025-12-03 20:21):
```ben@susepad:~&gt; kubectl -n suse-observability get pod suse-observability-rbac-agent-6d7d974f5c-b26ld -o yaml
apiVersion: v1
kind: Pod
metadata:
  annotations:
    ad.stackstate.com/kubernetes-rbac-agent.check_names (http://ad.stackstate.com/kubernetes-rbac-agent.check_names): '["openmetrics"]'
    ad.stackstate.com/kubernetes-rbac-agent.init_configs (http://ad.stackstate.com/kubernetes-rbac-agent.init_configs): '[{}]'
    ad.stackstate.com/kubernetes-rbac-agent.instances (http://ad.stackstate.com/kubernetes-rbac-agent.instances): '[ { "prometheus_url": "http://%%host%%:8080/metrics",
      "namespace": "stackstate", "metrics": ["*"] } ]'
    revision: "1"
  creationTimestamp: "2025-12-01T18:59:17Z"
  generateName: suse-observability-rbac-agent-6d7d974f5c-
  generation: 1
  labels:
    app: suse-observability-rbac-agent
    app.kubernetes.io/component (http://app.kubernetes.io/component): kubernetes-rbac-agent
    app.kubernetes.io/instance (http://app.kubernetes.io/instance): suse-observability
    app.kubernetes.io/name (http://app.kubernetes.io/name): suse-observability-rbac-agent
    pod-template-hash: 6d7d974f5c
  name: suse-observability-rbac-agent-6d7d974f5c-b26ld
  namespace: suse-observability
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: suse-observability-rbac-agent-6d7d974f5c
    uid: f4957953-5524-4c53-8ee6-56a3480be9fa
  resourceVersion: "3373030"
  uid: 13d016ad-29c6-47a7-9fb6-b8d5699933aa
spec:
  containers:
  - args:
    - start
    command:
    - /usr/bin/kubernetes-rbac-agent
    env:
    - name: STS_NAMESPACE
      value: suse-observability
    - name: STS_K8S_SERVICE_ACCOUNT
      value: "true"
    - name: STS_ROLE_TYPE
      value: instance
    - name: STS_SKIP_FEATURES
      value: "true"
    envFrom:
    - configMapRef:
        name: suse-observability-rbac-agent-url
    - configMapRef:
        name: suse-observability-rbac-agent-cluster-name
    image: registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206)
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: 3
      httpGet:
        path: /healthz
        port: 8080
        scheme: HTTP
      initialDelaySeconds: 30
      periodSeconds: 30
      successThreshold: 1
      timeoutSeconds: 1
    name: kubernetes-rbac-agent
    ports:
    - containerPort: 8080
      protocol: TCP
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-4cw8b
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  imagePullSecrets:
  - name: suse-observability-rbac-agent-pull-secret
  nodeName: ip-10-1-108-156.us-east-2.compute.internal
  preemptionPolicy: PreemptLowerPriority
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    fsGroup: 65534
    runAsGroup: 65534
    runAsNonRoot: true
    runAsUser: 65534
  serviceAccount: suse-observability-rbac-agent
  serviceAccountName: suse-observability-rbac-agent
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready (http://node.kubernetes.io/not-ready)
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable (http://node.kubernetes.io/unreachable)
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - name: kube-api-access-4cw8b
    projected:
      defaultMode: 420
      sources:
      - serviceAccountToken:
          expirationSeconds: 3607
          path: token
      - configMap:
          items:
          - key: ca.crt
            path: ca.crt
          name: kube-root-ca.crt
      - downwardAPI:
          items:
          - fieldRef:
              apiVersion: v1
              fieldPath: metadata.namespace
            path: namespace
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2025-12-01T18:59:19Z"
    observedGeneration: 1
    status: "True"
    type: PodReadyToStartContainers
  - lastProbeTime: null
    lastTransitionTime: "2025-12-01T18:59:17Z"
    observedGeneration: 1
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2025-12-01T18:59:19Z"
    observedGeneration: 1
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2025-12-01T18:59:19Z"
    observedGeneration: 1
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2025-12-01T18:59:17Z"
    observedGeneration: 1
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: <containerd://e7a44ab3cf55df2f70970e44cafbb2ab7f78734df6546c7bcbe32985991c289>2
    image: registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent:35ec5206)
    imageID: registry.rancher.com/suse-observability/kubernetes-rbac-agent@sha256:32764669a619148856ab2879c4f19709f208502c4a548841a554199afe8a3ca7 (http://registry.rancher.com/suse-observability/kubernetes-rbac-agent@sha256:32764669a619148856ab2879c4f19709f208502c4a548841a554199afe8a3ca7)
    lastState: {}
    name: kubernetes-rbac-agent
    ready: true
    resources: {}
    restartCount: 0
    started: true
    state:
      running:
        startedAt: "2025-12-01T18:59:18Z"
    user:
      linux:
        gid: 65534
        supplementalGroups:
        - 65534
        uid: 65534
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-api-access-4cw8b
      readOnly: true
      recursiveReadOnly: Disabled
  hostIP: 10.1.108.156
  hostIPs:
  - ip: 10.1.108.156
  observedGeneration: 1
  phase: Running
  podIP: 10.1.107.96
  podIPs:
  - ip: 10.1.107.96
  qosClass: BestEffort
  startTime: "2025-12-01T18:59:17Z"```

---

**Ben Craft** (2025-12-03 20:22):
appreciate thats probably overkill on info, just not to sure what might be indicative of why this is happened

---

**Ben Craft** (2025-12-03 20:35):
its on another instance too

---

**Ben Craft** (2025-12-04 10:38):
Could somebody help me out with diagnosing this today? Looks to be affecting most SRA deployments

---

**Ben Craft** (2025-12-04 11:22):
Yeah deleting the pod fixes it for me, the problem i have is its multiple downstream deployments and its re-occuring

---

**Remco Beckers** (2025-12-04 12:14):
Could it be the service account token, that gets injected into the rbac-agent pod, expires and doesn't get updated?

---

**Ben Craft** (2025-12-04 12:16):
Thats definitely the root cause. What im trying to figure out is if the problem is the rbac agent handling the refresh correctly, or the cluster not refreshing it

---

**Ben Craft** (2025-12-04 12:16):
the latter im hesitent on because so many other pods use service tokens without issue in long running process'

---

**Ben Craft** (2025-12-04 12:17):
where is the source for the rbac agent?

---

**Remco Beckers** (2025-12-04 12:20):
I can only find it on Gitlab. Do you have access here? https://gitlab.com/stackvista/agent/kubernetes-rbac-agent

---

**Remco Beckers** (2025-12-04 12:20):
Can't help you much with any pointers, I haven't looked at that code at all

---

**Ben Craft** (2025-12-04 12:20):
thats okay im happy to have a look

---

**Ben Craft** (2025-12-04 12:21):
@Louis Lotter please could you add me to that repo?

---

**Bram Schuur** (2025-12-04 12:22):
Looking at the following line i think we do not refresh the service account token when the rbac agent is running: https://gitlab.com/stackvista/agent/kubernetes-rbac-agent/-/blob/main/cmd/agent/start.go#L240, so that's probably the issue

---

**Remco Beckers** (2025-12-04 12:23):
Yeah. Just found the same thing. Reads it only at startup :disappointed:

---

**Ben Craft** (2025-12-04 12:34):
(famous last words because I havent seen it yet) but I can help out with a PR on that to get it moving. I'll patch my deployments with a local build

---

**Louis Lotter** (2025-12-04 12:37):
@Vladimir Iliakov or @Fedor Zhdanov can you guys add   https://gitlab.com/stackvista/agent/kubernetes-rbac-agent to  the https://gitlab.com/groups/stackvista/accessgroups/susegeneral/-/shared group please ?

---

**Bram Schuur** (2025-12-04 14:12):
it should periodically send a request

---

**Bram Schuur** (2025-12-04 14:12):
you could set  STS_LOG_LEVEL to observe what it is doing

---

**Bram Schuur** (2025-12-04 14:13):
`STS_LOG_LEVEL=debug` in the `kubernetes-rbac-agent/constainers.rbacAgent.env` helm value

---

**Ben Craft** (2025-12-04 14:20):
Ah - i think its 24hr expiry thats why

---

**Ben Craft** (2025-12-04 15:11):
Implemented a workaround with a cron to restart the deployment every 12 hours to remove the fire from this one

---

**Remco Beckers** (2025-12-04 15:13):
This would explain some cases I've spotted somewhere else I think. I thought it was simply a misconfigured agent, but more likely it is the same thing

---

**Ben Craft** (2025-12-04 15:14):
Tangential question for my product understanding - is there a way i could alert on this in my central observability instance? (which strangely isnt having this problem)

---

**Warner Chen** (2025-12-05 04:36):
Hi Remco, the customer hopes that subpath support can be added in a future version. Where can I submit an FRE for this request? Should it be submitted in Jira (https://stackstate.atlassian.net/)?

---

**Remco Beckers** (2025-12-05 08:57):
I think it should be a ticket in this Jira: https://jira.suse.com/secure/Dashboard.jspa under SURE with the SUSE Observability component. cc @Mark Bakker

---

