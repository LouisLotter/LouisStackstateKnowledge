Summary,Issue key,Issue id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project lead id,Project description,Project url,Priority,Resolution,Assignee,Assignee Id,Reporter,Reporter Id,Creator,Creator Id,Created,Updated,Last Viewed,Resolved,Affects versions,Fix versions,Due date,Votes,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers Id,Watchers Id,Watchers Id,Original estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Inward issue link (Work item split),Outward issue link (Work item split),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Activation Date),Custom field (Actual results),Custom field (Affected services),Custom field (Approvals),Custom field (Bug Template),Custom field (Category),Custom field (Content type),Custom field (Development),Custom field (Due date),Custom field (Epic Color),Custom field (Epic Name),Custom field (Epic Status),Custom field (Expected results),Custom field (Focus Areas),Custom field (Goals),Custom field (Handover Points),Custom field (Issue color),Custom field (Location),Custom field (Locked forms),Custom field (Open forms),Custom field (Project overview key),Custom field (Project overview status),Custom field (Publication date),Custom field (Quality Level),Custom field (Rank),Custom field (Release End Date),Custom field (Release Risk),Custom field (Release Start Date),Custom field (Release State),Custom field (Release Status),Custom field (Release notes),Custom field (Request Type),Custom field (Request language),Custom field (Request participants),Custom field (SURE Jira link),Satisfaction rating,Custom field (Satisfaction date),Custom field (Sentiment),Sprint,Sprint,Sprint,Sprint,Custom field (StackState Team),Custom field (Start date),Custom field (Steps to reproduce),Custom field (Story Points),Custom field (Story point estimate),Custom field (Submitted forms),Custom field (Target Fix Date),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Template),Custom field (Total forms),Custom field (Vulnerability),Custom field ([CHART] Date of First Response),Custom field ([CHART] Time in Status),Custom field (uuid),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Parent,Parent key,Parent summary,Status Category,Status Category Changed
[Dashboards] Drag on timeseries or bar chart to select time range,STAC-24048,49841,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,09/Dec/25 2:44 PM,10/Dec/25 11:24 AM,,,,,,0,,,"Just like on the other charts in StackState it should be possible to drag the mouse over the timeseries and bar chart widgets to update the selected time range.

*Acceptance criteria*

* Dragging over a chart should select a time range in the same way it does on charts in the metrics perspective
* The timerange of the entire dashboard gets updated (just the same as when you would update it via the time range control on the dashboard).",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1d72894b,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,09/Dec/25 2:44 PM
Dashboards UI loads .js values from cdn,STAC-24036,49790,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,05/Dec/25 8:31 AM,09/Dec/25 9:58 AM,,,suse-observability/2.6.2,,,0,,,"_Actual behavior_:
The editor in the dashboards UI loads some javascript (all?) from a CDN instead of our own server.

There's a JS ([https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs/loader.js)|https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs/loader.js)] dependency that's trying to be downloaded. I have attached 2 screenshots showing the error. After slack thread ([https://suse.slack.com/archives/C07CF9770R3/p1764838199507889)|https://suse.slack.com/archives/C07CF9770R3/p1764838199507889)] discussion we agreed to treat the issue as a bug 

This is not what we want and is a problem in some air-gapped environments.

_Expected behavior_:
All dependencies are downloaded from stackstate server itself

_Steps to reproduce_:
Open the edit widget UI

_Technical note_:",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@69e10a1d,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz0z,,,,,,,,,,https://jira.suse.com/browse/SURE-11036,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,05/Dec/25 8:31 AM
[Dashboards] Gauge widget text size when zooming out in browser,STAC-24012,49595,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,28/Nov/25 4:22 PM,10/Dec/25 11:24 AM,,,,,,0,,,"!image-20251128-152241.png|width=509,alt=""image-20251128-152241.png""!

See second widget across, the text size looks larger than it probably should be. This was when, during a demo, the page was zoomed from 100% to 90%",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,28/Nov/25 4:23 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251128-152241.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/26365,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1983ce6c,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3xi,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,28/Nov/25 4:22 PM
[Dashboards] Markdown widget markdown editor does not wrap text,STAC-24011,49594,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,28/Nov/25 4:21 PM,10/Dec/25 11:24 AM,,,,,,0,,,,,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@162b356d,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3x,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,28/Nov/25 4:21 PM
[Dashboards] Variable name truncation issue,STAC-24010,49593,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,28/Nov/25 4:18 PM,11/Dec/25 3:48 PM,,,,,,0,,,"During the demo on 28th November, Remco demoed a dashboard that had some variables such that only the first two are shown (with the rest behind the dropdown).

The variable’s display name was “Cluster”, and it had some long, truncated value selected.

However, the display name was truncated such that it looked like “Clus er”, but no ellipsis was rendered.


You can force the weird rendering by changing the width in the inspector of the display title of the variable (see how it says “Cluser” instead of “Cluster”):

!image-20251211-144818.png|width=281,alt=""image-20251211-144818.png""!",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,11/Dec/25 3:48 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251211-144818.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/26464,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@848f245,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3v,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,28/Nov/25 4:18 PM
[Dashboards] Stat charts within the same widget should have same text sizes,STAC-24009,49592,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,28/Nov/25 3:38 PM,10/Dec/25 11:24 AM,,,,,,0,,,"!image-20251128-144022.png|width=720,alt=""image-20251128-144022.png""!

The stats (on the most left) widget should always use the same font size for both label and value, similar to grafana

!image-20251128-144120.png|width=1090,alt=""image-20251128-144120.png""!",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,28/Nov/25 3:41 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image-20251128-144022.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/26364,28/Nov/25 3:41 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image-20251128-144120.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/26363,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7fe97c7c,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3p,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,28/Nov/25 3:38 PM
Document available CLI commands,STAC-24007,49588,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Nov/25 10:28 AM,09/Dec/25 9:58 AM,,,,,,0,,,"We want to add to the documentation that dasbhoards are supported on the stackstate-cli tool. What we don’t want is to spell out the details of every sub-command (which would be also a pain to maintain). 

The {{--help}} option on the CLI should be detailed enough for users to use any of the commands. For example, the dashboard CRUD commands shouldn’t need any additional documentation. 

Commands that are used in a troubleshooting flow or for a specific purpose should be included (with examples) in the detailed documentation for that user flow (troubleshooting topology or health synchronization, monitor creation, etc.). So the CLI docs page only needs to have a list with the top-level commands and a short description for each so users have an overview of the capabilities of the Cli.

*Acceptance criteria*

* Add an overview of CLI top-level commands with a short description, similar to the one in the [Rancher docs|https://documentation.suse.com/cloudnative/rancher-manager/v2.12/en/rancher-admin/cli/rancher-cli.html#_commands]. It’s probably best to create a separate docs page for this, the existing page is already big. 
* Include the {{dashboard}} command behind its feature flag
* Include the otel mapping commands behind the stackpacks2 feature flag
* Include the rationale above in a small ADR (Architectural decission record) document in the Cli repository, so we have this documented for the future.",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4866f7e6,,,,{},,,,,,,,,,,,,,,,A,1|i02vgb:,,,,,,,,,,,,,,Team Borg - Next up,,,,Borg,,,2.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,28/Nov/25 10:28 AM
[Dashboards] Quick selection for only my dashboards or only shared dashboards,STAC-24001,49547,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/Nov/25 9:24 AM,09/Dec/25 10:03 AM,,,,,,0,,,"In the dashboard overview, I want to quickly select only my own dashboards (public or private) or the dashboards that are shared with me. 

*Acceptance criteria*

* Add a quick filter (like the {{All dashboards}} and {{Starred dashboards}} filters) to select {{My dashboards}}
* Add a quick filter for {{Shared with me}}
* Re-order the filters and select “Starred” by default: {{Starred | My Dashboards | Shared with me | All}}
* Each filter includes the word {{dashboard}}. That makes the text very long and feels rather redundant. Only for {{My dashboards}} it feels like it is required. What do you think?",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@544710d6,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz1z,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Nov/25 9:24 AM
"[Dashboards] When ""save variables"" is turned off, it should not set a default value ",STAC-23989,49466,User Story,In Review,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,25/Nov/25 4:07 PM,08/Dec/25 9:38 AM,,,,,,0,,,"Right now, when creating variables, it always picks the first value as the default value. After a discussion between [~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] [~accountid:61d2f4ebce3652006aaa23ca] [~accountid:712020:a950806e-86c0-42f7-b531-66e40f57b9ee] , it was decided it should work as follows.

When “Save variables” is off

* When creating a new variable, no default value should be saved in the dashboard spec YAML (the value is empty)
* When loading the dashboard with no URL params in it for the variables, the frontend should run the queries and sort the resulting options, and pick the first one to show the user
* The above first items are then immediately reflected in the URL
* Subsequent changes to the variables change the URL
* Variables never show the “Reset” link when changed because there is no concept of “default value” in this mode


When “Save variables” is on – *it should work as it does now*

* On variable creation, the default value is set to the first item after being sorted
* When changing variables, the dashboard is marked as dirty (because changing it updates the dashboard spec)
* Saving the dashboard saves the variables to it
** Visiting the dashboard with no URL params and with URL params has no difference, it always uses the variables saved in the dashboard spec
* Variables show the “Reset” link when changed from the value already saved


When toggling between on and off for “Save variables” – *it should work as it does now*

* We do not run any logic to get the first value of the query etc, as far as the user is concerned, the variables do not change
** Simply, in the code, we determine where to save them",,Release StackState,Samuel Jones,,5f0c19c95ee2c3002363e486,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@51009c4c,,,,"{pullrequest={dataType=pullrequest, state=OPEN, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-27T09:34:52.795+0100"",""stateCount"":1,""state"":""OPEN"",""dataType"":""pullrequest"",""open"":true},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02v6n:,,,,,,,,,,,,,,Prepare dashboards release,Dashboards release?,,,Borg,,,5.0,,,,,,,,,,2025-11-27 08:35:00.478,,,27/Nov/25 9:35 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9364] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23989-dashboard-variables-default-value|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23989-dashboard-variables-default-value]:{quote}Draft: STAC-23989 Fix variable default values{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,In Progress,25/Nov/25 4:12 PM
[Dashboards] Links are not saved for Markdown widget,STAC-23988,49465,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,25/Nov/25 3:43 PM,10/Dec/25 11:24 AM,,,,,,0,,,,,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@76ddb68f,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz2i,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,25/Nov/25 3:43 PM
[Dashboards] Sharing dashboards via only public/private is too limited,STAC-23936,49463,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Duplicate,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,25/Nov/25 2:10 PM,27/Nov/25 2:45 PM,,27/Nov/25 2:45 PM,,,,0,,,"Just look at [nightly champagne|https://nightly-champagne.preprod.stackstate.io/#/dashboards/84255217340024]: the whole dashboard list is filled with test dashboards that have been made public. I have no way of cleaning that up myself, so I just need to find my own dashboards in that mess.

Possible fixes:

* Dashboards list UI needs to have quick selections: {{Starred}} |{{My dashboard  | Shared with me | All}} (public or shared with me is up for debate), defaulting to {{Mine}} (or a combination, or simply the last I selected)
* -Give a user control over public/shared dashboards. This is the most frustrating thing. I cannot hide the dashboards that are public, they are simply there, obfuscating the list of the dashboards that I find important.-
* -Implement proper sharing, i.e. sharing with someone else specifically instead of with everyone (though this mostly serves another problem: sharing a dashboard too broadly)-",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5549c6d9,,,,{},,,,,,,,,,,,,,,,A,1|i02v67:,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_174870921_*|*_6_*:*_1_*:*_0,,27/Nov/25 2:45 PM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;stac-24001,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,27/Nov/25 2:45 PM
Knowledge share with support and sales engineers?,STAC-23929,49421,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,24/Nov/25 1:45 PM,24/Nov/25 1:46 PM,,,,,,0,,,,,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@586e0495,,,,{},,,,,,,,,,,,,,,,A,1|i02v4v:,,,,,,,,,,,,,,,,,,Borg,,,,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,24/Nov/25 1:45 PM
[Dashboards] Save as.. for dashboards ignores the `public` setting the user provided,STAC-23905,49342,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,20/Nov/25 3:13 PM,08/Dec/25 9:42 AM,,,,,,0,backend,frontend,"_Actual behavior_:

No matter what the {{public}} flag is on the Dashboard properties drawer (after clicking save as on a dashboard), it is ignored. Saving a public dashboard as a new dashboard makes the new dashboard always public and vice-versa.

There is an easy work-around, but the big problem is that cloning a public dashboard makes a new public dashboard by default now. This will quickly pollute the system with lots of public dashboards. So therefore a high priority.

_Expected behavior_:

The setting that is done in the Dashboard properties drawer while saving as… is persisted. It should default to {{not public}} even when the original dashboard is public. 

_Steps to reproduce_:



_Technical note_:

The request also adds both {{dashboard}} and {{spec}} fields, but {{spec}} is our internal thing. So we should make sure we omit it from all create/clone/update calls.

*Acceptance criteria*

* In the frontend we should include the public/private flag  when cloning
* In the backend the default seting for {{public}} should be {{false}} when cloning",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@9d7f2a4,,,,{},,,,,,,,,,,,,,,,A,1|i02vcz:i,,,,,,,,,,,,,,Dashboards release?,,,,Borg,,,2.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,20/Nov/25 3:13 PM
"[Dasbhoards] Without any dashboards, the ""add to dashboard"" drawer fails to initialize",STAC-23879,49302,Bug,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,19/Nov/25 5:35 PM,27/Nov/25 9:26 AM,,27/Nov/25 9:26 AM,,,,0,frontend,,"_Actual behavior_:

On a new branch deploy without any dashboards I tried to add a metric to a dashboard, but the drawer to select or create a dashboard would never initialize (it is stuck at the rendered placeholders). The backend api does return a proper (empty) list of dashboards

After creating just 1 dashboard it all works as expected

_Expected behavior_:

The drawer initializes and provides the option to create a new dashboard, maybe also shows a message that there are no existing dashboards

_Steps to reproduce_:

See actual behavior

_Technical note_:",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@380c4449,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:o8,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_661835916_*|*_6_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,27/Nov/25 9:26 AM
[Dashboards] TimeSeries/Bar Chart / Increasing YAxis Decimals to > 100 throws an error,STAC-23824,49097,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,13/Nov/25 5:48 PM,09/Dec/25 9:49 AM,,,,,,0,,,"While limit testing the fix for Bar Chart rendering, I noticed that increasing the decimals field (inside YAxis section) for either Bar Chart or Time Series Chart to above 100 throws an error and crashes the application. 

This can also be changed via the “Edit yaml”. 

*Acceptance criteria*

* We limit the number of decimals to 10


{noformat}Uncaught RangeError: precision 101 out of range
    toFixed _value-formats.ts:24
    scaledUnits2 _symbol-formatters.ts:25
    formatUnits _formatter-unit.ts:28
    formatValue useTimeSeriesChartState.ts:62
    getTicksEnd getTicks.js:135
    getTicks getTicks.js:297
    renderTicks CartesianAxis.js:406
_value-formats.ts:24:18
    toFixed _value-formats.ts:24
    scaledUnits2 _symbol-formatters.ts:25
    formatUnits _formatter-unit.ts:28
    formatValue useTimeSeriesChartState.ts:62
    getTicksEnd getTicks.js:135
    getTicks getTicks.js:297
    renderTicks CartesianAxis.js:406
    render CartesianAxis.js:472
    React 21
    forEach self-hosted:4190
    React 13
    onClick2 Dropdown.js:53
    handleItemClick CtxMenu.tsx:25
    onInternalClick Menu.js:256
    callback useMemoCallback.js:15
    onInternalClick2 MenuItem.js:120
    React 19
    forEach self-hosted:4190
    React 2
{noformat}


Additionally, see the attached video for some weirdness (see one of the decimals in the top Y axis tick label switch from 6 to 0 and back again when changing the decimal places) – this could just be a JS quirk, but worth a quick check



[^Screencast From 2025-11-18 14-25-10.webm]",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,18/Nov/25 3:27 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;Screencast From 2025-11-18 14-25-10.webm;https://stackstate.atlassian.net/rest/api/3/attachment/content/26225,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@34eb4d8a,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02u22:zzzzi,,,,,,,,,,,,,,Prepare dashboards release,Dashboards release?,,,Borg,,,1.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,13/Nov/25 5:48 PM
[Dashboard] Use consistent case for text copies,STAC-23812,48928,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,11/Nov/25 2:20 PM,08/Dec/25 9:42 AM,,,,,,0,frontend,,"Text copies in the header/titles/labels should follow {{Capital Letters Notation}}.

Text copies in values should follow {{Regular notation}}",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6f33056e,,,,{},,,,,,,,,,,,,,,,A,1|i02vd0:,,,,,,,,,,,,,,Dashboards release?,,,,Borg,,,2.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,11/Nov/25 2:20 PM
[Dashboards] List Variable types should have more clear name,STAC-23800,48896,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,10/Nov/25 12:59 PM,13/Nov/25 9:25 AM,12/Nov/25 1:12 PM,13/Nov/25 9:25 AM,,,,0,frontend,,"List variable types are now called:

{{Metrics Names Variable}} and {{Metrics Values Variable}}, but that’s not what is selected. What is selected is {{Metric label names}} and {{Metric label values}}. Having the text {{Variable}} at the end also seems rather redundant.

So the names should be:

* Metric label names
* Metric label values
* Metric PromQL
* Static list",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6e56308,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-11T14:07:42.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02nkf:ofxwzo,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_90308542_*|*_3_*:*_1_*:*_801429_*|*_10400_*:*_1_*:*_21645295_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Nov/25 9:25 AM
[Dashboards] Permissions are not handled in the UI,STAC-23762,48803,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Nov/25 2:25 PM,21/Nov/25 2:16 PM,,21/Nov/25 2:16 PM,,,,0,frontend,,"_Actual behavior_:

Playground users don’t have permission to create/update/delete a dashboard, but it is possible in the UI now. It only fails after hitting save.

_Expected behavior_:

When a user has no create/update/delete dashboard permission we should not allow the user to create a new dashboard, save an existing dashboard or delete a dashboard. 

The user can however still play around and change any dashboard as much as they like, but they won’t be able to save the changes.

_Steps to reproduce_:

Try to use dashboards on {{play.stackstate.com}}

*_Acceptance criteria_*

* When no permission to create a dashboard:
** Hide the “Add New Dashboard” button
** Hide the “Save as” button
** Not show “Save as” in notifications
** In the “Add to dashboard…” drawer show a message that you cannot create new dashboards
* When no permission to update a dashboard:
** Hide the save dashboard button 
** Not show the save option in the related notifications
* When no delete permission for dashboards:
** Hide the delete option
* Also make sure keyboard shortcuts don’t work",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@68dd165b,,,,"{repository={count=27, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":27,""lastUpdated"":""2025-11-21T14:16:23.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":27,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzz,,,,,,,,,,,,,,Prepare dashboards release,,,,Borg,,,5.0,,,,,,,,,,2025-11-20 07:37:43.347,10107_*:*_1_*:*_949570945_*|*_3_*:*_1_*:*_268522452_*|*_10400_*:*_1_*:*_59981266_*|*_10401_*:*_1_*:*_0,,"20/Nov/25 8:37 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9355] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23762-dashboard-permissions|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23762-dashboard-permissions]:{quote}Draft: Resolve STAC-23762 ""Dashboard permissions""{quote}",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,21/Nov/25 2:16 PM
Metric Variable Names Data Mismatch in Dashboard variable section vs. Edit variables Preview with series selectors,STAC-23755,48791,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,06/Nov/25 9:01 AM,26/Nov/25 11:25 AM,,26/Nov/25 11:25 AM,,,,0,frontend,,"Metric Variable Data Mismatch in Dashboard variable section vs. Edit variables Preview. Please refer attached screen capture.

!image-20251106-080010.png|width=671,alt=""image-20251106-080010.png""!

_Actual behavior_:
Metric Variable Data Mismatch in Dashboard variable section vs. Edit variables Preview

_Expected behavior_:

Metric Variable Data should be same in Dashboard variable section vs. Edit variables Preview
_Steps to reproduce_:

_Technical note_:

(Remco) It looks like the series selector is not applied in the dashboard dropdown.

Make sure to double check the other list variables as well for correct behavior.",,rajukumar.macha,Release StackState,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,06/Nov/25 9:01 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20251106-080010.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/26003,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@35d95078,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-11-26T11:24:57.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzzy,,,,,,,,,,,,,,Prepare dashboards release,,,,Borg,,,2.0,,,,,,,,,,2025-11-25 13:02:08.917,10107_*:*_1_*:*_1655916653_*|*_3_*:*_1_*:*_3721207_*|*_10400_*:*_1_*:*_76976874_*|*_10401_*:*_1_*:*_0,,25/Nov/25 2:02 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9360] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23755-metric-names-variable-mismatch|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23755-metric-names-variable-mismatch]:{quote}STAC-23755 Fix metric names variables not showing the correct possible options{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,26/Nov/25 11:25 AM
widget title not showing on dashboard,STAC-23734,48660,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,04/Nov/25 9:43 AM,06/Nov/25 9:38 AM,,06/Nov/25 9:38 AM,,,,0,,,"widget name not showing on dashboard. Please refer attached screen capture. widget name provided on edit widget

!image-20251104-084205.png|width=671,alt=""image-20251104-084205.png""!

widget name on dashboard

!image-20251104-084256.png|width=409,alt=""image-20251104-084256.png""!",,rajukumar.macha,Release StackState,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,04/Nov/25 9:43 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20251104-084205.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25937,04/Nov/25 9:43 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20251104-084256.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25938,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@cdbc1c4,"*Actual behavior*:
widget name not showing on dashboard

*Expected behavior*:
widget name should be shown on dashboard

*Steps to reproduce*:
Add widget to dashboard from dashboard page
widget added into dashboard
widget name should be shown on dashboard

*Technical note*:

",,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-11-11T14:02:36.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkh6,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,,,,,,,,,,,2025-11-05 15:21:13.716,10107_*:*_1_*:*_109264005_*|*_3_*:*_1_*:*_1027241_*|*_10400_*:*_1_*:*_59709420_*|*_10401_*:*_1_*:*_0,,05/Nov/25 4:21 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9329] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23734-fix-dashboard-widget-name|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23734-fix-dashboard-widget-name]:{quote}STAC-23734 Fix Dashboard widget's name and description editing{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,06/Nov/25 9:38 AM
[Dashboards] Big chart-set widgets break drawers,STAC-23717,48398,Bug,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,30/Oct/25 9:35 AM,04/Nov/25 4:23 PM,,04/Nov/25 4:23 PM,,,,0,,,"[https://suse.slack.com/archives/C07AEG6K353/p1761801363616919|https://suse.slack.com/archives/C07AEG6K353/p1761801363616919|smart-link] 

It seems like if a big chart set for gauge breaks the drawer operation normally. Try to create the following widget and click {{Edit}}



{code:yaml}plugin:
  kind: GaugeChart
  spec:
    thresholds:
      defaultColor: ""#33A02C""
      steps:
        - color: ""#E31A1C""
          value: 0.9
        - color: ""#FF7F00""
          value: 0.8
      mode: absolute
    max: 1
    format:
      unit: short
      decimalPlaces: 0
    calculation: last
  queries:
    - &a1
      query: sum by (cluster_name, namespace, pod_name)
        (kubernetes_state_container_cpu_limit{cluster_name=""demo-dev.preprod.stackstate.io""})
      alias: Limit - ${cluster_name} - ${namespace} - ${pod_name}
    - &a2
      query: sum by (cluster_name, namespace, pod_name)
        (kubernetes_state_container_cpu_requested{cluster_name=""demo-dev.preprod.stackstate.io"",
        namespace=""calico-system"", pod_name=""calico-node-t268w""})
      alias: Request - ${cluster_name} - ${namespace} - ${pod_name}
    - &a3
      query: sum by (cluster_name, namespace, pod_name)
        (container_cpu_usage{cluster_name=""demo-dev.preprod.stackstate.io"",
        namespace=""calico-system"", pod_name=""calico-node-t268w""}) / 1000000000
      alias: Current - ${cluster_name} - ${namespace} - ${pod_name}
links:
  - url: /#/components/urn:kubernetes:%2Fdemo-dev.preprod.stackstate.io%2Fpod%2F865157ae-81b3-4f3a-8f5e-7c5c9904442e
    name: calico-node-t268w (pod)
    targetBlank: false
queries:
  - kind: TimeSeriesQuery
    spec:
      plugin:
        kind: PrometheusTimeSeriesQuery
        spec: *a1
  - kind: TimeSeriesQuery
    spec:
      plugin:
        kind: PrometheusTimeSeriesQuery
        spec: *a2
  - kind: TimeSeriesQuery
    spec:
      plugin:
        kind: PrometheusTimeSeriesQuery
        spec: *a3
display:
  name: CPU Usage
  description: """"
{code}",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@768e3af7,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,"{repository={count=17, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":17,""lastUpdated"":""2025-11-04T13:41:50.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":17,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u1z:,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,Dashboarding 16 & OTel mapping,,,Borg,,,8.0,,,,,,,,,,2025-11-03 16:29:59.769,10107_*:*_1_*:*_96803292_*|*_3_*:*_1_*:*_347988518_*|*_10400_*:*_1_*:*_2788966_*|*_10401_*:*_1_*:*_0,,03/Nov/25 5:29 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9324] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23717-fix-widget-render-performance|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23717-fix-widget-render-performance]:{quote}Draft: STAC-23717 Fix gauge-widget render performance on large data sets{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,04/Nov/25 4:23 PM
[Dashboards] Refactor Virtualization for dashboard widgets,STAC-23716,48396,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,30/Oct/25 9:34 AM,17/Nov/25 1:25 PM,,17/Nov/25 1:25 PM,,,,0,frontend,,"Browser: Firefox 144.0 (64-bit)



With the old implementation, the preview inside the edit widget drawer is not loading (sometimes).

Originally believed to be a problem with the Virtualized component, however, it could also be that touching the file that used that component in development environment triggered a hot reload which fixed the issue. So this should be double checked.


----

We want to keep virtualization, but the implementation should be different to address the above issues",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@381af7b9,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2025-11-17T13:25:35.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":3,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzx,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,Prepare dashboards release,,,Borg,,,3.0,,,,,,,,,,2025-11-14 13:37:00.236,10107_*:*_1_*:*_1239400422_*|*_3_*:*_2_*:*_73827894_*|*_10004_*:*_1_*:*_7747000_*|*_10400_*:*_1_*:*_234216083_*|*_10401_*:*_1_*:*_0,,14/Nov/25 2:37 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9343] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23716-virtualization|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23716-virtualization]:{quote}Draft: STAC-23716 Reintroduce virtualized{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,17/Nov/25 1:25 PM
[Dashboards] Variable drawer uses outdated variables,STAC-23715,48365,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,29/Oct/25 5:14 PM,03/Nov/25 3:50 PM,,03/Nov/25 3:50 PM,,,,0,,,"The thing is that the variable drawer opens from variables table drawer, and if there is any change in variables table they are not save, but the variable drawer refers to the dashboard state. Somehow the variable drawer should refer to the unsaved changes coming from the variables drawer.",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@56f377f0,,,,"{repository={count=8, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":8,""lastUpdated"":""2025-11-03T13:52:28.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":8,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u1j:,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,Dashboarding 16 & OTel mapping,,,Borg,,,,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,2025-10-30 22:05:52.635,10107_*:*_1_*:*_83751864_*|*_3_*:*_1_*:*_23997599_*|*_10400_*:*_1_*:*_303448266_*|*_10401_*:*_1_*:*_0,,30/Oct/25 11:05 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9316] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23715-supply-draft-variables|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23715-supply-draft-variables]:{quote}STAC-23715 Supply draft variables to `SetupDashboardVariableDrawer`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,03/Nov/25 3:50 PM
[Dashboards] Toast messages need to be more obvious,STAC-23714,48363,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,29/Oct/25 4:35 PM,13/Nov/25 10:30 AM,,13/Nov/25 10:30 AM,,,,0,,,"*Acceptance criteria*

* We need to improve our toast messages to make them more visible since there are cases where these might be overlooked - e.g. a wide resolution. Resolution: change the background of the toast to 10% of the color used on the toast icon = giving the type of notification (e.g. confirmation: slightly green, warning: slightly yellow, etc.)
* We need to keep the toast message ON until the user closes it (right now it’s closed automatically after a few seconds).
* Because of this ^, the user can have multiple dirty dashboards at the same time, resulting in multiple toasts being displayed at the same time. Resolution: we must be specific and include the {{<dashboard name>}} instead of the “previous dashboard”
* When you get back to a dirty dashboard, if its corresponding toast is still ON (the user hasn’t closed it), hide the toast. *Also* when you navigate to the dashboard via the menu.
* The new text would be: “You have unsaved changes in your +Awesome monitoring+ dashboard. +Save changes+.”  With the dashboard name linking back to the dashboard:

!image-20251031-104437.png|width=427,alt=""image-20251031-104437.png""!",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,31/Oct/25 11:44 AM;rbeckers;image-20251031-104437.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25838,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@97c5a90,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-11-13T10:29:46.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02nkf:ofxwzn,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,8.0,,,,,,,,,,2025-11-05 14:55:41.353,10107_*:*_2_*:*_507918029_*|*_10007_*:*_1_*:*_1389564_*|*_3_*:*_5_*:*_532862710_*|*_5_*:*_1_*:*_70303_*|*_10400_*:*_3_*:*_228028004_*|*_10401_*:*_2_*:*_13350,,05/Nov/25 3:55 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9328] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23714-dashboard-toasts|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23714-dashboard-toasts]:{quote}Resolve STAC-23714 Dashboard toasts{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Nov/25 10:30 AM
[Dashboards] Do not reset dashboard changes when saving fails,STAC-23713,48343,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,29/Oct/25 11:05 AM,07/Nov/25 9:34 AM,,07/Nov/25 9:34 AM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3d42dbd8,"*Actual behavior*:

Dashboard changes are reset


*Expected behavior*:

Dashboard changes are preserved


*Steps to reproduce*:

1. Open dashboard
2. Introduce any change
3. [Screw the endpoint so the save request fails] Click save


*Technical note*:",,,"{repository={count=25, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":25,""lastUpdated"":""2025-11-11T14:02:36.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":25,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:v,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,2025-11-05 10:25:58.382,10107_*:*_1_*:*_512501825_*|*_3_*:*_1_*:*_109389586_*|*_10400_*:*_1_*:*_77364912_*|*_10401_*:*_1_*:*_0,,05/Nov/25 11:25 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9326] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23713-do-not-reset-on-fetch-error|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23713-do-not-reset-on-fetch-error]:{quote}Draft: STAC-23713 Do not reset on fetch error{quote},05/Nov/25 2:35 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9327] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23713-keep-dashboard-edits-on-fail|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23713-keep-dashboard-edits-on-fail]:{quote}STAC-23713 Keep dashboard edits on fail{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,07/Nov/25 9:34 AM
[Dashboards] [variables] apply button label showing as update dashboard,STAC-23691,48263,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,28/Oct/25 7:59 AM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"[Dashboards] [variables] apply button label showing as update dashboard. Please refer attached user story screen capture and 



*user story:*[STAC-23124] 

!image-20251028-065857.png|width=671,alt=""image-20251028-065857.png""!

*UI:*

!image-20251028-065805.png|width=671,alt=""image-20251028-065805.png""!

*Acceptance criteria*

* We consistently want to use {{Update}}<thing that was changed>:
** Variable list: {{Update variables}}
** Single variable: {{Update variable}}
** Widget: {{Update widget}}
** Edit yaml: {{Update dashboard definition}} ← [~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] ",,rajukumar.macha,,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,,,,,,,,,,,,,,,,,,,,,,,,28/Oct/25 7:59 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20251028-065805.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25742,28/Oct/25 7:59 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20251028-065857.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25741,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@639838e9,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T15:51:54.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzi,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,,10107_*:*_1_*:*_1151258876_*|*_3_*:*_1_*:*_1864109_*|*_10400_*:*_1_*:*_61459292_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Add info box to all drawers that make state dirty,STAC-23689,48207,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:26 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"* Each drawer that makes the dashboard form state dirty (e.g. variables drawer, widget edit/create drawer) should have an info box of the same style as the info box in the “Edit dashboard properties” drawer to inform the user that saving the drawer will make the dashboard dirty

Design / copy: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=5534-32516&t=Y5x1nCv5rd3JbKKl-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=5534-32516&t=Y5x1nCv5rd3JbKKl-1|smart-link] 

!image-20251031-155235.png|width=620,alt=""image-20251031-155235.png""!",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,31/Oct/25 4:53 PM;oboc;image-20251031-155235.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25871,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2238df2c,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T16:12:43.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zy,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,,10107_*:*_1_*:*_1211242722_*|*_3_*:*_1_*:*_1489062_*|*_10400_*:*_1_*:*_61459268_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Individual variable drawer changes,STAC-23688,48205,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:23 PM,13/Nov/25 9:26 AM,12/Nov/25 1:12 PM,13/Nov/25 9:26 AM,,,,0,,,"* The individual variable drawer (edit/create) should use the full width drawer and not the narrow drawer.
** The values preview should be on the right, the form on the left
* The Sort section of the form should be the last section
* The “Variable type” field should be a Radio group and not a dropdown",,Release StackState,Samuel Jones,,5f0c19c95ee2c3002363e486,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c85362e,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-11-11T20:16:18.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u20:,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,2025-11-11 13:09:40.498,10107_*:*_1_*:*_1212934854_*|*_3_*:*_1_*:*_79127060_*|*_10400_*:*_1_*:*_21660126_*|*_10401_*:*_1_*:*_0,,11/Nov/25 2:09 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9334] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23688-change-variables-drawer-layout|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23688-change-variables-drawer-layout]:{quote}STAC-23688 Change variables drawer layout and list variable source names{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Nov/25 9:26 AM
[Dashboards] Variables overview drawer changes,STAC-23687,48203,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:22 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"* Both name and display label should appear as columns, with name first (its current location) and display label afterwards
** The meatball menu button shown for each row should not be a button but instead be like the meatball icon in the monitors table
!image-20251027-142129.png|width=425,alt=""image-20251027-142129.png""!

* The drag-and-drop handle should be a lighter grey so it is not as prominent
* This is for the variables and the static list variable values",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:22 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-142129.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25717,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@30df2383,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T15:27:10.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zv,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,,10107_*:*_1_*:*_1209407334_*|*_3_*:*_1_*:*_3571503_*|*_10400_*:*_1_*:*_61459228_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Dividing line missing for Gauges,STAC-23686,48201,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:18 PM,10/Dec/25 11:24 AM,,,,,,0,,,"!image-20251027-141828.png|width=590,alt=""image-20251027-141828.png""!



There is a dividing line for Stat widget (dashed, grey) that should also appear for Gauge",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:18 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-141828.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25716,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@374e8b01,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3xr,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 3:18 PM
[Dashboards] Remove title of dashboard,STAC-23685,48200,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:17 PM,09/Dec/25 10:03 AM,,,,,,0,,,"As discussed in design hour, the title for a dashboard that appears to the left of the variables should be removed



!image-20251027-141736.png|width=686,alt=""image-20251027-141736.png""!",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:17 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-141736.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25715,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7f03f701,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz2,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 3:17 PM
[Dashboards] Static list variable doesn't use display name,STAC-23684,48199,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:16 PM,10/Dec/25 11:24 AM,,,,,,0,,,"!image-20251027-141548.png|width=420,alt=""image-20251027-141548.png""!

The display name is correctly used for a list item within the list (“My label is here”) but, the value is used in the dropdown trigger (“my value”).

The user should see the display label in both cases when it is set.",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:16 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-141548.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25714,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7a2dc353,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3t,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 3:16 PM
[Dashboards] Title's for variables aren't truncated,STAC-23683,48198,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:13 PM,10/Dec/25 11:24 AM,,,,,,0,,,"Variable names should truncate like their values. 

The first variable here has its text cut and causes rendering issues: 

!image-20251027-141314.png|width=686,alt=""image-20251027-141314.png""!

It should be truncated using the same truncation as everywhere else",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:13 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-141314.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25713,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@35e208df,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3w,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 3:13 PM
"[Dashboards] Hide thresholds ""Mode"" field when there are no thresholds",STAC-23682,48197,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:11 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"Threshold’s “Mode” field should be hidden when there are no thresholds defined, show some text to give the user some indication with the copy:

“Begin adding thresholds by clicking the button below”",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@115c696a,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T14:50:50.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zr,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,,10107_*:*_1_*:*_1207254462_*|*_3_*:*_1_*:*_6360698_*|*_10400_*:*_1_*:*_61459211_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Style drag and drop droppable indictor,STAC-23681,48195,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:10 PM,13/Nov/25 10:30 AM,,13/Nov/25 10:30 AM,,,,0,,,"Currently, dragging widgets on a dashboard shows a red box as an indication of the droppable position



* Change the droppable indicator to be the same as the dashed border of the “Add widget” box when a dashboard is empty, but make the border colour the primary blue
** !image-20251027-141036.png|width=590,alt=""image-20251027-141036.png""!
",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 3:10 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-141036.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25712,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6dfcd57a,,,,{},,,,,,,,,,,,,,,,A,1|i02u20:i,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,"*User Story*
\{panel}
As a ... 
I want to ...
such that I can ...
\{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,10107_*:*_1_*:*_1207253500_*|*_10007_*:*_1_*:*_170154408_*|*_3_*:*_3_*:*_13989_*|*_5_*:*_1_*:*_74487538_*|*_10400_*:*_2_*:*_10842_*|*_10401_*:*_2_*:*_5623,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Nov/25 10:30 AM
[Dashboards] Add icon with description tooltip to widget header,STAC-23680,48193,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:08 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"* Next to the title of the widget, display an icon with a tooltip of the widget description
* Similar to the following screenshot:

!image-20251027-140535.png|width=378,alt=""image-20251027-140535.png""!



E.g. in the following example from a dashboard, it should sit next to “Sent throughput for pods”

!image-20251027-140805.png|width=441,alt=""image-20251027-140805.png""!",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,STAC-23102,,,,,,,27/Oct/25 3:08 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-140535.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25711,27/Oct/25 3:08 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-140805.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25710,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@369bb5f7,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T14:31:24.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:z,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,"*User Story*
\{panel}
As a ... 
I want to ...
such that I can ...
\{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,10107_*:*_1_*:*_1206523220_*|*_3_*:*_1_*:*_7271609_*|*_10400_*:*_1_*:*_61459213_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Show/hide related fields in widget drawer,STAC-23679,48191,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 3:03 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"!image-20251027-140138.png|width=517,alt=""image-20251027-140138.png""!

!image-20251027-140129.png|width=517,alt=""image-20251027-140129.png""!

Currently, some fields are dependent on others to be enabled/disabled. In the above example, “Mode” changes whether “Values” is disabled.

Change this behaviour so that the dependent fields are hidden/shown instead of disabled/enabled

The behaviour of the “Show” toggle is *not included*, and should continue to disable/enable.

----

Blocked by [https://stackstate.atlassian.net/browse/STAC-23041|https://stackstate.atlassian.net/browse/STAC-23041|smart-link]  as it will remove a field with the behaviour we want to change (Visual > Display > Line/Bar)",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,STAC-23041,,,,,,,,,,,,,27/Oct/25 3:03 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-140129.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25709,27/Oct/25 3:03 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-140138.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25708,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@ece7a6c,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T14:17:02.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:y,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,"*User Story*
\{panel}
As a ... 
I want to ...
such that I can ...
\{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,10107_*:*_1_*:*_1205527845_*|*_3_*:*_1_*:*_8586745_*|*_10400_*:*_1_*:*_61459226_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Move the Show toggle next to section title in widget drawer,STAC-23678,48189,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 2:58 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"

!image-20251027-135657.png|width=536,alt=""image-20251027-135657.png""!

For some sections of fields in the widget drawer there is a “Show” toggle (see above screenshot). 

* Move the toggle to the right of the section title, with a little bit of margin between it and the title
* The toggle should work exactly as it does now
** When turned off, the fields in that section are disabled
** When turned on, the fields in that section are enabled",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 2:58 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-135657.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25707,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@71e617be,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T14:00:58.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:x,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,"*User Story*
\{panel}
As a ... 
I want to ...
such that I can ...
\{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,10107_*:*_1_*:*_1205023981_*|*_3_*:*_1_*:*_9345729_*|*_10400_*:*_1_*:*_61459299_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Split Y Axis fields into 2 sections (TimeSeries chart),STAC-23677,48187,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 2:54 PM,10/Dec/25 11:24 AM,,,,,,0,,,"For the Time Series Chart (and Bar Chart if ticket is finished by then), split the Y Axis section that appears in the widget drawer on creation/edition into two sections:

* “Y Axis Labels” includes all fields except for “min” and “max”

* “Y Axis Range” has the “min” and “max” fields",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1eb168ef,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3xv,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 2:54 PM
[Dashboards] Add a reset to the dashboard settings groups,STAC-23676,48186,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,27/Oct/25 2:52 PM,27/Oct/25 2:55 PM,,,,,,0,,,"!image-20251027-135108.png|width=355,alt=""image-20251027-135108.png""!

On the right hand side, in-line with the group title “Saving…”, there should appear a Reset link (like in fields in the widget drawer) when any of the values (time window, data refresh interval, variables) are dirty. 

The reset link should reset all the fields in the group back to what they were.",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,27/Oct/25 2:52 PM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20251027-135108.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25706,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3586e99c,,,,{},,,,,,,,,,,,,,,,A,1|i02ttz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,"*User Story*
\{panel}
As a ... 
I want to ...
such that I can ...
\{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,27/Oct/25 2:52 PM
[Dashboard] Save button must become primary action button,STAC-23590,47845,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,16/Oct/25 3:01 PM,03/Nov/25 6:29 PM,,29/Oct/25 11:15 AM,,suse-observability/2.6.2,,0,,,"* *for both dashboards and views, we apply a new global rule:*
* if / when the main action on the nav bar is / becomes “Save {dashboard | view}“,  we turn the button into a primary button
* if / when the main action on the nav bar is / becomes something else, other than “Save {dashboard | view}” (e.g. “Save as…“, “Reset”, etc), we turn the button into a regular nav bar button

… as per design below - Figma for dashboards has been updated as well.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,STAC-23666,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@768b4524,,,,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2025-10-29T10:18:03.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":3,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02siz:i,,,,,,"- The ""Save"" button for views now has a different color to draw attention to unsaved changes.",,,,,,,,Dashboarding 15 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,2025-10-29 08:57:33.877,10107_*:*_1_*:*_1105593873_*|*_3_*:*_1_*:*_3000200_*|*_10400_*:*_1_*:*_441457_*|*_10401_*:*_1_*:*_0,,29/Oct/25 9:57 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9312] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23590-save-dashboard-primary-button|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23590-save-dashboard-primary-button]:{quote}STAC-23590 Make Save button primary{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Oct/25 11:15 AM
[Dashboards] Allow editing copy/paste of full Dashboard specification,STAC-23548,47738,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,14/Oct/25 11:55 AM,04/Nov/25 9:38 AM,12/Dec/25 2:54 PM,04/Nov/25 9:38 AM,,,,0,,,"As a user or a support engineer

I want to be able to easily share a dashboard with someone on a different SUSE OsbervabilityS instance

Such that I can help them with troubleshooting or other support questions



One of the main use-cases will be similar to Grafana: we (or our userrs) create a dashboard and want to share it with someone else via email or Slack (for example now we tell users sometimes to run certain metric queries and look at the result, with this we can simply send them the yaml for a dashboard). They can simply copy/paste the YAML into the UI to create the dashboard. Bonus is that it will allow editing the dashboard in yaml format too for bulk changes.

*Acceptance criteria*

* Similar to the widget YAML editor we should introduce a Dashboard YAML editor that can be opened to edit the YAML of the full dashboard.
* We don’t live-update the yaml changes to the widgets in the dashboards
* The yaml only shows the dashboard spec and not the name, and other meta-properties.
* TBD: Where to do this and how to do this exactly.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@397ea4b5,,,,"{repository={count=31, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":31,""lastUpdated"":""2025-11-03T15:49:58.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":31,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u1n:,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,Dashboarding 16 & OTel mapping,,,Borg,,,3.0,,,,,,,,,,2025-10-31 18:02:14.374,10107_*:*_1_*:*_1468752493_*|*_3_*:*_1_*:*_261213570_*|*_10400_*:*_1_*:*_15734325_*|*_10401_*:*_1_*:*_0,,31/Oct/25 7:02 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9319] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23548-dashboard-yaml|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23548-dashboard-yaml]:{quote}STAC-23548 Dashboard YAML drawer{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,04/Nov/25 9:38 AM
Enable dashboards on playground for Kubecon NA,STAC-23547,47736,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,14/Oct/25 11:50 AM,06/Nov/25 3:06 PM,,06/Nov/25 3:06 PM,,,,0,,,"Before KubeCon (starts on 10. November) we need to enable the dashboards on the playground. 

*Acceptance criteria*

* Enable dashboarding featureflag on playground
* Make sure that:
** Admin user has permissions to create/view dashboards
** Playground user only has permission to view dashboards
* Upgrade playground to the version that includes all required dashboarding features: Helm chart version {{suse-observability-2.6.3-pre.14}}  ",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5fa356e5,,,,"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={""cachedValue"":{""errors"":[],""summary"":{""pullrequest"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-06T14:06:36.365+0100"",""stateCount"":1,""state"":""MERGED"",""dataType"":""pullrequest"",""open"":false},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkh9,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,3.0,,,,,,,,,,,10107_*:*_1_*:*_1998920013_*|*_3_*:*_1_*:*_213071_*|*_10400_*:*_1_*:*_3458918_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,06/Nov/25 3:06 PM
[Dashboards] Warn user when (accidentally) closing variables or widget edit drawers,STAC-23499,47340,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Oct/25 9:01 AM,13/Nov/25 5:46 PM,12/Nov/25 1:11 PM,13/Nov/25 5:46 PM,,,,0,,,"

*Acceptance criteria*

* we should avoid extra notifications but persist the intentional (esc click, or drawer overlay click) dirty state for a specific widget (by id), variables list, add variable, edit dashboard props, edit view props, and all other drawers where we have edit+save functionality. 
* When a user closes a drawer via clicking the negative space or via the {{esc}} key we consider it a soft close that can be accidental:
** The changes are not applied, but they are remembered
** The next time the same drawer is opened the remembered changes are still there, pre-filled 
** Only the state of the drawer that was closed last is remembered
** When opening a different drawer the remembered state is reset
* This logic applies to the drawers for the dashboards

We also want to support this for views drawers, but we do that in a separate ticket.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@37e79bc6,,,,"{repository={count=59, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":59,""lastUpdated"":""2025-11-13T16:27:25.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":59,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkho,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,Dashboarding 16 & OTel mapping,,,Borg,,,5.0,,,,,,,,,,2025-11-06 13:45:30.109,10107_*:*_1_*:*_1998841769_*|*_3_*:*_3_*:*_716056897_*|*_10004_*:*_2_*:*_425438272_*|*_10400_*:*_1_*:*_157174218_*|*_10401_*:*_1_*:*_0,,06/Nov/25 2:45 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9331] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23499-dashboard-drawer-close-warning|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23499-dashboard-drawer-close-warning]:{quote}Draft: STAC-23499 Keep unsaved changes in dashboard drawers when unintentionally closing them{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Nov/25 5:46 PM
"[Dashboards] Make custom ""Allow all"" value optional",STAC-23481,47208,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,02/Oct/25 11:23 AM,17/Oct/25 9:33 AM,,17/Oct/25 9:33 AM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@33a6a09f,,,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-10-16T21:53:58.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkz5,,,,,,,,,,,,,,Dashboarding 14 & OTel mapping,,,,Borg,,,,,,,,,,,,,2025-10-16 13:46:06.214,10107_*:*_1_*:*_1224598264_*|*_3_*:*_1_*:*_23740456_*|*_10400_*:*_1_*:*_1197_*|*_10401_*:*_1_*:*_0,,16/Oct/25 3:46 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9289] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23481-make-allow-all-optional|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23481-make-allow-all-optional]:{quote}STAC-23481 Add explicit `allowAllOptional` making `customAllValue`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,17/Oct/25 9:33 AM
[Dashboards] Sorting and other widget state disappears when scrolling the dashboard due to virtualization widgets,STAC-23452,46959,Bug,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,,,,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,25/Sep/25 1:29 PM,10/Dec/25 11:24 AM,,,,,,0,frontend,,"sorting disappear when a  widget is scrolled out of view on the dashboard

_Technical note_:",,rajukumar.macha,Samuel Jones,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@76abb567,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:oaz3h,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,Team Borg - To refine,,,Borg,,,,,,,,,,,,,,,,15/Oct/25 5:13 PM;712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60;[~accountid:712020:a950806e-86c0-42f7-b531-66e40f57b9ee] I am not able to reproduce issue now.attached my  screen recording to this jira,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,29/Sep/25 4:19 PM
[Gauge chart] adding default 2 thresholds,STAC-23451,46958,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,25/Sep/25 1:21 PM,22/Oct/25 9:32 AM,,22/Oct/25 9:32 AM,,,,0,,,"As a Dashboard user
I want to create a gauge widget
such that I can visualize a single descriptive value of a metric (often this happens in business level dashboards)



below feature on this story [https://stackstate.atlassian.net/browse/STAC-22789|https://stackstate.atlassian.net/browse/STAC-22789|smart-link] . as part of this story we are going add below items to gauge chart and adding perces screenshot to this jira



!image-20250527-124223.png|width=606,height=561,alt=""image-20250527-124223.png""!

* By default we should have 2 thresholds as shown in the screenshot at 0.9 and 0.8 with colors red and orange, for the default unit of {{percent (0.0-1.0)}} and a max of 1.0.
* There is a “Default” color selection for the non-threshold part of the gauge. The color is green (see also Perses UI)",,rajukumar.macha,Release StackState,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,25/Sep/25 1:24 PM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20250527-124223.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25211,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6ca07197,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-10-21T14:39:13.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkhm,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,,,,Borg,,,1.0,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,2025-10-21 10:41:53.144,10107_*:*_1_*:*_2168591828_*|*_3_*:*_1_*:*_75520583_*|*_10400_*:*_1_*:*_72909835_*|*_10401_*:*_1_*:*_0,,21/Oct/25 12:41 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9295] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23451-change-gauge-thresholds-defaults|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23451-change-gauge-thresholds-defaults]:{quote}STAC-23451 Add default thresholds for GaugeChart{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,22/Oct/25 9:32 AM
[Dashboards] Table widget,STAC-23450,46956,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Won't Do,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,25/Sep/25 1:18 PM,09/Dec/25 9:45 AM,,09/Dec/25 9:45 AM,,,,0,,,The table widget is used in quite a few Grafana dashboards,,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@196110d3,,,,{},,,,,,,,,,,,,,,,A,1|i02pn3:,,,,,,,,,,,,,,,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_6470825735_*|*_6_*:*_1_*:*_0,,"09/Dec/25 9:45 AM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;Won't do now, maybe later depending on user feedback about the most important issues",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,09/Dec/25 9:45 AM
[Dashboards] Example dashboard: Current Data ingestion,STAC-23449,46954,User Story,In Progress,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,25/Sep/25 1:14 PM,09/Dec/25 5:01 PM,,,,,,0,general,,"When dashboards are released we should have some example dashboards that we include. This can be either dashboards in our Kubernetes / OpenTelemetry stackpacks that provide useful information for our users, or it can be examples that we make available as part of our documentation and StackPack 2 default template. It is much preferred however to have some dashboards in our own stackpacks.

What are dashboards that we would want to provide out-of-the-box? Inspiration from Grafana? Note that most of the Prometheus Operator Grafana dashboards are covered by SUSE Observability highlight pages instead:

*Acceptance criteria*

* Dashboard for monitoring data ingestion. The goal is to get clear current usage reporting at a functional level (so it can also be used to recognize suggested profile sizes etc).
** Metrics on agents
** Metrics on otel collectors
** Ingested data volume on our own API (can we use stackstate-local metrics for this?)
* A Sizing and/or Capacity planning (in 1 or 2 dashboards), this can be an extended version of the namespace highlight page and metrics. We can use this (and customers can use this) when problems are reported with sizing and/or disk space and other resource usage.
* We suggest a dashboard per capability that can be used during troubleshooting :
** Topology
** Metrics
** Traces
** Logs
** Where for each capability the entire data ingestion flow is covered, from agent/collector down to stackgraph/clickhouse/victoria-metrics.
* Also ask team Marvin for input, especially on the agent.
* We want to keep the dashboards limited in size to not overwhelm users. So aim for ~10 widgets per dashboards. Also don’t try to put many timeseries in a single chart.
* The dashboards are added to the SUSE Observability stackpack",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,STAC-23448,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@42b15686,,,,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2025-10-08T12:45:42.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":2,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02vcz:,,,,,,,,,,,,,,Dashboards release?,,,,Borg,,,5.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,In Progress,09/Dec/25 5:01 PM
[Dashboards] Release ,STAC-23448,46953,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,25/Sep/25 1:09 PM,08/Dec/25 9:42 AM,,,,,,0,general,,"Prepare for releasing Dashboards:

* Remove feature flags from DTO and Domain model types
* We keep the feature flag in the configuration for the time being, but enable it by default
* Make sure that the Helm chart also enables the dashboards by default (or at least doesn’t override the configured default)
* Verify:
** Dashboards can be created/edited via
*** the UI
*** StackPacks
*** the Cli",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,STAC-23449,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6d2dcbf4,,,,{},,,,,,,,,,,,,,,,A,1|i02vd1:,,,,,,,,,,,,,,Dashboards release?,,,,Borg,,,3.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,25/Sep/25 1:09 PM
[Dashboards] Fix the UI/UX feedback that's still left (collected in the design hour doc),STAC-23412,46654,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,18/Sep/25 10:43 AM,28/Oct/25 9:36 AM,,28/Oct/25 9:36 AM,,,,0,,,"We have a list of things that have been discussed during design hour [here|https://docs.google.com/document/d/1vz8BQaVnhvpdTtd1PzplSrsQTBsdpwZhI9kfyZnbJ7w/edit?tab=t.0#heading=h.19pv5uncear2]. Some of these things have been included right away, others have not yet been done.

*Acceptance criteria*

* Go through the document and identify what still needs to be done
* One sub-task for the small tweaks
* For bigger changes we add individual sub-tasks",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@28a9fed7,,,,{},,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkken,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,,10107_*:*_1_*:*_3375175110_*|*_3_*:*_1_*:*_15410395_*|*_10400_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,28/Oct/25 9:36 AM
[Dashboards] Render Gauge label,STAC-23409,46648,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,18/Sep/25 9:33 AM,23/Sep/25 4:38 PM,,22/Sep/25 3:22 PM,,,,0,frontend,,"The time series labels are missing in the Gauge widget’s charts. Without the labels it is not clear which gauge chart shows what. Compare with the Stat widget:



!Screenshot 2025-09-19 at 15.04.44.png|width=1690,height=481,alt=""Screenshot 2025-09-19 at 15.04.44.png""!",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,19/Sep/25 3:04 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-09-19 at 15.04.44.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/25114,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4e30c1d3,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-09-23T17:02:52.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz020zri,,,,,,,,,,,,,,Team Marvin - RBAC Release,Dashboarding 13 & OTel topo,,,Borg,,,,,,,,,,,,,2025-09-22 07:11:29.237,10107_*:*_1_*:*_106355589_*|*_3_*:*_1_*:*_238040910_*|*_10400_*:*_1_*:*_0,,22/Sep/25 9:11 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9242] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23409-gauge-labels|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23409-gauge-labels]:{quote}STAC-23409 Extract the label to be used in both stat and gauge{quote},23/Sep/25 4:38 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9246] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23409-gauge-label-tweak|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23409-gauge-label-tweak]:{quote}STAC-23409 Fix gauge label sizing{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,22/Sep/25 3:22 PM
[Placeholder] Support dashboard widget options for metrics also on metric bindings,STAC-23408,46646,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Duplicate,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,18/Sep/25 9:12 AM,24/Nov/25 8:50 AM,,24/Nov/25 8:50 AM,,,,0,,,"The dashboard widgets now have multiple rendering options for metrics: Timeseries , Gauge, Stat charts. Each of these charts have many options. 

Metric bindings don’t support Gauge and Stat and don’t have options like configuring thresholds and many more customizations. Also the Metric explorer and metric inspector cannot show the Gauge and Stat charts (so for now when expanding a Stat/Gauge it will show it as a timeseries chart).

Create an epic to implement this. It is a likely question to come up sooner than later. Especially to support the gauge and stats widgets.",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@d4e7370,,,,{},,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz02r,,,,,,,,,,,,,,,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_5791112830_*|*_6_*:*_1_*:*_0,,24/Nov/25 8:50 AM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;Replaced by epic STAC-23830,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,24/Nov/25 8:50 AM
[Dashboards] Connect refetch to widgets,STAC-23342,46187,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,09/Sep/25 4:41 PM,08/Oct/25 2:16 PM,,08/Oct/25 2:16 PM,,,,0,,,"*Acceptance Criteria*

* Each widget updates whenever its query is ready
* Each widget has its own, to be designed, indication that it is fetching data (like a spinner), but the data should still be fully visible and accessbile to the user (i.e. don’t block the UI with the spinner)
* Every widget should begin the fetch of new data at the same moment (you can also look at Grafana for an example)",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,STAC-22847,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@40a93eec,,,,"{repository={count=26, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":26,""lastUpdated"":""2025-10-07T14:06:48.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":26,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02sj2:y,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,Dashboarding 14 & OTel mapping,,,Borg,,,5.0,,,,,,,,,,2025-10-01 07:07:06.895,10107_*:*_1_*:*_1726747577_*|*_3_*:*_1_*:*_157093764_*|*_10400_*:*_1_*:*_596024238_*|*_10401_*:*_1_*:*_0,,01/Oct/25 9:07 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9257] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23342-connect-refresh|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23342-connect-refresh]:{quote}Draft: STAC-23342 Connect dashboard refresh control to widgets{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,08/Oct/25 2:16 PM
[Dashboards] Virtualize widgets,STAC-23341,46185,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,09/Sep/25 4:41 PM,02/Oct/25 9:35 AM,,02/Oct/25 9:35 AM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@ed90257,,,,"{repository={count=6, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":6,""lastUpdated"":""2025-09-30T14:48:42.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":6,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02sj2:v,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,,,,Borg,,,,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,2025-09-29 12:30:10.071,10107_*:*_1_*:*_1713318248_*|*_3_*:*_1_*:*_7038074_*|*_10400_*:*_1_*:*_154896869_*|*_10401_*:*_1_*:*_0,,29/Sep/25 2:30 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9256] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23341-virtualize-dashboard|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23341-virtualize-dashboard]:{quote}STAC-23341 Virtualize dashboard{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,02/Oct/25 9:35 AM
[Dashboard] Release Cli commands (remove feature flag),STAC-23271,45558,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Vladimir Iliakov,61b198bc744c4d006987cf03,Vladimir Iliakov,61b198bc744c4d006987cf03,26/Aug/25 10:00 AM,08/Dec/25 9:45 AM,,,,,,0,backend,,"The `sts dashboard` command is only available/visible when the environment variable is set [https://github.com/StackVista/stackstate-cli/pull/109|https://github.com/StackVista/stackstate-cli/pull/109|smart-link] .

When Dashboard is GA we need to make {{dashboard}} command available unconditionally.

AC.

* Remove the experimental flag [https://github.com/StackVista/stackstate-cli/blob/main/cmd/sts.go#L36|https://github.com/StackVista/stackstate-cli/blob/main/cmd/sts.go#L36|smart-link] 
* Release new version of stackstate-cli without the experimental flag
* Do a final test that the commands still work",,Vladimir Iliakov,,,61b198bc744c4d006987cf03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@54f5645a,,,,{},,,,,,,,,,,,,,,,A,1|i02vd2:,,,,,,- `sts` supports `dashboard` command to manage SUSE  Observability Dashboards.,,,,,,,,Dashboards release?,,,,Borg,,,2.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,26/Aug/25 10:00 AM
[Dashboards] Dynamic list variable selection,STAC-23261,45393,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,21/Aug/25 9:22 AM,21/Oct/25 10:01 AM,,21/Oct/25 10:01 AM,,,,0,,,"In [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link] we’ve added support for selecting variables from static lists. In this ticket we add support for the 3 options for a dynamic list.

*Acceptance criteria*

* Support the different dynamically filled lists for variables (using the work done already in STAC-23127):
** Metric Names Variable: See [https://stackstate.atlassian.net/browse/STAC-23136|https://stackstate.atlassian.net/browse/STAC-23136|smart-link]and its preview, the same time range as for the widget is used
** Metric Label Variable: See [https://stackstate.atlassian.net/browse/STAC-23135|https://stackstate.atlassian.net/browse/STAC-23135|smart-link]and its preview, the same time range as for the widget is used
** Metric PromQL Variable: See [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link] and its preview, this uses no time range but an instant query (to keep the query fast enough)
* We want to be able to type in a value that is not in the list in case the list is failing to load or not fully up-to-date
* Multi-select depends on the specification of the variable. 



_Discussed during refinement_

We can load the data for the lists on-demand",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,STAC-23127,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@729324d3,,,,"{repository={count=90, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":90,""lastUpdated"":""2025-10-21T09:57:43.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":90,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02sqf:,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,Dashboarding 14 & OTel mapping,Dashboarding 15 & OTel mapping,,Borg,,,3.0,,,,,,,,,,2025-10-17 09:56:18.293,10107_*:*_1_*:*_4838124995_*|*_3_*:*_1_*:*_344744640_*|*_10400_*:*_1_*:*_1469812_*|*_10401_*:*_1_*:*_0,,"17/Oct/25 11:56 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9291] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23261-dynamic-list-variable-selection|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23261-dynamic-list-variable-selection]:{quote}Draft: STAC-23261 Add variable selection for dynamic lists (MetricsNames, MetricsValues, MetricsPromQL){quote}",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,21/Oct/25 10:01 AM
[Widget][Settings] Redundant Text in 'Reset Settings' Button,STAC-23165,44629,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,01/Aug/25 8:31 AM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,," On the 'Reset Settings' page, the button text duplicates the page heading

Reset to Default screen capture:

!image-20250801-062940.png|width=539,height=215,alt=""image-20250801-062940.png""!

_Actual behaviour_:

The heading is ""RESET SETTINGS"" and the button text is ""RESET SETTINGS TO DEFAULT.

_Expected behaviour_:

Button text should be Reset to Default,

_Steps to reproduce_:

Navigate to Dashboard

Create Dashboard/open Existing Dashboard

Click on Add Widget

Navigate to the 'Settings' section of the application.

Locate the 'RESET SETTINGS' section.

_Technical note_:",,rajukumar.macha,,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,,,,,,,,,,,,,,,,,,,,,,,,01/Aug/25 8:31 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;image-20250801-062940.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24191,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1a80293e,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T15:53:23.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzv,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,0.5,,,,,,,,,,,10107_*:*_1_*:*_8756446022_*|*_3_*:*_1_*:*_1582978_*|*_10400_*:*_1_*:*_61459289_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
Bar Chart: Y-Axis labels unreadable/overlapping with min step configuration,STAC-23164,44628,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,01/Aug/25 8:09 AM,18/Nov/25 4:31 PM,12/Nov/25 1:11 PM,18/Nov/25 4:31 PM,,,,0,,,"Y-Axis labels unreadable with min step configuration like min step make it 1h or 30 min



YAML Configuration:

{code:yaml}plugin:
  kind: TimeSeriesChart
  spec:
    legend:
      show: true
      position: bottom
      mode: list
      values: []
    yAxis:
      show: true
    visual:
      display: bar
      connectNulls: false
queries:
  - kind: TimeSeriesQuery
    spec:
      plugin:
        kind: PrometheusTimeSeriesQuery
        spec:
          query: sum(kubernetes_pods_running)
          alias: kubernetes_containers_running
          minStep: 1h
links: []
display:
  name: test
  description: """"
{code}

Please find the attached screen capture:

!bar-chart-with-minstep-1h.png|width=811,height=254,alt=""bar-chart-with-minstep-1h.png""!

!bar-chart-overlapping.png|width=803,height=245,alt=""bar-chart-overlapping.png""!

attached video for the same:

!barchart-with-min-step-configuration.mp4|width=1280,height=740,alt=""barchart-with-min-step-configuration.mp4""!

*Acceptance criteria*

* Timebox to try and find a solution with the current charting library for timeseries",,rajukumar.macha,Release StackState,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,01/Aug/25 8:09 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;bar-chart-overlapping.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24190,01/Aug/25 8:09 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;bar-chart-with-minstep-1h.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24188,01/Aug/25 8:09 AM;15b410eb-b968-438b-a045-b0a2ad79c02e;barchart-with-min-step-configuration.mp4;https://stackstate.atlassian.net/rest/api/3/attachment/content/24189,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@17371f5e,,,,"{repository={count=20, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":20,""lastUpdated"":""2025-11-18T16:31:07.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":20,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zzr,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,Prepare dashboards release,,,Borg,,,2.0,,,,,,,,,,2025-11-18 11:47:04.029,10107_*:*_1_*:*_8845918338_*|*_10007_*:*_1_*:*_348760577_*|*_3_*:*_3_*:*_178175161_*|*_10400_*:*_2_*:*_78443337_*|*_10401_*:*_1_*:*_0,,18/Nov/25 12:47 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9352] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23164-bar-chart-overlapping-labels|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23164-bar-chart-overlapping-labels]:{quote}STAC-23164 Fix BarChart rendering on dashboards{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,18/Nov/25 4:31 PM
[Dashboards] Form for adding Metrics Names Variables,STAC-23136,44550,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 4:08 PM,29/Sep/25 10:28 AM,,29/Sep/25 10:28 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

In this story we add the Metrics Names Variable (the static list variable has already been done):

_Acceptance Criteria_

* The static list variable has already been done, this story extends the UI to also support Promql based variables
* The preview should now show a preview of the result of the promql API query (label names).
* The source drop down gets a new option: “Metrics Name Variable” (Perses calls it “Prometheus Names Variable”)
** !image-20250728-093941.png|width=270,height=158,alt=""image-20250728-093941.png""!
* The values for the variable are all label names in the metric store (to generate the preview we can use the endpoint for the label names: {{/api/metrics/v1/labels&start=1753691438&end=1753695038.}} )
* It also allows for adding series selectors, which first uses the selectors to select time series and then takes the label names from those. The logic is handled by the API itself by providing one or more {{match[]}} parameters: {{/api/metrics/v1/label/values?match[]={instance%3D""localhost%3A2019""}&start=1753691438&end=1753695038}}.
!image-20250728-151641.png|width=1270,height=225,alt=""image-20250728-151641.png""!
* The {{match[]}} parameters, and by extension the series selector, can only handle a basic PromQL match query (so no aggregations, functions or other operations).
** If we can make PromQL input restrict to only allow basic time series queries without aggregations or other operators we can use that input to have autocomplete etc.
* Queries for label names use the same time range as the dashboard, for the preview but also when filling the drop downs on the dashboard.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,STAC-23125,STAC-23135,,,,,,,,,,,,28/Jul/25 4:08 PM;rbeckers;image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24069,28/Jul/25 4:08 PM;rbeckers;image-20250728-093941.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24065,28/Jul/25 5:19 PM;rbeckers;image-20250728-151641.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24070,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4008e021,,,,"{repository={count=47, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":47,""lastUpdated"":""2025-09-29T10:03:12.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":47,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02rtx:,,,,,,,,,,,,,,Dashboarding 12 and OTEL Topol,Dashboarding 13 & OTel topo,,,Borg,,,3.0,,,,,,,,,,2025-09-24 14:20:16.015,10107_*:*_1_*:*_4989755525_*|*_3_*:*_1_*:*_82213521_*|*_10400_*:*_1_*:*_347608578_*|*_10401_*:*_1_*:*_0,,24/Sep/25 4:20 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9249] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23136-metrics-names-variable|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23136-metrics-names-variable]:{quote}STAC-23136 Introduce `MetricsNamesVariable`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Sep/25 10:28 AM
[Dashboards] Form for adding Metrics Label variable,STAC-23135,44549,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 4:07 PM,29/Sep/25 10:28 AM,,29/Sep/25 10:28 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

In this story we add the “Metrics Label Variable”:

_Acceptance Criteria_

* The static list variable and names variable have already been done, this story extends the UI to also support Promql based variables
* The preview should now show a preview of the result of the promql API query (for label values).
* The source gets the new option “Metrics Label Variable” (Prometheus Label Variable in Perses):
* !image-20250728-093941.png|width=270,height=158,alt=""image-20250728-093941.png""!
The list is filled with all values of a label in the metric store (the PromQL API for this is {{/api/metrics/v1/label/instance/values?start=1753691438&end=1753695038}}, {{instance}} here is the label name selected by the user):
!image-20250728-094302.png|width=531,height=232,alt=""image-20250728-094302.png""!
* The user specifies the label that should be used. We want auto-complete for that (using the label API that is also used in [https://stackstate.atlassian.net/browse/STAC-23136|https://stackstate.atlassian.net/browse/STAC-23136|smart-link]). But it should also remain possible to input a label name that is not in the list.
* Similar to the Metrics Names Variable this also supports one or more series selectors to restrict the number of timeseries that are taken into account when fetching label values. The logic and the parameter is the same for this endpoint ( {{/api/metrics/v1/label/instance/values?match[]={instance%3D""localhost%3A2019""}&start=1753691438&end=1753695038}}(note that multiple selectors can be added and that now a time range is included to limit the query range).
* Queries for label values use the same time range as the dashboard, for the preview but also when filling the drop downs on the dashboard.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,STAC-23136,STAC-23126,,,,,,,,,,,,28/Jul/25 4:07 PM;rbeckers;image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24062,28/Jul/25 4:07 PM;rbeckers;image-20250728-093941.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24058,28/Jul/25 4:07 PM;rbeckers;image-20250728-094302.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24060,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6c309f28,,,,"{repository={count=37, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":37,""lastUpdated"":""2025-09-29T10:27:39.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":37,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02rtx:r,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,,,,Borg,,,3.0,,,,,,,,,,2025-09-25 13:20:10.15,10107_*:*_1_*:*_5071996190_*|*_3_*:*_1_*:*_23173316_*|*_10400_*:*_1_*:*_57415885_*|*_10401_*:*_1_*:*_0,,25/Sep/25 3:20 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9250] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23135-metrics-labels-variable|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23135-metrics-labels-variable]:{quote}STAC-23135 Introduce `MetricsValuesVariable`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Sep/25 10:28 AM
[Dashboards] Form for text variable,STAC-23128,44541,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 12:11 PM,29/Sep/25 10:28 AM,,29/Sep/25 10:28 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

In this story we add the text variable:

!image-20250728-110351.png|width=1146,height=410,alt=""image-20250728-110351.png""!

A text variable can defined to allow free-format text entry. In the {{Edit variable}} screen a default value can be provided, but it can also be left empty. In the dashboard UI the user can simply type a value, no pre-selects or drop-downs.

_Acceptance Criteria_

* The static list variable has already been done, this story extends the UI to also support the Text variable type
** The 4 default fields are the same, except now for {{type}} the {{text}} type is selected
* The preview shows the default value (or is empty when there is no default value)
* The value providedhere is the “default value” and is optional (empty string if not provided). 
* Normally the value can be edited or removed on the dashboard UI. When the {{constant}} toggle is enabled however it cannot be edited anymore on the dashboard UI, which effectively turns it into a constant.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,STAC-23130,,,,,,,,,,,28/Jul/25 12:11 PM;rbeckers;image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24042,28/Jul/25 1:08 PM;rbeckers;image-20250728-110351.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24051,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@146cf4f5,,,,"{repository={count=11, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":11,""lastUpdated"":""2025-09-29T10:28:47.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":11,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02sj2:r,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,,,,Borg,,,,,,,,,,,,,2025-09-26 08:24:35.546,10107_*:*_1_*:*_5175220714_*|*_3_*:*_1_*:*_257710139_*|*_10400_*:*_1_*:*_4030584_*|*_10401_*:*_1_*:*_0,,26/Sep/25 10:24 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9252] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23128-text-variable|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23128-text-variable]:{quote}STAC-23128 Introduce `TextVariable`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Sep/25 10:28 AM
[Dashboards] Selecting variables on the dashboard,STAC-23127,44540,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 11:14 AM,16/Oct/25 9:34 AM,,16/Oct/25 9:34 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (db22c5eb-17b2-4990-8715-fa6df5f5d3b8).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

_Acceptance Criteria_

* If there are no variables defined, we don’t show them 😮 
* If there are variables defined, we display them by following the same rules we have in place for the views:
** If there are 3 or less variables defined, we display all of them like this:
!image-20250630-112203.png|width=95.20958083832335%,alt=""image-20250630-112203.png""!
!image-20250630-112241.png|width=95.20958083832335%,alt=""image-20250630-112241.png""!

** If there are 4 or more variables defined, we display only the first 2 most important variables and we hide all the rest under the “More” menu like this:
!image-20250630-112426.png|width=95.20958083832335%,alt=""image-20250630-112426.png""!

*** Use the same concept from the views, but without the vertical tabs (on the right) and their associated title (on top) - btw, this is a long-overdue design debt, we should’ve gotten rid of these a long time ago (see the before and after belw):
!image-20250630-122424.png|width=543,height=529,alt=""image-20250630-122424.png""!

!image-20250630-122736.png|width=509,height=509,alt=""image-20250630-122736.png""!

* *Values*:
** In this ticket we only support the Static list variables (the lists from metric labels, etc. are implemented in a separate ticket).
** Note that the default value for the variables is “none” - as opposed to “Any” or “All” that we usually have for filter. This is because the variables are slightly different than filters = they have a “bottom-up” instead of “top-down” way of working → in other words, if you don’t select a value, you’ll not going to get data.
** If there’s a *single value selected* for a variable:
*** We try to follow the same rules we have in place on the view filters = aim to show the value either in full or truncated:
!image-20250630-113507.png|width=48.75249500998004%,alt=""image-20250630-113507.png""!
*** We don’t think this is needed. Discuss with Ovidiu why we would do this: However, there might be values (e.g. {{key:value}} pairs) we can’t display following these ^ rules. In this case, we adopt the solution we have in place for the attributes filter on the traces explorer:
!image-20250630-113715.png|width=48.75249500998004%,alt=""image-20250630-113715.png""!
*** To keep things simple and consistent, we might decide to adopt the latter (“1 selected”) for all cases, but then the visibility / transparency is reduced significantly, increasing the IxD cost considerably
** If there are *multiple values selected* for a variable:
*** We follow the same rules we have in place everywhere else = show the counter of selected values:
!image-20250630-114533.png|width=48.75249500998004%,alt=""image-20250630-114533.png""!

* *Controls to be used* for each variable type:
** *Multi-choice list*: use the same control we use for the _Attributes_ filter on the _Traces explorer_ or for the _Clusters / Namespaces_ filters on the _Kubernetes OOB views_ - it should be the same component used in both places
!image-20250630-115615.png|width=691,height=208,alt=""image-20250630-115615.png""!

** *Single-choice list, with a large number of items* (>12):  use the same control we use for the _Unit of measurement_ on the _Metrics explorer_, (we need the quick search) and place it in a dropdown, similar to the multi-choice list above ^
!image-20250630-121157.png|width=67.81437125748504%,alt=""image-20250630-121157.png""!
 
** *Single-choice list, with a limited number of items* (max 12 items) - use the same control we use for the _Status_ filter on the _Traces explorer_ or for the _Container / Severity_ filters on the _Logs drawer_ - it should be the same component used in both places
!image-20250630-114906.png|width=42.81437125748503%,alt=""image-20250630-114906.png""!

** *Text* - use a simple text input in a dropdown, similar to the multi-choice list above ^
* All variable components should be wrapped in the same container as the Multi-choice List with a title, and a reset link
* *Each variable should have its own “Reset” link* - this will reset the variable to the value(s) stored on the last saved version of the dashboard
* We want to have the ability to enter a value that’s not in the list (or keep a value that disappeared from the list)
* Selected values are stored in the URL
* Getting the list of possible values depends on the Variable type:
** In this ticket: Static list variable: the configured list
** Dynamic list (i.e. calling an api on the backend to get the list) is done in [https://stackstate.atlassian.net/browse/STAC-23261|https://stackstate.atlassian.net/browse/STAC-23261|smart-link] 

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|smart-link] 

Refinement notes:

* Having the inputs AND the title on one line will make it hard to fit 3 variables, especially on smaller screens. To discuss with Ovidiu: Either remove the title entirely (it’s already in the top nav bar, similar to Grafana), which is preferred or if we have to have it move it above or below.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,STAC-23261,,,,STAC-22792,,,,,,,,28/Jul/25 12:01 PM;rbeckers;image-20250630-112203 (db22c5eb-17b2-4990-8715-fa6df5f5d3b8).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24034,28/Jul/25 11:14 AM;rbeckers;image-20250630-112203.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24013,28/Jul/25 11:14 AM;rbeckers;image-20250630-112241.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24007,28/Jul/25 11:14 AM;rbeckers;image-20250630-112426.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24014,28/Jul/25 11:14 AM;rbeckers;image-20250630-113507.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24020,28/Jul/25 11:14 AM;rbeckers;image-20250630-113715.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24011,28/Jul/25 11:14 AM;rbeckers;image-20250630-114533.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24019,28/Jul/25 11:14 AM;rbeckers;image-20250630-114906.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24006,28/Jul/25 11:14 AM;rbeckers;image-20250630-115615.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24008,28/Jul/25 11:14 AM;rbeckers;image-20250630-121157.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24016,28/Jul/25 11:14 AM;rbeckers;image-20250630-122424.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24018,28/Jul/25 11:14 AM;rbeckers;image-20250630-122736.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24015,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6fc53ae0,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-10-16T09:33:33.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02swe:yi,,,,,,,,,,,,,,Dashboarding 12 and OTEL Topol,Dashboarding 13 & OTel topo,Dashboarding 14 & OTel mapping,,Borg,,,13.0,,,,,,,,,,2025-09-26 07:31:41.251,10107_*:*_1_*:*_4582949727_*|*_3_*:*_3_*:*_1363475801_*|*_10004_*:*_1_*:*_267498138_*|*_10400_*:*_3_*:*_689498092_*|*_10401_*:*_1_*:*_0,,26/Sep/25 9:31 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9251] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23127-promql-variable|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23127-promql-variable]:{quote}STAC-23127 Introduce `MetricsPromQLVariable`{quote},01/Oct/25 4:53 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9259] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23127-dashboard-variable-selection|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23127-dashboard-variable-selection]:{quote}Draft: STAC-23127 Add dashboard variable selection{quote},10/Oct/25 9:17 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9279] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23127-variables-state-suggestion|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23127-variables-state-suggestion]:{quote}STAC-23127 Refine the Variables.state and url sync{quote},15/Oct/25 5:22 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9285] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23127-tweaks|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23127-tweaks]:{quote}STAC-23127 Change how many variables are visible on dashboards{quote},"16/Oct/25 9:15 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9286] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23127-tweaks|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23127-tweaks]:{quote}Resolve STAC-23127 ""Tweaks""{quote}",,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,16/Oct/25 9:34 AM
[Dashboards] Form for adding Metrics PromQL Variable,STAC-23126,44539,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 11:13 AM,30/Sep/25 9:34 AM,,30/Sep/25 9:34 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

In this story we add the promql list variable.

_Acceptance Criteria_

* All other list variable options have been done, this one adds the “Metrics PromQL Variable”. 
!image-20250728-093941.png|width=270,height=158,alt=""image-20250728-093941.png""!
* The preview should now show a preview of the result of the promql API query (for label values or label names).
* This is the most generic method. The user provides a PromQL query (even though it can be simple, this uses the standard {{query}} endpoint that is also used for instant queries using the ). A set of values is collected by running the query and getting all the distinct values, over all the returned timeseries, for the label specified in {{label name}}:
!image-20250728-095611.png|width=543,height=235,alt=""image-20250728-095611.png""!
* The PromQL expression field should be a PromQL editor like also used for specifying metric queries in widgets
* The values for the list are the set of all distinct values in the query result of the label specified in the Label Name input (similar to [https://stackstate.atlassian.net/browse/STAC-23135|https://stackstate.atlassian.net/browse/STAC-23135|smart-link] )
* The Label Name input field should behave the same as in [https://stackstate.atlassian.net/browse/STAC-23135|https://stackstate.atlassian.net/browse/STAC-23135|smart-link] (auto-complete etc.)
* *NOTE:* As a performance trade-off this list doesn’t use a time range but an instant query. So the results may be slightly different from the “Metrics Label Variable”.",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,STAC-23135,,,,,,,,,,,,,28/Jul/25 11:59 AM;rbeckers;image-20250630-112203 (6f3127c0-1a0a-4e6d-8cca-1a817c55c7eb).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24033,28/Jul/25 11:59 AM;rbeckers;image-20250728-093941.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24029,28/Jul/25 11:59 AM;rbeckers;image-20250728-095611.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24032,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7ec8ed5b,,,,{},,,,,,,,,,,,,,,,A,1|i02sj2:,,,,,,,,,,,,,,Dashboarding 13 & OTel topo,,,,Borg,,,3.0,,,,,,,,,,,10107_*:*_1_*:*_5112859613_*|*_3_*:*_1_*:*_65022965_*|*_10400_*:*_1_*:*_264240892_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,30/Sep/25 9:34 AM
[Dashboards] Form for adding static list variable,STAC-23125,44538,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 11:13 AM,26/Sep/25 4:32 PM,,25/Sep/25 9:34 AM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (0c2b5bf2-ce87-4ca2-a144-ec421a919982).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

In this story we add the static list variable:

!image-20250728-093349.png|width=1154,height=900,alt=""image-20250728-093349.png""!

_Acceptance Criteria_

* Fields for all variables
** Name: the name of the variable (used to reference it in queries). Simlar to Grafana this is restricted:
*** Only word characters allowed: {{[a-zA-Z1-9_]+}}
*** Max length 50 characters
** Display label (optional): the label used to display the variable in the dashboard top-bar (if not specified the name is used)
** Description: Shown in on-hover of selector
** Type: Selects the type, two options:  {{text}} and {{list}}
** Preview: There is a preview of the values
*** No copy button
*** No refresh button
* The “Add” button only adds the variable to the list in the Variables drawer, it is not yet added to the dashboard
* For static list specifically:
** When creating or editing variables another drawer is opened for the specific variable (see screenshot above):
*** For a list variable:
**** Source:  {{static list}} source (later more options are added)
***** Static list: The user provides a list of values. A similar input can be used as for filtering on component tags or trace attributes (but without auto-complete). The provide list is shown in the preview
**** *NOT in this story: Capturing regex*
**** Sort: Allows for sorting the values by: ascending alphabetically, descending alphabetically, ascending numerically, descending numerically,
**** Allow All option: When enabled an extra option is included in the list named {{All}}
***** This is done in the interpolation/selection ticket, but left here for reference: The default behavior is to generate a regex expression that combines all the values with an “or” like this: {{value1|value2|value3}}.  With this the variable can be used with promql Regexes (i.e. matchers that look like this: {{{ namespace=~""${namespace}"" }}} →  {{{ namespace=~""namespace1|namespace2|namespace3|..."" }}}
***** The behavior can be overrides by providing a custom value for the {{All}} option (for example the wildcard regex: {{.*}}) 
***** !image-20250728-093543.png|width=481,height=249,alt=""image-20250728-093543.png""!
**** Allow multiple option: When enabled multiple values can be selected
***** This is done in the interpolation/selection ticket, but left here for reference: The behavior is that, when more than 1 value is selected, a regex is generated that combines the selected values: {{value1|value2|value3}} (very similar to the {{All}} option except now only the selected values are included.
**** *NOTE:* For both Multi-select and Allow all we should add a help text that makes it clear what it means and that the variable must be used as a regex (i.e. using {{=~}} instead of {{=}})

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|smart-link] ",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,STAC-23136,,,,STAC-22792,,,,,,,,28/Jul/25 11:36 AM;rbeckers;image-20250630-112203 (0c2b5bf2-ce87-4ca2-a144-ec421a919982).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24025,28/Jul/25 11:36 AM;rbeckers;image-20250728-093349.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24024,28/Jul/25 11:36 AM;rbeckers;image-20250728-093543.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24026,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@490e6716,,,,"{repository={count=43, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":43,""lastUpdated"":""2025-09-24T11:41:37.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":43,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02rfx:,,,,,,,,,,,,,,Dashboarding 10 & OTel mapping,Dashboarding 11 and OTEL Topol,Dashboarding 12 and OTEL Topol,Dashboarding 13 & OTel topo,Borg,,,8.0,,,,,,,,,,2025-09-23 08:58:38.242,10107_*:*_1_*:*_4509435918_*|*_3_*:*_1_*:*_495516083_*|*_10400_*:*_1_*:*_7941523_*|*_10401_*:*_1_*:*_0,,23/Sep/25 10:58 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9243] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23125-static-list-variable|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23125-static-list-variable]:{quote}Draft: STAC-23125 Drawer for variable setup + static list variable part{quote},26/Sep/25 4:32 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9253] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [OBSFE-179-migrate-truncated|https://gitlab.com/stackvista/stackstate/-/tree/OBSFE-179-migrate-truncated]:{quote}Draft: STAC-23125 Init common variable form{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,25/Sep/25 9:34 AM
[Dashboards] Drawer for adding dashboard variables,STAC-23124,44537,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,28/Jul/25 11:13 AM,24/Sep/25 9:35 AM,,24/Sep/25 9:35 AM,,,,0,,,"_User Story_

As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data


At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (478e2b83-7bcf-4f70-8d58-17fc91b89a95).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

This story is about the UI to edit the variables on the dashboard

_Acceptance Criteria_

* *Entry point to edit variables*:
** Insert the {{Edit variables}} action right before the {{Edit dashboard properties}} entry in the dashboard actions menu as per design:
!image-20250630-110223.png|width=860,height=288,alt=""image-20250630-110223.png""!

** The entry point is only available whilst you’re on a dashboard → We do NOT create an (icon) shortcut in the dashboards overview page or anywhere else for that matterl
** On click, the {{Edit variables}} drawer makes a dramatic slide-in entry 🙂 
*** The contents of this drawer are pretty much the same as Perses'
* Edit variables drawer UX is based of Perses:
** Edit Variables are shown in a drawer
** Shows the 3 types of variables that are available (see also the screenshot from Perses, initially all of the sections are collapsed):
*** *No global variables for SUSE Observability*
*** Dashboard variables
*** *NOT in this story: Dashboard built-in variables*
*** SUSE Observability metrics variables: these are already supported on the metrics API, but are only {{${__interval}}} and {{${__rate_internval}}}.
** Variables can be added, edited, ordered, and removed
** *NOT in this story: visibility*
** When clicking “Apply” the variables on the Dashboard are updated but not yet saved to the backend. The dashboard is marked dirty and the user needs to save it using the “Save” button.
** When creating or editing variables, another drawer is opened for the specific variable. See [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link] and [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link] .
** !image-20250527-152015 (d420a1ae-5744-405d-993c-c1c99110340d).png|width=1295,height=1333,alt=""image-20250527-152015.png""!

----



*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|smart-link] ",,Anton Ovechkin,Release StackState,Remco Beckers,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,STAC-22792,,,,,,,,28/Jul/25 11:26 AM;rbeckers;image-20250527-152015 (d420a1ae-5744-405d-993c-c1c99110340d).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24022,28/Jul/25 11:13 AM;rbeckers;image-20250630-110223.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23973,28/Jul/25 11:26 AM;rbeckers;image-20250630-112203 (478e2b83-7bcf-4f70-8d58-17fc91b89a95).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24023,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@64dea5a6,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-09-22T11:01:34.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02rfv:,,,,,,,,,,,,,,Dashboarding 10 & OTel mapping,Dashboarding 11 and OTEL Topol,Dashboarding 12 and OTEL Topol,Dashboarding 13 & OTel topo,Borg,,,3.0,,,,,,,,,,2025-09-10 09:28:36.596,10107_*:*_1_*:*_3728665528_*|*_3_*:*_1_*:*_780680415_*|*_10400_*:*_1_*:*_323229158_*|*_10401_*:*_1_*:*_0,,"10/Sep/25 11:28 AM;61d2f4ebce3652006aaa23ca;There is a complication with the name column: it is something we would like to validate [~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] . The names must be 

# unique accross the dashboard env
# lowercase?
# min/max length? 
# special chars/spaces?",12/Sep/25 9:39 AM;61d2f4ebce3652006aaa23ca;One more thing which is missing is the descriptions for built-in variables [~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] ,12/Sep/25 4:02 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9227] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23124-variables-drawer|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23124-variables-drawer]:{quote}Draft: STAC-23124 Variables drawer{quote},12/Sep/25 4:23 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9228] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23124-new-dropdown-menu|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23124-new-dropdown-menu]:{quote}STAC-23124 Introduce `components/dropdown-menu`{quote},17/Sep/25 11:45 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9233] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23124-new-drag-and-drop|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23124-new-drag-and-drop]:{quote}STAC-23124 Introduce `components/drag-and-drop`{quote},17/Sep/25 2:45 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9235] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23124-extend-table-body|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23124-extend-table-body]:{quote}STAC-23124 Extend `TableBody.children` by accepting `Listable`{quote},"18/Sep/25 2:18 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9239] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23124-clear-modifiers|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23124-clear-modifiers]:{quote}STAC-23124 Rename `Record`, `NonEmptyArray`, and `OneOrMany` modifiers{quote}","18/Sep/25 4:07 PM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;For the texts only {{__interval}} and {{__rate_interval}} are relevant:

* {{__interval}}: Use the {{${__interval}}} variable as the range for aggregations over time instead of hard-coded time intervals. It will automatically adjust to the selected time-range
* {{__rate_interval}}: Use the {{${__rate_interval}}} parameter as the range for rate aggregations like {{rate}}, {{increase}} etc. It will also automatically adjust with the seleted time-range, but it is typically twice as the {{__interval}} to make it work better with rate-like PromQL functions, for example making it more resilient to a lost data point.",38662,STAC-22375,Dashboards as 1st class citizen,Done,24/Sep/25 9:35 AM
[Dashboards] Render the description in the widget header,STAC-23102,44408,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Duplicate,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,22/Jul/25 12:34 PM,31/Oct/25 9:43 AM,,31/Oct/25 9:43 AM,,,,0,,,"It should use the same {{(?)}} symbol as for widgets in highlights page 

!image-20250722-103528.png|width=438,height=262,alt=""image-20250722-103528.png""!",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,STAC-23680,,,,,,22/Jul/25 12:35 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image-20250722-103528.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23860,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@750ebe59,,,,{},,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz02lzp,,,,,,,,,,,,,,,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_8719771753_*|*_6_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,31/Oct/25 9:43 AM
[Dashboards] App crashes on widget resize,STAC-23095,44373,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Blocker,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,21/Jul/25 11:11 AM,25/Jul/25 9:33 AM,,25/Jul/25 9:33 AM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7599d3bf,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2025-07-22T11:05:53.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":3,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qtr:,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,,,,Borg,,,,,,,,,,,,,2025-07-21 18:50:47.842,10107_*:*_1_*:*_10444_*|*_3_*:*_1_*:*_86106599_*|*_10400_*:*_1_*:*_1722_*|*_10401_*:*_1_*:*_0,,21/Jul/25 8:50 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9139] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23095-crash-on-widget-resize|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23095-crash-on-widget-resize]:{quote}STAC-23095 Fix app crash on widget resize{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,25/Jul/25 9:33 AM
[Dashboards] The table legend overflows,STAC-23094,44371,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,21/Jul/25 10:55 AM,25/Jul/25 9:33 AM,,25/Jul/25 9:33 AM,,,,0,,,"!Screenshot 2025-07-21 at 10.55.19.png|width=1025,height=505,alt=""Screenshot 2025-07-21 at 10.55.19.png""!",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,21/Jul/25 10:56 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-21 at 10.55.19.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23828,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6efdafb7,,,,{},,,,,,,,,,,,,,,,A,1|i02qtj:,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_92257244_*|*_3_*:*_1_*:*_3830_*|*_10400_*:*_1_*:*_1765_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,25/Jul/25 9:33 AM
[Dashboards] Widget preview does not fetch data,STAC-23077,44340,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,17/Jul/25 11:46 AM,18/Jul/25 9:35 AM,,18/Jul/25 9:35 AM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@620f376c,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2025-07-18T09:22:42.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":3,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qpr:,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,,,,Borg,,,,,,,,,,,,,2025-07-17 11:58:03.117,10107_*:*_1_*:*_8606_*|*_3_*:*_1_*:*_8554254_*|*_10400_*:*_1_*:*_69219447_*|*_10401_*:*_1_*:*_0,,17/Jul/25 1:58 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9135] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23077-fix-dashboard-widget-preview|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23077-fix-dashboard-widget-preview]:{quote}STAC-23077 Define minStep as undefined | string{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,18/Jul/25 9:35 AM
"[Dashboards] Convert ""TimeSeries Chart, display: bar"" as a ""Bar Chart""",STAC-23041,44209,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,09/Jul/25 3:49 PM,29/Oct/25 10:08 AM,,29/Oct/25 10:08 AM,,,,0,,,"We have been followin the perses implementation of the bar chart which looks like this (notice the {{Type: Time Series Chart}} and the {{Settings -> Visual -> Display: Bar}}):

!Screenshot 2025-07-09 at 15.59.19.png|width=1073,height=959,alt=""Screenshot 2025-07-09 at 15.59.19.png""!

----

But it is a bit confusing to have a Time Series chart represented by such bars, Grafana does it differently (notice {{Visualization: TimeSeries}} and the fact that the {{Style}} parameter only defines how the area under every point is shaped):

!Screenshot 2025-07-09 at 16.02.51.png|width=1708,height=465,alt=""Screenshot 2025-07-09 at 16.02.51.png""!

!Screenshot 2025-07-09 at 16.03.08.png|width=1703,height=458,alt=""Screenshot 2025-07-09 at 16.03.08.png""!

!Screenshot 2025-07-09 at 16.04.05.png|width=1709,height=518,alt=""Screenshot 2025-07-09 at 16.04.05.png""!

At the same time Grafana has the same type of bar chart as perses but it is separated to a standalone type: {{Bar Chart}}:

!Screenshot 2025-07-09 at 16.05.59.png|width=1716,height=495,alt=""Screenshot 2025-07-09 at 16.05.59.png""!

----

This is the aim of the ticket: we should convert our existing {{Type: TimeSeriesChart, Display: Bar}} to a {{Type: BarChart}}so we follow the industry standart (defined by Grafana).

!Screenshot 2025-07-09 at 16.07.25.png|width=1424,height=777,alt=""Screenshot 2025-07-09 at 16.07.25.png""!



*Acceptance criteria*

* Convert ""TimeSeries Chart, display: bar"" to a separate chart type: ""Bar Chart""
* We remove the display toggle on the timeseries chart.",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,STAC-23679,,,,,,,,,,,,09/Jul/25 4:00 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 15.59.19.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23660,09/Jul/25 4:08 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 16.02.51.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23662,09/Jul/25 4:08 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 16.03.08.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23663,09/Jul/25 4:08 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 16.04.05.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23665,09/Jul/25 4:08 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 16.05.59.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23664,09/Jul/25 4:08 PM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-07-09 at 16.07.25.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23661,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@139af3ab,,,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-10-29T10:04:44.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkkhqi,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,2025-10-28 17:38:01.059,10107_*:*_1_*:*_9481260728_*|*_3_*:*_3_*:*_162614334_*|*_10400_*:*_2_*:*_3961530_*|*_10004_*:*_1_*:*_11909496_*|*_10401_*:*_1_*:*_0,,"28/Oct/25 6:38 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9311] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23041-rename-display-bar-to-bar-chart|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23041-rename-display-bar-to-bar-chart]:{quote}Draft: STAC-23041 Add BarChart type, remove display field from TimeSeriesChart{quote}",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Oct/25 10:08 AM
[Dashboards] Thresholds on timeseries widget,STAC-23034,44105,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,07/Jul/25 4:03 PM,07/Aug/25 9:52 AM,,07/Aug/25 9:52 AM,,,,0,,,"_User Story_

As a Dashboard user
I want to put fix thresholds on my charts
such that I can draw attention to anything that crosses them

For the Gauge chart (Note that for the gauge thresholds are required to make any sense for the widget):

!image-20250527-124223.png|width=606,height=561,alt=""image-20250527-124223.png""!



For the timeseries chart:

!image-20250707-140744.png|width=358,height=452,alt=""image-20250707-140744.png""!



_Acceptance Criteria_

* Multiple thresholds can be defined with different colors. 
* For the timeseries chart widget (the UI is slightly different because there is no “default” color):
** No thresholds by default
** No “Default” color selection
* The toggle at the top of the threshold section allows switching what the threshold values mean:
** Absolute: Thresholds are in the same unit as the metric value
** Percentage: The thresholds are a percentage of the {{Max value}} that is specified for the Y-axis",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22789,,,,,,,,07/Jul/25 4:03 PM;rbeckers;image-20250527-124223.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23627,07/Jul/25 4:07 PM;rbeckers;image-20250707-140744.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23628,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@53abb55a,,,,"{repository={count=80, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":80,""lastUpdated"":""2025-08-07T13:48:04.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":80,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qyb:,,,,,,,,,,,,,,Dashboarding 9 & OTel mapping,,,,Borg,,,5.0,,,,,,,,,,2025-08-01 07:52:09.992,10107_*:*_1_*:*_1893150710_*|*_3_*:*_1_*:*_501004446_*|*_10400_*:*_1_*:*_261896531_*|*_10401_*:*_1_*:*_0,,"01/Aug/25 9:52 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9162] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23034-dashboard-widget-thresholds|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23034-dashboard-widget-thresholds]:{quote}Draft: Resolve STAC-23034 ""Dashboard widget thresholds""{quote}",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,07/Aug/25 9:52 AM
Create link to component when creating widget from a component,STAC-23031,44045,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,07/Jul/25 11:41 AM,25/Jul/25 9:33 AM,,25/Jul/25 9:33 AM,,,,0,,,"_User Story_
\{panel}
As a dashboard user 
I want to be able to recognize where the charts/widgets came from that I added from a component
such that I know what I’m looking at
\{panel}

Do after [https://stackstate.atlassian.net/browse/STAC-23027|https://stackstate.atlassian.net/browse/STAC-23027|smart-link] .

_Acceptance Criteria_

* When Adding a widget to a dashboard from a component or a pinned chart automatically add 1 link to that components highlight page:
** The text should be {{component name (component type)}}
** Clicking the link opens the highlight page in the same tab/window.
** The link should be a relative link

_Failure Modes_

_Documentation Impact_

_INVEST Check_

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

_Refinement Notes_

_Notes_",,Anton Ovechkin,Remco Beckers,,61d2f4ebce3652006aaa23ca,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,STAC-23027,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@13441f62,,,,{},,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kirv,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,2025-07-22 05:56:54.326,10107_*:*_2_*:*_961420080_*|*_3_*:*_4_*:*_60371843_*|*_10400_*:*_3_*:*_373288101_*|*_10401_*:*_2_*:*_2590,,22/Jul/25 7:56 AM;61d2f4ebce3652006aaa23ca;Completed in [https://gitlab.com/stackvista/stackstate/-/merge_requests/9137|https://gitlab.com/stackvista/stackstate/-/merge_requests/9137|smart-link]  as part of [https://stackstate.atlassian.net/browse/STAC-23082|https://stackstate.atlassian.net/browse/STAC-23082|smart-link] ,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,25/Jul/25 9:33 AM
Support links on dashboards,STAC-23027,44007,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,07/Jul/25 9:08 AM,29/Jul/25 9:40 AM,,29/Jul/25 9:38 AM,,,,0,,,"_User Story_

As a user I want to be able to add a link to a widget

_Acceptance Criteria_

* Creating links:
** The same as in Perses, a tab in the widget settings drawer:
*** Default are no links
*** A user can add multiple links
*** Each link has a URL, a text, and a tooltip
*** We don’t validate the URL, we want to support relative links and/or spaces (which end up URL encoded as %20)
*** See Perses screenshot below
*** No checkbox for {{Render variables}}, we don’t support variables yet
*** No drag/drop to reorder the links for now, we might add that later
* Showing links:
** See the mock ups below and in Fig
** If there are no widget links defined, we don’t show the subtitle on the widget header (ref. “Legacy” in the design)
** If there is only 1 widget link, we display that link in the subtitle of the widget header (reg. “Throughput” in the design)
** If there are 2 or more widget links, we display the primary link and hide the other links under the “more” link (ref. “Http response…” in the design)
*** the “primary” link = the 1st link defined on the widget
*** the links in the “more” menu should follow the same order in which they were defined on the widget
*** initially, I had a specific case in mind for 2 links (display them both + truncate them if necessary)  - I’ve dropped this, let’s keep it simple.
** don’t forget the “1 link” (singular) vs “2 links”  (plural) case
** When clicking a relative link to Stackstate itself, preserve the detachedFilters, timerange, timestamp URL parameters, but don’t overwrite any parameters that are explicitly set in the link URL. 

Showing links on the widget:

!image (3).png|width=3580,height=1528,alt=""image (3).png""!

!image (2).png|width=3580,height=1528,alt=""image (2).png""!

Perses tab for adding links:

!image-20250707-093714.png|width=1070,height=476,alt=""image-20250707-093714.png""!



_Failure Modes_

_Documentation Impact_

_INVEST Check_

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

_Refinement Notes_

_Notes_",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,STAC-23031,,,,,,,,,,,,07/Jul/25 11:34 AM;rbeckers;image (2).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23595,07/Jul/25 11:34 AM;rbeckers;image (3).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23594,07/Jul/25 11:40 AM;rbeckers;image-20250707-093714.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23596,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1a642305,,,,{},,,,,,,,,,,,,,,,A,1|i02qkd:,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,Dashboarding 9 & OTel mapping,,,Borg,,,8.0,,,,,,,,,,,10107_*:*_1_*:*_882046251_*|*_3_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,29/Jul/25 9:38 AM
Dashboards are marked as dirty after adding widget from other page,STAC-23026,43974,Bug,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,04/Jul/25 3:40 PM,10/Jul/25 1:08 PM,,10/Jul/25 1:08 PM,,,,0,,,"After adding a widget to a dashboard from another page (i.e. when viewing a pod, or from pinned items), if the user changes widget positions and puts them back in the original place, the dashboard is incorrectly marked as dirty.

After a discussion between [~accountid:712020:a950806e-86c0-42f7-b531-66e40f57b9ee] and [~accountid:61d2f4ebce3652006aaa23ca] , it was discovered that this is because the widget is saved to the backend with the wrong layout position (0, 0) which is immediately changed by the frontend grid library to put it in the correct position visually. However, this makes it impossible for the user to put the dashboard back into a clean state and making it dirty by moving a widget, as they cannot place more than one widget in position (0, 0).

We should calculate the correct position for the widget when saving to the backend.",,Release StackState,Samuel Jones,,5f0c19c95ee2c3002363e486,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,STAC-22879,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5f354278,"*Actual behavior*:


*Expected behavior*:


*Steps to reproduce*:


*Technical note*:

",,,"{repository={count=12, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":12,""lastUpdated"":""2025-07-10T13:07:47.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":12,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qhz:,,,,,,,,,,,,,,Team Borg - Dashboarding 7,,,,Borg,,,1.0,,,,,,,,,,2025-07-04 14:15:17.768,10107_*:*_1_*:*_114658_*|*_3_*:*_1_*:*_247280834_*|*_10400_*:*_1_*:*_1509_*|*_10401_*:*_1_*:*_0,,04/Jul/25 4:15 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9113] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-23026-set-position-when-adding-widget|https://gitlab.com/stackvista/stackstate/-/tree/STAC-23026-set-position-when-adding-widget]:{quote}STAC-23026 Correctly set initial Y position for added widgets{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,10/Jul/25 1:08 PM
"[Dashboards] Public/private dashboards, public/private toggle",STAC-22953,43612,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,23/Jun/25 5:23 PM,18/Jul/25 9:35 AM,,18/Jul/25 9:35 AM,,,,0,,,"_User Story_

As a dashboards user
I want to have private and public dashboards 
such that I share some dashboards with my colleagues and keep others for myself


Allow the user to toggle the dashboard from private to public and vice versa in the settings drawer. The rest of the work is in [https://stackstate.atlassian.net/browse/STAC-22952|https://stackstate.atlassian.net/browse/STAC-22952|smart-link] and [https://stackstate.atlassian.net/browse/STAC-22837|https://stackstate.atlassian.net/browse/STAC-22837|smart-link] . [https://stackstate.atlassian.net/browse/STAC-22837|https://stackstate.atlassian.net/browse/STAC-22837|smart-link] 



_Acceptance Criteria_

* Allow a user to switch a dashboard from private to public or vice-versa. Now they are created with scope {{private}}, only making them accessible for the user that created the dashboard and not for other users. The backend already provides the {{scope}} field.
** let’s rename the “Shared“ title → “Options“ *and* the “Add to starred…“ label → “Add it to starred…“
*** and add a new checkbox named “Make it public“ under the current checkbox
*** followed by a helper icon
**** on click, we display the following tooltip: “By default, all the dashboards you create are private (only you can see them). By making a dashboard public, you still own the dashboard but other users can also view and edit it.“
*** by default, the option is unchecked (the dashboard is private)

!image-20250623-111340.png|width=58.333333333333336%,alt=""image-20250623-111340.png""!

*Figma:* [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|smart-link] a",,Release StackState,Remco Beckers,Samuel Jones,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,STAC-22837,,,,,,,,23/Jun/25 5:23 PM;rbeckers;image-20250623-111340.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23406,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1be5928e,,,,"{repository={count=3, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":3,""lastUpdated"":""2025-07-17T11:16:13.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":3,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:x,,,,,,,,,,,,,,Team Borg - Dashboarding 7,Dashboarding 8 & OTel mapping,,,Borg,,,2.0,,,,,,,,,,2025-07-16 15:19:12.982,10107_*:*_1_*:*_1965575405_*|*_3_*:*_1_*:*_22944705_*|*_10400_*:*_1_*:*_63070100_*|*_10401_*:*_1_*:*_0,,"16/Jul/25 5:19 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9131] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22953-public-private-dashboard-toggle|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22953-public-private-dashboard-toggle]:{quote}STAC-22953 Add ""Make it public"" checkbox to dashboard properties pane{quote}","16/Jul/25 5:21 PM;712020:a950806e-86c0-42f7-b531-66e40f57b9ee;PR contains tooltip copy that’s slightly different (removes reference to being able to edit dashboards that don’t belong to a user):

“By default, all the dashboards you create are private (only you can see them). By making a dashboard public, you still own the dashboard but other users can also view it.“
",,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,18/Jul/25 9:35 AM
"[Dashboards] Public/private dashboards, lock icon",STAC-22952,43611,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,23/Jun/25 5:22 PM,28/Jul/25 11:23 AM,,28/Jul/25 11:23 AM,,,,0,,,"_User Story_

As a dashboards user
I want to have private and public dashboards 
such that I share some dashboards with my colleagues and keep others for myself


Show lock/unlock icon in all locations where dashboards are shown. The other part of the work is done in [https://stackstate.atlassian.net/browse/STAC-22953|https://stackstate.atlassian.net/browse/STAC-22953|smart-link] and [https://stackstate.atlassian.net/browse/STAC-22837|https://stackstate.atlassian.net/browse/STAC-22837|smart-link] 

_Acceptance Criteria_



Next to the changes on the dashboard settings, there are a few other things we need to change in order to make sure that each dashboard will be easily identifiable as public / private by the users throughout the UI:

* We show a lock (private) / unlock (public) icon as a prefix whenever we display a dashboard name:
** main menu
** nav bar
** smart history
** dashboards overview
*** *Attn!* the gap between the icon and the dashboard name has been changed from 16px to 12px (identical to the views overview)
** When hovering the lock / unlock a tooltip shows saying {{private}} / {{public}}
* *Attn!* the 2 icons (lock / unlock) have different shades of grey (on both light and dark backgrounds) to draw attention towards the public dashboards.

!image-20250623-111124.png|width=33.33333333333333%,alt=""image-20250623-111124.png""!

!image-20250623-111154.png|width=66.66666666666666%,alt=""image-20250623-111154.png""!

!image-20250623-111250.png|width=454,height=42,alt=""image-20250623-111250.png""!

!image-20250623-111307.png|width=483,height=42,alt=""image-20250623-111307.png""!

*Figma:* [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|smart-link] ",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22837,,,,,,,,23/Jun/25 5:22 PM;rbeckers;image-20250623-111124.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23404,23/Jun/25 5:22 PM;rbeckers;image-20250623-111154.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23402,23/Jun/25 5:22 PM;rbeckers;image-20250623-111250.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23405,23/Jun/25 5:22 PM;rbeckers;image-20250623-111307.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23403,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@c189d7,,,,"{repository={count=22, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":22,""lastUpdated"":""2025-07-28T10:16:35.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":22,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:y,,,,,,,,,,,,,,Team Borg - Dashboarding 7,Dashboarding 8 & OTel mapping,Dashboarding 9 & OTel mapping,,Borg,,,2.0,,,,,,,,,,2025-07-22 13:37:13.099,10107_*:*_1_*:*_2388867338_*|*_3_*:*_1_*:*_174371845_*|*_10400_*:*_1_*:*_0,,22/Jul/25 3:37 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9143] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22952-public-private-dashboard-icons|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22952-public-private-dashboard-icons]:{quote}STAC-22952 Add public/private dashboard icons{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,28/Jul/25 11:23 AM
[Dashboards] Add tooltip to (un)star dashboard,STAC-22950,43582,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,23/Jun/25 3:32 PM,11/Nov/25 2:17 PM,,11/Nov/25 2:17 PM,,,,0,,,"* Bread crumb
* Dashboard list
* Main menu

Similar text as for (un)Starring of Views",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7e274317,,,,"{repository={count=1, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":1,""lastUpdated"":""2025-11-10T15:46:17.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":1,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02u22:zz,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,,,,Borg,,,1.0,,,,,,,,,,,10107_*:*_1_*:*_12099320446_*|*_3_*:*_1_*:*_3030375_*|*_10400_*:*_1_*:*_61459217_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Nov/25 2:17 PM
[Dashboards] Warning when leaving unsaved dashboard,STAC-22941,43515,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,19/Jun/25 3:50 PM,07/Jul/25 12:35 PM,,07/Jul/25 12:35 PM,,,,0,,,"

_Acceptance Criteria_

* When leaving a dashboard the changes are discarded (same as the view), unless they have been saved *(5p)*
** If the dashboard is dirty when leaving we show a warning toast message saying “You have unsaved changes. Save changes. Go back.”. With {{save changes}} a primary link that saves the changes to the dashboard in the background. {{Go back}} (secondary link) opens the dashboard again with all changes
*** If saving fails: The toast is replaced with the error toast “Saving the dashboard failed. Retry. Go back.”. Retry the primary link. Go back a secondary link.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22903,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@19d79182,,,,"{repository={count=8, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":8,""lastUpdated"":""2025-07-07T12:21:41.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":8,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:i,,,,,,,,,,,,,,Team Borg - Dashboarding 7,,,,Borg,,,5.0,,,,,,,,,,2025-07-04 13:10:34.98,10107_*:*_1_*:*_1128500761_*|*_3_*:*_1_*:*_166882105_*|*_10400_*:*_1_*:*_247276405_*|*_10401_*:*_1_*:*_0,,04/Jul/25 3:10 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9112] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22941-unsaved-dashboard-warning|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22941-unsaved-dashboard-warning]:{quote}Draft: STAC-22941 Show notification when leaving an unsaved dashboard{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,07/Jul/25 12:35 PM
[Dashboards] Dashboards main menu collapsed on first open,STAC-22938,43512,Bug,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,19/Jun/25 10:27 AM,21/Jul/25 10:07 AM,,21/Jul/25 10:07 AM,,,,0,,,On first main menu opening the Dashboards section is collapsed even when there are starred dashboards. On the following openings it is expanded so it has something to do with the data querying.,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,19/Jun/25 10:28 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;Screenshot 2025-06-19 at 10.28.07.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23330,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2656085,,,,"{repository={count=18, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":18,""lastUpdated"":""2025-07-21T10:07:22.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":18,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qkb:,,,,,,,,,,,,,,Dashboarding 8 & OTel mapping,,,,Borg,,,2.0,,,,,,,,,,2025-07-17 09:48:02.232,10107_*:*_1_*:*_2259012110_*|*_3_*:*_1_*:*_170620245_*|*_10400_*:*_1_*:*_322125479_*|*_10401_*:*_1_*:*_0,,17/Jul/25 11:48 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9134] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22938-fix-dashboard-main-menu|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22938-fix-dashboard-main-menu]:{quote}STAC-22938 Fix dashboard main menu{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,21/Jul/25 10:07 AM
[Dashboards] Convert dashboard view to a form,STAC-22915,43457,Technical Debt,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,17/Jun/25 3:38 PM,25/Jun/25 11:38 AM,,24/Jun/25 12:38 PM,,,,0,,,,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,STAC-22903,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@10b235e0,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-06-24T14:34:12.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02pwv:,,,,,,,,,,,,,,Team Borg - Dashboarding 6,,,,Borg,,,,,,,,,,,,,2025-06-20 09:01:03.534,10107_*:*_1_*:*_6980_*|*_3_*:*_1_*:*_504536785_*|*_10400_*:*_1_*:*_2688580_*|*_10401_*:*_1_*:*_0,,20/Jun/25 11:01 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9085] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22915-dashboard-to-form|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22915-dashboard-to-form]:{quote}Draft: STAC-22915 Convert dashboard state to form state{quote},24/Jun/25 9:47 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9091] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22915-rename-dashboard-route-files|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22915-rename-dashboard-route-files]:{quote}STAC-22915 Make `/dashboards/dashboard` folder public{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,24/Jun/25 12:38 PM
[Dashboards] Don't persist dirty state of the dashboard,STAC-22903,43414,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,16/Jun/25 11:02 AM,25/Jun/25 11:38 AM,,25/Jun/25 11:37 AM,,,,0,,,"

_Acceptance Criteria_

* Dashboard dirty state is only tracked when on the dashboard *(5p)*
** Adding a widget from elsewhere will save the dashboard immediately on the backend",,Samuel Jones,,,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,STAC-22941,STAC-22942,,STAC-22915,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3b8f8f21,,,,{},,,,,,,,,,,,,,,,A,1|i02q2z:,,,,,,,,,,,,,,Team Borg - Dashboarding 6,,,,Borg,,,5.0,,,,,,,,,,,10107_*:*_1_*:*_774482853_*|*_3_*:*_1_*:*_3123_*|*_10400_*:*_1_*:*_2733_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,25/Jun/25 11:37 AM
"Rename Dashboard ""settings"" to ""properties""",STAC-22902,43413,Technical Debt,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,16/Jun/25 11:00 AM,02/Jul/25 11:35 AM,,02/Jul/25 11:35 AM,,,,0,,,"[https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4923-36480&m=dev|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4923-36480&m=dev|smart-link] )

----

*On the views*, we change the following:

# In the views overview page, we change the tooltip for the edit icon: {{Edit view}} -> {{Edit view properties}} - screenshot 1
# In the view’s dropdown action menu on the nav bar, we change {{Edit view settings}} -> {{Edit view properties}} - screenshot 2. *Please update the width* of the dropdown accordingly to make sure we have a 24px gap between the 2 columns.
# In the edit view settings drawer - screenshot 3
## we change the drawer title: {{Edit view settings}} -> {{Edit view properties}}
## and we also change the 1st sentence in the blue info box: {{You are about to update the current view.}} -> {{You are about to update the properties of the current view.}}

|!image (5).png|width=1082,height=1068,alt=""image (5).png""!|!image (3).png|width=2586,height=388,alt=""image (3).png""!|!image (4).png|width=1268,height=334,alt=""image (4).png""!|



*On the dashboards*, we change the following:

# In the dashboards overview page, we change the tooltip for the edit icon: {{Edit dashboard}} -> {{Edit dashboard properties}} - screenshot 1
# In the dashboard’s dropdown action menu on the nav bar, we change {{Edit dashboard settings}} -> {{Edit dashboard properties}} - screenshot 2. *Please update the width* of the dropdown accordingly to make sure we have a 24px gap between the 2 columns.
# In the edit dashboard settings drawer - screenshot 3
## we change the drawer title: {{Edit dashboard settings}} -> {{Edit dashboard properties}}
## and we also change the 1st sentence in the blue info box: {{You are about to update the settings of the current dashboard.}} -> {{You are about to update the properties of the current dashboard.}}

|!image (1) (fd96bb5c-01d9-4198-8982-d1e5e38fc080).png|width=1312,height=454,alt=""image (1).png""!|!image (2) (77178581-794d-4f07-9370-641b6cb57959).png|width=1378,height=606,alt=""image (2).png""!|!image (c0f8d2e1-bc31-4d05-bd89-68745433f662).png|width=1222,height=1032,alt=""image.png""!|",,Release StackState,Samuel Jones,,5f0c19c95ee2c3002363e486,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (1) (fd96bb5c-01d9-4198-8982-d1e5e38fc080).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23334,19/Jun/25 11:07 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (1).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23331,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (2) (77178581-794d-4f07-9370-641b6cb57959).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23336,19/Jun/25 11:07 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (2).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23333,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (3).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23339,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (4).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23337,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (5).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23335,19/Jun/25 11:09 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image (c0f8d2e1-bc31-4d05-bd89-68745433f662).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23338,19/Jun/25 11:07 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23332,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4dc94440,,,,"{repository={count=10, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":10,""lastUpdated"":""2025-07-03T11:39:33.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":10,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2x:,,,,,,,,,,,,,,Team Borg - Dashboarding 7,,,,Borg,,,2.0,,,,,,,,,,2025-07-01 13:50:17.247,10107_*:*_1_*:*_1289865284_*|*_3_*:*_1_*:*_28331321_*|*_10400_*:*_1_*:*_66295621_*|*_10401_*:*_1_*:*_0,,01/Jul/25 3:50 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9104] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22902-rename-settings-to-properties|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22902-rename-settings-to-properties]:{quote}STAC-22902 Rename settings to properties for dashboards and views{quote},02/Jul/25 9:55 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9105] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22902-utilize-grid|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22902-utilize-grid]:{quote}STAC-22902 Utilize grid for `SaveButton`'s menu{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,02/Jul/25 11:35 AM
Support dashboards in stackpacks,STAC-22896,43379,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,13/Jun/25 10:37 AM,21/Nov/25 9:39 AM,,21/Nov/25 9:39 AM,,,,0,backend,,"We want to support the dashboards also in the cli to do CRUD actions on it, see [https://stackstate.atlassian.net/browse/STAC-22568|https://stackstate.atlassian.net/browse/STAC-22568|smart-link] . But there was an issue with the dashboards being part of the export logic discussed [here|https://suse.slack.com/archives/C08HNSAD10Q/p1748609599824189]. It was removed from the export.

We must be able to include dashboards in stackpacks. In the import/export however it is not needed since the Cli will use the normal dashboards API (built with openapi).

*Acceptance criteria*

* Support dashboards in stackpacks v2 and v1
** dashboards don’t need to be supported in generic export/import
* Dashboards from stackpacks cannot specify an owner and are always public.
* Add a (basic) dashboard example to the [https://github.com/stackvista/stackpack-templates|https://github.com/stackvista/stackpack-templates], default template, and update its README.md to also mention dashboards.",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22568,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2edbc90c,,,,"{repository={count=15, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":15,""lastUpdated"":""2025-11-20T15:20:21.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":15,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kkko,,,,,,,,,,,,,,Dashboarding 16 & OTel mapping,Prepare dashboards release,,,Borg,,,5.0,,,,,,,,,,2025-11-18 16:02:06.046,10107_*:*_1_*:*_13659181338_*|*_3_*:*_1_*:*_186176427_*|*_10400_*:*_1_*:*_134557_*|*_10401_*:*_1_*:*_0,,18/Nov/25 5:02 PM;5f0c19c95ee2c3002363e486;[Remco Beckers|https://gitlab.com/rembo] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9353] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [stac-22896|https://gitlab.com/stackvista/stackstate/-/tree/stac-22896]:{quote}STAC-22896 Reorganize import/export traits{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,21/Nov/25 9:39 AM
[Dashboards] Always show at least one query entry in the setup widget form,STAC-22885,43182,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,10/Jun/25 11:19 AM,11/Jun/25 11:34 AM,,11/Jun/25 11:34 AM,,,,0,,,The create widget form inits with empty queries form section. It should have at least one.,,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@57ab4666,,,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-06-10T14:27:05.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02ppz:,,,,,,,,,,,,,,Team Borg - Dashboarding 5,,,,Borg,,,,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,2025-06-10 09:44:22.277,10107_*:*_1_*:*_1566836_*|*_3_*:*_1_*:*_32377_*|*_10400_*:*_1_*:*_2921799_*|*_10401_*:*_1_*:*_0,,10/Jun/25 11:44 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9067] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22885-show-at-least-one-query|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22885-show-at-least-one-query]:{quote}STAC-22885 Init not empty `SetupDashboardWidgetFormState.queries`{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Jun/25 11:34 AM
[Dashboards] Show Add widget button in the Dashboard toolbar,STAC-22884,43181,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,10/Jun/25 10:44 AM,11/Jun/25 11:34 AM,,11/Jun/25 11:34 AM,,,,0,,,"The {{Add widget}} blue button is missing, but should be there:

{quote}*Adding a widget from within a dashboard:*

* clicking the “add widget” button or placeholder (the one on the empty state spec’ed here: [https://stackstate.atlassian.net/browse/STAC-22379|https://stackstate.atlassian.net/browse/STAC-22379|smart-link] ) will bring up the “Add widget” drawer … by Perses 🙂{quote}

!image-20250610-084840.png|width=100%,alt=""image-20250610-084840.png""!",,Anton Ovechkin,Release StackState,,61d2f4ebce3652006aaa23ca,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,STAC-22778,,10/Jun/25 10:49 AM;ug:07e0acc9-abd6-43d9-9701-35b440909661;image-20250610-084840.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23033,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@52c72e6,,,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-06-10T12:29:43.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02ppr:,,,,,,,,,,,,,,Team Borg - Dashboarding 5,,,,Borg,,,,,,,,,,,,,2025-06-10 09:12:41.8,10107_*:*_1_*:*_15753_*|*_3_*:*_1_*:*_2014298_*|*_10400_*:*_1_*:*_4542343_*|*_10401_*:*_1_*:*_0,,10/Jun/25 11:12 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9066] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22884-add-widget-from-toolbar|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22884-add-widget-from-toolbar]:{quote}STAC-22884 Render the `Add widget` button{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Jun/25 11:34 AM
[Dashboards] Show at least one query form entry,STAC-22881,43123,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,06/Jun/25 3:04 PM,13/Jun/25 12:31 PM,,13/Jun/25 12:31 PM,,,,0,,,"When I add a new widget via the ""Add widget"" on the empty state of a dashboard it shows me a dialog without a query. I had expected there to be always one query. That also seems the intention of the rest of the implementation because after adding the first one I cannot remove it.",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@72ee59ef,,,,{},,,,,,,,,,,,,,,,A,1|i02ph7:,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,"*User Story*
{panel}
As a ... 
I want to ...
such that I can ...
{panel}

*Acceptance Criteria*

* Authorization Requirements *

*Failure Modes*

*Documentation Impact*

*INVEST Check*

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

*Refinement Notes*

*Notes*
",,,,10107_*:*_1_*:*_595627954_*|*_5_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,13/Jun/25 12:31 PM
[Dashboards] Default size and postion for new widgets,STAC-22879,43121,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Jun/25 1:59 PM,04/Jul/25 3:40 PM,,02/Jul/25 5:18 PM,,,,0,,,"_User Story_
\{panel}
As a dashboard user
I want to have a useful default size for the timeseries chart widgets when adding them to a dashboard
such that I can immediately view the chart without having to resize and/or drag it
\{panel}

Also, the tiny charts we create by default now look very strange and gives a low quality feeling.

This only serves as a sensible starting point, we expect users to drag widgets around and resize them as they please. There is no way to predict what makes most sense. 

The behavior described here is very similar to Grafana and Perses. It also matches the sizes of our charts on metric and highlight pages (when there are 2 charts next to each other).

_Acceptance Criteria_

* There 24 columns on a dashboard, a new time series widget gets a default width of 8 columns such that 3 widgets fit next to each other. 
* The height is 2 rows. This is very close to the chart sizes in the metrics and highlights pages
* A new widget is automatically placed on the next row (this is the current default behavior from the library that is used)
* Other widget types can have different default sizes

_Failure Modes_

_Documentation Impact_

_INVEST Check_



_Refinement Notes_

_Note_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,STAC-23026,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@4a461eed,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-09-16T18:17:43.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:,,,,,,,,,,,,,,Team Borg - Dashboarding 7,,,,Borg,,,2.0,,,,,,,,,,2025-07-02 10:22:46.598,10107_*:*_1_*:*_2231196821_*|*_3_*:*_1_*:*_10641842_*|*_10400_*:*_1_*:*_0,,02/Jul/25 12:22 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9106] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22879-default-dashboard-widget-size-and-position|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22879-default-dashboard-widget-size-and-position]:{quote}STAC-22879 Add getLayoutSpecForWidget to DashboardPanelSpec{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,02/Jul/25 5:18 PM
[Dashboards] Support `step` selection in timeseries chart query tab,STAC-22878,43120,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Jun/25 1:34 PM,14/Jul/25 11:03 AM,,14/Jul/25 11:03 AM,,,,0,,,"_User Story_

As a dashboard user
I want to create bar charts on my dashboard where I determine the bar width
such that I can have a bar per, for example, hour regardless of the size of the chart


!image-20250606-114553.png|width=825,height=806,alt=""image-20250606-114553.png""!

See the {{Min Step}} field in the right bottom. It is called {{Min step}} (for Minimal step size) because the actual step used can be bigger if the metric data has bigger steps. For example a 1s step would not give a datapoint or bar every second because a typical metric sampling interval used is 30s or 60s.

_Acceptance Criteria_

* The timeseries chart widget allows for setting a manual {{Min Step}} size
* The default remains {{auto}} as it is
* Note that the Min Step is configurable per query, if there are multiple queries each one can have its own step size
* Step size can be any promql duration as is supported by our PromQL query API. 
** Make sure to handle the errors  from backend for incorrect/unsupported step sizes



_Failure Modes_

_Documentation Impact_



_Refinement Notes_

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,06/Jun/25 1:48 PM;rbeckers;image-20250606-114553.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23004,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@25653d1e,,,,"{repository={count=24, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":24,""lastUpdated"":""2025-07-14T10:58:15.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":24,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:r,,,,,,,,,,,,,,Team Borg - Dashboarding 7,Dashboarding 8 & OTel mapping,,,Borg,,,3.0,,,,,,,,,,2025-07-10 13:14:23.9,10107_*:*_1_*:*_2749890760_*|*_3_*:*_1_*:*_199820679_*|*_10400_*:*_1_*:*_0,,10/Jul/25 3:14 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9120] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22878-time-series-widget-min-step-size|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22878-time-series-widget-min-step-size]:{quote}Draft: STAC-22878 Add min step to dashboard widget queries{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,14/Jul/25 11:03 AM
[Dashboards] Edit time series widget settings (legend section),STAC-22877,43119,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Jun/25 1:24 PM,11/Jul/25 9:33 AM,,11/Jul/25 9:33 AM,,,,0,,,"_User Story_

As a user
I want to change the chart settings (like legend, units, bar vs line chart etc.)
such that I can customize the charts to my needs


!image-20250526-134325.png|width=1105,height=1147,alt=""image-20250526-134325.png""!

The above screenshot doesn’t show the defaults but shows most of the capabilities enabled.

Defaults should be like this:

!image-20250527-120614.png|width=1057,height=558,alt=""image-20250527-120614.png""!



To try the Perses UI yourself you can also go to [https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|smart-link] . 

_Acceptance Criteria_

* Only the settings tab in the widget drawer is part of this story
* We use our own, SUSE Observability styled, UI components
* Customizations we want to support:
** Legend:
***  show
*** position
*** legend in table mode with and values
*** *NOT included:* size (seems to only work in table mode)
* Visual: Done in [https://stackstate.atlassian.net/browse/STAC-22876|https://stackstate.atlassian.net/browse/STAC-22876|smart-link] 
* Y axis: Done in [https://stackstate.atlassian.net/browse/STAC-22779|https://stackstate.atlassian.net/browse/STAC-22779|smart-link] 
* *NOT in this ticket*: Thresholds. We’ll be doing them anyway for ticket [https://stackstate.atlassian.net/browse/STAC-22789|https://stackstate.atlassian.net/browse/STAC-22789|smart-link] .
* *NOT included:* Query Settings

_Refinement Notes_

We start out by using our current charting library and can switch later to the Perses charting library when we need it to support certain features and we already have some experience in using the library for the other chart types (stat, gauge etc)

Split into 3 tickets:

# First the y-axis section: *5*
## *NOT included:* Decimals 
## Label
# Visual section: 3
## To support the bar chart properly we need to also support the {{step}} in the Query tab (separate ticket)
# Legend section: 8
## Legend position: only support bottom and right

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22779,,,,,,,,06/Jun/25 1:24 PM;rbeckers;image-20250526-134325.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23002,06/Jun/25 1:24 PM;rbeckers;image-20250527-120614.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23003,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@26143043,,,,"{repository={count=13, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":13,""lastUpdated"":""2025-06-26T17:09:47.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":13,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kijr,,,,,,,,,,,,,,Team Borg - Dashboarding 6,Team Borg - Dashboarding 7,,,Borg,,,8.0,,,,,,,,,,2025-06-25 14:16:32.504,10107_*:*_1_*:*_1646865640_*|*_3_*:*_1_*:*_1363290575_*|*_10400_*:*_1_*:*_2516_*|*_10401_*:*_1_*:*_0,,25/Jun/25 4:16 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9098] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22877-edit-widget-legend|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22877-edit-widget-legend]:{quote}Draft: STAC-22877 Add label settings section to dashboard widget drawer form{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,11/Jul/25 9:33 AM
[Dashboards] Edit time series widget settings (visual section),STAC-22876,43118,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,06/Jun/25 1:23 PM,30/Jun/25 5:02 PM,,30/Jun/25 5:02 PM,,,,0,,,"_User Story_

As a user
I want to change the chart settings (like legend, units, bar vs line chart etc.)
such that I can customize the charts to my needs


!image-20250526-134325.png|width=1105,height=1147,alt=""image-20250526-134325.png""!

The above screenshot doesn’t show the defaults but shows most of the capabilities enabled.

Defaults should be like this:

!image-20250527-120614.png|width=1057,height=558,alt=""image-20250527-120614.png""!



To try the Perses UI yourself you can also go to [https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|smart-link] . 

_Acceptance Criteria_

* Only the settings tab in the widget drawer is part of this story
* We use our own, SUSE Observability styled, UI components
* Customizations we want to support:
** Legend: See ticket [https://stackstate.atlassian.net/browse/STAC-22877|https://stackstate.atlassian.net/browse/STAC-22877|smart-link]
* Visual:
** Line and bar chart (to make the bar chart nice to work with we also need to support the {{step}} field on the query tab, see STAC-…)
** Connect nulls
** *NOT included:* Stack series and area opacity (if you use them you’ll see that stacking also automatically enables opacity)
** *NOT included*: line-width 
* Y axis: Done in [https://stackstate.atlassian.net/browse/STAC-22779|https://stackstate.atlassian.net/browse/STAC-22779|smart-link] 
* *NOT in this ticket*: Thresholds. We’ll be doing them anyway for ticket [https://stackstate.atlassian.net/browse/STAC-22789|https://stackstate.atlassian.net/browse/STAC-22789|smart-link] .
* *NOT included:* Query Settings

_Refinement Notes_

We start out by using our current charting library and can switch later to the Perses charting library when we need it to support certain features and we already have some experience in using the library for the other chart types (stat, gauge etc)

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,STAC-22779,,,,,,,,06/Jun/25 1:23 PM;rbeckers;image-20250526-134325.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23000,06/Jun/25 1:23 PM;rbeckers;image-20250527-120614.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23001,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@296e6a51,,,,"{repository={count=62, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":62,""lastUpdated"":""2025-06-30T16:23:40.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":62,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kiji,,,,,,,,,,,,,,Team Borg - Dashboarding 6,Team Borg - Dashboarding 7,,,Borg,,,3.0,,,,,,,,,,2025-06-26 15:14:53.608,10107_*:*_1_*:*_1457803340_*|*_3_*:*_1_*:*_340890596_*|*_10400_*:*_1_*:*_271682882_*|*_10401_*:*_1_*:*_0,,26/Jun/25 5:14 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9100] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22876-time-series-widget-visual-settings|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22876-time-series-widget-visual-settings]:{quote}Draft: STAC-22876 Add time series widget visual settings{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,30/Jun/25 5:02 PM
Pinning widgets from a dashboard,STAC-22873,43115,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,,,,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,06/Jun/25 10:53 AM,06/Jun/25 10:56 AM,,,,,,0,,,"_User Story_
As a user
I want to pin widgets from a dashboard to the pinned drawer
such that I can group pinned items from different sources

_Acceptance Criteria_

* Pin button is shown on each widget in a dashboard
* Clicking the pin button pins the component as it does elsewhere

Authorization Requirements

_Failure Modes_

_Documentation Impact_

_INVEST Check_

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

_Refinement Notes_

_Notes_",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3cde754b,,,,{},,,,,,,,,,,,,,,,A,1|i02pnz:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,06/Jun/25 10:53 AM
[Dashboards] Storing default time ranges and refresh intervals,STAC-22848,42954,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Won't Do,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,03/Jun/25 11:31 AM,06/Jun/25 1:31 PM,,06/Jun/25 1:31 PM,,,,0,,,"_User Story_

As a dashboard user
I want a default the time range to be stored with a dashboard
such that I can make sure I always have the view I need by default

In the initial ticket we only implement “remembering” the selected dashboard time range and refresh interval in the URL. But normally a dashboard can have a time range and refresh interval stored with it such that it opens exactly with those settings every time.

*Acceptance criteria*

* When a user saves the dashboard they should have the ability to store a default time range and interval.
* At the same time the user needs to be able to interact with the dashboard and change the time range selection while not accidentally saving those changes as the new default time range. 
** Perses handles this by having an extra dialog when clicking {{Save}} where it asks whether to update the default Time range and update interval for the dashboard or not with the new selection. Is this what we want to do too? [~accountid:5a3a745f2466f4393b8ec4ae] 
* Do we only allow saving relative time (last 1 hour, day, week etc.)? Yes. This is the common thing, it usually doesn’t make much sense to store a fixed time range (at some in the future it wills how no data anymore). This is also what Perses does
* Default time range: the same default as used for the main timeline?
* By default there is no auto refresh is disabled.

_Documentation Impact_

_INVEST Check_

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

_Refinement Notes_

_Notes_",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,STAC-22805,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@28299268,,,,{},,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz02j,,,,,,,,,,,,,,,,,,Borg,,,5.0,,,,,,,,,,,10107_*:*_1_*:*_266411791_*|*_6_*:*_1_*:*_0,,06/Jun/25 1:31 PM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;Everything is done as part of the original ticket. There is no special handling for storing time range or not (discussed with Ovidiu),,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,06/Jun/25 1:31 PM
"[Dashboards] Manual refresh option for auto-refresh (traces, trace explorer, metrics explorer, etc)",STAC-22847,42953,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,03/Jun/25 10:21 AM,03/Nov/25 6:29 PM,12/Dec/25 2:56 PM,08/Oct/25 2:17 PM,,suse-observability/2.6.2,,0,,,"_User Story_

As a dashboard user
I want to trigger a refresh manually
such that I can update the data on request, without having to make any changes to trigger an update

!image-20250527-155959.png|width=1393,height=288,alt=""image-20250527-155959.png""!

_Acceptance Criteria_

* Here’s the new updated refresh control and its acceptance criteria:
** Default state, auto refresh = off:
!image-20250528-105007.png|width=123,height=32,alt=""image-20250528-105007.png""!
** Default state, auto refresh = disabled:
!image-20250528-105416.png|width=123,height=32,alt=""image-20250528-105416.png""!
** Auto refresh selected:
!image-20250528-105140.png|width=146,height=32,alt=""image-20250528-105140.png""!
** Auto refresh disabled:
!image-20250528-105314.png|width=146,height=32,alt=""image-20250528-105314.png""!
** Clicking the 1st part of the button (“Refresh”) manually refreshes the data. Dooh 🙂 
** Clicking the 2nd part of the button, when active, displays the same dropdown we currently show on the corresponding button:
!image-20250528-105843.png|width=9.481037924151696%,alt=""image-20250528-105843.png""!
** Replicate the same logic we currently have to disable the refresh button to… disable the 2nd part of the new button as well. It’s literally the same mechanics we need to apply (hint: we can’t have the auto refresh active when you have selected a custom time interval instead of a relative time interval). The 1st part of the new button however (the manual refresh) remains active all the time.
** Please apply all of the above and replace the existing refresh control across the entire UI. Places you might wanna check: 
*** the monitor drawer
*** the monitors page (separate the 2 controls with a 16px gap)
*** the metric inspector drawer
*** the metrics explorer
*** the logs drawer
*** the traces explorer
*** …
** Optional: would be nice to animate (rotate) the refresh icon whilst the refresh happens.
** Figma has been already updated: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=gnyHY9E6yWWTRKXN-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=gnyHY9E6yWWTRKXN-1|smart-link] 

_Failure Modes_

_Documentation Impact_

_INVEST Check_

A good user story should be:

""I"" ndependent (of all others)
""N"" egotiable (not a specific contract for features)
""V"" aluable (or vertical)
""E"" stimable (to a good approximation)
""S"" mall (so as to fit within an iteration)
""T"" estable (in principle, even if there isn't a test for it yet)

_Refinement Notes_

_Notes_",,Ovidiu Boc,Release StackState,Remco Beckers,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,STAC-22805,,,,STAC-23342,STAC-23666,,,03/Jun/25 10:21 AM;rbeckers;image-20250527-155959.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22906,03/Jun/25 10:21 AM;rbeckers;image-20250528-105007.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22902,03/Jun/25 10:21 AM;rbeckers;image-20250528-105140.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22907,03/Jun/25 10:21 AM;rbeckers;image-20250528-105314.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22904,03/Jun/25 10:21 AM;rbeckers;image-20250528-105416.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22903,03/Jun/25 10:21 AM;rbeckers;image-20250528-105843.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22905,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6cd25b1e,,,,"{repository={count=29, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":29,""lastUpdated"":""2025-10-07T15:56:29.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":29,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz020zr9,,,,,,"- Added manual ""Refresh"" option (next to the time-based refresh) for traces, metrics, logs etc.",,,,,,,,Dashboarding 13 & OTel topo,Dashboarding 14 & OTel mapping,,,Borg,,,,,,,,,,,,,2025-06-03 08:45:39.749,10107_*:*_1_*:*_10451359309_*|*_3_*:*_1_*:*_366578596_*|*_10400_*:*_1_*:*_151927141_*|*_10401_*:*_1_*:*_0,,03/Jun/25 10:45 AM;5a3a745f2466f4393b8ec4ae;I’m not sure I understand the question 🙂 ,06/Oct/25 9:29 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9267] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22847-manual-refresh|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22847-manual-refresh]:{quote}Draft: STAC-22847 Extend the refresh control by manual refresh button{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,08/Oct/25 2:17 PM
"[Dashboards] Public/private dashboards, permissions",STAC-22837,42871,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,30/May/25 4:23 PM,16/Jul/25 3:47 PM,,16/Jul/25 3:47 PM,,,,0,,,"_User Story_

As a dashboards user
I want to have private and public dashboards 
such that I share some dashboards with my colleagues and keep others for myself


Split into:

Disable edit/delete actions for dashboards not owned by the user. The rest of the work is in [https://stackstate.atlassian.net/browse/STAC-22952|https://stackstate.atlassian.net/browse/STAC-22952|smart-link] and [https://stackstate.atlassian.net/browse/STAC-22837|https://stackstate.atlassian.net/browse/STAC-22837|smart-link] .



_Acceptance Criteria_

* Make sure that a user can only {{save}} or {{delete}} a dashboard when they own the dashboard (i.e. {{ownerId == userProfile.id}}). Note that {{Save As}} for the dashboard is always possible as long as the user has the create dashboard permissions, {{Reset}} should also be allowed when a user modified any dashboard. This is in 2 places
** Dashboard overview page (the icons when hovering a dashboard)
** On an open dashboard the dropdown menu / save button in the top bar.
* When adding a timeseries to a dashboard the list of dashboards should only contain a users own dashboards (not other users dashboards).



*Figma:* [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&m=dev&t=Hb645PZFYYNY2o5R-1|smart-link] ",,Release StackState,,,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,STAC-22952,STAC-22953,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5af5bdc2,,,,"{repository={count=26, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":26,""lastUpdated"":""2025-07-16T15:46:44.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":26,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02q2y:v,,,,,,,,,,,,,,Team Borg - Dashboarding 7,Dashboarding 8 & OTel mapping,,,Borg,,,2.0,,,,,,,,,,2025-07-15 08:04:19.365,10107_*:*_1_*:*_3873549653_*|*_3_*:*_1_*:*_97034299_*|*_10400_*:*_1_*:*_0,,"15/Jul/25 10:04 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9124] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22837-public-private-dashborad-permissions|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22837-public-private-dashborad-permissions]:{quote}Draft: STAC-22837 Hide save, edit and delete actions from user's who don't own the dashboard{quote}",,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,16/Jul/25 3:47 PM
"[Dashboard]-By click dashboard help docs ""Dashboard name is required error message prompt"" at Dashboard Name field ",STAC-22812,42790,Bug,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Low,Won't Do,,,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,rajukumar.macha,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,28/May/25 1:07 PM,02/Jun/25 3:15 PM,,02/Jun/25 3:15 PM,,,,0,,,"!DashboardNameRequired-.png|width=387,height=767,alt=""DashboardNameRequired-.png""!",,rajukumar.macha,,,712020:05b3e11c-41bc-4bbd-aaf2-6a1139bf2a60,,,,,,,,,,,,,,,,,,,,,,,,28/May/25 1:07 PM;15b410eb-b968-438b-a045-b0a2ad79c02e;DashboardNameRequired-.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22803,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@58d796de,"*Actual behavior*:

By click dashboard help docs ""Dashboard name is required"" error message showing at Dashboard Name field"" 

*Expected behavior*:

No error message should be show on dashboard creation page.

*Steps to reproduce*:
1. Navigate to Dashboard form menu
2. Click on New Dashboard
3. click on dashboard helps docs on new Dashboard
4. dashboard help docs opened in new tab
5. navigate back to SO page
4. ""Dashboard Name field"" showing error message.""Dashboard name is required""

*Technical note*:

",,,{},,,,,,,,,,,,,,,,A,1|i02nkf:i,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_439691493_*|*_6_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,02/Jun/25 3:15 PM
[Dashboards] Time range selection and auto-update,STAC-22805,42774,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 5:00 PM,18/Jun/25 10:40 AM,,18/Jun/25 10:40 AM,,,,0,,,"_User Story_

As a dashboard user
I want to select the time range for a dashboard
such that I can see the data that I want to see

!image-20250527-155959.png|width=1393,height=288,alt=""image-20250527-155959.png""!

!image-20250606-082049.png|width=951,height=1380,alt=""image-20250606-082049.png""!

This ticket is only about the time range selection and the auto-refresh drop down at the top of the dashboard. The functionality should behave and work the same as in the metrics explorer where we have the same combination of time range selection and auto-refresh.

_Acceptance Criteria_

* When creating/editing a dashboard, the user has the option to “Lock in the time range” 
** When locked: the time range is saved in the dashboard state, changes to it mark the dashboard as dirty and must be saved
** When not locked: the time range is stored in the URL, changes to it do NOT mark the dashboard as dirty. Time range is carried over from the existing URL parameter {{timeRange}} that is used elsewhere in other pages
* There is a default value for the time range and update interval when creating a new dashboard, or when an unlocked dashboard has no {{timeRange}} URL parameter present
** It should be same as default on the timeline - 6 hours (at time of writing)
* The user can select the time range for the dashboard, using the standard time range selection component (see metrics explorer for example)
* The user can set a refresh interval, using the standard component used for that (see metrics explorer for example)
* The queries for all widgets use the selected time range
* The queries for all widgets are refreshed whenever a refresh is triggered by the auto-refresh.



_Documentation Impact_

_Refinement Notes_

_Notes_",,Release StackState,Remco Beckers,Samuel Jones,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,STAC-22847,STAC-22848,,,,,,,,,,27/May/25 6:04 PM;rbeckers;image-20250527-155959.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22786,06/Jun/25 10:21 AM;2c7f65e7-1aed-45a4-98cc-76247f1519da;image-20250606-082049.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22967,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@56da436e,,,,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2025-06-17T15:38:41.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":2,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz02lyi,,,,,,,,,,,,,,Team Borg - Dashboarding 5,Team Borg - Dashboarding 6,,,Borg,,,5.0,,,,,,,,,,2025-06-05 14:02:25.291,10107_*:*_1_*:*_759101420_*|*_3_*:*_1_*:*_1013616254_*|*_10004_*:*_1_*:*_16717194_*|*_10400_*:*_1_*:*_87724050_*|*_10401_*:*_1_*:*_0,,"05/Jun/25 4:02 PM;712020:a950806e-86c0-42f7-b531-66e40f57b9ee;[~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] [~accountid:61d2f4ebce3652006aaa23ca] 

Just had a chat with [~accountid:5a3a745f2466f4393b8ec4ae] about undo/redo and I became aware that these time range and interval should be part of the definition of the dashboard and make the state dirty (so it is save-able). Was this your understandings as well? ",13/Jun/25 1:48 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9073] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22805-dashboard-time-range-and-refresh-interval|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22805-dashboard-time-range-and-refresh-interval]:{quote}Draft: STAC-22805 Add ability to save refreshInterval and timeRange into dashboards{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,18/Jun/25 10:40 AM
[Dashboards] Show component information on widgets (charts) created from a component ,STAC-22802,42771,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Won't Do,,,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 3:34 PM,07/Jul/25 11:47 AM,,07/Jul/25 11:47 AM,,,,0,,,"_User Story_


As a dashboard user 
I want to be able to recognize where the charts/widgets came from that I added from a component
such that I know what I’m looking at


The problem is that right now, when we use  “add to dashboard” on a component metric chart it only shows the title of the metric binding that was used. But that is usually very generic (normally the context of the component tells the rest of the story). For example:


Adding this {{HTTP error %}} chart to a dashboard

!image-20250527-133749.png|width=937,height=780,alt=""image-20250527-133749.png""!

Results in this:

!image-20250527-133836.png|width=680,height=402,alt=""image-20250527-133836.png""!

To know what we’re looking at, it also won’t be enough to include the component name (at least not always). The full context, in this specific case, requires including the cluster and namespace as well. For otel services this would however be different (service name and service namespace).

It is important that adding a chart to a dashboard remains a very easy and quick action for a user. The use-case we want to support with this is troubleshooting using information from multiple components. While troubleshooting you don’t want to get slowed down by annoying details like this, but you do need the context information.

We solve this by including a reference to one or more components in the header of the widget like this:

!image-20250612-072845.png|width=1358,height=311,alt=""image-20250612-072845.png""!



*Acceptance criteria*

* Add a reference to the component or components in the widget
** When creating a widget from a component metric the (single) component is added automatically. This is the only use case we have right now, there are ideas for supporting multiple components etc, but no concrete use-cases.
** We can store this as a link + title on the widget
** TBD:
*** The link + title is editable in the top part of the widget settings
*** We support multiple links and use a similar UI as Perses for defining them (separate tab). But then we need a solution to show them as well.
* Show the reference in the widget header:
** Changes:
*** *the gap between the header and the content of the widget changes from 12px -> 16px*
*** the height of the title area of the header changes from 20px -> 21px
** + new:
*** the height of the subtitle area of the header is 21px
*** the gap between the title and subtitle is 1px
** When there is only a single component the link goes to the component
** (When there are multiple components the link opens the same drawer (but with only 1 tab) as when clicking the count in the health state columns on [the monitors page|https://master.dev.stackstate.io/#/monitors]. )



However, these ^ are from Figma but don’t stress about them and just reuse the header of the items in the pinned items (2nd screenshot attached below)

Background:

* What use case(s) do we have for the multiple resources reference? I don’t have very concrete use cases for the multiple resources yet, no one has asked for anything yet either.
* For reference (and for later if we get feature requests) Grafana offers generic Links instead; they can be used to navigate to other dashboards or external apps and be parameterized (using the variables on the dashboard). This, however, does not allow us to easily show the component name directly inline. So we may end up with multiple types of references: components, internal links, external links.
* How do we define/store the referenced components:
** (List of) identifier(s)? Simpler to work with for users, easy to migrate to a topology query (or to support both)
** A topology query (like we do for related resources)? More complicated but way more flexible. Hard to remove later, even if just one customer is using it.

_Refinement Notes_

During refinement we discussed the pros and cons of having this editable by users in several different ways. We discussed these options:

* No UI at all yet (only possible via YAML) or on the {{Edit widget}} drawer a section needs to be added to the top part to add/edit the component reference(s):
** Editing the identifier in a simple text box (i.e. interaction required is to copy/paste from a component highlights page)
*** Does it make sense / is this easy to include? The {{Single Component}} lookup on the [Edit Monitor page|https://master.dev.stackstate.io/#/monitors/new/urn:stackpack:common:monitor-function:threshold].
* Only support a single component for now. Rationale:
** We don’t have a clear use case for multiple components
** The UX for multiple components will be more complicated and will take more time
** Using a topology query (like for related resources) makes this more complicated to use than simply a component identifier

The conclusion was the following:

* Topology queries give a lot of power to the user that will be hard to remove or replace in the future. We rather have feature requests with specific use cases than trying to supporting everything that’s possible.
* If a user changes the widget query (or queries) the component reference should disappear (automatically) because it may not refer to the component anymore. Later addition: *But this is weird from a user perspective, the change may not at all affect the related component but only a different metric, additional filter, etc. If the link should be removed it should be an explicit user action.*



_Notes_",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,27/May/25 3:40 PM;rbeckers;image-20250527-133749.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22779,27/May/25 3:40 PM;rbeckers;image-20250527-133836.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22778,12/Jun/25 9:29 AM;rbeckers;image-20250612-072845.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23099,13/Jun/25 10:03 AM;rbeckers;image-20250613-080309.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/23132,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@1f50b83c,,,,{},,,,,,,,,,,,,,,,A,1|i02nkf:m,,,,,,,,,,,,,,Team Borg - To refine,,,,Borg,,,,,,,,,,,,,,10107_*:*_1_*:*_3528735293_*|*_6_*:*_1_*:*_0,,"13/Jun/25 10:03 AM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;to be able to edit this list we need something similar to this ""Include components"" filter in the Basic STQL UI. It should allow for multi-select but it does not select identifiers (and it has a bug now where it also doesn't select names properly I notice now). Also: where do we leave this in the {{Edit widget}} drawer? It seems to me it needs to be added to the top-half (it can be applied to any widget), next to the name and description.

!image-20250613-080309.png|width=852,height=206,alt=""image-20250613-080309.png""!",07/Jul/25 11:47 AM;557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa;Solved by STAC-23027 and STAC-23031,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,07/Jul/25 11:47 AM
[Dashboards] Suggestions for metric labels in the metrics legend/alias selection,STAC-22793,42762,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 3:14 PM,03/Nov/25 6:29 PM,,16/Oct/25 9:33 AM,,suse-observability/2.6.2,,0,,,"_User Story_

As a dashboard creator and metric explorer user
I want to get suggestions for metric labels when specifying the legend (aka alias)

such that I can find the labels much easier


Especially in the widget creation, where there is no table for the metrics, it is hard (or impossible) to find out which metric labels are available. This can work similar to the way suggestions work in the STQL query editor. Except it has a different “trigger”. The suggestions should be provided after typing the {{${}} combination. 

Note that after the query has been defined the suggestions can simply be pulled from the available metric data (i.e. all label names). 

_Acceptance Criteria_

* After executing a metrics query the metric label suggestions can be provided
* Suggestions are provided to complete the {{${...}}} sections of the legend field
* The UX/UI should be the same as for the STQL suggestions, for example for the {{label = ...}} suggestions. *Confirmation* by [~accountid:5a3a745f2466f4393b8ec4ae] : indeed, it should be similar to the STQL suggestions.
* Include this behavior in all locations where an alias/legend can be specified:
** the query tabs of all the timeseries widgets (i.e. time series chart, stat chart, bar gauge, gauge)
** The metrics explorer

_Failure Modes_

_Documentation Impact_

_Refinement Notes_

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,STAC-23666,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@444a1e79,,,,"{repository={count=87, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":87,""lastUpdated"":""2025-10-15T15:55:08.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":87,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02swe:i,,,,,,- The time series alias now has auto-completion for metric labels ,,,,,,,,Dashboarding 14 & OTel mapping,,,,Borg,,,5.0,,,,,,,,,,2025-10-09 14:46:24.183,10107_*:*_1_*:*_11405447973_*|*_3_*:*_1_*:*_582870017_*|*_10400_*:*_1_*:*_257111393_*|*_10401_*:*_1_*:*_0,,09/Oct/25 4:46 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9274] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22793-labels-suggestions|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22793-labels-suggestions]:{quote}STAC-22793 Labels suggestions{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,16/Oct/25 9:33 AM
[Dashboards] Interpolating variables in the widgets,STAC-22792,42761,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 2:00 PM,03/Nov/25 3:50 PM,,03/Nov/25 3:50 PM,,,,0,,,"_User Story_
As a dashboard user
I want to parameterize my dashboards with variables
such that they are more flexible and are not fixed to a limited set of data

At the top of the Dashboard there is the option to select values for certain variables defined on the dashboard, more details are in the specific stories:

!image-20250630-112203 (f29bdfd7-2761-4ff6-b6c5-baf5b1daee57).png|width=1413,height=223,alt=""image-20250630-112203.png""!

These are variables, not filters, defined on the dashboard and used in all (or only some) of the widgets. Perses and Grafana support similar features that we also want to support:

* Variables that use a statically defined list of values
* Variables that use a metric query to get a list of values (for the select time range)

The difference is that each dashboard can have its own set of variables that are fully user-defined. That means there is also a UI for editing the variables and defining how they should behave. The details are in the respective stories for variables: [https://stackstate.atlassian.net/browse/STAC-23124|https://stackstate.atlassian.net/browse/STAC-23124|smart-link] , [https://stackstate.atlassian.net/browse/STAC-23125|https://stackstate.atlassian.net/browse/STAC-23125|smart-link], [https://stackstate.atlassian.net/browse/STAC-23126|https://stackstate.atlassian.net/browse/STAC-23126|smart-link], [https://stackstate.atlassian.net/browse/STAC-23127|https://stackstate.atlassian.net/browse/STAC-23127|smart-link], [https://stackstate.atlassian.net/browse/STAC-22792|https://stackstate.atlassian.net/browse/STAC-22792|smart-link] .

----

This story is only about implementing variable interpolation

_Acceptance Criteria_

* The syntax supported is:
** {{${variable_name}}}
** {{${vars.variable_name}}}(see legend alias bullet point)
* The value that is inserted depends on the settings of the variable:
** Single select lists: the selected value as-is
** Allow All option is enabled: The default behavior is to generate a regex expression that combines all the values with an “or” like this: {{value1|value2|value3}}.  With this the variable can be used with promql Regexes (i.e. matchers that look like this: {{{ namespace=~""${namespace}"" }}} →  {{{ namespace=~""namespace1|namespace2|namespace3|..."" }}}
*** If an override is provided that value is used instead, it can, for example, be the wildcard regex: {{.*}}
** Multi-select lists: A regex is generated that combines the selected values: {{value1|value2|value3}} (very similar to the {{All}} option except now only the selected values are included.
** *NOTE:* For both the Multi-select and Allow all option the expectation is that they are used as a regex. So the values themselves should be escaped for regexes in all cases when this is enabled.
* The dashboard variables (user-defined and built-in) should be usable and supported in all parts of the widgets:
** Title
** Description
** Most importantly: Queries
** Legend
** Links
** Markdown text (to be implemented)
* The dashboard variables {user-defined and built-in) should be usable and supported in variables definitions, so a variable can use another variable in the following parts (TBD [~accountid:557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa] )
* In the legend (alias) there can be a conflict with the dashboard variables vs the labels from the query, because they use the same interpolation format. To solve this:
** Labels from queries take precedence (such that adding a chart to a dashboard won’t change the legend automatically)
** To avoid these naming collisions, users can use {{${vars.variable_name}}} to refer to variables specifically
* If a variable doesn’t exist we simply leave the original text, including the {{${}}}. So {{${non-existent-var}}} will remain as-is in the resulting text/query.
* We don’t support any escaping right now.
* We don’t support auto-suggestions on the text fields for variables.

----

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=3R79N2m3TEcwxD7U-1|smart-link] ",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,STAC-23124,STAC-23125,STAC-23127,,,,,,,,,28/Jul/25 12:10 PM;rbeckers;image-20250630-112203 (f29bdfd7-2761-4ff6-b6c5-baf5b1daee57).png;https://stackstate.atlassian.net/rest/api/3/attachment/content/24035,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@c3c7874,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-11-03T12:40:33.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02swe:,,,,,,,,,,,,,,Dashboarding 14 & OTel mapping,Dashboarding 15 & OTel mapping,Dashboarding 16 & OTel mapping,,Borg,,,5.0,,,,,,,,,,2025-10-16 20:34:39.231,10107_*:*_1_*:*_12014280660_*|*_3_*:*_1_*:*_1476597610_*|*_10400_*:*_1_*:*_343290588_*|*_10401_*:*_1_*:*_0,,16/Oct/25 10:34 PM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9290] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22792-interpolate-variables|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22792-interpolate-variables]:{quote}Draft: STAC-22792 Interpolate dashboard variables{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,03/Nov/25 3:50 PM
[Dashboards] Markdown widget,STAC-22791,42760,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 2:00 PM,28/Oct/25 10:27 AM,,27/Oct/25 11:15 AM,,,,0,,,"_User Story_

As a user
I want to include a markdown widget in my dashboards
such that I can describe what’s shown and provide additional instructions, guidance, etc.

!image-20250527-125510.png|width=606,height=561,alt=""image-20250527-125510.png""!



_Acceptance Criteria_

* We include a Yaml tab like on all widgets
* We use the existing Markdown rendering in SUSE Observability to render the markdown and support the exact same syntax we already support (so no fancy work-arounds for opening drawers)
* The Markdown tab only contains a big text field to enter the markdown, the preview is rendered, as for all other widgets, above.
* Variable interpolation can be used in the markdown.
** 22/10/25 Daily - this to be done in another ticket

_Failure Modes_

_Documentation Impact_

_Refinement Notes_

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,27/May/25 2:56 PM;rbeckers;image-20250527-125510.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22776,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@729750a5,,,,"{repository={count=33, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":33,""lastUpdated"":""2025-10-29T10:01:07.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":33,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02tff:,,,,,,,,,,,,,,Dashboarding 15 & OTel mapping,,,,Borg,,,3.0,,,,,,,,,,2025-10-24 13:48:31.779,10107_*:*_1_*:*_12769088391_*|*_3_*:*_1_*:*_428917817_*|*_10400_*:*_1_*:*_0,,24/Oct/25 3:48 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9307] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22791-markdown-widget|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22791-markdown-widget]:{quote}Draft: STAC-22791 Add Markdown chart type to Dashboards{quote},28/Oct/25 10:27 AM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9308] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22791-markdown-feedback-changes|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22791-markdown-feedback-changes]:{quote}STAC-22791 Update Markdown widget based on UX feedback{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,27/Oct/25 11:15 AM
[Dashboards] Gauge widget,STAC-22789,42758,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 1:59 PM,16/Sep/25 6:33 PM,,16/Sep/25 6:33 PM,,,,0,,,"_User Story_

As a Dashboard user
I want to create a gauge widget
such that I can visualize a single descriptive value of a metric (often this happens in business level dashboards)

!image-20250527-124223.png|width=606,height=561,alt=""image-20250527-124223.png""!

Note that for the gauge thresholds are required to make any sense for the widget.

_Acceptance Criteria_

* This is a variation on the time series chart, the query and yaml tabs in the edit drawer are the same as for the time series chart (the type is now {{Stat chart}} though)
* The settings tab has the following settings:
** NOT Included: Short values
** Unit: Default unit is percent 0.0-1.0 (most common usage for this is showing a percentage)
** Decimals: Same as other widgets
** Calculation: Default to {{Last}} meaning the last value of the timeseries is taken, other options: {{First}}, {{Last *}} (last numeric value, i.e. not null), {{First *}} (first numeric value), {{Average}}, {{Maximum}}, {{Minimum, Sum}}. This is the same as the Stat widget
** Max: Default to 1. The maximum range of the gauge.
* We use the chart Perses has but fit it into the StackState style
* Thresholds have already been implemented for the timeseries widget, different for the Gauge is that:
** By default we have 2 thresholds as shown in the screenshot at 0.9 and 0.8 with colors red and orange, for the default unit of {{percent (0.0-1.0)}} and a max of 1.0.
** There is a “Default” color selection for the non-threshold part of the gauge. The color is green (see also Perses UI)",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,STAC-23034,,,,,,,,,,,27/May/25 2:48 PM;rbeckers;image-20250527-124223.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22775,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@47a98654,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-09-16T18:33:45.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02qye:,,,,,,,,,,,,,,Dashboarding 9 & OTel mapping,Dashboarding 10 & OTel mapping,Dashboarding 11 and OTEL Topol,Dashboarding 12 and OTEL Topol,Borg,,,8.0,,,,,,,,,,2025-09-10 07:54:13.984,10107_*:*_1_*:*_5944233760_*|*_3_*:*_2_*:*_3184885198_*|*_10004_*:*_1_*:*_183796569_*|*_10400_*:*_1_*:*_380326402_*|*_10401_*:*_1_*:*_0,,10/Sep/25 9:54 AM;5f0c19c95ee2c3002363e486;[Anton Ovechkin|https://gitlab.com/suse.anton.ovechkin] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9221] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22789-gauge-dashboard-widget|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22789-gauge-dashboard-widget]:{quote}Draft: STAC-22789 Gauge dashboard widget{quote},11/Sep/25 6:39 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9225] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22789-decimals-field|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22789-decimals-field]:{quote}STAC-22789 Add decimals field for all widgets{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,16/Sep/25 6:33 PM
[Dashboards] Stat widget,STAC-22788,42757,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 1:59 PM,19/Sep/25 9:33 AM,,19/Sep/25 9:33 AM,,,,0,,,"_User Story_

As a Dashboard user
I want to create a stat widget
such that I can visualize a single descriptive value of a metric (often this happens in business level dashboards)

Settings tab

!image-20250527-120324.png|width=581,height=557,alt=""image-20250527-120324.png""!

Value mapping tab

!image-20250527-120342.png|width=576,height=548,alt=""image-20250527-120342.png""!




_Acceptance Criteria_

* This is a variation on the time series chart, the query and yaml tabs in the edit drawer are the same as for the time series chart (the type is now {{Stat chart}} though)
* The settings tab has the following settings:
** Sparkline: when enabled shows the chart under the value. Default is disabled
** NOT Included: Short values
** Unit and decimals same as for time series chart. Default is no unit
** Calculation: Default to {{Last}} meaning the last value of the timeseries is taken, other options: {{First}}, {{Last *}} (last numeric value, i.e. not null), {{First *}} (first numeric value), {{Average}}, {{Maximum}}, {{Minimum, Sum}}. 
** Metric label: show the value of the label (if it is present on the timeseries) instead of the metric value. Default is no metric label
** Font size: default is automatic sizing as done by Perses
** Thresholds: when done in [https://stackstate.atlassian.net/browse/STAC-22789|https://stackstate.atlassian.net/browse/STAC-22789|smart-link] also add them here.
* *NOT included:* The Value mapping tab allows to map specific values, ranges of values, or a value matching a regex, to a display text and color. Default is no mapping. Optionally we split this to a separate ticket
* Thresholds, have already been implemented for the timeseries widget, but different for stats:
** There is a “Default” color selection for the non-threshold part of the gauge. The color is green (see also Perses UI)




_Failure Modes_

_Documentation Impact_

_Refinement Notes_

_Notes_",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,27/May/25 2:39 PM;rbeckers;image-20250527-120324.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22774,27/May/25 2:39 PM;rbeckers;image-20250527-120342.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22773,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@5c700109,,,,{},,,,,,,,,,,,,,,,A,1|i02qyd:,,,,,,,,,,,,,,Dashboarding 9 & OTel mapping,Dashboarding 10 & OTel mapping,Dashboarding 11 and OTEL Topol,Dashboarding 12 and OTEL Topol,Borg,,,8.0,,,,,,,,,,,10107_*:*_1_*:*_5357306842_*|*_3_*:*_1_*:*_4562733738_*|*_10400_*:*_1_*:*_2308_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,19/Sep/25 9:33 AM
[Dashboards] Show/edit widget yaml,STAC-22785,42754,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,27/May/25 10:46 AM,17/Jun/25 12:33 PM,,17/Jun/25 12:33 PM,,,,0,,,"_User Story_

As a user
I want to copy/paste and/or edit the json representation of a widget
such that I can make edits in bulk quicker or can easily copy/paste a setup I like with small modifications (to the same dashboard or even to share with people that don't have access to the same SUSE Observability accounts/instance).

!image-20250527-084917.png|width=554,height=549,alt=""image-20250527-084917.png""!



_Acceptance Criteria_

* Add a {{YAML}} tab
* We want to use our existing yaml rendering component with the SUSE Observability styling
* Show the JSON representation of the widget (aka panel) there
* When a user edits the yaml the preview should update
** At least on blur
** The data on other tabs is in sync with the yaml (i.e. when yaml changes the controls update and vice-versa)
** When the yaml is invalid we try to highlight the error. The preview and settings on other tabs don’t update anymore until the yaml is valid again

_Failure Modes_

_Documentation Impact_

_Refinement Notes_

_Notes_",,Mark Bakker,Release StackState,Remco Beckers,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,27/May/25 10:54 AM;rbeckers;image-20250527-084917.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22771,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@41d6aba5,,,,"{repository={count=89, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":89,""lastUpdated"":""2025-06-16T15:51:54.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":89,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6kn:zzzzzzzzz02lz,,,,,,,,,,,,,,Team Borg - Dashboarding 5,,,,Borg,,,,,,,,,,,,,2025-05-27 09:46:35.832,10107_*:*_1_*:*_784359417_*|*_3_*:*_2_*:*_674948435_*|*_10400_*:*_2_*:*_286370523_*|*_10401_*:*_1_*:*_0,,27/May/25 11:46 AM;557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d;I would indeed go for YAML,06/Jun/25 4:07 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9065] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22785-edit-widget-json|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22785-edit-widget-json]:{quote}STAC-22785 Add YAML widget for `SetupDashboardDrawer`{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,17/Jun/25 12:33 PM
[Dashboards] Edit time series widget settings (y-axis section),STAC-22779,42719,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,26/May/25 1:56 PM,26/Jun/25 12:36 PM,,26/Jun/25 12:36 PM,,,,0,,,"_User Story_

As a user
I want to change the chart settings (like legend, units, bar vs line chart etc.)
such that I can customize the charts to my needs


!image-20250526-134325.png|width=1105,height=1147,alt=""image-20250526-134325.png""!

The above screenshot doesn’t show the defaults but shows most of the capabilities enabled.

Defaults should be like this:

!image-20250527-120614.png|width=1057,height=558,alt=""image-20250527-120614.png""!



To try the Perses UI yourself you can also go to [https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|https://demo.perses.dev/projects/cpu_and_memory_usage_queries__kubecon2024/dashboards/cpu_and_memory_queries?var-job=alertmanager&var-pod=&var-node=demo.prometheus.io%3A3000&start=1h&refresh=0s&viewPanelRef=6CPUUTLIZATIONAvgCoreusagepersecond|smart-link] . 

_Acceptance Criteria_

* Only the settings tab in the widget drawer is part of this story
* We use our own, SUSE Observability styled, UI components
* Customizations we want to support:
** Legend: See ticket [https://stackstate.atlassian.net/browse/STAC-22877|https://stackstate.atlassian.net/browse/STAC-22877|smart-link] 
* Visual: see ticket [https://stackstate.atlassian.net/browse/STAC-22876|https://stackstate.atlassian.net/browse/STAC-22876|smart-link] 
* Y axis
** Unit (use the units already in SUSE Observability (more than in Perses actually)
** *Not included:* decimals
** Min, max
** Show
** Label
** *NOT included:* Short values, we use these by default in our current charts
* *NOT in this ticket*: Thresholds. We’ll be doing them anyway for ticket [https://stackstate.atlassian.net/browse/STAC-22789|https://stackstate.atlassian.net/browse/STAC-22789|smart-link] .
* *NOT included:* Query Settings
* Reset to defaults
** Proposed defaults (but we’ll have to see what we like best in practice) are in the screenshot, notable are:
*** line chart with line width set to 1.25, no stacking and no fill (opacity = 0)
*** Legend enabled at left bottom
*** Y-axis enabled with short values and default amount of decimals



_Refinement Notes_

We start out by using our current charting library and can switch later to the Perses charting library when we need it to support certain features and we already have some experience in using the library for the other chart types (stat, gauge etc)

_Notes_",,Release StackState,Remco Beckers,,5f0c19c95ee2c3002363e486,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,STAC-22876,STAC-22877,,,,,,,,,,26/May/25 3:50 PM;rbeckers;image-20250526-134325.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22739,27/May/25 2:08 PM;rbeckers;image-20250527-120614.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22772,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@43a52a85,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-06-25T15:50:45.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02pr1:,,,,,,,,,,,,,,Team Borg - Dashboarding 5,Team Borg - Dashboarding 6,,,Borg,,,5.0,,,,,,,,,,2025-06-23 08:56:27.882,10107_*:*_1_*:*_1548346394_*|*_3_*:*_1_*:*_1046233914_*|*_10400_*:*_1_*:*_1383790_*|*_10401_*:*_1_*:*_0,,23/Jun/25 10:56 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9087] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22779-edit-widget-y|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22779-edit-widget-y]:{quote}Draft: STAC-22779 Add widget Y-axis form section{quote},25/Jun/25 2:14 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9096] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22960-init-state-from-input|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22960-init-state-from-input]:{quote}STAC-22779 Init widget drawer state from the form input{quote},,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,26/Jun/25 12:36 PM
[Dashboards] Add/edit timeseries widget,STAC-22778,42687,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,26/May/25 12:19 PM,13/Jun/25 12:02 PM,,10/Jun/25 12:36 PM,,,,0,,,"_User Story_

As a user
I want to create and edit a timeseries
such that I can customize it



_Acceptance Criteria_

* Drawer Entry points:
** the {{...}} menu on an existing timeseries widget on the dashboard
** an Add button to create a new widget from scratch
* The drawer that opens looks like in the screenshot below (minus the red squares), but follows the SUSE Observability UX/UI (button location, edit field styling, etc) by using our existing components for drawers, buttons, inputs, etc.
* This ticket only implements the {{Query}} tab including these elements:
** Name, the widget name
** Description, the widget description
** Type, the type of widget. At the moment only the Time Series Chart is supported (we’ll add stat, gauge, etc, in other stories)
** Preview, chart preview
** Multiple queries can be added in the query tab (using the {{Add query}} button). For each query:
*** The query editor uses the same query editor we have in the Metrics explorer
*** The legend (alias in our API) uses the syntax also used in the metrics explorer. We also want suggestions for labels, but we implement those in a separate story
*** Queries that are not query #1 can be removed



The {{Add widget}} button at the top from this mock up

!a5fe9f1d-b894-4a52-bc46-ace43e7a4681#media-blob-url=true&id=a79adbb5-de55-49aa-b00b-ca4ac91062c8&contextId=38662&collection=|width=3580,height=5280!

This screenshot comes from Perses, we implement it using our own components and styling (the red squares are functionality that is not included for SUSE Observability):

!image-20250526-115157.png|width=887,height=838,alt=""image-20250526-115157.png""!



The annotated “screenshots” come from this lucid chart: [https://lucid.app/lucidchart/d663b15a-11e4-4801-a393-40e092105360/edit?viewport_loc=-3103%2C-1166%2C2086%2C2338%2C0_0&invitationId=inv_f09de244-e559-498e-b00f-5e34b154969d|https://lucid.app/lucidchart/d663b15a-11e4-4801-a393-40e092105360/edit?viewport_loc=-3103%2C-1166%2C2086%2C2338%2C0_0&invitationId=inv_f09de244-e559-498e-b00f-5e34b154969d|smart-link] 

_Failure Modes_

_Refinement Notes_

_Notes_",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,STAC-22884,26/May/25 1:46 PM;rbeckers;a5fe9f1d-b894-4a52-bc46-ace43e7a4681#media-blob-url=true&id=a79adbb5-de55-49aa-b00b-ca4ac91062c8&contextId=38662&collection=;https://stackstate.atlassian.net/rest/api/3/attachment/content/22736,26/May/25 1:54 PM;rbeckers;image-20250526-115157.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/22737,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@3050d9b9,,,,{},,,,,,,,,,,,,,,,A,1|i02p5r:,,,,,,,,,,,,,,Team Borg - Dashboarding 4,Team Borg - Dashboarding 5,,,Borg,,,5.0,,,,,,,,,,,10107_*:*_1_*:*_80728330_*|*_3_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,10/Jun/25 12:36 PM
[Dashboards] Document first version of dashboarding,STAC-22767,42390,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,15/May/25 2:36 PM,10/Dec/25 3:04 PM,,10/Dec/25 3:04 PM,,,,0,general,,"*Acceptance criteria*

Setup documentation for dashboards:

* Introduce a dashboard section under the “Usage” section in the docs
* Overview of dashboard functionality:
** Viewing/using a dashboard (screenshot makes sense here)
*** Selecting variables
** CRUD
*** Saving of time/refresh/variables
** Sharing (i.e. public/private dashboards)
** Starring
* Widgets (screenshot for the different widgets?)
** CRUD
** Options
** YAML:
*** Reference?
* Variables
** Defining
** Usage
* StackPack / CLI/ API support",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@27515995,,,,{},,,,,,,,,,,,,,,,A,1|i02u22:zzy,,,,,,,,,,,,,,Prepare dashboards release,Dashboards release?,,,Borg,,,8.0,,,,,,,,,,,10107_*:*_1_*:*_16418402336_*|*_3_*:*_1_*:*_340977321_*|*_10400_*:*_1_*:*_1288959529_*|*_10401_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,10/Dec/25 3:04 PM
Support dashboards in the cli,STAC-22568,40444,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Vladimir Iliakov,61b198bc744c4d006987cf03,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,Remco Beckers,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,25/Mar/25 4:31 PM,26/Aug/25 9:59 AM,,26/Aug/25 9:59 AM,,,,0,,,"We want to support the dashboards also in the cli to do CRUD actions on it. 

*Acceptance criteria*

* All CRUD interactions should be supported for dashboards, it should use the dashboard API that is also used for the UI. Ideally we include the {{edit}} sub-command that is available for the {{settings}} command
* We can’t use the import/export API because it doesn’t support dashboards at the moment. Adding support for this use-case would require us to replicate all logic for public/private dashboards in the export/import API which is pretty hard to do
* Check if we have detailed documentation for other Cli commands, if so add it for this new dashboards command.",,Remco Beckers,,,557058:fc82be0d-ff60-45e9-bb3f-9492ad8305aa,,,,,,,,,,,,,STAC-22896,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@b6d7cb9,,,,{},,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kjj,,,,,,,,,,,,,,Dashboarding 10 & OTel mapping,Dashboarding 11 and OTEL Topol,,,Borg,,,5.0,,,,,,,,,,,10107_*:*_1_*:*_12767141536_*|*_3_*:*_1_*:*_428898509_*|*_10400_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,26/Aug/25 9:59 AM
[Dashboards] Use actual documentation links in the UI,STAC-22524,40081,User Story,To Bulk,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,High,,,,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Anton Ovechkin,61d2f4ebce3652006aaa23ca,17/Mar/25 9:26 AM,08/Dec/25 9:38 AM,,,,,,0,frontend,,"Search for {{STAC-22524}} mentions in the source code and replace placeholders with actual links to the dashboard documentation.

The doc link slugs are created but they go nowhere, see {{src/main/components/react/docLink/AllDocLinkSlugs.ts}}

*Acceptance criteria*

* Add correct links to documentation for dashboarding UI: searching through the code base for {{STAC-22524}} will find the locations.
* Make sure to use [short.io|http://short.io] for managing the links (like we do for all other doc links)",,Anton Ovechkin,,,61d2f4ebce3652006aaa23ca,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@27705db5,,,,{},,,,,,,,,,,,,,,,A,1|i02u22:zzzz,,,,,,,,,,,,,,Prepare dashboards release,Dashboards release?,,,Borg,,,1.0,,,,,,,,,,,,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,To Do,17/Mar/25 9:26 AM
[Dashboards] Organize widgets,STAC-22393,38891,User Story,Closed,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,14/Feb/25 4:25 PM,09/Jun/25 10:15 AM,,06/Jun/25 10:50 AM,,,,0,,,"Spin-off from [https://stackstate.atlassian.net/browse/STAC-22380|https://stackstate.atlassian.net/browse/STAC-22380|smart-link] . This story details out the actions and interactions we support on a widget.

h2. Acceptance criteria

* Any widget related actions (edit, delete) will be placed under the widget contextual menu (horizontal ellipsis icon)
** the widget contextual menu will be visible at all times if the user has edit permissions on that dashboard
* We don’t show an “Edit” button on the dashboard to allow the users to edit it (as perses does)
** users will be able to move, resize, edit, delete widgets at all times if the have edit permissions on that dashboard
** once a change ^ has been made to a dashboard, it goes into a dirty state and the user has to save it.
* The horizontal grid used for the content area of a dashboard consists of 24 cols, with a 8px gutter (gap) - use the same for the vertical grid
** the widgets can only be resized by snap-to-grid
* Undo/Redo function is nice to have, if it turns out to be a lot of work discuss with [~accountid:5a3a745f2466f4393b8ec4ae] to post-pone it",,Ovidiu Boc,Release StackState,,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@7b7cdc36,,,,"{repository={count=4, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":4,""lastUpdated"":""2025-06-06T15:01:08.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":4,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662kii,,,,,,,,,,,,,,Team Borg - Dashboarding 4,Team Borg - Dashboarding 5,,,Borg,,,8.0,,,,,,,,,,2025-05-27 14:59:31.463,10107_*:*_1_*:*_7839867383_*|*_3_*:*_1_*:*_0_*|*_10004_*:*_1_*:*_606892189,,"27/May/25 4:59 PM;712020:a950806e-86c0-42f7-b531-66e40f57b9ee;Chat with[~accountid:5a3a745f2466f4393b8ec4ae] clarifying a couple of points (cc [~accountid:61d2f4ebce3652006aaa23ca] ):

*Which part of a widget should trigger the dragging?*
The header part of the widget would be most sensible, as the chart/graph beneath it will have interact-able elements. It should not drag when trying to click on any icons (such as the 3-dot menu). If I click the title it should initiate the drag. The cursor should change when hovering a part of the widget that can trigger the drag.

*How come some widgets in the designs have the pin and enlarge buttons and some don’t?*
This is by design, only some of the graphs support pinning and enlargement. Also, the vision is that there are 2 types of widgets: pre-made (“Add to dashboard” from a view in the platform) and custom (building a query, like the Perses example) – only the pre-made widgets that support pinning and enlargement should show these buttons.

*After chatting with Anton, it turns out pinning from the dashboard might be tricky. Is it necessary?*
The more important aspect is the enlargement button (where possible), so that is the preferred feature if pinning isn’t possible. 

Pinning from a dashboard is nice but the more important interaction is adding to dashboard from a pinned item.





",28/May/25 4:22 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9046] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22393-dashboard-widget-actions|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22393-dashboard-widget-actions]:{quote}Draft: Add metric inspector and meatball menu to dashboard widgets{quote},06/Jun/25 10:50 AM;712020:a950806e-86c0-42f7-b531-66e40f57b9ee;All sub tasks done or marked as wont' do,06/Jun/25 2:44 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9064] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22393-dashboard-spacing|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22393-dashboard-spacing]:{quote}STAC-22393 Set correct column count and gap for dashboards{quote},,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,06/Jun/25 10:50 AM
Design and create backend API and datamodel for Dashboards,STAC-22382,38694,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Deon Taljaard,712020:27cbf957-6036-4080-9f6b-fdb179fd6007,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,12/Feb/25 9:22 AM,15/May/25 9:24 AM,,07/Apr/25 11:35 AM,,,,0,,,"*Acceptance criteria:*

* Design a backend data model
* Implement the API’s
** OpenAPI
** Import/ StackPack API
** Backup/ Restore
* Don’t include schema validation for the Dashboard entities yet, will go in a separate story unless this is straightforward (.e.g. openapi spec)
** Name
** Descriptions
** Starred
** Dashboard
* Don’t into account any RBAC yet
** Do take into account how we store dashboards for the current user and have the ability to share the dashboard with others.
* Create an urn based on the name
** We do support multiple dashboards having the same name
* Dashboards need to be able to be created via a StackPack
* In the end we need the following behaviour (not part of the story, design of datamodel is included)
** Global shared dashboards
*** Including StackPack dashboards
** User personal dashboards
*** Shared dashboards with other groups/ users



With input from Ovidiu and Lukasz I’ve written down what we know now [https://docs.google.com/document/d/1DL4LW1MOwAozCgEUoY1IJRpYmYNLgUhfa3stEK2mxhQ/edit?tab=t.0#heading=h.x66r1r11opec|https://docs.google.com/document/d/1DL4LW1MOwAozCgEUoY1IJRpYmYNLgUhfa3stEK2mxhQ/edit?tab=t.0#heading=h.x66r1r11opec|smart-link] . The exact domain model still needs some investigation.",,Mark Bakker,,,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2ef6a69d,,,,"{repository={count=5, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":5,""lastUpdated"":""2025-05-09T14:00:03.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":5,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|hzz6qz:009cdsxt2a8y9028zyyxun662in,,,,,,,,,,,,,,Team Borg - Dashboarding 1,Team Borg - Dashboarding 2,,,Borg,,,8.0,,,,,,,,,,,10107_*:*_1_*:*_1388483302_*|*_3_*:*_1_*:*_0,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,07/Apr/25 11:35 AM
[Dashboards] Add widget,STAC-22380,38667,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,11/Feb/25 12:27 PM,27/May/25 10:44 AM,,27/May/25 10:44 AM,,,,0,,,"h2. Acceptance criteria

* *Adding a widget from outside a dashboard:*
** Allowing the users to add widgets to any of their dashboards as they browse the STS UI
** Entry points:
*** Add a contextual menu (horizontal ellipsis) containing the “Add to dashboard“ option to the following widgets, after the “expand” icon - see design below:
**** Metric charts in the highlights and metrics perspectives, monitor status drawers (_supporting metrics_ tab), pinned monitor (_metrics_ tab) and metric widgets
***** we DO NOT add the contextual menu in the metrics explorer or monitor definition forms, the small metric charts in overview pages or the medium sized metric charts used on the component popover and component details pane (RHS)
**** Pinned monitors
*** Add a button with the “Add all items to dashboard” label in both “Monitor statuses“ and “Metrics“ sections (if visible) of the pinned items panel
*** Add a new option having the “Add all items to dashboard” label at the top of the contextual menus (horizontal ellipsis) for both  “Monitor statuses“ and “Metrics“ sections (if visible) of the pinned items panel
** Clicking any of the entry points above brings up the *“Add to dashboard“ drawer* - see design below
*** Choosing the “Add new dashboard“ option brings up the “Add new dashboard“ drawer as specified in [https://stackstate.atlassian.net/browse/STAC-22379|https://stackstate.atlassian.net/browse/STAC-22379|smart-link] - the selected widget(s) will automatically be added to the newly created dashboard afterwards
*** Choosing any other option (from the last used dashboards section) will add the selected widget(s) to that dashboard
*** The last used dashboards section lists all the dashboard, the latest used (viewed) at the top
**** if there are NO dashboards created yet, we don’t show this section
* *Adding a widget from within a dashboard:*
** clicking the “add widget” button or placeholder (the one on the empty state spec’ed here: [https://stackstate.atlassian.net/browse/STAC-22379|https://stackstate.atlassian.net/browse/STAC-22379|smart-link] ) will bring up the “Add widget” drawer … by Perses 🙂 

*Refinement notes:*

* … 

h2. Design

!image-20250214-085549.png|width=50%,alt=""image-20250214-085549.png""!

!image-20250214-085528.png|width=100%,alt=""image-20250214-085528.png""!

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|smart-link] ",,Ovidiu Boc,,,5a3a745f2466f4393b8ec4ae,,,,,,,,,,,,,,,,,,,,,,,,14/Feb/25 10:38 AM;oboc;image-20250214-085528.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20922,14/Feb/25 10:38 AM;oboc;image-20250214-085549.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20921,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@6686150,,,,{},,,,,,,,,,,,,,,,A,1|i02nra:,,,,,,,,,,,,,,Team Borg - Dashboarding 2,Team Borg - Dashboarding 3,Team Borg - Dashboarding 4,,Borg,,,8.0,,,,,,,,,,,10107_*:*_1_*:*_2953825370_*|*_3_*:*_1_*:*_0_*|*_10004_*:*_1_*:*_1529979792,,,,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,27/May/25 10:44 AM
[Dashboards] Create a new dashboard,STAC-22379,38666,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,11/Feb/25 12:27 PM,15/May/25 9:24 AM,,04/Apr/25 11:38 AM,,,,0,,,"{panel:bgColor=#deebff}
Allows the user to create a new dashboard from scratch. As a side-note, we don’t have this concept for the views anymore (we used to have the explore mode as a way to build you view from scratch)
{panel}

h2. Acceptance criteria

* Please make sure we implement this recent UX debt first: [https://stackstate.atlassian.net/browse/STAC-21806|https://stackstate.atlassian.net/browse/STAC-21806|smart-link] 
* Possible entry points:
*# the dashboards overview page: [https://stackstate.atlassian.net/browse/STAC-22377|https://stackstate.atlassian.net/browse/STAC-22377|smart-link] 
*# the option to add a widget to dashboard from anywhere else in the UI: [https://stackstate.atlassian.net/browse/STAC-22380|https://stackstate.atlassian.net/browse/STAC-22380|smart-link] 
* Regardless of the entry point used, we show the “Add new dashboard” drawer as per design - see below
** if the entry point was point b) above, we show the new drawer on top of the existing one, on the 2nd layer (remember the stacking of the monitor drawers?)
** The only required field is the name field
** Set the focus automatically on the name field
** The content of the drawer is the same for add new dashboard, save dashboard as… and edit dashboard settings
** Clicking the “Create dashboard” button creates the dashboard with the chosen name and details
* When creating a dashboard:
** if the entry point is a) - we display the empty state of the dashboard as per design - see below
*** in the empty state, we DO NOT show the top-right area containing the filters, time controls, etc, we only show this if you have at least 1 widget on the dashboard
** if the entry point is b) - we skip the empty state and we add the selected widget(s) [https://stackstate.atlassian.net/browse/STAC-22380|https://stackstate.atlassian.net/browse/STAC-22380|smart-link] - see below
*** at this point, the newly created dashboard becomes “dirty” - the user has to choose if he wants to save the changes or not
* If a dashboard is empty we show 2 widgets as per design:
** “ADD WIDGET” = interactive, the user can click on it
*** on click: [https://stackstate.atlassian.net/browse/STAC-22380|https://stackstate.atlassian.net/browse/STAC-22380|smart-link] 
** “Info” = static, the user does NOT interact with it

*Refinement notes:*

* …

h2. Design

!image-20250213-141209.png|width=41.666666666666664%,alt=""image-20250213-141209.png""!

!image-20250213-144235.png|width=50%,alt=""image-20250213-144235.png""!

!image-20250213-144855.png|width=100%,alt=""image-20250213-144855.png""!

!image-20250213-145302.png|width=100%,alt=""image-20250213-145302.png""!

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|smart-link] ",,Ovidiu Boc,Release StackState,,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,13/Feb/25 3:43 PM;oboc;image-20250213-141209.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20890,13/Feb/25 3:43 PM;oboc;image-20250213-144235.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20891,13/Feb/25 4:00 PM;oboc;image-20250213-144855.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20892,13/Feb/25 4:00 PM;oboc;image-20250213-145302.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20893,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@43fd6961,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-04-03T14:03:38.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02mrg:,,,,,,,,,,,,,,Team Borg - Dashboarding 1,Team Borg - Dashboarding 2,,,Borg,,,5.0,,,,,,,,,,2025-03-24 08:23:09.294,10107_*:*_1_*:*_3017797537_*|*_10007_*:*_1_*:*_13359088_*|*_3_*:*_2_*:*_175656604,,24/Mar/25 9:23 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/8936] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22379-create-dashboard|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22379-create-dashboard]:{quote}Draft: STAC-22379 Create dashboard{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,04/Apr/25 11:38 AM
"[Dashboards] Save, save as, edit settings, delete, star",STAC-22378,38665,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,11/Feb/25 12:26 PM,22/Apr/25 12:35 PM,,22/Apr/25 12:35 PM,,,,0,,,"h2. Acceptance criteria

* Please make sure we implement this recent UX debt first: [https://stackstate.atlassian.net/browse/STAC-21806|https://stackstate.atlassian.net/browse/STAC-21806|smart-link] 
* Identical interaction patterns as the ones we use for the views in all 5 cases (save, save as, edit settings, delete, star). For example:
** if the dashboard is dirty, the primary action on the nav bar will be “Save dashboard”
** if the dashboard is NOT dirty, the primary action on the nav bar will be “Save dashboard as…” (the “Save” option is gone)
** when deleting a dashboard we prompt the user for confirmation because the action cannot be undone - if affirmative, we redirect to the dashboards overview page  + show the confirmation toast message that the dashboard has been deleted.
** whenever we display the name of a dashboard (main menu, nav bar, dashboards overview, smart history, “add to dashboard“ drawer, etc) we also show if the dashboard is dirty and we display the star soi the user can add / remove a dashboard to / from the starred dashboards
** etc… 
* The content of the “save as” and “edit settings” are identical to the content [https://stackstate.atlassian.net/browse/STAC-22379|https://stackstate.atlassian.net/browse/STAC-22379|smart-link] drawer
** only the title and CTA are different as per design - see below

*Refinement notes:*

* Have a look if we like our current API’s for starring and if we don’t take into account changing this

h2. Design

!image-20250213-150901.png|width=41.666666666666664%,alt=""image-20250213-150901.png""!

!image-20250213-151012.png|width=41.666666666666664%,alt=""image-20250213-151012.png""!

*Figma*: [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|smart-link] ",,Ovidiu Boc,Release StackState,,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,,13/Feb/25 4:10 PM;oboc;image-20250213-150901.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20895,13/Feb/25 4:10 PM;oboc;image-20250213-151012.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20894,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@2ea746f7,,,,"{repository={count=19, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":19,""lastUpdated"":""2025-04-18T21:39:49.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":19,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02o5p:,,,,,,,,,,,,,,Team Borg - Dashboarding 3,,,,Borg,,,3.0,,,,,,,,,,2025-04-18 10:34:48.863,10107_*:*_1_*:*_2953855923_*|*_3_*:*_1_*:*_131156019_*|*_10004_*:*_1_*:*_2646992164_*|*_10400_*:*_1_*:*_1244_*|*_10401_*:*_1_*:*_0,,18/Apr/25 12:34 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/8990] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22378-connect-dashboard-endpoints|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22378-connect-dashboard-endpoints]:{quote}Draft: STAC-22378 Connect dashboard endpoints{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,22/Apr/25 12:35 PM
[Dashboards] Dashboards overview page,STAC-22377,38664,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,11/Feb/25 12:26 PM,24/Mar/25 11:34 AM,,24/Mar/25 11:34 AM,,,,0,,,"h2. Acceptance criteria

* It’s literally the same as the views overview page: structure, design, interactions… they are all the same.
** make sure we fix this first before moving forward: [https://stackstate.atlassian.net/browse/STAC-22354|https://stackstate.atlassian.net/browse/STAC-22354|smart-link] 
** make sure we include the dashboards overview page + the visited dashboards in the smart history list 😛 
* With few (obvious) exceptions:
** we’ll replace any textual reference of the “views” with “dashboards” → the copy will be different throughout the interfaces
** we replace the health disc with the dashboards icon
** dashboards don’t have perspectives → when hovering a dashboard we only show the actions a user can take a on dashboard (duplicate, edit, delete) - TBD which ones we show in the 1st iteration, if any
** the empty state for the “Starred dashboards” tab will read: “You don’t have any starred dashboards yet. Once you star an existing dashboard, it will be listed here and in the main menu, for quick access. +Learn more+...“
*** the learn more link will open the dashboard docs in a new tab
** the search will list dashboards only (told you they are obvious 😛 )
** for dashboards we have an option to “ADD NEW DASHBOARD“ = create a new dashboard from scratch (we don’t have this for the views)
*** clicking the button → [https://stackstate.atlassian.net/browse/STAC-22379|https://stackstate.atlassian.net/browse/STAC-22379|smart-link] 

*Refinement note:*

* No BE yet
* Delete, Clone and edit are not included in this story also don’t add the buttons

h2. Design

Empty state

!image-20250213-140324.png|width=100%,alt=""image-20250213-140324.png""!

Regular state

!image-20250213-140407.png|width=100%,alt=""image-20250213-140407.png""!

*Figma:* [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|smart-link] ",,Ovidiu Boc,Release StackState,,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,,,,,,,,,,STAC-22354,,,,,,,,,,,,,13/Feb/25 3:09 PM;oboc;image-20250213-140324.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20888,13/Feb/25 3:09 PM;oboc;image-20250213-140407.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20889,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@44bcade7,,,,"{repository={count=100, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":100,""lastUpdated"":""2025-03-24T09:49:29.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":100,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02mrg:i,,,,,,,,,,,,,,Team Borg - Dashboarding 1,,,,Borg,,,5.0,,,,,,,,,,2025-03-14 07:58:33.343,10107_*:*_1_*:*_2065978405_*|*_3_*:*_2_*:*_977843596_*|*_10400_*:*_2_*:*_489191668_*|*_10401_*:*_1_*:*_0,,14/Mar/25 8:58 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/8924] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22377-dashboards-overview|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22377-dashboards-overview]:{quote}Draft: STAC-22377 Dashboards overview{quote},,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,24/Mar/25 11:34 AM
[Dashboards] Main menu entries,STAC-22376,38663,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,Medium,Done,Samuel Jones,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,Ovidiu Boc,5a3a745f2466f4393b8ec4ae,11/Feb/25 12:23 PM,26/May/25 10:59 AM,,23/May/25 10:00 AM,,,,0,,,"h2. Acceptance criteria

* Update the main menu design and interactions as per design (see below):
** Update the “Views” sub-menu by replacing the “Starred views“ with the new “All views“ item + its corresponding views count
*** the “All views” link points to the views overview page
** Update the bottom part of the main menu:
*** we make this part sticky on scroll
*** with a split into primary and secondary menu items
*** the secondary menu items container will be collapsed by default and can be expanded by clicking on the RHS toggle icon
**** we remember the user’s choice is he expands / collapses this container
* Add “Dashboards” as a 1st class citizen in the main menu as per design (see below)
** Position:
*** right before the “Views” main menu entry
** Structure:
*** identical to the “Views” main menu entry
*** we always list the 1st sub-item as being the link to the dashboards overview page: “All dashboards“, with the overall dashboards count as the <icon>
*** if we have starred dashboards, we list them as sub-items in the same way we list the starred views
* The dashboards overview page is covered in [https://stackstate.atlassian.net/browse/STAC-22377|https://stackstate.atlassian.net/browse/STAC-22377|smart-link] 
* The starred dashboards concept is identical in design and interactions to the starred views concept and will not be detailed out further
** TL;DR version: whenever you display the name of a dashboard, make sure you add the empty / filled star as a suffix to allow the users to add / remove a dashboard from the list of starred dashboards

*Refinement note:*

* New expand/ collapse only for this main menu
* -Includes backend for starring Dashboards-
* -Add new permission where you define a user has access to dashboards (global not per dashboard)-

h2. Design

!image-20250211-120631.png|width=360,height=1573,alt=""image-20250211-120631.png""!

!image-20250211-120753.png|width=360,height=1573,alt=""image-20250211-120753.png""!

*Figma:* [https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|https://www.figma.com/design/DLrvOy38y1cYezyf0xOLCM/Dashboards?node-id=4107-11577&t=pzqi1NPjN7oWbn8e-1|smart-link] 

h2. Refinement notes

* …",,Ovidiu Boc,Release StackState,Samuel Jones,5a3a745f2466f4393b8ec4ae,5f0c19c95ee2c3002363e486,712020:a950806e-86c0-42f7-b531-66e40f57b9ee,,,,,,,,,,,,,,,,,,,,,,11/Feb/25 1:10 PM;oboc;image-20250211-120631.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20822,11/Feb/25 1:10 PM;oboc;image-20250211-120753.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/20823,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@20b9be48,,,,"{repository={count=2, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":2,""lastUpdated"":""2025-05-19T13:39:23.000+0200"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":2,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02omm:i,,,,,,,,,,,,,,Team Borg - Dashboarding 4,,,,Borg,,,5.0,,,,,,,,,,2025-05-14 13:38:09.893,10107_*:*_1_*:*_2954085468_*|*_3_*:*_1_*:*_264261692_*|*_10004_*:*_1_*:*_4896260882_*|*_10400_*:*_1_*:*_599625742_*|*_10401_*:*_1_*:*_0,,14/May/25 3:38 PM;5f0c19c95ee2c3002363e486;[Sam Jones|https://gitlab.com/sdjnes] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/9026] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22376-dashboards-main-menu-entries|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22376-dashboards-main-menu-entries]:{quote}Draft: Add Dashboards to the main menu{quote},23/May/25 10:00 AM;712020:a950806e-86c0-42f7-b531-66e40f57b9ee;https://gitlab.com/stackvista/stackstate/-/merge_requests/9026,,,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,23/May/25 10:00 AM
Investigate the use of Perses as bases for our new Dashboarding,STAC-22046,35857,User Story,Resolved,STAC,StackState Backlog,software,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,,,None,Done,Anton Ovechkin,61d2f4ebce3652006aaa23ca,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,Mark Bakker,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,19/Nov/24 9:27 AM,15/May/25 9:24 AM,,27/Jan/25 11:26 AM,,,,0,,,"{panel:bgColor=#deebff}
As a customer I want to be able to create any Dashboard. This means I should also be able to create dashboards that are not focussed on a specific resource but rather on a specific use-case or team.

As a SUSE Product Manager, I aim to align our product with the market's core capabilities, including meeting the critical need for dashboarding. This capability is essential before we can retire the Rancher Prime Monitoring and Logging Stack, as many customers rely on custom dashboards built with Grafana.

Currenly Grafana is the major dashboarding solution in the market, it is mostly OpenSource, but it does not have a permissive license (e.g. Apache 2.0), because of this cannot use this in any SaaS solution.

Recently Perses came to the market as a fully OpenSource dashboarding framework. This framework is adopted by some of our competitors (e.g. Dash0 and Chronosphere).

This story aims to investigate the possibility to use Persis as a basis for our Dahsboarding.
{panel}

*Perses seems to check most of the boxes we had on the list + a few more:*

* open source
* React based
* Highly customizable
* PromQL driven
* Can be fully integrated as a 1st class citizen
* Has identical / similar UI controls and patterns: global timeframe and refresh controls, side drawer for more info, fluid layout, charts interaction (brushing, hovering, etc.)

*We need a deeper investigation to determine:*

* How do we implement the metric bindings, e.g. when I pin a metric on a resource and then create a dashboard out of this. I expect to have the metric specialized to the dashboard (e.g. the binding is materialized) but I also want to retain the binding information so that I can link to the original resource and have ‘show more’ links to referenced resource (see screenshot below). The link to the original resource is not part of this screenshot, design to be made.

!image-20241119-083134.png|width=410,height=340,alt=""image-20241119-083134.png""!
* how do we integrate the existing type of widgets we have (logs, metrics, monitors, traces, etc)
* how do we add multiple entry points for different entities (pinned items, element details panel, perspectives, etc) to create a dashboard out of them or to add individual items to a existing dashboard
* how do we blend the dashboards and the views together and offer the same capabilities (add to fav, explore, etc), e.g. can we store the Dashboards (Yaml) as we store the views, just as configuration items in our backend. (to be researched can we retrieve the dashboards in the frontend like this, we obviously can store them like this in the backend). This will also make sure the RBAC can be applied in a consistent manner.
* can we use the widgets which we do not yet support (e.g. Markdown, Gauge, Piecharts, etc.) in our current views and perspectives, does this blent well?
* can you turn off the edit mode of a dashboard programmatically, so we can restrict usage to view only.



h3. The full requirements list for [dashboarding|https://lucid.app/lucidspark/1248325d-7181-46d9-977b-115b8d7add8e/edit?invitationId=inv_c71cb442-7ad8-403a-a2d2-6123ed4c4c3c&page=GfkpHkc4r2ftN#]. (made before we considered any third party library like Persis)

h4. General Dashboard Features

# *Resizable Widgets*
#* Widgets should be resizable within a defined minimum and maximum width range.
# *Widget Configuration*
#* Each widget should support independent configurations.
#* Default dashboard layout should prioritize usability and differ from Grafana's layout.
# *Dashboard Conversion*
#* Ability to convert pinned items, RHS widgets, and perspective widgets into a custom dashboard.
#* Two workflow options:
#** Create a new dashboard.
#** Add to an existing dashboard.
# *New Widget Creation*
#* Users should be able to create a new widget from:
#** Metric Explorer.
#** Trace Explorer.
#** Log Explorer.

h4. Types of Dashboards

# *Temporary Dashboards*
#* Default type, not saved permanently.
# *Permanent Personal Dashboards*
#* Saved by the user for personal use.
# *Permanent Shared Dashboards*
#* Accessible by multiple users with role-based permissions:
#** Read-only access.
#** Edit rights.

h4. Dashboard Actions

# Save as.
# Edit.
# Delete.
# Share.
# Star (mark as favorite).
# Search for dashboards.

h4. Widget Actions

# Duplicate.
# Move.
# Delete.
# Edit.
# Configure.

h4. Variable Support for Widgets

# Widgets should support configuration with variables similar to Grafana.
# Include dropdowns for selecting variables (e.g., cluster, namespace, app, team).

h4. Chart and Canvas Widget Behavior

# Drag-zoom functionality to adjust the time interval.
# Support for markers on charts.

h4. Time-Range Behavior

# Telemetry time-range should be global at the dashboard level.
# Widgets should inherit the dashboard's time-range setting.

h4. Dashboard Sharing

# Ability to share a dashboard including:
#* Current time selection.
#* Current variable configuration.

h4. Linking Resources

# Users should be able to link to a resource behind the data (e.g., an open link in metrics).
# Connect dashboards/widgets to external resources.

h4. Types of Widgets

# *Metrics Widgets*
#* Support for multiple types such as events, logs, traces, and topology.
# *Other Widget Types*
#* Pointer to other dashboards, views, or resources.
#* Markdown widgets for textual information.

h4. Role-Based Access Control

# Implement role-based access for dashboard permissions:
#* Define read-only and edit rights for shared dashboards.",,Anton Ovechkin,Mark Bakker,Release StackState,61d2f4ebce3652006aaa23ca,557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d,5f0c19c95ee2c3002363e486,,,,,,,,,,,,,,,,,,,,,,19/Nov/24 9:43 AM;mbakker;image-20241119-083134.png;https://stackstate.atlassian.net/rest/api/3/attachment/content/19766,,,,,,,,,,,,,,,com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@578fad3a,,,,"{repository={count=32, dataType=repository}, json={""cachedValue"":{""errors"":[],""summary"":{""repository"":{""overall"":{""count"":32,""lastUpdated"":""2025-02-04T09:55:29.000+0100"",""dataType"":""repository""},""byInstanceType"":{""GitLab"":{""count"":32,""name"":""GitLab""}}}}},""isStale"":true}}",,,,,,,,,,,,,,,,A,1|i02lj5:i,,,,,,,,,,,,,,Lupulus - Suse Observability 3,Lupulus - RBAC Sprint 1,,,Marvin,,,8.0,,,,,,,,,,2025-01-13 14:21:18.864,10107_*:*_1_*:*_4497229623_*|*_10007_*:*_1_*:*_0_*|*_3_*:*_1_*:*_361049084,,13/Jan/25 3:21 PM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/8829] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22046-investigate-perses|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22046-investigate-perses]:{quote}Draft: STAC-22046 Investigate perses{quote},"14/Jan/25 1:53 PM;61d2f4ebce3652006aaa23ca;[~accountid:557058:6a6da778-1d40-416c-95b8-2ad35dec7b9d]  here is the outcome of FE research
[https://docs.google.com/document/d/1YLe5amwuuAziQCADe9c00AqSSiKE00N6gSxvwQVuQJc/edit?usp=sharing|https://docs.google.com/document/d/1YLe5amwuuAziQCADe9c00AqSSiKE00N6gSxvwQVuQJc/edit?usp=sharing|smart-link] ","04/Feb/25 8:50 AM;5f0c19c95ee2c3002363e486;[Anton|https://gitlab.com/owanturist] mentioned this issue in [a merge request|https://gitlab.com/stackvista/stackstate/-/merge_requests/8865] of [StackVista / stackstate|https://gitlab.com/stackvista/stackstate] on branch [STAC-22046-investigate-perses|https://gitlab.com/stackvista/stackstate/-/tree/STAC-22046-investigate-perses]:{quote}Draft: STAC-22046 Try implementing custom query and data source""{quote}",,,,,,38662,STAC-22375,Dashboards as 1st class citizen,Done,27/Jan/25 11:26 AM
